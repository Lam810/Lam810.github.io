(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"+0c1":function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("THX5")),o=a(n("tIvH"));e.exports=[n("Hb9w"),n("mHxL"),n("Subr"),n("0XUH"),n("ZVKe"),n("Mkv1"),n("twm/"),n("POva"),n("OP1e"),n("Aswq"),n("MMnz"),n("zAF+"),n("T/JD"),n("aQVh"),n("YrdL"),o.default,n("G7L6"),n("kunF"),n("TACt"),n("tXIs"),n("+SYC"),n("JoOz"),r.default,n("khTA"),n("YEDI"),n("rPAv"),n("3rsG"),n("gldR"),n("9r8j"),n("7AK6"),n("m2/A"),n("mfpq"),n("DW2W")]},"+0iM":function(e,t,n){},"+1nJ":function(e,t,n){},"+4ly":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mXGw")),o=(a(n("17x9")),a(n("8Jek"))),i=a(n("WqrT")),s=function(e){if(!e.isListingRecentlyMarkedSold&&!e.isListingUnderContract)return null;var t=r.default.createElement(i.default,{term:"Backup offer",definition:"After a seller accepts an offer on their home, they may accept backup offers in case the current offer falls through.",definitionLink:"/definition/backup-offer",moreInfoText:"Learn more",openLinkInNewTab:!0},"backup offer");return r.default.createElement("span",{className:(0,o.default)("PossiblyUnavailableHome","margin-top-small",e.className)},e.isListingUnderContract?"The seller has already accepted an offer":"We've learned that the seller may have already accepted an offer",". You can request a tour anyway or ask"," ",e.isAgentAssignedOrPending?"your":"an"," agent about submitting a ",t,".")};s.propTypes={},s.defaultProps={isListingRecentlyMarkedSold:!1,isListingUnderContract:!1,isAgentAssignedOrPending:!1};var l=s;t.default=l,e.exports=t.default},"+7Pm":function(e,t,n){},"+bKw":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("lSNA")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("PJYZ")),u=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=a(n("17x9")),p=a(n("mXGw")),m=a(n("1RMg")),h=a(n("LDFp")),g=a(n("8Jek")),_=a(n("EFMV")),v=n("gZHp"),y=a(n("hgHT")),E=a(n("gbs9")),S=a(n("cuw/")),I=a(n("81MV")),T=a(n("hm/f")),C=a(n("Pe14")),b=a(n("wcOi")),k=a(n("uPz2")),R=a(n("lfGZ")),O=a(n("KtT9")),N=a(n("QJsy")),A=a(n("WqrT"));function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}n("l+Dz"),h.default.ensure(T.default);var L=38,M=40,x=13,F=function(e){(0,u.default)(n,e);var t=w(n);function n(e){var a;return(0,i.default)(this,n),(a=t.call(this,e)).state=a.state||{},a.state=(0,_.default)(a.state,{focused:{$set:!1},setValueFromProps:{$set:e.setValueFromProps},activeSuggestion:{$set:0}}),a.focus=a.focus.bind((0,l.default)(a)),a.blur=a.blur.bind((0,l.default)(a)),a._onChange=a._onChange.bind((0,l.default)(a)),a._onInput=a._onInput.bind((0,l.default)(a)),a._onFocus=a._onFocus.bind((0,l.default)(a)),a._onBlur=a._onBlur.bind((0,l.default)(a)),a._onKeyDown=a._onKeyDown.bind((0,l.default)(a)),a._onKeyUp=a._onKeyUp.bind((0,l.default)(a)),a._onKeyPress=a._onKeyPress.bind((0,l.default)(a)),a._onClick=a._onClick.bind((0,l.default)(a)),a._onMouseDown=a._onMouseDown.bind((0,l.default)(a)),a._setInputRef=a._setInputRef.bind((0,l.default)(a)),a._handleClearButton=a._handleClearButton.bind((0,l.default)(a)),a._autoCompleteCallback=a._autoCompleteCallback.bind((0,l.default)(a)),a.debouncedAutoCompleteRequest=(0,C.default)(a._makeAutocompleteRequest.bind((0,l.default)(a)),500),a._onMouseEnter=a._onMouseEnter.bind((0,l.default)(a)),a._onMouseLeave=a._onMouseLeave.bind((0,l.default)(a)),a._placesCallback=a._placesCallback.bind((0,l.default)(a)),a}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this._inputRef&&this._inputRef.setCustomValidity&&(this.props.feedback&&this.props.feedback.text&&"error"===this.props.feedback.type?this._inputRef.setCustomValidity(this.props.feedback.text):this._inputRef.setCustomValidity(""))}},{key:"componentDidUpdate",value:function(){this._inputRef&&this._inputRef.setCustomValidity&&(this.props.feedback&&this.props.feedback.text&&"error"===this.props.feedback.type?this._inputRef.setCustomValidity(this.props.feedback.text):this._inputRef.setCustomValidity(""))}},{key:"shouldComponentUpdate",value:function(e,t){return this.props.value!==e.value||(!(!this.props.feedback||!e.feedback||this.props.feedback.text===e.feedback.text)||(!(0,v.isEqualShallow)(this.props,e)||!(0,v.isEqualShallow)(this.state,t)))}},{key:"_makeAutocompleteRequest",value:function(){if(this.state.value.length>0&&this.props.autoCompleteService){var e=m.default.isOn(m.default.feature.LDP_REDPANDA_COMMUTE)?{componentRestrictions:{country:["us","ca"]}}:{componentRestrictions:{country:"us"}},t=this.state.biasCenterLatLong?this.state.biasCenterLatLong:this.props.biasCenter;!t&&this.props.biasCenterObject&&(t=new window.google.maps.LatLng(this.props.biasCenterObject.latitude,this.props.biasCenterObject.longitude));var n={bounds:new google.maps.Circle({center:t,radius:1e4}).getBounds(),componentRestrictions:e.componentRestrictions};this.props.autoCompleteService.getPlacePredictions(D(D({},n),{},{sessionToken:this.props.autoCompleteToken,input:this.state.value}),this._autoCompleteCallback)}}},{key:"_autoCompleteCallback",value:function(e,t){if("OK"===t)this.setState({suggestions:e.map(function(e,t){return{placeId:e.place_id,placeName:e.description,substringInfo:e.matched_substrings,index:t}})});else{if("ZERO_RESULTS"===t)return;this.props.onAutoCompleteError&&this.props.onAutoCompleteError({type:"error",text:"Error with Autocomplete Service. Please try again later."})}}},{key:"_setUpGoogleServices",value:function(){var e=this,t={channel:k.default.getChannelByRiftPageType("ldp"),libraries:"places"};(0,b.default)(t,null).then(function(){var t,n={autoCompleteService:new window.google.maps.places.AutocompleteService,placesService:new window.google.maps.places.PlacesService(document.createElement("div")),token:new window.google.maps.places.AutocompleteSessionToken};e.props.biasCenterLatLong&&(t=new window.google.maps.LatLng(e.props.biasCenterObject.latitude,e.props.biasCenterObject.longitude)),e.setState({googleInScope:!0,biasCenterLatLong:t}),O.default.autoCompleteServicesSetup(n)})}},{key:"_getLabel",value:function(){return N.default}},{key:"_getDefinitionFlyout",value:function(){return A.default}},{key:"focus",value:function(){this._inputRef&&this._inputRef.focus()}},{key:"blur",value:function(){this._inputRef&&this._inputRef.blur()}},{key:"_onKeyPress",value:function(e){this.props.onKeyPress&&this.props.onKeyPress(e,e.target.value)}},{key:"_onKeyDown",value:function(e){switch(this.props.onKeyDown&&this.props.onKeyDown(e,e.target.value),e.which){case L:this._updateActiveSuggestion(this.state.activeSuggestion-1);break;case M:this._updateActiveSuggestion(this.state.activeSuggestion+1);break;case x:this._onEnterPressed()}this.props.onKeyDownNotEnter&&13!==e.which&&this.props.onKeyDownNotEnter()}},{key:"_onEnterPressed",value:function(){var e=this.state.suggestions[this.state.activeSuggestion].placeId;if(window.google){var t={fields:["geometry"],placeId:e,sessionToken:this.props.autoCompleteToken};this.props.placesService.getDetails(t,this._placesCallback)}}},{key:"_updateActiveSuggestion",value:function(e){var t=e;e<0?t=this.state.suggestions.length-1:e>=this.state.suggestions.length&&(t=0),this.setState({activeSuggestion:t})}},{key:"_placesCallback",value:function(e){var t={placeName:this.state.suggestions[this.state.activeSuggestion].placeName,geometry:e.geometry};this.props.onAutoCompletePlaceChanged(t),this.setState({suggestions:[]})}},{key:"_onKeyUp",value:function(e){this.props.onKeyUp&&this.props.onKeyUp(e,e.target.value)}},{key:"_onChange",value:function(){}},{key:"_onInput",value:function(e){var t=e.target.value;this.lastValue=t,this.setState({value:t}),e.value=t,t?this.debouncedAutoCompleteRequest():this.setState({suggestions:[]}),this.props.onChange&&this.props.onChange(e,t)}},{key:"_onMouseEnter",value:function(){this.setState({activeSuggestion:-1})}},{key:"_onMouseLeave",value:function(){this.setState({activeSuggestion:0})}},{key:"_onFocus",value:function(e){this.setState({focused:!0}),this.props.onFocus&&this.props.onFocus(e,e.target.value)}},{key:"_onBlur",value:function(e){var t=this.state.value||0===this.state.value?this.state.value.toString():"";if(t!==this.state.value&&"undefined"!=typeof document){this._inputRef.value=t;var n=document.createEvent("Event");n.initEvent("input",!0,!1),this._inputRef.dispatchEvent(n)}this.setState({value:t,focused:!1}),this.props.onBlur&&this.props.onBlur(e,t)}},{key:"_onMouseDown",value:function(e){var t=this;setTimeout(function(){t.focus(),t.props.onMouseDown&&t.props.onMouseDown(e)},0)}},{key:"_onClick",value:function(e){this.props.onClick&&this.props.onClick(e),this._handleClearButton(e)}},{key:"_getDisplayValue",value:function(){return this.props.value&&this.state.setValueFromProps?this.props.value:this.state.value||0===this.state.value?this.state.value.toString():""}},{key:"_handleClearButton",value:function(e){var t=this;e.preventDefault(),this._inputRef.value="",this.setState({setValueFromProps:!1,value:"",suggestions:[]},function(){t.blur(),t.focus()})}},{key:"_setInputRef",value:function(e){this._inputRef=e}},{key:"_renderCustomerValidation",value:function(e){return p.default.createElement(S.default,{feedback:e})}},{key:"render",value:function(){this.props.autoCompleteService||this.state.googleInScope||this._setUpGoogleServices();var e=g.default,t=this.state.focused,n=this._hasError(),a={field:!0,"text Text":!0,"Focused dijitFocused":t,"label-none":!0};(0,r.default)(a,this._getValidationClassesCxObj()),this.props.className&&(a[this.props.className]=!0),this.props.name&&(a[this.props.name]=!0);var i=e({"dijit dijitInline dijitLeft value text dijitTextBox dijitValidationTextBox":!0,"dijitTextBoxFocused dijitValidationTextBoxFocused dijitFocused":t}),s=this.props.placeholder?this.props.placeholder:"",l=(0,o.default)({dijitInputInner:!0},"text",!0),u={name:this.props.name,value:this._getDisplayValue(),placeholder:s,className:e(l),onChange:this._onChange,onInput:this._onInput,onFocus:this._onFocus,onBlur:this._onBlur,onKeyDown:this._onKeyDown,onKeyUp:this._onKeyUp,onKeyPress:this._onKeyPress,type:"text"};n&&(u["aria-invalid"]=n),this.props.autoComplete||(u.autoComplete="off"),this.props.autoCorrect||(u.autoCorrect="off"),this.props.autoCapitalize||(u.autoCapitalize="off"),this.props.spellCheck||(u.spellCheck="false");var c={};for(var d in this.props.dataAttrs)this.props.dataAttrs.hasOwnProperty(d)&&(c[d]=this.props.dataAttrs[d]);c["data-rf-test-name"]||(c["data-rf-test-name"]="Text");var f=(0,g.default)({"btn-clear-commute-input":!0,clickable:!0,hidden:!this.state.value||""===this.state.value}),m=(0,g.default)({"clear-icon-commute-input":!0,"size-small":!0,hidden:!this.state.value||""===this.state.value});return p.default.createElement("span",(0,r.default)({},c,{className:e(a),onMouseDown:this._onMouseDown,onClick:this._onClick}),p.default.createElement("span",{className:"input commute-input"},p.default.createElement("div",{role:"presentation",className:i},p.default.createElement("div",{className:"dijitInputField dijitInputContainer"},p.default.createElement("input",(0,r.default)({},u,{ref:this._setInputRef,autoFocus:"true","data-rf-input-event-type":"onInput","data-rf-test-name":"input",className:"commute-input-box"})),p.default.createElement("div",{className:"inline-block clear-button-block",onMouseDown:this._handleClearButton},p.default.createElement("input",{type:"button","aria-label":"clear input",className:f,"data-rf-test-name":"input-clear",title:"Clear"}),p.default.createElement(I.default,{className:m}))))),this.props.feedback?this._renderCustomerValidation(this.props.feedback):p.default.createElement(R.default,{autoCompleteToken:this.props.autoCompleteToken,suggestions:this.state.suggestions,onPlaceSelected:this.props.onAutoCompletePlaceChanged,placesService:this.props.placesService,activeSuggestion:this.state.activeSuggestion,tabIndex:"0",onMouseEnter:this._onMouseEnter,onMouseLeave:this._onMouseLeave}))}}],[{key:"displayName",get:function(){return"PlacesAutocomplete"}},{key:"formElementPropTypes",get:function(){return{value:f.default.string,dataAttrs:f.default.object,autoComplete:f.default.bool,autoCorrect:f.default.bool,autoCapitalize:f.default.bool,spellCheck:f.default.bool,onKeyPress:f.default.func,onKeyDown:f.default.func,onKeyDownNotEnter:f.default.func,onKeyUp:f.default.func,onFocus:f.default.func,onBlur:f.default.func,miniMapStore:f.default.object,formName:f.default.string,onAutoCompletePlaceChanged:f.default.func,biasCenter:f.default.object,biasCenterObject:f.default.object,setValueFromProps:f.default.bool,placesService:f.default.object,autoCompleteService:f.default.object,onAutoCompleteError:f.default.func,className:f.default.string}}},{key:"formElementDefaultProps",get:function(){return{placeholder:"",inputMode:"",autoComplete:!0,autoCorrect:!0,autoCapitalize:!0,spellCheck:!0}}},{key:"getDerivedStateFromProps",value:function(e,t){return(0,E.default)(e,t)}}]),n}(y.default);t.default=F,e.exports=t.default},"+qVp":function(e,t,n){},"/30G":function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("LDFp"));o.default.ensure(n("tTYd"));var i=n("pBXq").default,s=(0,r.default)(new i,{name:"AskAnAgentSectionRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!0,clicks:{SUBMIT_INLINE_QUESTION:{section:"xdp_agent_request_form",target:"ask_question_button"}},impressions:{ASK_AN_AGENT:{section:"ask_an_agent",target:null,expectedParams:["agent_id","response_time","num_reviews","rating"]}}});e.exports=s},"/BzH":function(e,t,n){"use strict";var a=n("R16N");e.exports=a.createActions(["redirectToOfferWizard","unmountStore"])},"/LTY":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("J2m7")),d=a(n("17x9")),f=n("mXGw"),p=a(n("xARA")),m=a(n("94Bj")),h=a(n("i9Je")),g=a(n("Cd52")),_=a(n("X+xL")),v=a(n("UT8e")),y=n("UkSt"),E=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("ss/Q")),S=a(n("qQZG")),I=a(n("8YsT")),T=a(n("Dt6W")),C=a(n("bo1D")),b=a(n("/vC4")),k=a(n("0/8u")),R=a(n("pwbR"));n("KD8M");var O=a(n("qWyH"));function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var P=function(e){(0,s.default)(n,e);var t=A(n);function n(e){var a;return(0,o.default)(this,n),a=t.call(this),e.hideKeyFacts||(a._categorizedAmenities=E.getKeyFactEntries(e.addressSectionInfo,e.mainHouseInfo,e.buildingInfo,e.publicRecordsInfo)),a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e={has_remarks:this.props.marketingRemarks&&this.props.marketingRemarks.length>0},t=g_displayLevel.idToObj[this.props.remarksDisplayLevel];!t.isVisible&&t.isReachable&&(e.is_censored=!0),C.default.trackImpression(C.default.impressions.MARKETING_REMARKS,e,p.default.findDOMNode(this.marketingRemarksRef)),C.default.queueImpression(C.default.impressions.LISTING_ATTRIBUTION,{is_redfin_listing:this.props.isRedfinListing},p.default.findDOMNode(this.agentInfoSectionRef))}},{key:"render",value:function(){var e,t=this,n={lastUpdatedDate:this.props.lastUpdatedDate,lastCheckedDate:this.props.lastCheckedDate,source:this.props.source,multipleListingsWarningText:this.props.multipleListingsWarningText,deviceConfig:this.props.deviceConfig,listingContactInfo:null===(e=this.props.mainHouseInfo)||void 0===e?void 0:e.listingContactInfo},a=this.props.isRedfinListing&&this.props.propertyIsActivish,r=m.default.isOff(h.default)&&this.props.mainHouseInfo.isRedfinDirectEligible?React.createElement(b.default,{listingAgents:this.props.listingAgents,listingInfoData:n,isComingSoonListing:this.props.isComingSoonListing,searchStatus:this.props.mainHouseInfo.searchStatus,deviceConfig:this.props.deviceConfig,sellerSavings:this.props.mainHouseInfo.sellerSavings,buysideCommission:this.props.mainHouseInfo.buysideCommission,listingId:this.props.listingId,accessLevel:this.props.accessLevel,hideRedfinAgentPhoneNumber:a}):React.createElement(T.default,{listingAgents:this.props.listingAgents,buyingAgents:this.props.buyingAgents,isComingSoonListing:this.props.isComingSoonListing,deviceConfig:this.props.deviceConfig,listingInfoData:n,isOpendoor:this.props.isOpendoorEligible,listingId:this.props.listingId,ref:function(e){return t.agentInfoSectionRef=e},accessLevel:this.props.accessLevel,isNY:"NY"===this.props.addressSectionInfo.state,hideRedfinAgentPhoneNumber:a,amenities:this.props.amenities,mlsId:this.props.mainHouseInfo.mlsId,mlsIdDisplayLevel:this.props.mainHouseInfo.mlsIdDisplayLevel,emphasizeAgentAttribution:this.props.shouldRenderUrgency,lastUpdatedDate:this.props.lastUpdatedDate,pageType:this.props.pageType}),o=null;m.default.isOn(h.default)&&this.props.mainHouseInfo.isRedfinDirectEligible&&(o=React.createElement(k.default,{listingId:this.props.listingId,mainHouseInfo:this.props.mainHouseInfo}));var i=this.props.shouldRenderUrgency?React.createElement(O.default,this.props):null,s=!this.props.hideKeyFacts&&{num_details:this._categorizedAmenities.length,includes_county_link:void 0!==(0,c.default)(this._categorizedAmenities,function(e){return"County"===e.header&&e.url})};return React.createElement("div",{className:"bhi","data-rf-test-id":"mhi-housesummary"},React.createElement("div",{className:"content clear-fix"},React.createElement(S.default,{originalSource:this.props.fsboOriginalSource,originalSourceUrl:this.props.fsboOriginalSourceUrl}),[g.default.id,_.default.id].includes(this.props.pageType)&&React.createElement(R.default,{addressSectionInfo:this.props.addressSectionInfo,activityInfo:this.props.activityInfo}),React.createElement(I.default,{displayLevel:this.props.remarksDisplayLevel,remarks:this.props.marketingRemarks,dataSourceId:this.props.dataSourceId,accessLevel:this.props.accessLevel,expandable:this.props.marketingRemarks&&this.props.marketingRemarks.length>0}),r,i,!this.props.hideKeyFacts&&React.createElement(v.default,{section:"key_details",eventDetails:s},React.createElement(y.KeyDetails,{selectedAmenities:this._categorizedAmenities,buildingInfo:this.props.buildingInfo,pageType:this.props.pageType})),o))}}],[{key:"displayName",get:function(){return"HomeSummary"}},{key:"propTypes",get:function(){return{marketingRemarks:d.default.array,remarksDisplayLevel:d.default.number,selectedAmenities:d.default.array,isRedfinListing:d.default.bool,dataSourceId:d.default.number,url:d.default.string,fsboOriginalSourceUrl:d.default.string,fsboOriginalSource:d.default.string,multipleListingsWarningText:d.default.string,lastUpdatedDate:d.default.number,lastCheckedDate:d.default.number,listingAgents:d.default.array,buyingAgents:d.default.array,source:d.default.object,isComingSoonListing:d.default.bool,isOpendoorEligible:d.default.bool,deviceConfig:d.default.number,mainHouseInfo:d.default.object,addressSectionInfo:d.default.object,accessLevel:d.default.number,buildingInfo:d.default.object,amenities:d.default.object,hideKeyFacts:d.default.bool,shouldRenderUrgency:d.default.bool}}}]),n}(f.Component);t.default=P,e.exports=t.default},"/i1X":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mXGw"));t.default=function(e){var t=e.segment,n=(t=void 0===t?{}:t).text,a=t.action,o=e.actions,i=(o=void 0===o?{}:o).whenInPageActionCTAIsClicked,s=void 0===i?function(){}:i;return r.default.createElement("span",{className:"link",onClick:function(){return s(a)},onKeyDown:function(e){return 13===e.keyCode&&s(a)},role:"button",tabIndex:0},n)},e.exports=t.default},"/vC4":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("lSNA")),s=a(n("lwsE")),l=a(n("W8MJ")),u=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),p=a(n("17x9")),m=a(n("ma35")),h=a(n("8Jek")),g=n("Dt6W"),_=a(n("G8F8")),v=a(n("lQoP")),y=a(n("UT8e")),E=n("R8lb"),S=a(n("8Llx")),I=n("+xFC");n("zItT");var T=a(n("WqrT"));function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var k=function(e){(0,u.default)(n,e);var t=b(n);function n(){return(0,s.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"render",value:function(){var e=this,t=f.default.createElement(g.AgentInfoContainer,{isRedfinAgent:this.props.listingAgents.length>0&&this.props.listingAgents[0].agentInfo.isRedfinAgent},this.props.listingAgents.map(function(t,n){return(0,g.mapAgentToAgentInfoItem)(e.props.isComingSoonListing,e.props.deviceConfig,"Listed by ",!1,e.props.accessLevel,e.props.hideRedfinAgentPhoneNumber,t,n)})),n=this.props.listingInfoData&&this.props.deviceConfig===g_deviceConfiguration.DESKTOP?f.default.createElement(_.default,{listingInfoData:this.props.listingInfoData}):null,a=(0,h.default)("RedfinDirectInfoSection","bg-color-white",{mobile:this.props.deviceConfig!==g_deviceConfiguration.DESKTOP}),r=(0,i.default)({listing_id:this.props.listingId,redfin_direct:!0},v.default.TRACKGA,!0),s={term:"Seller Savings",definition:"With no buyer’s agent, the seller will pay up to ".concat(this.props.buysideCommission,"% less in commissions. Actual savings depend on final sales price and offered buy-side commission."),position:"below",alignment:"center",infoIcon:Boolean(this.props.sellerSavings)};return f.default.createElement(y.default,{section:"agent_attribution",target:null,eventDetails:r},f.default.createElement("div",{className:a},f.default.createElement("div",{className:"redfin-direct-info-container"},f.default.createElement("div",{className:"redfin-direct-header font-size-base font-weight-bold"},this._getTitle(this.props.sellerSavings),f.default.createElement(T.default,s)),f.default.createElement("div",{className:"redfin-direct-description font-size-base"},this._getFirstSentenceInCta(),this._getSecondSentenceInCta(this.props.sellerSavings),f.default.createElement("a",{className:"margin-left-smallest clickable",onClick:function(){return function(e,t,n){v.default.trackClick("agent_attribution",e,t),window.location.href="/direct/".concat(n)}("find_out_more",r,e.props.listingId)}},"Find Out More")),f.default.createElement("div",{className:"redfin-direct-agent-cta"},f.default.createElement("div",{className:"agent-details-section"},t,n),f.default.createElement("div",{className:"redfin-direct-button-container"},f.default.createElement(m.default,(0,o.default)({},{className:"start-an-offer",children:"Start a Direct Offer",onClick:null,rfTestId:"redfin_direct_agent_attribution_start_offer_button"},{onClick:function(){return function(e,t,n){var a=v.default.trackClick("agent_attribution",e,t);S.default.isLoggedIn()||(0,E.trackRegistrationConversionAttempt)(a,g_registrationReason.SUBMIT_OFFER,g_registrationAuthority.REDFIN);var r=(0,E.serializeConversionRiftEntrypoint)(a);window.location="/buy-a-home/start-direct-offer?listingId=".concat(n,"&").concat(E.REGISTRATION_ENTRYPOINT_CONTEXT_URL_PARAM,"=").concat(r,"&inquirySource=").concat(g_inquirySource.LDP_REDFIN_DIRECT_AGENT_ATTRIBUTION)}("start_a_direct_offer",r,e.props.listingId)}})))))))}},{key:"_getTitle",value:function(e){return e?"Get an edge by saving the seller ".concat((0,I.formatPrice)(e)):"You call the shots when you buy Direct"}},{key:"_getSecondSentenceInCta",value:function(e){return e?" Your offer is stronger because the seller saves on commissions.":" You call the shots and negotiate with the seller."}},{key:"_getFirstSentenceInCta",value:function(){return this._isComingSoon()?"Redfin will list this home, so you can buy it online without an agent.":"A Redfin Agent listed this home, so you can buy it online without an agent."}},{key:"_isComingSoon",value:function(){return this.props.searchStatus===g_searchStatus.PRE_ON_MARKET}}],[{key:"propTypes",get:function(){return{listingAgents:p.default.array,listingInfoData:p.default.object,isComingSoonListing:p.default.bool,searchStatus:p.default.number,deviceConfig:p.default.number,sellerSavings:p.default.number,listingId:p.default.number,buysideCommission:p.default.string,accessLevel:p.default.number,hideRedfinAgentPhoneNumber:p.default.bool}}}]),n}(f.Component);t.default=k,e.exports=t.default},"0/8u":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lSNA")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),f=a(n("17x9")),p=a(n("ma35")),m=a(n("WqrT")),h=a(n("nbo3")),g=a(n("UT8e")),_=n("+xFC");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}n("Hv05");var E=function(e){(0,l.default)(n,e);var t=y(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"render",value:function(){var e,t=this.props,n=t.listingId,a=t.mainHouseInfo;if(!a.isRedfinDirectEligible)return null;var r,i,s,l=(e={listing_id:n},(0,o.default)(e,h.default.TRACKGA,!0),(0,o.default)(e,"redfin_direct",!0),e);if(a.unrepBuyerCredit>a.refund){var u=(0,_.formatPrice)(a.unrepBuyerCredit);r="Buy without an agent - Get ".concat(u," back"),i="You'll get a ".concat(u," credit from the seller at closing if you buy without an agent. Check\n        with your lender about any limits."),s="Write your offer with our step-by-step tool, then negotiate directly with the seller's agent."}else if(r="Buy this home without an agent",i="Because the seller doesn’t pay a buyer’s agent, you can save money with a lower offer price or\n        strengthen it with a higher offer.",s="Write your offer with our step-by-step tool and negotiate directly. The seller saves in fees, which makes\n        your offer more competitive.",a.sellerSavings){var c=(0,_.formatPrice)(a.sellerSavings);r+=" - save ".concat(c," in fees"),s="Write your offer with our step-by-step tool and negotiate directly. The seller saves ".concat(c," in\n          fees, which makes your offer more competitive.")}var f={definition:i,position:"above",alignment:"center",infoIcon:!0};return d.default.createElement(g.default,{section:"redfin_direct_banner",eventDetails:l},d.default.createElement("div",{className:"RedfinDirectBannerSectionV2 padding-larger"},d.default.createElement("div",{className:"RedfinDirectBannerSectionV2__content"},d.default.createElement("div",{className:"RedfinDirectBannerSectionV2__header"},d.default.createElement("div",{className:"font-weight-bold font-size-medium"},d.default.createElement("span",null,r),d.default.createElement(m.default,f)),d.default.createElement("img",{className:"RedfinDirectBannerSectionV2__icon--mobile",src:"".concat(g_imageServerUrl,"/images/redfinDirect/offer.svg")})),d.default.createElement("div",{className:"RedfinDirectBannerSectionV2__text margin-top-medium margin-bottom-large font-size-base"},s),d.default.createElement(p.default,{className:"tertiary-alt",onClick:function(){return function(e,t){h.default.trackClick("redfin_direct_banner","find_out_more",e),window.location="/buy-a-home/start-direct-offer?listingId=".concat(t,"&inquirySource=").concat(g_inquirySource.LDP_REDFIN_DIRECT_BANNER)}(l,n)}},"Start your offer")),d.default.createElement("div",{className:"RedfinDirectBannerSectionV2__img padding-left-larger"},d.default.createElement("img",{className:"RedfinDirectBannerSectionV2__icon",src:"".concat(g_imageServerUrl,"/images/redfinDirect/offer.svg")}))))}}],[{key:"propTypes",get:function(){return{listingId:f.default.number.isRequired,mainHouseInfo:f.default.shape({unrepBuyerCredit:f.default.number,isRedfinDirectEligible:f.default.bool,refund:f.default.number,searchStatus:f.default.number,sellerSavings:f.default.number}).isRequired}}},{key:"getComponentDependencies",value:function(){return{dependencies:["mainHouseInfo"]}}}]),n}(d.Component);t.default=E,e.exports=t.default},"04iL":function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("lSNA")),f=a(n("YAhj")),p=a(n("WZ0X")),m=a(n("8Jek")),h=a(n("17x9")),g=a(n("7RE6")),_=n("SH7f"),v=a(n("MN6W")),y=a(n("sk42")),E=a(n("A0Vg"));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}n("ivXd");var I=function(e){(0,l.default)(n,e);var t=S(n);function n(e){var a;(0,o.default)(this,n),a=t.call(this,e),(0,d.default)((0,s.default)(a),"_getMoreNearbyHomesButton",function(){if(a.state.expandable){var e=a.state.moreNearbyHomesVisible?"Show Less":"Show More",t=a.state.moreNearbyHomesVisible?"":"showMoreSvg";return f.default.createElement("div",{className:"action clickable nearby-homes-show-more",role:"button",onClick:a._toggleShowMoreNearbyHomes},e,f.default.createElement(g.default,{className:t}))}return null}),(0,d.default)((0,s.default)(a),"_toggleShowMoreNearbyHomes",function(){a.state.moreNearbyHomesVisible||v.default.trackClick(v.default.clicks.MORE_BUTTON),a.setState({moreNearbyHomesVisible:!a.state.moreNearbyHomesVisible})});var r=e.deviceConfig,i=e.numHomesToShowOnLoadForDesktop,l=e.numHomesToShowOnLoadForMobile,u=e.nearbyHomes,c=e.maxHomesToRender,p=r===g_deviceConfiguration.PHONE?l:i,m=!0;return(!u||u.length<p)&&(m=!1),a.state={moreNearbyHomesVisible:!1,expandable:m,homes:c&&u&&u.length>c?u.splice(0,c):u},a}return(0,i.default)(n,[{key:"render",value:function(){if(!this.state.homes)return null;for(var e=[],t=this.props.showAvmColumn,n=this.props.address?"Home Values Near "+this.props.address:"Nearby Properties",a=(0,m.default)({"padding-bottom-smaller":!0}),o=0;o<this.state.homes.length;o+=1)o<this.state.homes.length&&e.push(f.default.createElement(E.default,(0,r.default)({},this.state.homes[o],{isMobile:!0,showAvmColumn:t,cardClickEvent:v.default.clicks.XDP_ADDRESS_LINK,key:o})));var i=(0,m.default)({"main-nearby-content":!0,showMoreHeight:!this.state.expandable||this.state.moreNearbyHomesVisible});if(this.props.deviceConfig===g_deviceConfiguration.PHONE)return f.default.createElement("div",{className:"nearby-homes mobile",id:"lsis-nearby-homes","data-rf-test-id":"nearbyHomesSection"},f.default.createElement("div",{className:"heading-medium padding-bottom-small"},n),f.default.createElement("div",{className:"".concat(a," dp-subtext")},"Data from public records."),f.default.createElement("div",{className:i},f.default.createElement(y.default,{showAvmColumn:this.props.showAvmColumn},e)),this._getMoreNearbyHomesButton());for(var s=[],l=[],u=[],c=0;c<this.state.homes.length;c+=3)c<this.state.homes.length&&s.push(f.default.createElement(E.default,(0,r.default)({},this.state.homes[c],{showAvmColumn:t,cardClickEvent:v.default.clicks.XDP_ADDRESS_LINK,key:c}))),c+1<this.state.homes.length&&l.push(f.default.createElement(E.default,(0,r.default)({},this.state.homes[c+1],{showAvmColumn:t,cardClickEvent:v.default.clicks.XDP_ADDRESS_LINK,key:c+1}))),c+2<this.state.homes.length&&u.push(f.default.createElement(E.default,(0,r.default)({},this.state.homes[c+2],{showAvmColumn:t,cardClickEvent:v.default.clicks.XDP_ADDRESS_LINK,key:c+2})));var d=(0,m.default)({"main-nearby-content":!0,showMoreHeight:!this.state.expandable||this.state.moreNearbyHomesVisible});return f.default.createElement("div",{className:"nearby-homes",id:"lsis-nearby-homes","data-rf-test-id":"nearbyHomesSection"},f.default.createElement("div",{className:"heading-medium padding-bottom-small"},n),f.default.createElement("div",{className:"".concat(a," dp-subtext")},"Data from public records."),f.default.createElement("div",{className:d},f.default.createElement(y.default,{showAvmColumn:t},s),f.default.createElement(y.default,{showAvmColumn:t},l),f.default.createElement(y.default,{showAvmColumn:t},u)),this._getMoreNearbyHomesButton())}},{key:"componentDidMount",value:function(){p.default.findDOMNode(this)&&(0,_.isBrowser)()&&(v.default.trackImpression(v.default.impressions.NEARBY_XDP_INTERLINKS,{trackGA:!1},p.default.findDOMNode(this)),v.default.trackImpression(v.default.impressions.NEARBY_XDP_INTERLINK_RESULTS,{trackGA:!1,property_id:this.props.propertyId,listing_id:this.props.listingId,home_count:this.state.homes.length}))}}],[{key:"displayName",get:function(){return"redfin.homes.details.similars.react.NearbyHomesPanel"}},{key:"propTypes",get:function(){return{nearbyHomes:h.default.array,hasValidResults:h.default.bool,showAvmColumn:h.default.bool,maxHomesToRender:h.default.number,numHomesToShowOnLoadForDesktop:h.default.number,numHomesToShowOnLoadForMobile:h.default.number,deviceConfig:h.default.number,propertyId:h.default.number,listingId:h.default.number}}},{key:"defaultProps",get:function(){return{numHomesToShowOnLoadForDesktop:12,numHomesToShowOnLoadForMobile:5,nearbyHomes:null,maxHomesToRender:null}}}]),n}(f.default.Component);e.exports=I},"0QhW":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("7W2i")),s=a(n("a1gu")),l=a(n("Nsbk")),u=a(n("XjeQ")),c=a(n("J2m7")),d=a(n("17x9")),f=n("mXGw"),p=a(n("jZ07")),m=a(n("ed/o")),h=a(n("RZul")),g=n("osI4"),_=a(n("eTJ6")),v=a(n("7RE6")),y=a(n("nbo3")),E=a(n("EyRd")),S=a(n("94Bj")),I=a(n("LDFp")),T=n("EmTI");function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}I.default.ensure(n("FA2q"));var b=function(e){(0,i.default)(n,e);var t=C(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.loanTypeField,a=t.creditScore,r=t.mortgageLenders,o=t.isFetchingMortgageLenders,i=t.selectedMortgageLenderIndex,s=t.userSessionId,l=t.adsDisclaimer,u=t.addCollapsible,d=t.loanTypeValue,f=t.inline,p=t.globalSliderIndex,m=t.inBankrateVariant,y=t.transactionId,E=t.lendersCount,I=t.demandChannel,C=t.showOutageGhostTown,b=t.downPayment,k=t.listingPrice,O="desktop"!==(0,g.getCurrentDeviceType)(),N=(0,c.default)((0,T.getCreditScoreOptions)(),function(e){return e.value===a}),A=N?N.label:"740+ Credit Score",P=g_mortgageTerms.idToObj[d].displayName,D=React.createElement("div",{className:"toggle-container font-color-link"},React.createElement("span",{className:"text-base"},P,", ",A),React.createElement(v.default,{className:"linkIcon size-medium"})),w=React.createElement(R,{value:a,onChange:function(t,n){return e._onCreditScoreUpdate(t,n)}}),L=u?React.createElement(_.default,{className:"padding-top-body-elements",heading:"Today’s rates from our advertiser",toggleNode:D,onToggleClick:this._onCollapsibleToggle},n,w):[n,w];S.default.isOn(S.default.feature.ZILLOW_API_CREDIT_FILTER_SUPPORT)||(D=React.createElement("div",{className:"toggle-container font-color-link"},React.createElement("span",{className:"text-base"},P),React.createElement(v.default,{className:"linkIcon size-medium"})),L=u?React.createElement(_.default,{className:"padding-top-body-elements",heading:"Today’s rates from our advertiser",toggleNode:D,isCollapsed:!1},n):[n]);var M=C?"Sorry, mortgage rates are temporarily unavailable. Please check back later.":"Today’s rates from our advertiser";return[React.createElement("div",{className:"MortgageLendersRow dot-row"+(u?" withCollapsible":"")},L,React.createElement("hr",{className:"interest-rate-separator"}),React.createElement("span",null,M),!C&&React.createElement(h.default,{isFetchingMortgageLenders:o,mortgageLenders:r,selectedMortgageLenderIndex:i,userSessionId:s,globalSliderIndex:p,inline:f,inBankrateVariant:m,transactionId:y,lendersCount:E,demandChannel:I,showOutageGhostTown:C,downPayment:b,listingPrice:k}),O&&l)]}},{key:"_onCreditScoreUpdate",value:function(e,t){t=(0,u.default)(t),this.props.inline?E.default.trackClick(E.default.clicks.INLINE_CREDIT_SCORE_EDIT,{credit_score:t}):E.default.trackClick(E.default.clicks.CREDIT_SCORE_EDIT,{platform:this.props.platform,credit_score:t}),m.default.updateCreditScore(t)}},{key:"_onCollapsibleToggle",value:function(e){var t=e.isCollapsed,n=e.anchorName;t?y.default.trackClick("collapsible_item","expand_link",{question:n}):y.default.trackClick("collapsible_item","collapse_link",{event_details:n}),E.default.trackClick(E.default.clicks.INLINE_LOAN_TYPE_CREDIT_SCORE_TOGGLE,{isOpen:t})}}],[{key:"propTypes",get:function(){return{loanTypeField:d.default.element.isRequired,mortgageLenders:d.default.array,selectedMortgageLenderIndex:d.default.number,userSessionId:d.default.string,creditScore:d.default.number,adsDisclaimer:d.default.node,addCollapsible:d.default.bool,loanTypeValue:d.default.number,inline:d.default.bool,platform:d.default.string,globalSliderIndex:d.default.number,inBankrateVariant:d.default.bool,transactionId:d.default.string,lendersCount:d.default.number,demandChannel:d.default.number,downPayment:d.default.object,listingPrice:d.default.number}}}]),n}(f.Component);t.default=b;var k={position:"above",alignment:"center",definition:" Also known as FICO scores, this score measures how likely you are to default on a loan. It allows lenders to determine credit risk and is based on bill payment history, length, and type of credit, along with many other factors."},R=function(e){var t=e.value,n=e.onChange;return React.createElement(p.default,{label:"Credit Score",definitionProps:k,value:t,options:(0,T.getCreditScoreOptions)(),onChange:n})};e.exports=t.default},"0R1z":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lSNA")),i=(a(n("17x9")),function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw"))),s=a(n("8Jek")),l=a(n("3ACD")),u=a(n("RSH1")),c=n("n1rO"),d=n("wTjA");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=function(e){var t=e.aggs,n=e.className,a=e.regionName,r=e.regionUrl,o=e.regionTypeName,f=e.nearbyCompeteScores,p=e.onImpression,h=(0,i.useRef)();if((0,i.useEffect)(function(){return h.current?(0,c.trackNode)({bufferValue:0,domNode:h.current,nodeId:"CompeteScoreSectionOnDP",onEnterViewCallback:function(){var e=m(m({},t),{},{regionName:a});(0,d.isFunction)(p)&&p(e)}}):void 0},[h,t,a,p]),!t||void 0===t.score)return null;var g=r?i.default.createElement("a",{href:"".concat(r,"#compete")},a):a;return i.default.createElement("div",{className:(0,s.default)("CompeteScore region-content-section",n||""),ref:h},i.default.createElement("h3",{className:"title primary-heading"},"Market Competition in ",g),i.default.createElement("div",{className:"secondary-heading"},"Calculated over the last ",t.lookBack," months"),i.default.createElement(l.default,{aggs:t}),f&&!!f.length&&i.default.createElement(u.default,{showMoreResourcesLink:!1,regionTypeName:o,nearbyCompeteScores:f}))};h.propTypes={},h.defaultProps={competeScore:{},regionTypeName:null};var g=h;t.default=g,e.exports=t.default},"0Rk+":function(e,t,n){},"0VIu":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=a(n("YAhj")),o=a(n("t7kr")),i=a(n("WRm1")),s=a(n("7QrP")),l=a(n("lQoP")),u=(a(n("17x9")),a(n("ws6r"))),c=n("G4xM");function d(e){var t=e.propertyId,n=e.listingId,a=e.isActivish,d=e.compact,f=e.useV2EditFactsButtonRiftEvents;if(a)return null;var p=d?"v3 compact":"v3;";return r.default.createElement("div",{className:"edit-facts-button"},r.default.createElement(o.default,{className:p,type:"tertiary",svgAsset:i.default,onClick:function(){var e,a=(0,c.getConfigValueForKey)(c.DP_GLOBAL_CONFIG_KEYS.pageExperimentInfo).omdpHigherDescriptionExperimentInfo,r={property_id:t,listing_id:n,higher_desc_cohort:(void 0===a?{}:a).cohort};e=f?u.default.trackClick(u.default.clicks.PUBLIC_FACTS_EDIT_FACTS_BUTTON,r):l.default.trackClick("public_records","edit_button",r),s.default.onEditFactsButtonClicked(e)}},"Edit Facts"))}d.displayName="EditFactsButton",d.propTypes={},e.exports=t.default},"0WFT":function(e,t,n){},"0Z3k":function(e,t,n){},"0Z4d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disabilityOption=function(e){return[{label:"Yes",value:"true",className:e},{label:"No",value:"false",className:e}]},t.householdOptions=void 0,t.memberCheckOptions=function(e){return[{label:"Active duty",value:"active",className:e},{label:"Reserve/National Guard",value:"reserve",className:e},{label:"Veteran",value:"veteran",className:e},{label:"Surviving Spouse",value:"spouse",className:e}]},t.nativeOption=function(e){return[{label:"Yes",value:"true",className:e},{label:"No",value:"false",className:e}]},t.ownHomeOptions=void 0,t.professionOptions=function(e){return[{label:"Education",value:"education",className:e},{label:"Law enforcement",value:"police",className:e},{label:"Firefighter",value:"fire",className:e},{label:"Healthcare",value:"healthcare",className:e}]};t.householdOptions=[{label:"-",value:0},{label:"1",value:1},{label:"2",value:2},{label:"3",value:3},{label:"4",value:4},{label:"5",value:5},{label:"6",value:6},{label:"7",value:7},{label:"8+",value:9}];t.ownHomeOptions=[{label:"-",value:0},{label:"Yes, I currently own a home",value:"yes"},{label:"No, I have never owned a home",value:"no1"},{label:"No, but I did within the last 3 years",value:"no2"},{label:"No, but I did more than 3 years ago",value:"no3"}]},"0avO":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lSNA")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("PJYZ")),u=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=a(n("17x9")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),m=a(n("ma35")),h=a(n("DT4l")),g=a(n("XucT"));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}n("qTFo");var S=function(e){(0,u.default)(n,e);var t=E(n);function n(e){var a;return(0,i.default)(this,n),(a=t.call(this,e)).state={showAAQDialog:!1},a.onButtonClick=a.onButtonClick.bind((0,l.default)(a)),a}return(0,s.default)(n,[{key:"onButtonClick",value:function(e){var t=e.riftSection;h.default.trackClick(t?y(y({},h.default.clicks.ASK_BDX_FOOTER_CLICK),{},{section:t}):h.default.clicks.ASK_BDX_FOOTER_CLICK),this.setState({showAAQDialog:!0})}},{key:"render",value:function(){return p.default.createElement(p.default.Fragment,null,p.default.createElement(m.default,{type:"primary",className:"ContactBuilderButton v3 unpadded",onClick:this.onButtonClick},p.default.createElement("div",{className:"buttonText"},p.default.createElement("div",{className:"heading text-base"},"Contact Builder"))),this.state.showAAQDialog&&this.renderAAQDialog())}},{key:"renderAAQDialog",value:function(){var e=this;return p.default.createElement(g.default,{onClose:function(){return e.setState({showAAQDialog:!1})},isMobile:this.props.deviceConfig===g_deviceConfiguration.PHONE,isInlineForm:!1,contactBoxInfo:this.props.contactBoxInfo,listingId:this.props.listingId,propertyId:this.props.propertyId,streetAddress:this.props.streetAddress,inquiryChannel:g_inquiryChannel.ASK_A_QUESTION,inquirySource:g_inquirySource.LDP_STICKY_FOOTER,listingAddress:this.props.mainHouseInfo.propertyAddress,isOpendoor:!1,showBDXExperience:!0,builderName:this.props.mainHouseInfo.brokerName,listingAgent:!1})}}],[{key:"propTypes",get:function(){return{datePickerInfo:f.default.object,contactBoxInfo:f.default.object,listingId:f.default.number,fullScreenStateStore:f.default.object,mainHouseInfo:f.default.object}}}]),n}(p.Component);t.default=S,e.exports=t.default},"0fNM":function(e,t,n){},"10Vo":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("94Bj")),o=a(n("+mj9")),i=Object.freeze({VARIANT_RECOMMENDED:"Variant_Recommended",VARIANT_FASTER_CONFIRMATION:"Variant_Faster_Confirmation",isEligibleBinSetExpectations:function(){return r.default.isOn(o.default)},isInEitherVariantAndEligibleBinSetExpectations:function(){var e=r.default.getVariant(o.default);return i.isEligibleBinSetExpectations()&&(e===i.VARIANT_RECOMMENDED||e===i.VARIANT_FASTER_CONFIRMATION)},isInProvidedVariantAndEligibleBinSetExpectations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"CONTROL";return!(null==e||!i.isInEitherVariantAndEligibleBinSetExpectations())&&(i.isEligibleBinSetExpectations()&&e===r.default.getVariant(o.default))},determineBinLegendCopy:function(){return i.isInProvidedVariantAndEligibleBinSetExpectations(i.VARIANT_RECOMMENDED)?"Recommended":i.isInProvidedVariantAndEligibleBinSetExpectations(i.VARIANT_FASTER_CONFIRMATION)?"Faster confirmation":"Guaranteed agent availability"}}),s=i;t.default=s,e.exports=t.default},"1AMb":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;a(n("17x9"));var r=a(n("mXGw"));function o(e){var t=e.name,n=void 0===t?"":t,a=e.className,o=void 0===a?"":a,i=e.id,s=void 0===i?null:i,l=e.addTopRule,u=void 0!==l&&l,c=e.addBottomRule,d=void 0!==c&&c,f=e.children;return r.default.createElement("section",{className:"Section ".concat(n," ").concat(o," ").concat(u?"has-top-rule":""," ").concat(d?"has-bottom-rule":""),id:s},f)}n("aA4O"),o.propTypes={},e.exports=t.default},"1IRx":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),f=a(n("17x9")),p=a(n("fv+W")),m=a(n("gVTH")),h=a(n("OufW")),g=a(n("GV33")),_=a(n("8Jek")),v=n("G4xM"),y=a(n("fl6a")),E=a(n("kxWP"));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var T=!1,C=function(e){(0,l.default)(n,e);var t=I(n);function n(e){var a,r;return(0,i.default)(this,n),(a=t.call(this,e)).props.propertyParcelInfo&&(r=a.props.propertyParcelInfo.bounds),a.state={propertyBounds:r,showPlaceHolder:!0},a}return(0,s.default)(n,[{key:"render",value:function(){var e=this,t=this.props.addressSectionInfo;if(!t)return null;var n="CA"===t.countryCode||"AK"===t.state||"HI"===t.state,a=this.props.pageType||(0,v.getConfigValueForKey)(v.DP_GLOBAL_CONFIG_KEYS.pageType),r={latLong:t.latLong,propertyType:t.propertyType,listingType:t.listingType,searchStatus:t.searchStatus},i=a===g_detailsPageType.RECENTLY_SOLD||a===g_detailsPageType.OFF_MARKET?"#5d8acb":"#2e7e36",s=(0,_.default)({placeHolderMiniMap:!0,showCommute:this.props.showCommute});return d.default.createElement("div",{className:"homeMap",ref:function(t){return e.domNode=t}},this.state.showPlaceHolder&&d.default.createElement("div",{className:s}),d.default.createElement(p.default,(0,o.default)({latitude:t.latLong.latitude,longitude:t.latLong.longitude,onMapLoad:this._onMapLoad.bind(this),onMapRender:this._onMapRendered.bind(this),width:this.props.width,widthStyleOverride:this.props.widthStyleOverride,height:this.props.height,heightStyleOverride:this.props.heightStyleOverride,zoom:this.props.zoom,mapCreateOptions:this.props.mapCreateOptions},this.props.mapStore),!n&&d.default.createElement(h.default,{map:this.props.mapStore.map,shouldShowFloodData:this.props.floodStore&&this.props.floodStore.shouldShowFloodData}),d.default.createElement(m.default,{points:this.state.propertyBounds,polygonColor:i}),this.showHomeMarker(r)))}},{key:"showHomeMarker",value:function(e){return this.props.showDirections?null:d.default.createElement(g.default,null,d.default.createElement(y.default,{homeParcels:[e]}))}},{key:"_onMapLoad",value:function(){this._setupPropertyBounds(),this._trackStreetViewAvailability(),this.props.onMapLoad&&this.props.onMapLoad()}},{key:"_onMapRendered",value:function(){this.setState({showPlaceHolder:!1}),this.props.onMapRender&&this.props.onMapRender(this.props.mapStore.map)}},{key:"_setupPropertyBounds",value:function(){var e;this.props.propertyParcelInfo&&(e=this.props.propertyParcelInfo.bounds),this.setState({propertyBounds:e})}},{key:"_trackStreetViewAvailability",value:function(){if(!T){var e=this.props.addressSectionInfo;if(e){var t=this.props.listingId,n=e.latLong,a=new google.maps.LatLng(n.latitude,n.longitude);(new google.maps.StreetViewService).getPanoramaByLocation(a,50,function(e,n){var a=null,r=!t;a=!(n!==google.maps.StreetViewStatus.OK||!e),E.default.trackImpression(E.default.impressions.STREETVIEW_PREVIEW,{isPDP:r,hasStreetView:a})}),T=!0}}}}],[{key:"displayName",get:function(){return"HomeMap"}},{key:"propTypes",get:function(){return{addressSectionInfo:f.default.object,propertyParcelInfo:f.default.object,width:f.default.number,widthStyleOverride:f.default.string,heightStyleOverride:f.default.string,height:f.default.number,mapStore:f.default.object,showDirections:f.default.bool,currentDirectionsRenderer:f.default.object,directionsResult:f.default.object,onMapLoad:f.default.func,onMapRender:f.default.func,floodStore:f.default.object,pageType:f.default.number}}},{key:"defaultProps",get:function(){return{width:311,height:250,zoom:16,mapCreateOptions:{disableDoubleClickZoom:!1,mapTypeId:"roadmap",disableDefaultUI:!1,draggable:!0,zoomControl:!0,scrollwheel:!1,streetViewControl:!1,mapTypeControlOptions:{position:3,mapTypeIds:["roadmap","satellite","hybrid"]},styles:[{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{hue:"#ffa200"},{saturation:-20},{visibility:"on"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}]}}}}]),n}(d.Component);t.default=C,e.exports=t.default},"1N2D":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n("17x9"));var r=a(n("h1NK")),o=a(n("1lFN")),i=function(e){var t=e.remarks,n=e.displayLevel,a=e.dataSourceId;return g_displayLevel.idToObj[n].isReachable?g_displayLevel.idToObj[n].isVisible?React.createElement(r.default,{shouldFadeOut:!1,collapsedPreviewHeight:65,section:"propertyHistoryRemarks",shouldScrollToTopOnCollapse:!1,expandText:"Continue reading"},s(t)):React.createElement("div",{style:{marginBottom:"25px"}},React.createElement(o.default,{displayLevel:n,dataSourceId:a,detailsText:"view this home’s listing description",sectionName:"ph_marketing_remarks"})):null},s=function(e){for(var t=[],n=0;e&&n<e.length;n++){var a=e[n],r=a.label?a.label+" ":null,o=a.displayLevel===g_displayLevel.AGENT_ACCESSIBLE?" agent-only ":"";t.push(React.createElement("div",{key:n},r&&React.createElement("p",{className:o,dangerouslySetInnerHTML:{__html:r}}),React.createElement("p",{className:o,dangerouslySetInnerHTML:{__html:a.marketingRemark}})))}return t};i.propTypes={},i.defaultProps={displayLevel:1},i.displayName="MarketingRemarks";var l=i;t.default=l,e.exports=t.default},"1RDg":function(e,t,n){},"1UPE":function(e,t,n){},"1e4Q":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),d=a(n("17x9")),f=a(n("1AMb")),p=a(n("6TAI")),m=a(n("FZhc")),h=n("vWGb"),g=a(n("ajZI"));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("Lp1m");var y=function(e){(0,s.default)(n,e);var t=v(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props.isCollapsible,t=this.props.buildingForSaleUnits?this.props.buildingForSaleUnits.length:0,n=this.props.buildingInfo?this.props.buildingInfo.numUnits:null,a=(0,h.getBuildingMobilePreviewText)(n,t);return this.props.buildingInfo&&this.props.buildingInfo.id?this.props.isMobile?c.default.createElement(f.default,{name:"AboutThisBuildingSection",addTopRule:!0},c.default.createElement(g.default,{sectionName:"About the Building",section:"building",isCollapsible:e,previewText:a},c.default.createElement(m.default,{isMobile:this.props.isMobile,buildingInfo:this.props.buildingInfo,buildingHeroShotInfo:this.props.buildingHeroShotInfo,numForSale:t}),c.default.createElement("div",{className:"tableTitle"},"Units for Sale"),c.default.createElement(p.default,{mobile:this.props.isMobile,buildingForSaleUnits:this.props.buildingForSaleUnits}))):c.default.createElement(f.default,{name:"AboutThisBuildingSection",addTopRule:!0},c.default.createElement(m.default,{isMobile:this.props.isMobile,buildingInfo:this.props.buildingInfo,buildingHeroShotInfo:this.props.buildingHeroShotInfo,numForSale:t}),c.default.createElement(p.default,{mobile:this.props.isMobile,buildingForSaleUnits:this.props.buildingForSaleUnits})):null}}],[{key:"displayName",get:function(){return"AboutThisBuildingSection"}},{key:"propTypes",get:function(){return{isMobile:d.default.bool,buildingInfo:d.default.object,buildingHeroShotInfo:d.default.object,buildingForSaleUnits:d.default.array}}},{key:"defaultProps",get:function(){return{isMobile:!0}}},{key:"getComponentDependencies",value:function(){return{dependencies:["buildingInfo","buildingHeroShotInfo","buildingForSaleUnits"]}}}]),n}(c.Component);t.default=y,e.exports=t.default},"1gIN":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mXGw")),o=a(n("8K3Q")),i=n("wTjA"),s=a(n("diFG"));n("yoGv");t.default=function(e){var t=e.primaryExperienceLabel,n=e.numUpcomingOpenHouseEvents,a=e.openHouseToggleSelectedTab,l=e.onTabClick;return r.default.createElement(o.default,{mode:"fixed",className:"OpenHouseTabs",tabs:[{label:t},{label:"Open Houses (".concat(n||0,")")}],selectedTab:a,onTabClick:function(e){var t=e.index;s.default.setOpenHouseToggleSelectedTab(t),(0,i.isFunction)(l)&&l(t)}})},e.exports=t.default},"1lFN":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("17x9")),d=a(n("mXGw")),f=a(n("8Z2X")),p=a(n("FDyu")),m=a(n("jl8C")),h=a(n("WeK8")),g=a(n("bxaD"));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var v=function(e,t,n){var a=function(e){switch(e){case"marketing_remarks":return"MARKETING_REMARKS";case"property_details":return"PROPERTY_DETAILS";case"tour_insights":return"TOUR_INSIGHTS";case"redfin_estimate":return"REDFIN_ESTIMATE";case"building_units":return"UNIT";case"property_history":return"PROPERTY_HISTORY"}}(e);return n.clicks["".concat(a,"_CENSORED_").concat(t,"_LINK")]},y=function(e){(0,s.default)(n,e);var t=_(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=this,t=this.props.displayLevel;return this.riftTracker="building_units"===this.props.sectionName?h.default:m.default,g_displayLevel.idToObj[t].isVisible||!g_displayLevel.idToObj[t].isReachable?null:d.default.createElement(g.default,{icon:this._wrapRegDialog(d.default.createElement(f.default,null),{showSignIn:!1,trackClick:function(){return e._clickIcon()}}),header:this.props.header,body:this._getBody()})}},{key:"_getBody",value:function(){var e=this,t="",n="";switch(this.props.displayLevel){case g_displayLevel.SIGN_IN:t="be signed in",n=d.default.createElement("div",null,this._wrapRegDialog("Sign In",{showSignIn:!0,trackClick:function(){return e._clickSignIn()}})," or ",this._wrapRegDialog("Join",{trackClick:function(){return e._clickJoin()}})," for free with no obligation.");break;case g_displayLevel.VOW_UP:t="verify your email address",n=this._wrapRegDialog("Verify your email",{trackClick:function(){return e._clickVerifyEmail()}});break;case g_displayLevel.RE_ENTER_PASSWORD:t="re-enter your password",n=this._wrapRegDialog("Re-enter your password",{trackClick:function(){return e._clickReenterPassword()}});break;case g_displayLevel.ACCEPT_TOS:t="accept the Terms of Use",n=this._wrapRegDialog("Accept Terms of Use",{trackClick:function(){return e._clickAcceptTOS()}})}return d.default.createElement("div",{className:"body"},"Local rules require you to ".concat(t," to ").concat(this.props.detailsText,".")," ",d.default.createElement("br",null),n)}},{key:"_wrapRegDialog",value:function(e,t){return d.default.createElement(p.default,(0,r.default)({},t,{displayLevel:this.props.displayLevel,dataSourceId:this.props.dataSourceId,registrationReason:g_registrationReason.UNLOCK_LISTING_CONTENT}),e)}},{key:"_clickIcon",value:function(){return this.riftTracker.trackClick(v(this.props.sectionName,"LOCK_ICON",this.riftTracker))}},{key:"_clickSignIn",value:function(){return this.riftTracker.trackClick(v(this.props.sectionName,"SIGN_IN",this.riftTracker))}},{key:"_clickJoin",value:function(){return this.riftTracker.trackClick(v(this.props.sectionName,"JOIN",this.riftTracker))}},{key:"_clickVerifyEmail",value:function(){return this.riftTracker.trackClick(v(this.props.sectionName,"VOW",this.riftTracker))}},{key:"_clickReenterPassword",value:function(){return this.riftTracker.trackClick(v(this.props.sectionName,"RE_ENTER_PWD",this.riftTracker))}},{key:"_clickAcceptTOS",value:function(){return this.riftTracker.trackClick(v(this.props.sectionName,"ACCEPT_TOS",this.riftTracker))}}],[{key:"propTypes",get:function(){return{header:c.default.string,displayLevel:c.default.number.isRequired,detailsText:c.default.string,dataSourceId:c.default.number,sectionName:c.default.oneOf(["marketing_remarks","property_details","tour_insights","property_history","redfin_estimate","building_units"]).isRequired}}},{key:"defaultProps",get:function(){return{displayLevel:g_displayLevel.SIGN_IN,detailsText:"see these details",sectionName:"undefined"}}}]),n}(d.default.Component);t.default=y,e.exports=t.default},"1mOg":function(e,t,n){},"1o8v":function(e,t,n){"use strict";var a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.SUPPORTED_PROPERTY_TYPES=void 0,t.getLocalStorageItems=function(e){if((0,r.isBrowser)()&&(0,o.supportsLocalStorage)()){var t=JSON.parse(window.localStorage.getItem(e));if(null!=t&&t.timestamp&&new Date(t.timestamp)>=new Date)return t.value;window.localStorage.removeItem(e)}return null},t.removeLocalStorageItems=function(e){(0,r.isBrowser)()&&(0,o.supportsLocalStorage)()&&window.localStorage.removeItem(e)},t.setLocalStorageItems=function(e,t,n){if((0,r.isBrowser)()&&(0,o.supportsLocalStorage)()){var a={value:t,timestamp:n};window.localStorage.setItem(e,JSON.stringify(a))}};var r=n("QP4D"),o=n("veNJ"),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(r,i,l):r[i]=e[i]}r.default=e,n&&n.set(e,r);return r}(n("gDG7"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var l=[i.TIMESHARE.id,i.MOBILE_MANUFACTURED.id,i.CONDO_COOP.id,i.MULTI_FAMILY_2_TO_4.id,i.SINGLE_FAMILY_RESIDENTIAL.id,i.TOWNHOUSE.id];t.SUPPORTED_PROPERTY_TYPES=l},"1qkR":function(e,t,n){},"2Ehv":function(e,t,n){},"2FT6":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n("RBnj").createActions)(["openMediaBrowser","closeMediaBrowser","toggleSection","selectTab"]);t.default=a,e.exports=t.default},"2i47":function(e,t,n){},"2le5":function(e,t,n){},"2lge":function(e,t,n){},"2nT6":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.TAX_HISTORY_TAB_INDEX=t.SALE_HISTORY_TAB_INDEX=void 0;var o=a(n("pVnL")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),f=a(n("17x9")),p=a(n("WZ0X")),m=a(n("8Jek")),h=a(n("Wdx1")),g=n("I5FW"),_=n("osI4"),v=a(n("FDyu")),y=a(n("lcmt")),E=a(n("UT8e")),S=a(n("0VIu")),I=a(n("ajZI")),T=a(n("1AMb")),C=n("jDxM"),b=n("uKuZ"),k=n("dwyw"),R=a(n("VjhJ")),O=a(n("CtbG")),N=n("Adw9"),A=a(n("2FT6"));n("CR7A");var P=a(n("8K3Q"));function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}t.SALE_HISTORY_TAB_INDEX=0;t.TAX_HISTORY_TAB_INDEX=1;var L="As the MLS and public records start to fill up, we'll list the details here.",M=function(e){(0,l.default)(n,e);var t=w(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.props.propertyHistoryInfo&&O.default.trackImpression(O.default.impressions.PROPERTY_HISTORY,{num_rows:this.props.propertyHistoryInfo.events?this.props.propertyHistoryInfo.events.length:0},p.default.findDOMNode(this))}},{key:"render",value:function(){if(!this.props.propertyHistoryInfo&&!this.props.publicRecordsInfo)return null;var e=this.props.publicRecordsInfo,t=e&&(e.editedHomeFacts||e&&e.latestListingInfo||e.basicInfo);return this.props.propertyHistoryInfo||t||this.props.publicRecordsInfo.allTaxInfo?this._renderSection():null}},{key:"shouldShowPublicRecords",value:function(){return!1}},{key:"_renderSection",value:function(){var e,t=this.props.propertyHistoryInfo,n=this.props.propertyHistoryStore||{},a="phone"===(0,_.getCurrentDeviceType)();e=this.shouldShowPublicRecords()?a?"Sales, Taxes, Public Record":"Sales, Taxes, and Public Record":"Sale and Tax History";var r=t&&t.addressInfo&&t.addressInfo.street,o=(0,C.calculateHeaderText)({sectionTitle:e,streetAddress:r,isMobile:a}),i=this.props.initiallyExpanded,s=this.shouldShowPublicRecords()?[{label:"Sale History"},{label:"Tax History"},{label:"Public Record"}]:[{label:"Sale History"},{label:"Tax History"}],l=d.default.createElement(P.default,{className:this.shouldShowPublicRecords()?"inSimplifyingBasicFactsVariant":"tabBar",tabs:s,onTabClick:function(e){0===e.index?(O.default.trackClick(O.default.clicks.SALES_TAB),A.default.selectTab(0)):1===e.index?(O.default.trackClick(O.default.clicks.TAX_TAB),A.default.selectTab(1)):2===e.index&&(O.default.trackClick(O.default.clicks.PUBLIC_RECORDS_TAB),A.default.selectTab(2))},selectedTab:n.selectedTab}),u=t&&t.sectionPreviewText?t.sectionPreviewText:"Compare listing with public records";return d.default.createElement(T.default,{name:"PropertyHistory",id:"property-history-scroll",addTopRule:!0},d.default.createElement(I.default,{sectionName:o,previewText:u,section:"propertyHistory",enabled:this.props.isCollapsible,rfTestId:"property-history-expandable-preview",initiallyExpanded:i,isExpanded:n.expandSection,onClickCallback:function(e){return A.default.toggleSection(e)}},d.default.createElement("div",{className:"sectionContainer","data-rf-test-id":"propertyHistory"},l,this.renderSelectedTab(n))))}},{key:"renderSelectedTab",value:function(e){return 0===e.selectedTab?this._renderSaleHistory():1===e.selectedTab?this._renderTaxHistory():2===e.selectedTab?this._renderPublicRecord():void 0}},{key:"_renderPublicRecord",value:function(){var e=this.props.publicRecordsInfo,t=!(!e||!e.editedHomeFacts||this.props.isActivish),n=!(!e||!e.latestListingInfo),a=!(!e||!e.basicInfo),r=(0,N.createPublicRecordTabColumn)(t&&e.editedHomeFacts,n&&e.latestListingInfo,a&&e,this.props.isActivish),i=(0,g.getCurrentCountryCode)(),s=t?"owner":i===g_countryCode.CANADA?"public records":"county records",l=t?e.editedHomeFacts.lastUpdatedDate:a&&e.basicInfo.propertyLastUpdatedDate,u=l&&y.default.formatDateStandard(l,e.basicInfo.displayTimeZone),c=(0,b.getScreenWidth)(),f=t&&c<380||c<364,p="phone"===(0,_.getCurrentDeviceType)(),h=(0,m.default)({publicRecordSection:!0,isMobile:p,showGradient:f}),v={owner_update_column_shown:t,previous_listing_column_shown:n,public_records_column_shown:a};return d.default.createElement(E.default,{section:"property_history",target:"public_records_table",eventDetails:v},d.default.createElement("div",{className:h},d.default.createElement(S.default,(0,o.default)({compact:p},this.props.ownerVerificationStore,{isActivish:this.props.isActivish,pageType:this.props.pageType})),d.default.createElement("div",{className:"property-history-table-container"},r),d.default.createElement("div",{className:"gradient-box"}),d.default.createElement("div",{className:"source-info"},"Home facts updated by ",s," on ",u,"."),d.default.createElement(N.PublicRecordsDisclaimerFlyout,null)))}},{key:"_renderSaleHistory",value:function(){var e=this.props,t=e.propertyHistoryInfo,n=e.expandable,a=null,r=null;if(t&&t.hasPropertyHistory)r=this._getHistoryTimelineNode(t.events,t.definitions,t.displayTimeZone,t.showLogoInLists,t.isAdminOnlyView,this.props.deviceConfig,this.props.listingId,t.mediaBrowserInfoBySourceId,n);else{var o=(t&&!t.listingIsNull?"This is a new listing, so no sales records exist yet. ":"")+L;a=this._getGhostTownNode(o,"sprite-ghosttown-history","lacking")}return d.default.createElement("div",{className:"main-content"},d.default.createElement("div",{id:"property-history-transition-node",className:"transition-node"},d.default.createElement("div",null,r,a,t&&this._getDisclaimers(t.hasAdminContent,t.hasLoginContent,t.dataSourceId))))}},{key:"_renderTaxHistory",value:function(){var e=this.props.publicRecordsInfo.allTaxInfo;return e&&e.length?d.default.createElement(R.default,{allTaxInfo:this.props.publicRecordsInfo.allTaxInfo}):this._getGhostTownNode(L,"sprite-ghosttown-history","lacking")}},{key:"_getDisclaimers",value:function(e,t,n){var a=this;if(!e&&!t)return null;var r=(0,g.getCurrentCountryCode)()===g_countryCode.CANADA?"MLS®":"MLS";return d.default.createElement("div",{className:"disclaimer"},e?d.default.createElement("p",null,"* Price is not available or ",r," listing is off market."):null,t?d.default.createElement("p",null,"** Price available after ",d.default.createElement(v.default,{displayLevel:g_displayLevel.SIGN_IN,dataSourceId:n,showSignIn:!0,registrationReason:g_registrationReason.UNLOCK_LISTING_CONTENT,trackClick:function(){return a._trackSignInClick()},signInLabel:"signing in"}),"."):null)}},{key:"_getGhostTownNode",value:function(e,t,n){return d.default.createElement(h.default,{sprite:t,header:null,additionalClass:n,content:e,hasHtml:!0},null)}},{key:"_getHistoryTimelineNode",value:function(e,t,n,a,r,i,s,l,u){var c={history:e,numSegmentsToDisplayWhenCollapsed:2,definitions:t,timeZone:n,showLogoInLists:a,isAdminOnlyView:r,deviceConfig:i,listingId:s,mediaBrowserInfoBySourceId:l},f=u?"propertyHistoryNested":"propertyHistory";return d.default.createElement(k.PropertyHistoryEventTimeline,(0,o.default)({},this.props.propertyHistoryStore,c,{propertyHistoryMediaBrowser:this.props.propertyHistoryMediaBrowser,key:"phet",expandable:!!u||i===g_deviceConfiguration.DESKTOP&&e&&e.length>2,expandableSectionName:f}))}},{key:"_trackSignInClick",value:function(){return O.default.trackClick(O.default.clicks.SIGN_IN)}}],[{key:"displayName",get:function(){return"PropertyHistory"}},{key:"propTypes",get:function(){return{propertyHistoryInfo:f.default.object,personalizationInfo:f.default.object,deviceConfig:f.default.number,propertyHistoryMediaBrowser:f.default.func,expandable:f.default.bool,initiallyExpanded:f.default.bool}}}]),n}(d.Component);t.default=M,M.getComponentDependencies=function(){return{dependencies:["propertyHistoryStore","propertyHistoryInfo","personalizationInfo","publicRecordsInfo","ownerVerificationStore","pageType"]}},e.exports={PropertyHistory:M,SALE_HISTORY_TAB_INDEX:0,TAX_HISTORY_TAB_INDEX:1}},"2tHw":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getRiftImpressionsKey=function(e,t){return t.isPartnerAgent?"PARTNER_".concat(e):e},t.trackNextButtonClick=s,t.trackOnEmailFocus=function(e,t){return l("EMAIL",e,t)},t.trackOnFirstNameFocus=function(e,t){return l("FIRST_NAME",e,t)},t.trackOnLastNameFocus=function(e,t){return l("LAST_NAME",e,t)},t.trackOnPhoneFocus=function(e,t,n){var a=i.default.clicks["".concat(e,"_PHONE_FIELD_CLICK")];return t.isPartnerAgent?i.default.trackClick(a,{phone_prefilled:!1}):i.default.trackClickWithDefaults(a,{phone_prefilled:n},t.isOpenDoor)},t.trackSubmitButtonClick=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t.showBDXExperience)return r.default.trackClick(r.default.clicks.ASK_BDX_CONTACT_INFO_SUBMIT_CLICK);if(n)return o.default.storeSubmitButtonRiftClick(s(e,t));return s(e,t)};var r=a(n("DT4l")),o=a(n("iDTg")),i=a(n("YqrK"));function s(e,t){var n=i.default.clicks["".concat(e,"_NEXT_BUTTON_CLICK")];return t.isPartnerAgent?i.default.trackClick(n):i.default.trackClickWithDefaults(n,null,!1)}function l(e,t,n){return n.showBDXExperience?r.default.trackClick(r.default.clicks["ASK_BDX_".concat(e,"_FIELD_CLICK")]):i.default.trackClickWithDefaults(i.default.clicks["".concat(t,"_").concat(e,"_FIELD_CLICK")])}},"31kO":function(e,t,n){},"33e7":function(e,t,n){},"3Au8":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return c.apply(this,arguments)};var r=a(n("o0o1")),o=a(n("yXPU")),i=n("cMqt"),s=a(n("8Pth")),l=n("79AG"),u=i.logging.getLogger({name:"corvair.sites.customer-pages.pages.homeDetails.components.mortgageCalculator.homeEquityCalculator.util.checkBrokerageEligibility",color:{server:215,client:"rgb(212,127,42)"}});function c(){return(c=(0,o.default)(r.default.mark(function e(t){var n,a,o;return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,t){e.next=5;break}n=!0,e.next=16;break;case 5:return e.prev=5,e.next=8,(0,l.getConsultInfo)(t);case 8:o=e.sent,n=o&&o.eligibility&&o.eligibility.eligibleListingAgentType===s.default.REDFIN.id,a=o&&o.locationInfo&&o.locationInfo.address,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),u.error("Failed to get consult info for property id ".concat(t),e.t0);case 16:return e.abrupt("return",{isEligible:n,address:a});case 17:case"end":return e.stop()}},e,null,[[5,13]])}))).apply(this,arguments)}e.exports=t.default},"3fOp":function(e,t,n){},"3gA2":function(e,t,n){},"3shQ":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getPartnerConnectionTimePercentile=function(){return r.default.isOn(r.default.feature.PARTNER_AAQ_MERCHANDISE_CONNECTION_TIME_V2)&&"VARIANT"===r.default.getVariant(r.default.feature.PARTNER_AAQ_MERCHANDISE_CONNECTION_TIME_V2)?"50":"90"};var r=a(n("1RMg"));a(n("LDFp")).default.ensure(n("EeD+"))},"43d3":function(e,t,n){},"4Cfu":function(e,t,n){},"4KIY":function(e,t,n){"use strict";var a=n("R16N");e.exports=a.createActions(["toggleChatDialog","minimizeChatDialogClick","closeChatDialogClick","textFieldFocus","textFieldBlur","scrollConversation","newLiveChatChimePlayed","suggestedMessageClick","showOfflineContactFormIfNotShown","expandedContactInfoMessageSubmitted","closeFlyout","updatePromptEligibility","closeEndChatDialogClick","cancelEndChatDialogClick","endChatEndChatDialogClick","closeRateAndReviewChatDialogClick","submitRateAndReviewChatDialogClick","ratingStarClick","reviewInputChange"])},"4MrZ":function(e,t,n){},"4hV0":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),i=(a(n("17x9")),n("osI4")),s=a(n("V/OE")),l=a(n("n6D9")),u=a(n("4UMV")),c=a(n("WanY")),d=a(n("ijmS")),f=n("wTjA"),p=a(n("zCAw")),m=a(n("+xFC")),h=a(n("NFCW")),g=a(n("iDTg")),_=a(n("XucT")),v=a(n("7ia7")),y=a(n("f5L8"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e){var t=e.buyersAgentCommissionStore,n=e.experimentStore,a=t.actions,r=void 0===a?{}:a,E=t.avmInfo,S=t.refund,I=t.submittedQuestion,T=t.contactBoxInfo,C=t.mainHouseInfo,b=t.listingId,k=t.propertyId,R=t.entrypointRiftContext,O=t.showAAQDialog,N=t.showDialog,A=t.formStore,P=t.BUNDLED_INCENTIVE_VARIANTS,D=t.bundledIncentiveVariant,w=(0,o.useMemo)(function(){return r.BuyersAgentCommissionDialog||{}},[r]),L=(0,o.useMemo)(function(){return(0,v.default)({avmEdition:!1,avmInfo:E,contactBoxInfo:T,listingId:b,experimentStore:n,mainHouseInfo:C})},[E,T,b,n,C]);(0,o.useEffect)(function(){N&&(0,f.isFunction)(w.onBACDialogOpen)&&w.onBACDialogOpen()},[N,w]);var M=o.default.createElement("div",null,o.default.createElement("div",{className:"heading-medium padding-bottom-small"},"Buy this home with a Redfin Agent and we’ll give you ",m.default.formatPrice(S)," of our commission"),o.default.createElement("div",{className:"padding-bottom-large"},"See the breakdown of savings when you buy with a Redfin Agent."),o.default.createElement(c.default,{streetAddress:C.streetAddress,buyersAgentCommissionStore:t}),o.default.createElement(d.default,{className:"padding-top-larger"}),o.default.createElement("div",{className:"font-weight-bold",style:{fontSize:"18px"}},"Contact a Redfin Agent")),x=o.default.createElement("div",null,"desktop"===(0,i.getCurrentDeviceType)()&&o.default.createElement("img",{className:"mortgageDreamHeroImg",src:"".concat(g_imageServerUrl,"/images/merch/mortgage/banners/Mortgage_Dream_Hero_copy_grey_2x.png"),alt:"Save when you buy and finance with Redfin"}),o.default.createElement("div",{className:"heading-medium padding-bottom-small"},"Save thousands on this home with a discounted rate and no lender fees"),o.default.createElement("div",{className:"padding-bottom-large"},"Get up to 0.25% off our standard interest rate and pay zero lender fees when you buy with a Redfin Agent and finance with Bay Equity, our full-service mortgage company."),o.default.createElement(y.default,{titleText:"Terms and Conditions Apply.",expandedContent:o.default.createElement("div",null,"Offer available only in Georgia and Illinois, and for a limited time. Buyer will receive a $1,500 closing credit toward underwriting and processing fees at settlement. Does not include origination fees for Down Payment Assistance loans. The amount of the closing credit may be reduced if buyer’s maximum allowable closing credits exceed the closing costs or minimum required investment.",o.default.createElement("br",null),"In order to qualify for a Redfin customer interest rate on a property loan, a borrower must have used a Redfin buyer's agent to submit an accepted offer on that property. Redfin customer interest rates not available in all markets or for all loan types/products. Rates are subject to Bay Equity's rate lock agreement terms and conditions. Bay Equity services are available in Washington, D.C. and all U.S. states except Alaska and New York. Bay Equity is an affiliate of Redfin. You aren’t required to use its services. Learn more at ",o.default.createElement("a",{href:"/afba",target:"_blank"},"redfin.com/afba"),".")}),o.default.createElement("div",{className:"font-weight-bold padding-top-large",style:{fontSize:"18px"}},"Contact a Redfin Agent to learn more")),F=o.default.createElement("div",null,"desktop"===(0,i.getCurrentDeviceType)()&&o.default.createElement("img",{className:"mortgageDreamHeroImg",src:"".concat(g_imageServerUrl,"/images/merch/mortgage/banners/Mortgage_Dream_Hero_copy_grey_2x.png"),alt:"Save when you buy and finance with Redfin"}),o.default.createElement("div",{className:"heading-medium padding-bottom-small"},"Save thousands on this home with a discounted interest rate"),o.default.createElement("div",{className:"padding-bottom-large"},"Get up to 0.25% off our standard interest rate when you buy with a Redfin Agent and finance with Bay Equity, our full-service mortgage company."),o.default.createElement(y.default,{titleText:"Terms and Conditions Apply.",expandedContent:o.default.createElement("div",null,"Not available in all markets or for all loan types/products. In order to qualify for the Redfin customer interest rates on a property loan, a borrower must have used a Redfin buyer's agent to submit an accepted offer on that property. Rates are subject to Bay Equity's rate lock agreement terms and conditions. Bay Equity services are available in Washington, D.C. and all U.S. states except Alaska and New York. Bay Equity is an affiliate of Redfin. You aren’t required to use its services. Learn more at ",o.default.createElement("a",{href:"/afba",target:"_blank"},"redfin.com/afba"),".")}),o.default.createElement("div",{className:"font-weight-bold padding-top-large",style:{fontSize:"18px"}},"Contact a Redfin Agent to learn more"));return N?o.default.createElement(s.default,{className:"BuyersAgentCommissionDialog",onBack:w.onBACDialogClose,closeOnBackgroundClick:!0,transitionAppear:!0,fullScreenOnMobile:!0,renderHeader:function(){return o.default.createElement("div",{className:"flex justify-end padding-small"},o.default.createElement(p.default,{onClick:w.onBACDialogClose}))}},D===P.PROMOTE_BE_RATE_NO_LENDER_FEES&&x,D===P.PROMOTE_BE_RATE&&F,!D&&M,o.default.createElement(h.default,A)):O?o.default.createElement(_.default,{onClose:w.onAAQDialogClose,onBack:g.default.navigateBack,submittedQuestion:I,isMobile:"desktop"!==(0,i.getCurrentDeviceType)(),isInlineForm:!0,contactBoxInfo:T,listingId:b,propertyId:k,streetAddress:C.streetAddress,inquiryChannel:l.default.id,inquirySource:u.default.id,detailsPageContext:T.detailsPageContext,showBDXExperience:L.showBDXExperience(),builderName:C.brokerName,entrypointRiftContext:R,onBackToPreviousDialog:w.onBackFromAAQDialog,bundledIncentiveVariant:D}):null}n("2Ehv"),S.getComponentDependencies=function(){return{dependencies:["buyersAgentCommissionStore","deviceConfig","experimentStore"]}},S.propTypes={},S.defaultProps={buyersAgentCommissionStore:null};var I=S;t.default=I,e.exports=t.default},"4rUc":function(e,t,n){"use strict";var a=n("RBnj");e.exports=(0,a.createActions)(["populateLoadTestData"])},"5Gto":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mXGw")),o=(a(n("17x9")),a(n("ajZI"))),i=a(n("jdJx")),s=a(n("waLX")),l=a(n("RsmQ")),u=n("wTjA"),c=n("osI4"),d=a(n("1AMb")),f=a(n("UT8e")),p=a(n("7gF2")),m=a(n("rBtc"));n("kJGV");var h=function(e){var t,n=e.aroundThisHomeStore,a=e.pageType,h=n||{},g=h.actions,_=h.regionName,v=h.walkScoreData,y=h.pointOfInterestWidgetStore,E=h.transitData,S=h.isRental,I=h.rentalProps,T=I.rentalId,C=I.address,b=I.rentalPropertyTypeStr,k=I.rentalPropertyName,R=I.regionBreadcrumbs,O=(0,c.getCurrentDeviceType)()===c.DeviceTypes.DESKTOP,N=S?function(e,t,n,a){return e?"Around ".concat(t||n):"Around This ".concat(a)}(O,k,C,b):"Around This Home",A=S?{rental:!0,rentalId:T}:{},P=y&&y.propertyNameOrAddress?"Walkability, biking, nearby amenities near "+y.propertyNameOrAddress:"Walkability, biking, nearby amenities";return r.default.createElement(d.default,{addTopRule:!0,className:"AroundThisHomeSection"},r.default.createElement(f.default,{section:p.default.impressions.AROUND_THIS_HOME.section,eventDetails:A},r.default.createElement(o.default,{enabled:!O,sectionName:N,previewText:P,onClickCallback:function(e){(0,u.isFunction)(null==g?void 0:g.whenAroundThisHomeSectionCollapsedToggleIsClicked)&&g.whenAroundThisHomeSectionCollapsedToggleIsClicked(e)}},r.default.createElement("div",{"data-rf-test-id":"neighborhoodSection"},R&&r.default.createElement(m.default,{breadcrumbs:R}),v&&[O&&r.default.createElement("h3",{className:"h3 walkscore-header"},"Transportation","".concat(_?" in ".concat(_):"")),r.default.createElement(i.default,{data:v,mobile:!O})],r.default.createElement(f.default,{section:p.default.impressions.PLACES_CARD.section,target:p.default.impressions.PLACES_CARD.target,eventDetails:A},y&&r.default.createElement(s.default,{pageType:a,pointOfInterestWidgetStore:y})),r.default.createElement(f.default,{section:p.default.impressions.TRANSIT_CARD.section,target:p.default.impressions.TRANSIT_CARD.target,eventDetails:A},(null==E?void 0:null===(t=E.stops)||void 0===t?void 0:t.length)&&r.default.createElement(l.default,{pageType:a,transitData:E}))))))};h.propTypes={},h.propTypes={},h.displayName="AroundThisHomeSection",h.getComponentDependencies=function(){return{dependencies:["aroundThisHomeStore","pageType"]}};var g=h;t.default=g,e.exports=t.default},"5XlE":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mXGw")),o=a(n("3ZW5")),i=function(e){var t=e.accessLevel,n=e.mediaBrowserStore;return r.default.createElement(o.default,{accessLevel:t,mediaBrowserStore:n,actions:n.actions,globalActionStoreId:n.globalActionStoreId,photos:n.photos,altTextForImage:n.altTextForImage,scans:n.scans,videos:n.videos,streetView:n.streetView,floorPlans:n.floorPlans,sashes:n.sashes,photoAttribution:n.photoAttribution,listingAgents:n.listingAgents})};i.getComponentDependencies=function(){return{dependencies:["accessLevel","mediaBrowserStore"]}},i.displayName="InlinePhotoPreviewSection",i.getPageLayoutClassName=function(){return"dp-col-sm-12 dp-col-md-12"};var s=i;t.default=s,e.exports=t.default},"5gQI":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mXGw")),o=(a(n("17x9")),a(n("8Jek"))),i=a(n("ma35"));n("lt89");var s=function(e){var t=e.description,n=e.className,a=e.button;return r.default.createElement("div",{className:(0,o.default)("StickyTourButtonContent","flex","align-center",n)},t&&r.default.createElement("div",{className:"stickyTourButtonDescription flex-1 margin-right-smaller"},t),r.default.isValidElement(a)?a:r.default.createElement(i.default,a))};s.propTypes={};var l=s;t.default=l,e.exports=t.default},"5jEf":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("TlVh"),o=a(n("OXnH")),i=(0,r.createStoreFactory)({init:function(e,t,n){this.listenTo(o.default.toggleFloodRiskDetails,this.toggleFloodRiskDetails),this.listenTo(o.default.toggleStormRiskDetails,this.toggleStormRiskDetails),this.listenTo(o.default.toggleHeatRiskDetails,this.toggleHeatRiskDetails),this.listenTo(o.default.toggleFireRiskDetails,this.toggleFireRiskDetails),this.listenTo(o.default.toggleDroughtRiskDetails,this.toggleDroughtRiskDetails),this.listenTo(o.default.closeMobileDialog,this.closeMobileDialog),this.listenTo(o.default.expandFloodRiskDetails,this.onExpandFloodRisk),this.setState({climateRiskData:e,addressSectionInfo:t,propertyParcelInfo:n,expandedFloodRisk:!1,expandedStormRisk:!1,expandedHeatRisk:!1,expandedFireRisk:!1,expandedDroughtRisk:!1})},toggleFloodRiskDetails:function(){this.setState({expandedFloodRisk:!this.state.expandedFloodRisk})},toggleStormRiskDetails:function(){this.setState({expandedStormRisk:!this.state.expandedStormRisk})},toggleHeatRiskDetails:function(){this.setState({expandedHeatRisk:!this.state.expandedHeatRisk})},toggleFireRiskDetails:function(){this.setState({expandedFireRisk:!this.state.expandedFireRisk})},toggleDroughtRiskDetails:function(){this.setState({expandedDroughtRisk:!this.state.expandedDroughtRisk})},closeMobileDialog:function(){this.setState({expandedFloodRisk:!1,expandedStormRisk:!1,expandedHeatRisk:!1,expandedFireRisk:!1,expandedDroughtRisk:!1})},onExpandFloodRisk:function(){this.setState({expandedFloodRisk:!0})}});t.default=i,e.exports=t.default},"5jiR":function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lSNA")),o=a(n("FW7I")),i=a(n("m7qm")),s=a(n("ORHH")),l=a(n("VENG")),u=a(n("7AK6"));function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var d=i.default.createStoreFactory({init:function(e){var t=e.aboveTheFoldInfo,n=e.bannerInfo,a=e.contactBoxInfo,o=e.isPrimaryBanner,i=e.isAddressBarBanner,s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({aboveTheFoldInfo:t,contactBoxInfo:a},this.setupBannerInfoStore(n,o,i));s.shouldBlockCOPBanner&&u.default.disableCOPDefaultWidgetType("SimpleBannerWidget"),this.setState(s)},setupBannerInfoStore:function(e,t,n){if(e){var a=this.initBannerInfo(e,t,n);return this.sendRiftEvents(a.riftTypes),this.chooseBannerForDisplay(a.types,a.stores)}},initBannerInfo:function(e,t,n){var a={},r=[],i=[];return n||(e=e.filter(function(e){var n=o.default[e.detailsPageBannerVariant].displayName;return!("PRIMARY"!==n||!t)||"SECONDARY"===n&&!t})),e.forEach(function(e){switch(e.riftType&&i.push(e.riftType),e.displayType&&r.push(e.displayType),e.displayType){case g_detailsPageBanner.REDFIN_DIRECT:a[e.displayType]=e.data;break;case g_detailsPageBanner.OFFER_DEADLINE:a[e.displayType]=new s.default(e.data);break;case g_detailsPageBanner.LOCAL_RULES:a[e.displayType]=e.data;break;case g_detailsPageBanner.COMING_SOON:a[e.displayType]=new l.default(e.data);break;case g_detailsPageBanner.HOTNESS:case g_detailsPageBanner.RECENTLY_SOLD:a[e.displayType]=e.data}}),{stores:a,types:r,riftTypes:i}},chooseBannerForDisplay:function(e,t){var n,a;if(1===e.length)a=t[n=e[0]];else if(e.length>1)for(var r=[g_detailsPageBanner.LOCAL_RULES,g_detailsPageBanner.OFFER_DEADLINE,g_detailsPageBanner.COMING_SOON,g_detailsPageBanner.RECENTLY_SOLD],o=0;o<r.length;o++){var i=r[o];if(e.includes(i)){n=i,a=t[i];break}}return{displayBannerType:n,displayBannerStore:a,shouldBlockCOPBanner:this._shouldBlockCOPBanner(n)}},_shouldBlockCOPBanner:function(e){return!!e&&e!==g_detailsPageBanner.RECENTLY_SOLD&&e!==g_detailsPageBanner.HOTNESS&&e!==g_detailsPageBanner.REDFIN_DIRECT},sendRiftEvents:function(e){e.forEach(function(e){switch(e){case g_detailsPageBanner.OFFER_DEADLINE:case g_detailsPageBanner.COMING_SOON:case g_detailsPageBanner.LOCAL_RULES:case g_detailsPageBanner.HOTNESS:}})}});e.exports=d},"5lvR":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("QkVN")),o=a(n("LDFp")),i=a(n("pBXq"));o.default.ensure(n("tTYd"));var s=(0,r.default)(new i.default,{name:"InternetDataRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!1,impressions:{INTERNET_ENTRYPOINT:{section:"property_details",target:"internet_entrypoint"},INTERNET_MODAL:{section:"internet_modal",target:null},PROVIDER_CARD:{section:"internet_modal",target:"provider_card"},INTERNET_ENTRYPOINT_GHOSTTOWN:{section:"property_details",target:"internet_entrypoint_ghost_town"},INTERNET_MODAL_GHOSTTOWN:{section:"internet_modal",target:"ghost_town"}},clicks:{INTERNET_ENTRYPOINT:{section:"property_details",target:"internet_entrypoint"},SPEED_INFO_LINK:{section:"internet_modal",target:"speed_info_link"},TYPE_INFO_LINK:{section:"internet_modal",target:"type_info_link"}}});t.default=s,e.exports=t.default},"5o9r":function(e,t,n){},"5sHw":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.isRegionSupportedForClimateRiskData=t.isPropertyInFloodDataBlocklist=t.isPropertyInClimateRiskBlocklist=t.isPropertyEligibleForFloodData=t.isInFloodFactorRebrand=t.getScoreLevelForFlood=t.getRiskFactorPropertyLink=t.getRiskFactorHostName=t.getRiskFactorFlyoutTerm=t.getRiskFactorAttributionName=t.getRiskBlurbForFlood=t.getProjectedImpactBlurb=t.getHistoricalImpactBlurb=t.getFloodInsuranceProviderName=t.getFloodInsuranceLink=t.getClimateRiskColorFromScore=t.getBarGraphMetadata=t.getAboutRisk=void 0;var r=a(n("Lo1E")),o=a(n("LDFp")),i=a(n("/+pK")),s=a(n("94Bj")),l=a(n("LyB4"));o.default.ensure(n("yFh4"),n("hxjI"));t.isRegionSupportedForClimateRiskData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"CA"!==e.countryCode&&"AK"!==e.state&&"HI"!==e.state};t.getRiskBlurbForFlood=function(e){var t=e.score,n=e.riskDirection,a=e.envRisk,r="This property's risk of flooding is ";return t>1&&1===n&&(2===a||3===a)?r+="increasing as sea levels rise and weather patterns change.":t>1&&1===n&&1===a?r+="increasing as weather patterns change.":t>1&&-1===n?r+="decreasing as weather patterns change.":1===t?r="This property is unlikely to flood over the next 30 years.":t>1&&0===n&&(r=""),r};t.isPropertyEligibleForFloodData=function(e){return!(!s.default.isOn(s.default.feature.FLOOD_DATA)||u(e)||"VARIANT"!==s.default.getVariant(s.default.feature.FLOOD_DATA))};var u=function(e){return!(e&&!i.default.get(g_dbBackedConfigKeys.FLOOD_DATA_BLOCKLIST_PROPERTIES).includes(e))};t.isPropertyInFloodDataBlocklist=u;t.getScoreLevelForFlood=function(e){var t="Minimal";switch(e.floodFactor){case 2:t="Minor";break;case 3:case 4:t="Moderate";break;case 5:case 6:t="Major";break;case 7:case 8:t="Severe";break;case 9:case 10:t="Extreme"}return t};t.getClimateRiskColorFromScore=function(e){var t=e.score;return t>=0&&t<=19?"green":t>19&&t<=39?"nacho":t>39&&t<=59?"orange":t>59&&t<=79?"redOrange":t>79&&t<=100?"red":null};t.getHistoricalImpactBlurb=function(e){var t=e.addressSectionInfo,n=e.riskInfo,a=void 0===n?{}:n,r=d(t);switch(a.riskName){case"Storm Risk":return"Historically, ".concat(r," experiences ").concat(a.historicalNumStorms," significant two-day storms a year,")+" with about ".concat(a.historicalPrecipitationPerStorm,'" of precipitation per storm.');case"Drought Risk":return"An area is at especially high drought risk when water stress (how much of the available water supply is used by humans)"+" is above 40%. Historically, water stress for ".concat(r," is around ").concat(a.historicalWaterStressPct,"%.");case"Heat Risk":return"".concat(a.hotDayThresholdInF,"° is considered hot in this area. Historically, ").concat(r," experiences ").concat(a.historicalHotDays)+" hot days a year.";case"Fire Risk":return"Historically, about ".concat(a.historicalBurnPct,"% of the land within 100 miles of ").concat(r," burns in a year.");default:return null}};t.getProjectedImpactBlurb=function(e){var t=e.riskInfo,n=void 0===t?{}:t;switch(n.riskName){case"Storm Risk":var a=React.createElement("p",{className:"padding-top-smaller"},"In 2050, ",n.futureNumStorms," storms are projected to occur with about ",n.futurePrecipitationPerStorm,'" of precipitation per storm.');return n.historicalNumStorms<n.futureNumStorms?["This home’s risk from severe storms is increasing.",a]:n.historicalNumStorms>n.futureNumStorms?["This home’s risk from severe storms is decreasing.",a]:["This home’s risk from severe storms is not changing significantly.",a];case"Drought Risk":return n.historicalWaterStressPct<n.futureWaterStressPct?"This home’s risk from drought is increasing. In 2050, water stress is projected to rise to"+" ".concat(n.futureWaterStressPct,"%."):n.historicalWaterStressPct>n.futureWaterStressPct?"This home’s risk from drought is decreasing. In 2050, water stress is projected to drop to"+" ".concat(n.futureWaterStressPct,"%."):"This home’s risk from drought is not changing significantly. In 2050, water stress is projected to remain at"+" ".concat(n.futureWaterStressPct,"%.");case"Heat Risk":var r="In 2050, ".concat(n.futureHotDays," hot days (above ").concat(n.hotDayThresholdInF,"°) are projected to occur.");return n.historicalHotDays<n.futureHotDays?"This property’s risk from extreme heat is increasing."+" ".concat(r):n.historicalHotDays>n.futureHotDays?"This property’s risk from extreme heat is decreasing."+" ".concat(r):"This property’s risk from extreme heat is not changing significantly."+" ".concat(r);case"Fire Risk":var o="In 2050, ".concat(n.futureBurnPct,"% of surrounding land is projected to burn.");return n.historicalBurnPct<n.futureBurnPct?"This property’s risk from wildfires is increasing. ".concat(o):n.historicalBurnPct>n.futureBurnPct?"This property’s risk from wildfires is decreasing. ".concat(o):"This property’s risk from wildfires is not changing significantly. ".concat(o);default:return null}};t.getAboutRisk=function(e){var t=e.riskInfo;switch((void 0===t?{}:t).riskName){case"Storm Risk":return["Storm risk is calculated using the typical number of extremely wet or snowy events, and the amount of rain or snow that will fall during those storms. An “extremely wet event” means experiencing an amount of precipitation over 48 hours that normally happened only 8 times during the baseline period from 1981 to 2005.",React.createElement("br",null),React.createElement("br",null),React.createElement("a",{target:"_blank",rel:"noopener",onClick:function(){return l.default.trackClick(l.default.clicks.STORM_CC_LINK)},href:"https://www.redfin.com/guides/climate-change-housing-impact/storm-risk"},"Learn more about storm risk")];case"Drought Risk":return["Drought risk is based on water supply stress, which measures how much of the available water in a location is used by human activity. This information is specific to each watershed or drainage basin (a land area with the same water outlet), and takes into account both the projected supply of water (precipitation), projected demand due to population growth and water use, and features of the watershed, such as soil properties and land cover.",React.createElement("br",null),React.createElement("br",null),React.createElement("a",{target:"_blank",rel:"noopener",onClick:function(){return l.default.trackClick(l.default.clicks.DROUGHT_CC_LINK)},href:"https://www.redfin.com/guides/climate-change-housing-impact/drought-risk"},"Learn more about drought risk")];case"Heat Risk":return["Heat risk is calculated using the typical number of extremely hot days expected in the future. An “extremely hot day” has a high temperature that normally happens only on the hottest 8 days of the year, during the baseline period from 1981 to 2005.",React.createElement("br",null),React.createElement("br",null),React.createElement("a",{target:"_blank",rel:"noopener",onClick:function(){return l.default.trackClick(l.default.clicks.HEAT_CC_LINK)},href:"https://www.redfin.com/guides/climate-change-housing-impact/heat-risk"},"Learn more about heat risk")];case"Fire Risk":return["Fire risk is calculated using projections for the average proportion of the area around a home that will burn annually.",React.createElement("br",null),React.createElement("br",null),"The underlying model simulates the competition among plants for light, nitrogen, and soil water to project vegetation coverage in the future. This projected vegetation coverage is translated into an expected proportion of area likely to burn. Risk scores also account for the presence of human activity such as agriculture and densely built environments that lower the local risk of wildfire.",React.createElement("br",null),React.createElement("br",null),React.createElement("a",{target:"_blank",rel:"noopener",onClick:function(){return l.default.trackClick(l.default.clicks.FIRE_CC_LINK)},href:"https://www.redfin.com/guides/climate-change-housing-impact/fire-risk"},"Learn more about fire risk")];default:return null}};t.getBarGraphMetadata=function(e){var t=e.riskInfo,n=void 0===t?{}:t,a=["Past","2050"];switch(n.riskName){case"Storm Risk":return[{title:"Precipitation per storm",values:[n.historicalPrecipitationPerStorm,n.futurePrecipitationPerStorm],topLabels:["".concat(n.historicalPrecipitationPerStorm,'"'),"".concat(n.futurePrecipitationPerStorm,'"')],bottomLabels:a,barHeight:100},{title:"48-hour storms per year",values:[n.historicalNumStorms,n.futureNumStorms],topLabels:[n.historicalNumStorms,n.futureNumStorms],bottomLabels:a,barHeight:100}];case"Drought Risk":return[{title:"Water Stress (% of supply used by humans)",values:[n.historicalWaterStressPct,n.futureWaterStressPct],topLabels:["".concat(n.historicalWaterStressPct,"%"),"".concat(n.futureWaterStressPct,"%")],bottomLabels:a,barHeight:100,maxValue:100}];case"Heat Risk":return[{title:"# Hot Days per Year",values:[n.historicalHotDays,n.futureHotDays],topLabels:[n.historicalHotDays,n.futureHotDays],bottomLabels:a,barHeight:100}];case"Fire Risk":return[{title:"% of Land Burned",values:[n.historicalBurnPct,n.futureBurnPct],topLabels:["".concat(n.historicalBurnPct,"%"),"".concat(n.futureBurnPct,"%")],bottomLabels:a,barHeight:100,maxValue:100}];default:return null}};t.isPropertyInClimateRiskBlocklist=function(e){return!(e&&!i.default.get(g_dbBackedConfigKeys.CLIMATE_RISK_BLOCKLIST_PROPERTIES).includes(e))};t.getRiskFactorHostName=function(){return c()?"riskfactor.com":"floodfactor.com"};t.getRiskFactorAttributionName=function(e){return c()?"Risk Factor".concat(e?"™":""):"Flood Factor".concat(e?"®":"")};t.getRiskFactorFlyoutTerm=function(e){return c()?"Risk Factor".concat(e?"™":""):"First Street Foundation"};t.getFloodInsuranceProviderName=function(){return c()?"Hippo":"Neptune Flood Insurance"};t.getRiskFactorPropertyLink=function(e){return c()?"https://riskfactor.com/property/"+e+"/"+e+"_fsid/flood?utm_source=redfin":"https://floodfactor.com/property/"+e+"_fsid?utm_source=redfin"};t.getFloodInsuranceLink=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.quotes||[],n=c();if(n){if(e.fsid)return"https://1str.ee/t/hippo/flood/".concat(e.fsid,"?source=redfin")}else for(var a=0;a<t.length;a++)if(t[a].providerName&&"neptuneflood.com"===t[a].providerName)return t[a].providerUrl;return null};var c=function(){return s.default.isOn(s.default.feature.ENABLE_FLOODFACTOR_REBRAND)};t.isInFloodFactorRebrand=c;var d=function(e){var t=(e||{}).streetAddress,n=void 0===t?{}:t,a="this address";return n&&n.addressDisplayLevel&&n.addressDisplayLevel.displayLevel===r.default.ACCESSIBLE.id&&(a=n.assembledAddress),a}},"5tnl":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("lSNA")),d=a(n("kcif")),f=(a(n("17x9")),n("mXGw")),p=a(n("xARA")),m=a(n("1AMb")),h=a(n("UT8e")),g=a(n("o7cW")),_=a(n("fztR"));n("7X4W");var v=a(n("AeIf")),y=n("osI4");function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var S=function(e){(0,s.default)(n,e);var t=E(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"componentDidMount",value:function(){p.default.findDOMNode(this)&&g.default.trackImpression(g.default.impressions.SEO_LINKS,null,p.default.findDOMNode(this))}},{key:"render",value:function(){var e=this,t=this.props,n=t.smartInterlinks,a=t.isRental,o=t.deviceConfig,i=t.maxColumns,s=t.rentalId,l=t.propertyId;if(!n||!n.sections)return null;var u=o===g_deviceConfiguration.PHONE,c=a?"More Rental Resources":u?"More Resources":"More Real Estate Resources",f=u?2:a?5:6,p=(0,d.default)(n.sections,i||n.sections.length).map(function(t,n){return React.createElement("tr",{className:"table-row",key:"col-"+n},e._renderRow(t,f))}),g={device_category:(0,y.getCurrentDeviceType)(),rental_id:s,property_id:l};return React.createElement(h.default,(0,r.default)({},v.default.impressions.MORE_RENTAL_RESOURCES,{eventDetails:g}),React.createElement(m.default,{name:"SmartInterlinksSection",addTopRule:!0},React.createElement("div",{className:"main-content SmartInterlinks",id:"smart-interlinks-section"},React.createElement("h2",{className:"heading-medium padding-bottom-larger smart-interlinks-h2",role:"heading"},c),React.createElement("table",{className:"interlinks-table"},p))))}},{key:"_renderRow",value:function(e,t){return e.filter(function(e){return!e.name.includes("Popular Markets")&&0!==e.links.length}).map(function(e){return React.createElement(_.default,{key:e.name,title:e.name,links:e.links,cutoff:t})})}}]),n}(f.Component);t.default=S,(0,c.default)(S,"displayName","redfin.home.details.react.SmartInterlinksSection"),(0,c.default)(S,"defaultProps",{isRental:!1}),S.propTypes={},S.getComponentDependencies=function(){return{dependencies:["smartInterlinks"]}},S.getPageLayoutClassName=function(){return"dp-col-sm-12 dp-col-md-12"},e.exports=t.default},"6TAI":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=(a(n("17x9")),function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw"))),d=a(n("TRKi")),f=a(n("1AMb")),p=a(n("wbM/")),m=n("YEc5"),h=a(n("LV0q")),g=a(n("WeK8"));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("B5Ma");var y=function(e){(0,s.default)(n,e);var t=v(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).tableStore=new h.default(e.buildingForSaleUnits,m.forSaleInitialComparator),a}return(0,i.default)(n,[{key:"_createRootElementWithStore",value:function(){return d.default.createRootElement(this.tableStore,c.default.createElement(p.default,{riftTracker:g.default,totalItems:this.tableStore.state.units.length,mobile:this.props.mobile,scrollParentId:this.props.scrollParentId}))}},{key:"render",value:function(){var e=this;return c.default.createElement(f.default,{name:"ForSaleTableSection"},c.default.createElement("div",{"data-rf-test-id":"forSaleTableSection",ref:function(t){return e.domNode=t}},c.default.createElement("span",{className:"anchor",id:"for_sale"}),c.default.createElement("div",null,c.default.createElement("h2",{className:"h2 heading-medium padding-medium"},"Units For Sale"),this._createRootElementWithStore())))}}]),n}(c.Component);y.propTypes={},y.defaultProps={mobile:!1};var E=y;t.default=E,e.exports=t.default},"6WO4":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var o=a(n("J4zp")),i=(a(n("17x9")),function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw"))),s=a(n("INao")),l=a(n("YIVr")),u=n("6tFN"),c=a(n("KBk/")),d=a(n("hmmP"));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){var t=(0,i.useState)(!1),n=(0,o.default)(t,2),a=n[0],r=n[1],f=e.startTime,p=e.endTime,m=e.timezone,h=e.url,g=e.propertyId,_=e.listingId,v=e.comment,y=e.dataSourceName,E=e.logoImageFilename,S=e.riftEvent,I=(0,u.isToday)(f,m)?"Today":(0,u.getFormattedDayAndDate)(f,m),T=(0,u.getFormattedTime)(f,m),C=(0,u.isTimezoneDifferentFromBrowser)(m),b=(0,u.getFormattedTime)(p,m,C),k=(0,u.isCurrentlyLive)(f,p),R=k?"Live now till ".concat(b):"".concat(I," · ").concat(T," - ").concat(b),O=i.default.createElement(l.default,{shouldShowFlyout:a,comment:v,dataSourceName:y,logoImageFilename:E,toggleFlyout:function(){!a&&d.default.trackClick(d.default.clicks.INFO_LINK,{is_video:!0,property_id:g,listing_id:_}),v&&r(!a)}});return i.default.createElement("div",{className:"open-house-item"},i.default.createElement(s.default,null),i.default.createElement("div",{className:"dateAndSignUp"},i.default.createElement("div",{className:"dateInfo"},R),i.default.createElement("a",{href:h,target:"_blank",className:"signUpLink",onClick:function(){c.default.fireRiftClick(S,f.seconds,g,_,k)}},k?i.default.createElement("strong",null,"Join now"):"Join here"),O))}p.propTypes={},e.exports=t.default},"6YqF":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("QkVN")),o=a(n("LDFp")),i=a(n("pBXq")),s=a(n("DyY8")),l=a(n("7SUW"));o.default.ensure(n("tTYd"));var u=["first_open","has_unread_message","text","agents_online","click_result","failing_fields","failure_type"];function c(e){return u.indexOf(e)>=0}var d=(0,r.default)(new i.default,{name:"LiveChatRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{FLOATING_BUTTON:{section:"live_chat",target:"floating_chat_button",trackMessages:!1},STICKY_FOOTER_BUTTON:{section:"sticky_footer",target:"chat_button",trackMessages:!1,expectedParams:["chat_badge"]},DIALOG:{section:"live_chat_dialog",trackMessages:!1,expectedParams:["agents_online"]},MESSAGE_RECEIVED:{section:"live_chat_dialog",target:"received_message",expectedParams:["message_sid"]},getAutoResponseMesssageReceived:function(e){return{section:"live_chat_dialog",target:e}},LIVE_CHAT_CHIME_PLAYED:{section:"live_chat",target:"live_chat_chime"},LIVE_CHAT_FLYOUT:{section:"sticky_footer",target:"chat_flyout"},LIVE_CHAT_FLYOUT_MESSAGE:{section:"live_chat_dialog"},getContactInfoForm:function(){return{section:"live_chat_dialog",target:d._getContactInfoTargetPrefix()}},getContactInfoPromptMessage:function(){return{section:"live_chat_dialog",target:d._getContactInfoTargetPrefix()+"_initial_prompt"}},getContactInfoConfirmation:function(){return{section:"live_chat_dialog",target:d._getContactInfoTargetPrefix()+"_contact_confirmation"}},EXPERIMENT_ELIGIBLE:{section:"live_chat_experiment_eligible"},BUTTON_EXPERIMENT_ELIGIBLE:{section:"chat_button_experiment_eligible"},LIVE_CHAT_END_RATE_EXPERIMENT_ELIGIBLE:{section:"live_chat_end_rate_experiment_eligible"},LIVE_CHAT_END_CHAT_DIALOG:{section:"live_chat_end_chat_dialog"},LIVE_CHAT_RATE_REVIEW_CHAT_DIALOG:{section:"live_chat_rate_review_chat_dialog"},LIVE_CHAT_END_RESTART_MESSAGE:{section:"live_chat_dialog",target:"end_restart_message"}},clicks:{FLOATING_BUTTON:{section:"live_chat",target:"floating_chat_button",trackMessages:!1,expectedParams:["first_open","has_unread_message"]},FLOATING_BUTTON_CLOSE:{section:"live_chat",target:"floating_close_button"},STICKY_FOOTER_BUTTON:{section:"sticky_footer",target:"chat_button",trackMessages:!1,expectedParams:["first_open","has_unread_message"]},STICKY_FOOTER_BUTTON_CLOSE:{section:"live_chat_dialog",target:"close_button"},MESSAGE_FIELD:{section:"live_chat_dialog",target:"message_field"},SEND_MESSAGE:{section:"live_chat_dialog",target:"send_button"},MESSAGE_SENT:{section:"live_chat_dialog",target:"message_sent",expectedParams:["message_sid"],trackGA:!1},getContactInfoNameField:function(){return{section:"live_chat_dialog",target:d._getContactInfoTargetPrefix()+"_name_field"}},getContactInfoContactField:function(){return{section:"live_chat_dialog",target:d._getContactInfoTargetPrefix()+"_contact_field"}},getContactInfoMessageField:function(){return{section:"live_chat_dialog",target:d._getContactInfoTargetPrefix()+"_message_field"}},getContactInfoSubmit:function(){return{section:"live_chat_dialog",target:d._getContactInfoTargetPrefix()+"_send_button",expectedParams:["click_result"]}},getSuggestedMessageClick:function(e){return{section:"live_chat_dialog",target:"suggested_message_"+e,trackGA:!0}},LIVE_CHAT_FLYOUT_BUTTON_CLICKED:{section:"chat_flyout",target:"chat_flyout_button",expectedParams:["LDP_prompts"]},LIVE_CHAT_FLYOUT_BUTTON_CLOSED:{section:"chat_flyout",target:"chat_flyout_close_button",expectedParams:["LDP_prompts"]},LIVE_CHAT_BUTTON_BADGE:{section:"live_chat",target:"floating_chat_button"},CHAT_DIALOG_MINIMIZE_CLICK:{section:"live_chat_dialog",target:"minimize_cta"},CHAT_DIALOG_CLOSE_CLICK:{section:"live_chat_dialog",target:"close_cta"},END_CHAT_DIALOG_CLOSE_CLICK:{section:"live_chat_end_chat_dialog",target:"close_cta"},END_CHAT_DIALOG_CANCEL_CLICK:{section:"live_chat_end_chat_dialog",target:"cancel_cta"},END_CHAT_DIALOG_END_CHAT_CLICK:{section:"live_chat_end_chat_dialog",target:"end_chat_cta"},RATE_REVIEW_CHAT_DIALOG_STAR_SELECT:{section:"live_chat_rate_review_chat_dialog",target:"star_selected",expectedParams:["star_rating"]},RATE_REVIEW_CHAT_DIALOG_CLOSE_CLICK:{section:"live_chat_rate_review_chat_dialog",target:"close_cta"},RATE_REVIEW_CHAT_DIALOG_MESSAGE_FIELD_KEYPRESS:{section:"live_chat_rate_review_chat_dialog",target:"message_field"},RATE_REVIEW_CHAT_DIALOG_SUBMIT_CLICK:{section:"live_chat_rate_review_chat_dialog",target:"submit_cta",expectedParams:["star_rating"]}},_getContactInfoTargetPrefix:function(){return this._getAreAgentsOnline()?"helping_other_customers":"offline_contact_info_form"},trackImpressionWithDefaults:function(e,t,n){this.trackImpression(e,this._withGlobalDefaultParams(t,e),n)},trackClickWithDefaults:function(e,t){this.trackClick(e,this._withGlobalDefaultParams(t,e))},_withGlobalDefaultParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=!1!==t.trackMessages;if(n&&(e.num_customer_messages=this._getNumCustomerMessages(),e.num_redfin_messages=this._getNumRedfinMessages()),!1!==t.trackGA){var a=e[s.default.GA_LABEL]||{};Object.keys(e).filter(c).forEach(function(t){a[t]=e[t]}),n&&(a.has_customer_messages=0!==e.num_customer_messages,a.has_redfin_messages=0!==e.num_redfin_messages),e[s.default.GA_LABEL]=a}return e},setMessageCountCallbacks:function(e,t){this._getNumCustomerMessages=e,this._getNumRedfinMessages=t},_getNumCustomerMessages:function(){return 0},_getNumRedfinMessages:function(){return 0},setAgentsOnlineCallback:function(e){this._getAreAgentsOnline=e},_getAreAgentsOnline:function(){return!1},initializeLiveChatExperiment:function(e,t){this.trackImpression(this.impressions.EXPERIMENT_ELIGIBLE),t&&(0,l.default)().initialize({experimentId:e,gaExperimentId:t})}}),f=d;t.default=f,e.exports=t.default},"6ePl":function(e,t,n){},"6phH":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.renderAdjustedDownPaymentHeader=t.default=t.calculateAdjustedDownPayment=void 0;var r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("lSNA")),f=a(n("3OWR")),p=a(n("mXGw")),m=n("aKSz"),h=a(n("3AZh")),g=(a(n("17x9")),a(n("6E2v"))),_=a(n("ma35")),v=a(n("N3zK")),y=a(n("jZ07")),E=a(n("+tVG")),S=a(n("WqrT")),I=a(n("4ppV")),T=a(n("V/OE")),C=a(n("i2EY")),b=a(n("0O13")),k=a(n("0QhW")),R=a(n("RZul")),O=a(n("uZbT")),N=n("wTjA"),A=a(n("jhpn")),P=a(n("VHtJ")),D=a(n("VMur")),w=a(n("WRm1")),L=a(n("zCAw")),M=a(n("Ubz+")),x=a(n("zh2t")),F=a(n("lvD+")),B=a(n("DaJd")),H=a(n("ed/o")),U=a(n("AGmm")),j=n("I5FW"),q=n("+xFC"),W=a(n("8Jek")),V=a(n("rYdI")),G=n("eQq5"),K=n("osI4"),Y=n("t/n8"),z=a(n("vQ7H")),X=n("QP4D"),Q=n("bqcM"),J=n("Irkk"),Z=n("WFin"),$=a(n("kt2l")),ee=a(n("94Bj")),te=a(n("LDFp")),ne=a(n("EyRd")),ae=a(n("Kern")),re=a(n("nbo3")),oe=a(n("j1iR")),ie=n("1o8v");function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach(function(t){(0,d.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}te.default.ensure(n("F8is"));var ce=9,de="".concat((0,Q.getSecureWebServerUrl)(),"/why-sell"),fe="Explore Selling with Redfin",pe=350,me="/stingray/do/autocomplete/address",he="See how selling your current home can help you buy",ge="Home Sale Proceeds",_e="/sell-a-home/address?inquirySource=".concat($.default.id),ve=function(e){return e<=5e5?5:e>5e5&&e<1e6?(25e5+10*(e-5e5))/e:20},ye={HOME_PRICE:{id:1,title:"Home Price",rift:ne.default.clicks.HOME_PRICE_TILE_MC,closeRift:ne.default.clicks.HOME_PRICE_TILE_MC_CLOSE},DOWN_PAYMENT:{id:2,title:"Down Payment",rift:ne.default.clicks.DOWN_PAYMENT_TILE_MC,closeRift:ne.default.clicks.DOWN_PAYMENT_TILE_MC_CLOSE},LOAN_TYPE:{id:3,title:"Loan Type",rift:ne.default.clicks.LOAN_TYPE_TILE_MC,closeRift:ne.default.clicks.LOAN_TYPE_TILE_MC_CLOSE},INTEREST_RATE:{id:4,title:"Interest Rate",rift:ne.default.clicks.INTEREST_RATE_TILE_MC,closeRift:ne.default.clicks.INTEREST_RATE_TILE_MC_CLOSE},CUSTOMIZE_CALCULATIONS:{id:5,title:"Advanced Options",rift:ne.default.clicks.CUSTOMIZE_CALCULATIONS_TILE_MC,closeRift:ne.default.clicks.CUSTOMIZE_CALCULATIONS_TILE_MC_CLOSE},LOAN_DETAILS:{id:6,rift:ne.default.clicks.LOAN_DETAILS_TILE_MC,closeRift:ne.default.clicks.LOAN_DETAILS_TILE_MC_CLOSE}},Ee=(0,G.getLoanTypeSelects)([g_mortgageTerms.THIRTY_YEAR_FIXED,g_mortgageTerms.FIFTEEN_YEAR_FIXED,g_mortgageTerms.FIVE_ONE_ARM]),Se="Save up to $517 a year on avg. by getting a new rate. ",Ie="https://activelistings.matic.com/",Te="Compare Insurance Quotes",Ce=["hasSavedHomeEquity"],be=function(e){(0,l.default)(n,e);var t=ue(n);function n(e){var a;return(0,o.default)(this,n),a=t.call(this,e),(0,d.default)((0,s.default)(a),"_handleFlyoutClose",function(){ae.default.trackClick(ae.default.clicks.SELLING_FLYOUT_CLOSE),H.default.closeSellsideFlyout(a.props.inline)}),(0,d.default)((0,s.default)(a),"_handleExploreWithRedfinClick",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de;ae.default.trackClick(ae.default.clicks.FLYOUT_EXPLORE_REDFIN),re.default.flushRiftEvents(),window.location.href=e}),(0,d.default)((0,s.default)(a),"_renderMCRevampFields",function(e,t){var n=a.state.customPanelFieldToShow,r=a._renderCustomPanelField(e,t),o=a.state.customPanelFieldToShow===ye.CUSTOMIZE_CALCULATIONS,i=(0,W.default)({"mc-customize-advanced-option-ellipsis":!0,"flyout-parent":!0,"border-box":o}),s=p.default.createElement("div",{className:i},p.default.createElement("div",{className:"mc-customize-advanced-option-ellipsis-content",onClick:a._onAdvancedOptionsButtonClick},p.default.createElement(x.default,null)),o&&p.default.createElement(D.default,{className:"form-field-flyout right-adjust",ref:a.desktopFormFlyoutRef,position:"below"},r)),l="phone"===(0,K.getCurrentDeviceType)(),u=p.default.createElement(p.default.Fragment,null,!n&&l&&p.default.createElement(_.default,{className:"text mc-customize-advanced-options",onClick:a._onAdvancedOptionsButtonClick},"Advanced Options"),!l&&s,!n&&l&&(0,j.getCurrentCountryCode)()===g_countryCode.UNITED_STATES&&p.default.createElement(_.default,{className:"tertiary mc-customize-find-lender",onClick:a.props.onRevampVariantFALButtonClick},"Find a lender")),c=a.state.flyoutHeight+20;return p.default.createElement("div",{className:"mc-customize-panels",ref:a.revampedMortgagePanelRef,style:{marginBottom:c}},l&&a._renderCustomPanelField(e,t),a._renderPanels(r),u)}),(0,d.default)((0,s.default)(a),"_renderDownPaymentSection",function(e){var t=a.props,n=t.inline,o=t.address,i=t.claimedHomeInfo,s=t.homeSalePrice,l=t.outstandingMortgage,u=t.otherCosts,c=t.sellingFee,d=t.isInlineDownPaymentExpanded,f=t.isModalDownPaymentExpanded,g=t.hasNoEstimateError,v=ke({homeSalePrice:s,outstandingMortgage:l,otherCosts:u,sellingFee:c}),E=Re(v),I=!!n&&d||!n&&f,T=(0,W.default)({"font-weight-bold":!0,title:!0,"font-size-base":!a.state.shouldShowSaleProceedsDialog,"font-size-large":a.state.shouldShowSaleProceedsDialog}),C=(0,W.default)({DownPaymentSection:!0,revampVariantPositioning:!0}),k="desktop"===(0,K.getCurrentDeviceType)(),R=p.default.createElement("div",null,p.default.createElement("div",{className:"font-size-small AddressLabel"},"Address (Optional)",p.default.createElement(S.default,(0,r.default)({},e.address,{infoIcon:!0,onShowDefinitionFlyout:a._addressInfoOnShowDefinition}))),p.default.createElement("span",{className:g?"error":""},p.default.createElement(b.default,{name:"ClaimedHomeSearchBox",placeHolder:"Enter your address",location:o||i&&i.streetAddress,altEndPoint:me,showSearchButton:!1,shouldSetLocationFromCookie:!1,searchHandler:a._addressOnSearch})),g?p.default.createElement("span",{"data-rf-test-id":"validationFeedback",class:"field-error"},"Sorry, Redfin Estimate not available"):null,p.default.createElement("div",{className:"PrimaryInputRow dot-row ".concat(n?"no-botpadding":"")},p.default.createElement(h.default,{testName:"mc-homeSalePrice",value:U.default.formatToPrecision(s),label:"Home Sale Price",type:"currency",alwaysShowInput:!0,onBlur:a._homeSalePriceOnTextBlur,onKeyDown:U.default.onKeyDown,notifyStoreOnChange:!1}),p.default.createElement(h.default,{testName:"mc-outstandingMortgage",value:U.default.formatToPrecision(l),label:"Outstanding Mortgage",type:"currency",alwaysShowInput:!0,onBlur:a._outstandingMortgageOnTextBlur,onKeyDown:U.default.onKeyDown,notifyStoreOnChange:!1})),p.default.createElement("div",{className:"PrimaryInputRow dot-row"},p.default.createElement(y.default,{label:"Selling Fee",definitionProps:le(le({},e.sellToBuyDisclaimer),{},{onShowDefinitionFlyout:a._sellingFeeDisclaimerOnShowDefinition}),innerRfTestName:"mc-sellingFee",value:c,options:(0,G.getSellingFee)(s),onChange:a._sellingFeeOnChange}),p.default.createElement(h.default,{testName:"mc-otherCosts",definitionProps:le(le({},e.otherCosts),{},{onShowDefinitionFlyout:a._otherCostsInfoOnShowDefinition}),value:U.default.formatToPrecision(u),label:"Other Selling Costs",type:"currency",alwaysShowInput:!0,onBlur:a._otherCostsOnBlur,onKeyDown:U.default.onKeyDown,notifyStoreOnChange:!1})),E,p.default.createElement(_.default,{href:"".concat(de,"?inquirySource=").concat(g_inquirySource.LDP_PAYMENT_CALC_HOME_SALE_PRICE,"&propertyId=").concat(a.props.propertyId),className:"button tertiary-alt sellCta pos-rel",onClick:a._whySellCTAOnClick,target:"_blank",rel:"noreferrer noopener"},fe),k&&p.default.createElement("br",null),k&&p.default.createElement(_.default,{className:"button primary desktop-save-button",onClick:a._onSaveClick},"Save"));return p.default.createElement("div",{className:C,key:"downPaymentSection"},p.default.createElement("div",{className:"header clickable",onClick:a._expandableOnChange},p.default.createElement("span",{className:T},a.state.shouldShowSaleProceedsDialog?ge:he),a.state.shouldShowSaleProceedsDialog?null:p.default.createElement(A.default,{className:I?"":"expandArrow"})),p.default.createElement(m.CSSTransitionGroup,{transitionName:"downpaymentFade",transitionEnter:!0,transitionEnterTimeout:pe,transitionLeave:!0,transitionLeaveTimeout:pe},I&&R))}),(0,d.default)((0,s.default)(a),"_renderSecondaryInputsRows",function(e,t,n,r){var o=(0,j.getCurrentCountryCode)()===g_countryCode.CANADA?"Maintenance Fee":"HOA Dues",i=V.default.shouldShowMortgageInsurance(a.props.downPayment.percentage),s="desktop"!==(0,K.getCurrentDeviceType)(),l=p.default.createElement(E.default,{label:"Property Taxes",ariaLabel:"Property Taxes Slider",testName:"mc-propertyTaxes",definitionProps:e.propertyTax,name:a.props.propertyTaxStoreName,value:U.default.formatToPrecision(a.props.propertyTaxStore.value),percent:U.default.formatToPrecision(a.props.propertyTaxStore.percent,2),denominator:t,type:"currency",alwaysShowInput:!0,sublabel:"/ year",onTextBlur:a._propertyTaxOnTextBlur,onPercentBlur:a._propertyTaxOnPercentBlur}),u=p.default.createElement(h.default,{label:o,dataAttrs:{"data-rf-test-id":"mc-hoaDues"},definitionProps:e.hoaDues,value:U.default.formatToPrecision(a.props.monthlyHoaDues),onBlur:a._monthlyHOADuesOnBlur,onKeyDown:U.default.onKeyDown,type:"currency",sublabel:"/ month"}),c=p.default.createElement(h.default,{label:"Interest Rate",dataAttrs:{"data-rf-test-id":"mc-interestRate"},definitionProps:e.interestRate,value:U.default.formatToPrecision(a.props.interestRate,3),type:"percent",feedback:a.props.interestRate>=100||a.props.interestRate<=0?{type:"warning",text:"We can help calculate rates between 0% and 100%"}:null,onBlur:a._interestRateOnBlur,onKeyDown:U.default.onKeyDown}),d=p.default.createElement(E.default,{label:"Homeowners' Insurance",ariaLabel:"Homeowners' Insurance Slider",testName:"mc-homeOwnersInsurance",definitionProps:e.homeInsurance,name:a.props.homeInsuranceStoreName,className:"homeownersInsurance",value:U.default.formatToPrecision(a.props.homeInsuranceStore.value),percent:U.default.formatToPrecision(a.props.homeInsuranceStore.percent,2),denominator:n,type:"currency",alwaysShowInput:!0,sublabel:"/ month",onTextBlur:a._homeInsuranceOnTextBlur,onPercentBlur:a._homeInsuranceOnPercentBlur}),f=i&&p.default.createElement(E.default,{label:"Mortgage Insurance",ariaLabel:"Mortgage Insurance Slider",testName:"mc-mortgageInsurance",definitionProps:e.mortgageInsurance,name:a.props.mortgageInsuranceStoreName,value:U.default.formatToPrecision(a.props.mortgageInsuranceStore.value),percent:U.default.formatToPrecision(a.props.mortgageInsuranceStore.percent,2),denominator:r,type:"currency",alwaysShowInput:!0,sublabel:"/ month",onTextBlur:a._mortgageInsuranceOnTextBlur,onPercentBlur:a._mortgageInsuranceOnPercentBlur});return s?p.default.createElement("div",{className:"SecondaryInputsRow dot-row"},l,d,a._getMaticLink(),u,f,c):p.default.createElement("div",{className:"SecondaryInputsRow dot-row"},l,u,f,d,c,i&&a._getMaticLink(!1))}),(0,d.default)((0,s.default)(a),"_renderLoanTypeRow",function(){var e=a.props,t=e.inline,n=e.inBankrateVariant;if((0,j.getCurrentCountryCode)()!==g_countryCode.UNITED_STATES||t&&!n)return null;var o=a.props,i=o.mortgageLenders,s=o.isFetchingMortgageLenders,l=o.selectedMortgageLenderIndex,u=o.userSessionId,c=o.creditScore,d=o.resetButton,f=o.adsDisclaimer,m=o.loanType,h=o.platform,g=o.globalSliderIndex,_=o.transactionId,v=o.lendersCount,y=o.demandChannel,E=o.showOutageGhostTown,S=o.downPayment,I=o.listingPrice,T={loanTypeField:null,isFetchingMortgageLenders:s,mortgageLenders:i,selectedMortgageLenderIndex:l,userSessionId:u,globalSliderIndex:g,creditScore:c,resetButton:d,adsDisclaimer:f,loanTypeValue:m,inline:t,platform:h,inBankrateVariant:n,transactionId:_,lendersCount:v,demandChannel:y,showOutageGhostTown:E,downPayment:S,listingPrice:I},C="desktop"===(0,K.getCurrentDeviceType)(),b="tablet"===(0,K.getCurrentDeviceType)(),O=(0,W.default)({separator:!0,mcRevampVariantSeparator:!0});return t&&n&&!C&&!b?p.default.createElement("div",{className:"MortgageCalculatorLandingLendersRow"},p.default.createElement("hr",{className:O}),!E&&p.default.createElement("span",{className:"font-size-base"},"Today's rates from our advertiser"),p.default.createElement(R.default,{isFetchingMortgageLenders:s,mortgageLenders:i,selectedMortgageLenderIndex:l,userSessionId:u,globalSliderIndex:g,inline:t,inBankrateVariant:n,transactionId:_,lendersCount:v,demandChannel:y,showOutageGhostTown:E,downPayment:S,listingPrice:I})):t&&n&&C?p.default.createElement(k.default,(0,r.default)({addCollapsible:!1},T)):p.default.createElement(k.default,T)}),(0,d.default)((0,s.default)(a),"getDefinitionFlyoutProps",function(){var e=G.formDefinitions.propertyTaxDefinition;a.props.defaults.stateId===ce&&a.props.defaults.countyName&&a.props.defaults.propertyTaxRate&&(e="The median property tax rate in "+a.props.defaults.countyName+" is approximately "+(0,q.formatNumber)(a.props.defaults.propertyTaxRate,2)+"%. Your actual rate may vary.\nThis tax is a percentage of a home’s assessed value and varies by area. Homeowners pay this tax annually, semi-annually, or as part of a monthly mortgage payment.");var t=le({propertyTax:(0,G.getFormFieldDefinitionProps)(e),homeInsurance:(0,G.getFormFieldDefinitionProps)(G.formDefinitions.homeInsuranceDefinitionFormatter(a.props.defaults.stateName,a.props.defaults.homeInsuranceRate)),interestRate:(0,G.getFormFieldDefinitionProps)(G.formDefinitions.interestRateDefinition)},G.formDefinitions),n=a.props.defaults.mortgageRatesPageLinkText,r=a.props,o=r.mortgageRatesPageLink,i=r.bankrateDisclaimerText,s="";return s=i?p.default.createElement(p.default.Fragment,null,p.default.createElement("p",null,t.interestRate.definition),p.default.createElement("br",null),p.default.createElement("p",null,i),p.default.createElement("br",null),p.default.createElement("a",{onClick:function(){return a.props.onRevampVariantFALButtonClick&&a.props.onRevampVariantFALButtonClick()}},"View all rates")):p.default.createElement(p.default.Fragment,null,p.default.createElement("p",null,t.interestRate.definition),p.default.createElement("br",null),p.default.createElement("a",{onClick:function(){return a.props.onRevampVariantFALButtonClick&&a.props.onRevampVariantFALButtonClick()}},"View all rates")),(0,f.default)(t.interestRate,{definition:s}),n&&o&&(0,f.default)(t.interestRate,{definitionLink:o,moreInfoText:n,openLinkInNewTab:!1,onClickDefinitionLink:function(){return ne.default.trackClick(ne.default.clicks.CUSTOMIZE_CALCS_INTEREST_FLYOUT_RATES_LINK)}}),t}),(0,d.default)((0,s.default)(a),"_homePriceOnTextBlur",function(){a.props.inline?ne.default.trackClick(ne.default.clicks.INLINE_HOME_PRICE_EDIT):ne.default.trackClick(ne.default.clicks.HOME_PRICE_EDIT,{platform:a.props.platform})}),(0,d.default)((0,s.default)(a),"_homePriceOnSliderMouseUp",function(){a.props.inline?ne.default.trackClick(ne.default.clicks.INLINE_HOME_PRICE_SLIDER):ne.default.trackClick(ne.default.clicks.HOME_PRICE_SLIDER,{platform:a.props.platform})}),(0,d.default)((0,s.default)(a),"_handleOpenSellsideFlyout",function(){var e=a.props,t=e.isEligibleForSellsideFlyoutExperiment,n=e.isSellsideFlyoutVariant;t&&(ae.default.trackImpression(ae.default.impressions.SELLING_FLYOUT_TEST),n&&H.default.openSellsideFlyout(a.props.inline))}),(0,d.default)((0,s.default)(a),"_downPaymentOnTextInteraction",function(){ne.default.trackClick(ne.default.clicks.DOWN_PAYMENT_ABSOLUTE_EDIT_VARIANT,{platform:a.props.platform})}),(0,d.default)((0,s.default)(a),"_downPaymentOnPercentInteraction",function(){ne.default.trackClick(ne.default.clicks.DOWN_PAYMENT_PERCENTAGE_EDIT_VARIANT,{platform:a.props.platform})}),(0,d.default)((0,s.default)(a),"_downPaymentOnSliderMouseUp",function(){a._handleOpenSellsideFlyout(),a.props.inline?ne.default.trackClick(ne.default.clicks.INLINE_DOWN_PAYMENT_SLIDER):ne.default.trackClick(ne.default.clicks.DOWN_PAYMENT_SLIDER,{platform:a.props.platform});var e=U.default.formatToPrecision(a.props.listingPrice),t=U.default.formatToPrecision(ve(e));a.props.addressInfo&&a.props.addressInfo.countryCode===g_countryCode.CANADA.id&&a.props.userDefined.downPaymentPercentage<=t?a.setState({showCADownpaymentWarning:!0}):a.setState({showCADownpaymentWarning:!1})}),(0,d.default)((0,s.default)(a),"_propertyTaxOnTextBlur",function(){var e=ne.default.clicks.PROPERTY_TAX_EDIT_REVAMP_VARIANT;ne.default.trackClick(e,{platform:a.props.platform})}),(0,d.default)((0,s.default)(a),"_propertyTaxOnPercentBlur",function(){var e=ne.default.clicks.PROPERTY_TAX_PERCENTAGE_EDIT_REVAMP_VARIANT;ne.default.trackClick(e,{platform:a.props.platform,percentage:a.props.propertyTax.rate,county:a.props.defaults.countyId})}),(0,d.default)((0,s.default)(a),"_homePriceOnChange",function(e){a._homeSalePriceOnTextBlur(null,e)}),(0,d.default)((0,s.default)(a),"_loanTypeOnChangeRadio",function(e){a._loanTypeOnChange(e,e.value)}),(0,d.default)((0,s.default)(a),"_loanTypeOnChange",function(e,t){var n=a._parseInt(t),r=function(e){a.props.inline?ne.default.trackClick(ne.default.clicks.INLINE_LOAN_TYPE_EDIT,{loan_type:e}):ne.default.trackClick(ne.default.clicks.LOAN_TYPE_EDIT,{platform:a.props.platform,loan_type:e})};switch(n){case g_mortgageTerms.THIRTY_YEAR_FIXED:r(z.default.F_30_YR.id);break;case g_mortgageTerms.FIFTEEN_YEAR_FIXED:r(z.default.F_15_YR.id);break;case g_mortgageTerms.FIVE_ONE_ARM:r(z.default.ARM_5_1.id)}H.default.updateLoanType(n)}),(0,d.default)((0,s.default)(a),"_sellingFeeOnChange",function(e,t){a.props.inline?ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_INLINE_SELLING_FEE,{has_claimed_home:a._hasClaimedHome()}):ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_MODAL_SELLING_FEE,{has_claimed_home:a._hasClaimedHome()}),H.default.updateSellingFee(t)}),(0,d.default)((0,s.default)(a),"_expandableOnChange",function(){var e=a.props,t=e.inline,n=e.isInlineDownPaymentExpanded,r=e.isModalDownPaymentExpanded;t&&n?ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_INLINE_COLLAPSE):t&&!n?ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_INLINE_EXPAND):!t&&r?ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_MODAL_COLLAPSE):!t&&t&&r&&ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_MODAL_EXPAND),H.default.toggleExpandableDownPayment(t)}),(0,d.default)((0,s.default)(a),"_interestRateTextOnBlur",function(){a.interestRateTextSliderRef&&a.interestRateTextSliderRef.current.refs.textInput.lastValue&&a._updateInterestRate(a._parseFloat(a.interestRateTextSliderRef.current.refs.textInput.lastValue))}),(0,d.default)((0,s.default)(a),"_interestRateSliderOnBlur",function(){a.interestRateTextSliderRef&&a.interestRateTextSliderRef.current.state.valueToDisplay&&a._updateInterestRate(a.interestRateTextSliderRef.current.state.valueToDisplay)}),(0,d.default)((0,s.default)(a),"_interestRateOnBlur",function(e,t){ne.default.trackClick(ne.default.clicks.INTEREST_RATE_EDIT,{platform:a.props.platform});var n=a._parseFloat(t);a._updateInterestRate(n)}),(0,d.default)((0,s.default)(a),"_updateInterestRate",function(e){e<0?H.default.updateInterestRate(0):e>100?H.default.updateInterestRate(100):H.default.updateInterestRate(e)}),(0,d.default)((0,s.default)(a),"_monthlyHOADuesOnBlur",function(e,t){var n=ne.default.clicks.HOA_EDIT_REVAMP_VARIANT;ne.default.trackClick(n,{platform:a.props.platform}),H.default.updateMonthlyHoaDues(a._parseInt(t))}),(0,d.default)((0,s.default)(a),"_homeInsuranceOnTextBlur",function(){ne.default.trackClick(ne.default.clicks.HOME_INSURANCE_ABSOLUTE_EDIT,{platform:a.props.platform})}),(0,d.default)((0,s.default)(a),"_homeInsuranceOnPercentBlur",function(){var e=ne.default.clicks.HOME_INSURANCE_PERCENTAGE_EDIT_REVAMP;ne.default.trackClick(e,{platform:a.props.platform,percentage:a.props.homeInsurance.rate,state:a.props.defaults.stateId})}),(0,d.default)((0,s.default)(a),"_mortgageInsuranceOnTextBlur",function(){var e=ne.default.clicks.MORTGAGE_INSURANCE_ABSOLUTE_EDIT_VARIANT;ne.default.trackClick(e,{platform:a.props.platform})}),(0,d.default)((0,s.default)(a),"_mortgageInsuranceOnPercentBlur",function(){var e=ne.default.clicks.MORTGAGE_INSURANCE_PERCENTAGE_EDIT_VARIANT;ne.default.trackClick(e,{platform:a.props.platform,percentage:a.props.mortgageInsurance.rate})}),(0,d.default)((0,s.default)(a),"_homeSalePriceOnTextBlur",function(e,t){a.props.inline?ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_INLINE_HOME_SALE_PRICE,{has_claimed_home:a._hasClaimedHome()}):ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_MODAL_HOME_SALE_PRICE,{has_claimed_home:a._hasClaimedHome()}),H.default.updateHomeSalePrice(a._parseInt(t))}),(0,d.default)((0,s.default)(a),"_outstandingMortgageOnTextBlur",function(e,t){a.props.inline?ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_INLINE_OUTSTANDING_MORTGAGE,{has_claimed_home:a._hasClaimedHome()}):ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_MODAL_OUTSTANDING_MORTGAGE,{has_claimed_home:a._hasClaimedHome()}),H.default.updateOutstandingMortgage(a._parseInt(t))}),(0,d.default)((0,s.default)(a),"_otherCostsOnBlur",function(e,t){a.props.inline?ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_INLINE_OTHER_COSTS,{has_claimed_home:a._hasClaimedHome()}):ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_MODAL_OTHER_COSTS,{has_claimed_home:a._hasClaimedHome()}),H.default.updateOtherCosts(a._parseInt(t))}),(0,d.default)((0,s.default)(a),"_addressOnSearch",function(e){if(a.props.inline?ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_INLINE_SEARCH_SUBMITTED,{has_claimed_home:a._hasClaimedHome()}):ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_MODAL_SEARCH_SUBMITTED,{has_claimed_home:a._hasClaimedHome()}),e)if(e.id.split("_").length>1){var t=e.id.split("_")[1];H.default.updateAddress(t,e.name)}else console.error("Invalid property address unified search id")}),(0,d.default)((0,s.default)(a),"_addressInfoOnShowDefinition",function(){a.props.inline?ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_INLINE_ADDRESS_INFO):ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_MODAL_ADDRESS_INFO)}),(0,d.default)((0,s.default)(a),"_otherCostsInfoOnShowDefinition",function(){a.props.inline?ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_INLINE_OTHER_COSTS_INFO):ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_MODAL_OTHER_COSTS_INFO)}),(0,d.default)((0,s.default)(a),"_sellingFeeDisclaimerOnShowDefinition",function(){a.props.inline?ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_INLINE_SELLING_FEE_DISCLAIMER):ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_MODAL_SELLING_FEE_DISCLAIMER)}),(0,d.default)((0,s.default)(a),"_whySellCTAOnClick",function(){a.props.inline?ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_INLINE_EXPLORE_SELLING,{has_claimed_home:a._hasClaimedHome()}):ne.default.trackClick(ne.default.clicks.HOME_SALE_PRICE_CALC_MODAL_EXPLORE_SELLING,{has_claimed_home:a._hasClaimedHome()})}),(0,d.default)((0,s.default)(a),"_getMaticLink",function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return p.default.createElement("div",{className:e?"full-row-matic-link":"column-matic-link",ref:function(e){return a.maticNode=e}},Se,p.default.createElement("a",{href:Ie,target:"_blank",rel:"noopener",onClick:a._maticOnClick},Te))}),(0,d.default)((0,s.default)(a),"_maticImpression",function(){ne.default.trackImpression(ne.default.impressions.COMPARE_INSURANCE_RATES_LINK,{platform:a.props.platform})}),(0,d.default)((0,s.default)(a),"_maticOnClick",function(){ne.default.trackClick(ne.default.clicks.COMPARE_INSURANCE_RATES_LINK,{platform:a.props.platform})}),(0,d.default)((0,s.default)(a),"_parseInt",function(e){return parseInt(e,10)||0}),(0,d.default)((0,s.default)(a),"_parseFloat",function(e){return parseFloat(e)}),(0,d.default)((0,s.default)(a),"_hasClaimedHome",function(){return!(!a.props.claimedHomeInfo||!a.props.claimedHomeInfo.propertyId)}),a.state={showCADownpaymentWarning:!1,hasMarkedAsOwnsHome:a._hasClaimedHome(),flyoutHeight:0},a._homeSalePriceOnTextBlur.bind((0,s.default)(a)),a._outstandingMortgageOnTextBlur.bind((0,s.default)(a)),a._otherCostsOnBlur.bind((0,s.default)(a)),a._sellingFeeOnChange.bind((0,s.default)(a)),a._addressOnSearch.bind((0,s.default)(a)),a._addressInfoOnShowDefinition.bind((0,s.default)(a)),a._otherCostsInfoOnShowDefinition.bind((0,s.default)(a)),a._expandableOnChange.bind((0,s.default)(a)),a._sellingFeeDisclaimerOnShowDefinition.bind((0,s.default)(a)),a._onAdvancedOptionsButtonClick=a._onAdvancedOptionsButtonClick.bind((0,s.default)(a)),a._onOwnHomeChange=a._onOwnHomeChange.bind((0,s.default)(a)),a._onCalculateSaleProceedsClick=a._onCalculateSaleProceedsClick.bind((0,s.default)(a)),a._onCalculateSaleProceedsClose=a._onCalculateSaleProceedsClose.bind((0,s.default)(a)),a._onHomeEquityCalculatorDialogClose=a._onHomeEquityCalculatorDialogClose.bind((0,s.default)(a)),a._onSaveClick=a._onSaveClick.bind((0,s.default)(a)),a._homePriceOnChange=a._homePriceOnChange.bind((0,s.default)(a)),a.desktopFormFlyoutRef=p.default.createRef(),a.revampedMortgagePanelRef=p.default.createRef(),a.interestRateTextSliderRef=p.default.createRef(),a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){if(this.props.inline||(0,Y.trackNode)({domNode:this.maticNode,nodeId:"compareInsuranceRatesLink",onEnterViewCallback:this._maticImpression,bufferValue:0,canOverrideExistingEntry:!0}),H.default.MCFormDidMount(this.principleAndInterestDomNode,this.props.inline),this._hasClaimedHome()&&this._onOwnHomeChange({value:!0}),!this._inPaymentCalcCollapseVariant()){var e="phone"===(0,K.getCurrentDeviceType)();this._shouldExpandDownPaymentPanelOnDesktop()&&!e?this._onCustomPanelClick(ye.DOWN_PAYMENT,!0):e||this._onCustomPanelClick(ye.HOME_PRICE)}}},{key:"componentDidUpdate",value:function(e){var t=this;Ce.some(function(n){return t.props[n]!==e[n]})&&this._handleFlyoutHeightChange()}},{key:"render",value:function(){if(!this.props.defaults)return null;var e=this.getDefinitionFlyoutProps(),t=this.props,n=t.listingPrice,a=t.inline,r="desktop"===(0,K.getCurrentDeviceType)(),o=!a&&r&&!V.default.shouldShowMortgageInsurance(this.props.downPayment.percentage),i=U.default.formatToPrecision(n),s=n/12,l=(n-this.props.downPayment.amount)/12,u=-1!==[ye.INTEREST_RATE,ye.LOAN_DETAILS].indexOf(this.state.customPanelFieldToShow),c=this._inSaleProceedsPaymentCalcRevampVariant();return p.default.createElement("div",{className:"MortgageCalculatorForm","data-rf-test-name":"mc-form"},!a&&this._renderSecondaryInputsRows(e,i,s,l),o&&this._getMaticLink(),this._renderMCRevampFields(i,e),u&&this._renderLoanTypeRow(),this.state.shouldShowSaleProceedsDialog&&this._renderSaleProceedsDialog(e),!!c&&this.state.shouldShowHomeEquityCalculatorDialog&&this._renderHomeEquityCalculatorDialog())}},{key:"_renderPanels",value:function(e){return this._inSaleProceedsPaymentCalcRevampVariant()?this._renderUpdatedPanels(e):this._renderOriginalPanels(e)}},{key:"_renderOriginalPanels",value:function(e){var t=!("phone"===(0,K.getCurrentDeviceType)())&&p.default.createElement("hr",{className:"mc-customize-panel-divider"}),n=this.state.customPanelFieldToShow===ye.HOME_PRICE,a=this.state.customPanelFieldToShow===ye.DOWN_PAYMENT||this.state.customPanelFieldToShow===ye.LOAN_TYPE,r=this.state.customPanelFieldToShow===ye.LOAN_TYPE,o=this.state.customPanelFieldToShow===ye.INTEREST_RATE||this.state.customPanelFieldToShow===ye.CUSTOMIZE_CALCULATIONS;return p.default.createElement(p.default.Fragment,null,this._renderHomePricePanel({flyoutContents:e,isLeftPanel:!0,adjustLeftOnDesktop:!0,shortBox:!0}),!n&&t,this._renderDownPaymentPanel({flyoutContents:e,adjustLeftOnDesktop:!0,longBox:!0}),!a&&t,this._renderLoanTypePanel({flyoutContents:e,isLeftPanel:!0,adjustArrow:!0}),!r&&t,this._renderInterestRatePanel({flyoutContents:e,adjustArrow:!0}),!o&&t)}},{key:"_renderUpdatedPanels",value:function(e){var t=!("phone"===(0,K.getCurrentDeviceType)())&&p.default.createElement("hr",{className:"mc-customize-panel-divider"}),n=this.state.customPanelFieldToShow===ye.DOWN_PAYMENT,a=this.state.customPanelFieldToShow===ye.HOME_PRICE,r=this.state.customPanelFieldToShow===ye.LOAN_DETAILS;return p.default.createElement(p.default.Fragment,null,this._renderDownPaymentPanel({flyoutContents:e,isLeftPanel:!0,adjustLeftOnDesktop:!0,fullWidthOnMobile:!0,longerBox:!0,tallOnTinyScreens:!0}),!n&&t,this._renderHomePricePanel({flyoutContents:e,isLeftPanel:!0,adjustLeftOnDesktop:!0,longerBox:!0}),!a&&t,this._renderLoanDetailsPanel({flyoutContents:e,adjustArrow:!0,longerBox:!0}),!r&&t)}},{key:"_renderHomePricePanel",value:function(e){return this._renderCustomizePanel(le({title:"Home Price",value:"".concat((0,q.formatPrice)(this.props.homePriceStore.value)),fieldId:ye.HOME_PRICE,isSelected:this.state.customPanelFieldToShow===ye.HOME_PRICE},e))}},{key:"_renderDownPaymentPanel",value:function(e){var t,n,a,r=this.props.listingPrice,o="phone"===(0,K.getCurrentDeviceType)();if(this._inSaleProceedsPaymentCalcRevampVariant()){var i=V.default.calculateDownPayment(this.props.downPaymentStore.percent,r),s=this.props.homeEquityStore.value||0;if(t="".concat(U.default.formatToPrecision((i+s)/r*100,0),"%"),n="(".concat((0,q.formatPrice)(i+s,0,"$"),")"),o){var l="".concat(U.default.formatToPrecision(this.props.downPaymentStore.percent,0),"%"),u="".concat(U.default.formatToPrecision(s/r*100,0),"%");a="".concat(l," (Cash) + ").concat(u," (Your home equity)")}else a="".concat(t," ").concat(n)}else t="".concat(U.default.formatToPrecision(this.props.downPaymentStore.percent,1),"%"),n="(".concat((0,q.formatPrice)(this.props.downPaymentStore.value,0,"$"),")"),a=o?t:"".concat(t," ").concat(n);return this._renderCustomizePanel(le({title:"Down Payment",value:a,fieldId:ye.DOWN_PAYMENT,isSelected:this.state.customPanelFieldToShow===ye.DOWN_PAYMENT},e))}},{key:"_renderLoanTypePanel",value:function(e){var t=this,n=Ee.filter(function(e){return e.value===t.props.loanType}),a=!!(0,X.isBrowser)()&&!!n&&!!n.length&&n[0].label;return this._renderCustomizePanel(le({title:"Loan Type",value:a,fieldId:ye.LOAN_TYPE,isSelected:this.state.customPanelFieldToShow===ye.LOAN_TYPE},e))}},{key:"_renderInterestRatePanel",value:function(e){return this._renderCustomizePanel(le({title:"Interest Rate",value:"".concat(this.props.interestRate," %"),fieldId:ye.INTEREST_RATE,isSelected:this.state.customPanelFieldToShow===ye.INTEREST_RATE},e))}},{key:"_renderLoanDetailsPanel",value:function(e){var t=this,n=Ee.filter(function(e){return e.value===t.props.loanType}),a=!!(0,X.isBrowser)()&&!!n&&!!n.length&&(0,G.getShortLoanTypeLabel)(n[0].value),r=a?"".concat(a,", ").concat(this.props.interestRate,"%"):"".concat(this.props.interestRate,"%");return this._renderCustomizePanel(le({title:"Loan Details",value:r,fieldId:ye.LOAN_DETAILS,isSelected:this.state.customPanelFieldToShow===ye.LOAN_DETAILS},e))}},{key:"_onAdvancedOptionsButtonClick",value:function(){this._onCustomPanelClick(ye.CUSTOMIZE_CALCULATIONS)}},{key:"_renderCustomPanelField",value:function(e,t){if(this.state.customPanelFieldToShow)return this.state.customPanelFieldToShow===ye.LOAN_DETAILS?this._renderLoanDetailsPanelField(e,t):this._renderStandardCustomPanelField(e,t)}},{key:"_renderLoanDetailsPanelField",value:function(e,t){var n=this;return p.default.createElement("div",{className:"mc-customize-panel-field"},this._renderCustomizePanelInnerContent({title:ye.INTEREST_RATE.title,renderField:function(e){var t=e.definitionFlyoutProps;return n._renderInterestRateField(t)},listingPrice:e,definitionFlyoutProps:t,infoDialogContent:this._renderAppropriateInfoDialogContent(ye.INTEREST_RATE,t),infoDialogKey:ye.INTEREST_RATE.id}),this._renderCustomizePanelInnerContent({title:ye.LOAN_TYPE.title,renderField:function(){return n._renderLoanTypeRadioField()},listingPrice:e,definitionFlyoutProps:t,infoDialogContent:this._renderAppropriateInfoDialogContent(ye.LOAN_TYPE),infoDialogKey:ye.LOAN_TYPE.id,showCloseButton:!1}),p.default.createElement("hr",{className:"separator"}),this._renderAppropriateAuxiliaryContent())}},{key:"_renderStandardCustomPanelField",value:function(e,t){var n=this.state.customPanelFieldToShow&&this.state.customPanelFieldToShow.title,a=this._renderAppropriateInfoDialogContent(this.state.customPanelFieldToShow);return p.default.createElement("div",{className:"mc-customize-panel-field"},this._renderCustomizePanelInnerContent({title:n,listingPrice:e,definitionFlyoutProps:t,infoDialogContent:a}),p.default.createElement("hr",{className:"separator"}),this._renderAppropriateAuxiliaryContent())}},{key:"_renderCustomizePanelInnerContent",value:function(e){var t=this,n=e.title,a=e.renderField,o=e.listingPrice,i=e.definitionFlyoutProps,s=e.infoDialogContent,l=e.infoDialogKey,u=e.showCloseButton,c=void 0===u||u,f=null!=s,m="phone"===(0,K.getCurrentDeviceType)(),h=f&&m,g=f&&!m,_={position:"right",alignment:"center",definition:s},v="showInfoDialog__".concat(l||"common");return p.default.createElement("div",{className:"mc-customize-panel-field-inner-content"},p.default.createElement("div",{className:"title-row"},p.default.createElement("span",{className:"title"},n,!!h&&p.default.createElement(M.default,{onClick:function(){return t.setState((0,d.default)({},v,!0))}}),!!g&&p.default.createElement(S.default,(0,r.default)({infoIcon:!0},_))),c&&p.default.createElement(L.default,{onClick:function(){return t._onCustomPanelClose()}})),a&&a({listingPrice:o,definitionFlyoutProps:i}),!a&&this._renderAppropriateCustomizeField(!0,o,i),this.state[v]&&p.default.createElement(I.default,{close:function(){return t.setState((0,d.default)({},v,!1))},showCloseButton:!1},s))}},{key:"_renderAppropriateInfoDialogContent",value:function(e,t){var n=p.default.createElement("p",null,"A fixed-rate loan such as a 30-year fixed has a set interest rate for the entire duration of the loan. An adjustable-rate mortgage (ARM), such as a 5/1 ARM, typically has a lower set interest rate for the first 5 years and then switches to an adjustable interest rate for the following 25 years."),a="";switch(t&&t.interestRate&&(a=t.interestRate.definition),e){case ye.LOAN_TYPE:return n;case ye.INTEREST_RATE:return a;default:return null}}},{key:"_renderAppropriateCustomizeField",value:function(e,t,n){switch(this.state.customPanelFieldToShow){case ye.HOME_PRICE:return this._renderHomeValueField(e);case ye.DOWN_PAYMENT:return this._renderDownPaymentField(t,n);case ye.LOAN_TYPE:return this._renderLoanTypeRadioField();case ye.INTEREST_RATE:return this._renderInterestRateField(n);case ye.CUSTOMIZE_CALCULATIONS:return this._renderCustomizeCalculationsFields(t,n);default:return null}}},{key:"_renderHomeValueField",value:function(e){var t=this,n=this.props.inline||"desktop"!==(0,K.getCurrentDeviceType)(),a=e?"PrimaryInputRow":"PrimaryInputRow dot-row";return p.default.createElement("div",{className:a,ref:function(e){return t.principleAndInterestDomNode=e}},p.default.createElement(E.default,{name:this.props.homePriceStoreName,testName:"mc-homePrice",value:this.props.homePriceStore.value,label:e?null:"Home Price",ariaLabel:"Home Price Slider",type:"currency",autoFocus:!0,sliderProps:n?{minValue:this.props.mortgageCalculatorPriceRange.minPrice,maxValue:this.props.mortgageCalculatorPriceRange.maxPrice,sliderIncrement:1e3,slideOnPercent:!1,useCommonSlider:!0}:void 0,alwaysShowInput:!0,onTextBlur:this._homePriceOnTextBlur,onSliderMouseUp:this._homePriceOnSliderMouseUp,notifyStoreOnChange:!0}))}},{key:"_renderDownPaymentField",value:function(e,t){var n=this.props.addressInfo&&this.props.addressInfo.countryCode===g_countryCode.CANADA.id,a=U.default.formatToPrecision(ve(e)),o=n?a:0,i=n&&this.state.showCADownpaymentWarning?"".concat(a).concat("% Down Payment Required"):null,s=this.props.inline||"desktop"!==(0,K.getCurrentDeviceType)(),l=this._inSaleProceedsPaymentCalcRevampVariant(),u=l?{label:"Cash",definitionProps:{definition:"This is the money you've saved in available assets, including savings, brokerage accounts, etc.",position:"right",alignment:"center",onClickDefinitionLink:function(){ne.default.trackClick(ne.default.clicks.CASH_INFO_ICON_DISCLAIMER)}}}:{},c=!l||!this.props.hasSavedHomeEquity;return p.default.createElement("div",{className:"PrimaryInputRow"},c&&p.default.createElement(E.default,(0,r.default)({name:this.props.downPaymentStoreName,testName:"mc-downPayment",definitionProps:n?t.downPayment:void 0,value:U.default.formatToPrecision(this.props.downPaymentStore.value),percent:U.default.formatToPrecision(this.props.downPaymentStore.percent,1),autoFocus:!0,denominator:e,ariaLabel:"Down Payment Slider",type:"currency",sliderProps:s?{minValue:o,maxValue:100,sliderIncrement:1,slideOnPercent:!0,useCommonSlider:!0}:void 0,alwaysShowInput:!0,onTextFocus:this._downPaymentOnTextInteraction,onPercentFocus:this._downPaymentOnPercentInteraction,onSliderMouseUp:this._downPaymentOnSliderMouseUp,notifyStoreOnChange:!1,warningMessage:i},u)),this._renderHomeSalesProceedsContent(t,o,s,u))}},{key:"_renderHomeEquityField",value:function(e,t,n){var a=this;return p.default.createElement(p.default.Fragment,null,p.default.createElement(E.default,(0,r.default)({name:this.props.downPaymentStoreName,className:"margin-bottom-large",testName:"mc-downPaymentCash",value:this.props.downPaymentStore.value,ariaLabel:"Down Payment Slider",type:"currency",sliderProps:t?{minValue:e,maxValue:this.props.listingPrice,sliderIncrement:this.props.listingPrice/100,slideOnPercent:!1,useCommonSlider:!0}:void 0,alwaysShowInput:!0},n)),p.default.createElement("span",{className:"label home-equity-slider-label padding-bottom-smallest"},p.default.createElement(S.default,(0,r.default)({},{definition:"This is an estimate of how much you’d make based on your buying and selling plans",position:"right",alignment:"center"},{infoIcon:!0}),"Home Equity"),p.default.createElement(_.default,{className:"edit-home-equity-button text compact unpadded",onClick:function(){return a._onAddMyHomeEquityClick()}},"Edit")),this.props.maxHomeEquity>=0?p.default.createElement(E.default,{name:this.props.homeEquityStoreName,testName:"mc-homeEquity",value:this.props.homeEquityStore.value,ariaLabel:"Home Equity Slider",type:"currency",sliderProps:t?{minValue:0,maxValue:this.props.maxHomeEquity,sliderIncrement:1,slideOnPercent:!1,useCommonSlider:!0}:void 0,alwaysShowInput:!0,onSliderMouseUp:function(){ne.default.trackClick(ne.default.clicks.INLINE_HOME_EQUITY_SLIDER)},onTextFocus:function(){ne.default.trackClick(ne.default.clicks.INLINE_HOME_EQUITY_FIELD_BOX)}}):p.default.createElement(h.default,{value:this.props.homeEquityStore.value,ariaLabel:"Home Equity",type:"currency",disabled:!0,onFocus:function(){ne.default.trackClick(ne.default.clicks.INLINE_HOME_EQUITY_FIELD_BOX)}}))}},{key:"_renderHomeSalesProceedsContent",value:function(e,t,n,a){return this._inSaleProceedsPaymentCalcRevampVariant()?this._renderUpdatedHomeSalesProceedsContent(t,n,a):this._renderOriginalHomeSalesProceedsContent(e)}},{key:"_renderUpdatedHomeSalesProceedsContent",value:function(e,t,n){var a=this,r=this.props.downPaymentStore.value,o=this.props.homeEquityStore.value||0,i=r+o,s=i/this.props.listingPrice*100,l="".concat(U.default.formatToPrecision(s,0),"%"),u=(0,W.default)({"home-sales-proceeds-content":!0,"margin-top-large":!this.props.hasSavedHomeEquity}),c=this.props.address;return p.default.createElement("div",{className:u},this.props.hasSavedHomeEquity?this._renderHomeEquityField(e,t,n):p.default.createElement(p.default.Fragment,null,p.default.createElement("p",{className:"font-size-base margin-bottom-smaller"},c?p.default.createElement(p.default.Fragment,null,"Selling ",p.default.createElement("span",{className:"font-weight-bold"},c),"?"):"Have a home to sell?"),p.default.createElement(_.default,{className:"tertiary add-home-equity-button",onClick:function(){return a._onAddMyHomeEquityClick()}},"Add my home equity")),p.default.createElement("div",{className:"calculations-table table-styles-layout first-left margin-bottom-small"},p.default.createElement("div",null,p.default.createElement("div",null,"Cash"),p.default.createElement("div",null,(0,q.formatPrice)(r))),p.default.createElement("div",null,p.default.createElement("div",null,"Home Equity"),p.default.createElement("div",null,(0,q.formatPrice)(o)))),p.default.createElement("hr",{className:"separator"}),p.default.createElement("div",{className:"total-calculation margin-top-small"},p.default.createElement("div",{className:"label"},"Total Down:"),p.default.createElement("div",{className:"number font-size-medium font-weight-bold"},"".concat((0,q.formatPrice)(i)," (").concat(l,")"))),this.props.hasSavedHomeEquity&&p.default.createElement(p.default.Fragment,null,p.default.createElement(_.default,{className:"primary meet-with-redfin-agent-button",onClick:function(e){e.preventDefault(),ne.default.trackClick(ne.default.clicks.MEET_WITH_AGENT_CTA),re.default.flushRiftEvents(),window.location.href=a._getMeetWithRedfinAgentCta(a.props.meetWithRedfinAgentCtaType)}},"Meet with a Redfin Agent"),p.default.createElement("div",{className:"margin-top-medium font-size-smaller"},"Schedule a no obligation meeting to talk about Buying and Selling.")))}},{key:"_getMeetWithRedfinAgentCta",value:function(e){switch(e){case Z.HomeEquityCtaType.SCF_ADDRESS_PAGE:return"".concat(_e,"&buyingInterestPropertyId=").concat(this.props.propertyId);case Z.HomeEquityCtaType.AGENT_PROFILE_PAGE:return this.props.recommendedAgentProfileUrl||"/real-estate-agents";case Z.HomeEquityCtaType.SCF_PAGE:default:var t=g.default.stringify({propertyId:this.props.ownedHomePropertyId,inquirySource:$.default.id,buyingInterestPropertyId:this.props.propertyId,listingService:!0});return"/sell-a-home/seller-consultation?".concat(t)}}},{key:"_renderOriginalHomeSalesProceedsContent",value:function(e){var t,n=this,a=this.props.claimedHomeInfo&&this.props.claimedHomeInfo.streetAddress,r=this.props,o=r.homeSalePrice,i=r.outstandingMortgage,s=r.otherCosts,l=r.sellingFee,u=ke({homeSalePrice:o,outstandingMortgage:i,otherCosts:s,sellingFee:l}),c=(0,q.formatPrice)(Math.abs(u),0,"$");t=u<0?p.default.createElement(p.default.Fragment,null,"You'll need ",p.default.createElement("b",null,c)," to cover your selling costs."):p.default.createElement(p.default.Fragment,null,"You'll have ",p.default.createElement("b",null,c)," to contribute toward your down payment.");var d=this.state.showAlternateDownPaymentCalculatorTip?t:"Selling ".concat(a||"your current home"," can help you put more down on your dream home."),f=p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{className:"sell-your-home-text"},d),p.default.createElement(_.default,{className:"tertiary",onClick:function(){return n._onCalculateSaleProceedsClick(e)}},"Calculate Sale Proceeds"));return p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{className:"have-home-question"},p.default.createElement("div",{className:"have-home-question-text"},"Do you own a home?"),p.default.createElement(P.default,{stateLabels:"yes-no",value:this.state.hasMarkedAsOwnsHome,onChange:this._onOwnHomeChange})),!!this.state.hasMarkedAsOwnsHome&&f)}},{key:"_onOwnHomeChange",value:function(e){var t=this;this.setState({hasMarkedAsOwnsHome:e.value},function(){return t._handleFlyoutHeightChange()}),ne.default.trackClick(ne.default.clicks.DOWN_PAYMENT_TOGGLE_CLICK,{has_claimed_home:this._hasClaimedHome()})}},{key:"_renderSaleProceedsDialog",value:function(e){var t=this,n=(0,K.getCurrentDeviceType)(),a="MortgageCalculatorFormDialog ".concat(n),o=p.default.createElement(C.default,{title:this.props.addressInfo.street,actions:{DialogHeader:{whenCloseButtonClicked:this._onCalculateSaleProceedsClose}},rightExtension:p.default.createElement("div",(0,r.default)({className:"link font-weight-bold"},(0,N.isFunction)(this._onSaveClick)&&{onClick:this._onSaveClick}),"Save")}),i=this._renderDownPaymentSection(e);return"phone"!==(0,K.getCurrentDeviceType)()?p.default.createElement(I.default,{className:"home-sales-proceeds-dialog",title:"Home Sales Proceeds",onDialogDidFullyAppear:this._trackSaleProceedsRevampedModal,close:function(){return t._onCalculateSaleProceedsClose()}},i):p.default.createElement(T.default,{className:a,onBack:this._onCalculateSaleProceedsClose,hasFixedHeader:!0,renderHeader:function(){return o},renderContent:function(){return i},onDialogContainerMount:this._trackSaleProceedsRevampedModal})}},{key:"_renderHomeEquityCalculatorDialog",value:function(){var e=this.props.homeEquityCalculatorStore;return p.default.createElement(B.default,{homeEquityCalculatorStore:e,isMobile:"phone"===(0,K.getCurrentDeviceType)(),onCloseDialog:this._onHomeEquityCalculatorDialogClose})}},{key:"_trackSaleProceedsRevampedModal",value:function(){ne.default.trackImpression(ne.default.impressions.REVAMPED_SELLER_MODAL)}},{key:"_onCalculateSaleProceedsClick",value:function(){this.setState({shouldShowSaleProceedsDialog:!0}),ne.default.trackClick(ne.default.clicks.SALE_PROCEEDS_CLICK)}},{key:"_onCalculateSaleProceedsClose",value:function(){this.setState({shouldShowSaleProceedsDialog:!1})}},{key:"_onAddMyHomeEquityClick",value:function(){this.setState({shouldShowHomeEquityCalculatorDialog:!0}),this.props.hasSavedHomeEquity?ne.default.trackClick(ne.default.clicks.EDIT_HOME_EQUITY):ne.default.trackClick(ne.default.clicks.ADD_HOME_EQUITY)}},{key:"_onHomeEquityCalculatorDialogClose",value:function(){this.setState({shouldShowHomeEquityCalculatorDialog:!1})}},{key:"_onSaveClick",value:function(){H.default.saveUserInput(),this.setState({showAlternateDownPaymentCalculatorTip:!0,shouldShowSaleProceedsDialog:!1})}},{key:"_renderLoanTypeRadioField",value:function(){return p.default.createElement("div",{className:"PrimaryInputRow"},p.default.createElement(v.default,{value:this.props.loanType,options:Ee,onChange:this._loanTypeOnChangeRadio}))}},{key:"_renderInterestRateField",value:function(e){return p.default.createElement("div",{className:"PrimaryInputRow"},p.default.createElement(h.default,{dataAttrs:{"data-rf-test-id":"mc-interestRate"},definitionProps:e.interestRate,value:U.default.formatToPrecision(this.props.interestRate,3),type:"percent",feedback:this.props.interestRate>=100||this.props.interestRate<=0?{type:"warning",text:"We can help calculate rates between 0% and 100%"}:null,onBlur:this._interestRateOnBlur,onKeyDown:U.default.onKeyDown}))}},{key:"_renderCustomizeCalculationsFields",value:function(e,t){var n=e/12,a=(0,j.getCurrentCountryCode)()===g_countryCode.CANADA?"Maintenance Fee":"HOA Dues",r=V.default.shouldShowMortgageInsurance(this.props.downPayment.percentage),o=(e-this.props.downPayment.amount)/12,i=r&&p.default.createElement(E.default,{label:"Mortgage Insurance",ariaLabel:"Mortgage Insurance Slider",testName:"mc-mortgageInsurance",definitionProps:t.mortgageInsurance,name:this.props.mortgageInsuranceStoreName,value:U.default.formatToPrecision(this.props.mortgageInsuranceStore.value),percent:U.default.formatToPrecision(this.props.mortgageInsuranceStore.percent,2),denominator:o,type:"currency",alwaysShowInput:!0,sublabel:"/ month",onTextBlur:this._mortgageInsuranceOnTextBlur,onPercentBlur:this._mortgageInsuranceOnPercentBlur});return p.default.createElement("div",{className:"PrimaryInputRow"},p.default.createElement(E.default,{label:"Property Taxes",ariaLabel:"Property Taxes Slider",testName:"mc-propertyTaxes",definitionProps:t.propertyTax,name:this.props.propertyTaxStoreName,value:U.default.formatToPrecision(this.props.propertyTaxStore.value),percent:U.default.formatToPrecision(this.props.propertyTaxStore.percent,2),denominator:e,type:"currency",alwaysShowInput:!0,sublabel:"/ year",onTextBlur:this._propertyTaxOnTextBlur,onPercentBlur:this._propertyTaxOnPercentBlur}),this.props.isCoop&&p.default.createElement("div",{className:"Co-opDisclaimers"},p.default.createElement("p",{className:"Co-opAdvancedOptionsPropertyTaxDisclaimer"},"".concat((0,q.formatPrice)(this.props.coopEstimatedPropertyTaxRate*this.props.listingPrice,0,"$")+"/year estimated property tax may be included in HOA dues."))),p.default.createElement(h.default,{label:a,dataAttrs:{"data-rf-test-id":"mc-hoaDues"},definitionProps:t.hoaDues,value:U.default.formatToPrecision(this.props.monthlyHoaDues),onBlur:this._monthlyHOADuesOnBlur,onKeyDown:U.default.onKeyDown,type:"currency",sublabel:"/ month"}),p.default.createElement(E.default,{label:"Homeowners' Insurance",ariaLabel:"Homeowners' Insurance Slider",testName:"mc-homeOwnersInsurance",definitionProps:t.homeInsurance,name:this.props.homeInsuranceStoreName,className:"homeownersInsurance",value:U.default.formatToPrecision(this.props.homeInsuranceStore.value),percent:U.default.formatToPrecision(this.props.homeInsuranceStore.percent,2),denominator:n,type:"currency",alwaysShowInput:!0,sublabel:"/ month",onTextBlur:this._homeInsuranceOnTextBlur,onPercentBlur:this._homeInsuranceOnPercentBlur}),i)}},{key:"_renderAppropriateAuxiliaryContent",value:function(){var e;if(this.props.addressInfo.countryCode===g_countryCode.CANADA.id&&this.state.customPanelFieldToShow!==ye.CUSTOMIZE_CALCULATIONS)return null;switch(this.state.customPanelFieldToShow){case ye.HOME_PRICE:return p.default.createElement(F.default,{text:"Find out the main costs involved in a home purchase in our ",link:"/home-buying-guide/how-much-money-do-i-need",linkText:"Home Buying Guide.",clickRiftEvent:ne.default.clicks.HOME_PRICE_TIP_LINK});case ye.DOWN_PAYMENT:return ie.SUPPORTED_PROPERTY_TYPES.includes(null===(e=this.props.addressSectionInfo)||void 0===e?void 0:e.propertyType)?null:p.default.createElement(F.default,{text:"Down payment assistance programs may lower the up-front cost of buying. ",link:"/guides/down-payment-assistance-programs",linkText:"Learn more.",clickRiftEvent:ne.default.clicks.DOWN_PAYMENT_TIP_LINK});case ye.LOAN_TYPE:return p.default.createElement(F.default,{text:"Learn more about choosing the right loan for your situation in our ",link:"/guides/what-mortgage-is-right-for-me",linkText:"Home Buying Guide",clickRiftEvent:ne.default.clicks.LOAN_TYPE_TIP_LINK});case ye.INTEREST_RATE:case ye.LOAN_DETAILS:return p.default.createElement(F.default,{text:"Be ready to make an offer when you find the perfect home. ",link:"/guides/mortgage-pre-approval",linkText:"Learn more about pre-approval.",clickRiftEvent:ne.default.clicks.INTEREST_RATE_TIP_LINK});case ye.CUSTOMIZE_CALCULATIONS:return p.default.createElement(F.default,{text:Se,link:Ie,linkText:Te,clickRiftEvent:ne.default.clicks.ADVANCED_OPTIONS_TIP_LINK});default:return null}}},{key:"_renderCustomizePanel",value:function(e){var t=this,n=e.title,a=e.value,o=e.fieldId,i=e.isSelected,s=e.flyoutContents,l=e.isLeftPanel,u=void 0!==l&&l,c=e.adjustLeftOnDesktop,d=void 0!==c&&c,f=e.adjustRightOnDesktop,m=void 0!==f&&f,h=e.adjustArrow,g=void 0!==h&&h,_=e.fullWidthOnMobile,v=void 0!==_&&_,y=e.longBox,E=void 0!==y&&y,S=e.shortBox,I=void 0!==S&&S,T=e.longerBox,C=void 0!==T&&T,b=e.tallOnTinyScreens,k=void 0!==b&&b;if(this.state.customPanelFieldToShow&&"phone"===(0,K.getCurrentDeviceType)())return null;var R=(0,W.default)({"mc-customize-panel":!0,"flyout-parent":!0,"border-box":i,"long-box":E,"short-box":I,"longer-box":C,"full-width":v}),O=(0,W.default)({"form-field-flyout":!0,"left-adjust":d,"right-adjust":m,"arrow-adjust":g}),A=p.default.createElement(D.default,{className:O,ref:this.desktopFormFlyoutRef,position:"below"},s),P="phone"!==(0,K.getCurrentDeviceType)(),L=(0,W.default)({"mc-customize-panel-content":!0,"left-panel":u,"right-panel":!u,"tall-panel":k}),M=(0,W.default)({visible:this._inPaymentCalcCollapseVariant()});return p.default.createElement("div",{className:R},p.default.createElement("div",(0,r.default)({className:"mc-customize-panel-content-wrapper"},(0,N.isFunction)(this._onCustomPanelClick)&&{onClick:function(){return t._onCustomPanelClick(o)}}),p.default.createElement("div",{className:L},p.default.createElement("div",{className:"panel-title"},n),p.default.createElement("div",{className:"panel-value"},a,"   ",p.default.createElement(w.default,{className:M})))),i&&P&&A)}},{key:"_onCustomPanelClick",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n||ne.default.trackClick(e.rift),H.default.changeMortgageRatesButtonVisibility(!this.props.showOutageGhostTown&&-1!==[ye.INTEREST_RATE,ye.LOAN_DETAILS].indexOf(e)),this.setState({customPanelFieldToShow:e},function(){return t._handleFlyoutHeightChange()})}},{key:"_onCustomPanelClose",value:function(){H.default.changeMortgageRatesButtonVisibility(!1),this.state.customPanelFieldToShow&&ne.default.trackClick(this.state.customPanelFieldToShow.closeRift),this.setState({customPanelFieldToShow:null,flyoutHeight:0})}},{key:"_handleFlyoutHeightChange",value:function(){var e=this.desktopFormFlyoutRef&&this.desktopFormFlyoutRef.current&&this.desktopFormFlyoutRef.current._flyoutGutsRef&&this.desktopFormFlyoutRef.current._flyoutGutsRef._flyoutRef&&this.desktopFormFlyoutRef.current._flyoutGutsRef._flyoutRef.getBoundingClientRect().height||0;this.setState({flyoutHeight:e})}},{key:"_inSaleProceedsPaymentCalcRevampVariant",value:function(){return(0,J.getShouldSeePaymentCalcSaleProceedsRevamp)()}},{key:"_inPaymentCalcCollapseVariant",value:function(){return"Variant"===ee.default.getVariant(oe.default)&&"phone"!==(0,K.getCurrentDeviceType)()}},{key:"_shouldExpandDownPaymentPanelOnDesktop",value:function(){return this._inSaleProceedsPaymentCalcRevampVariant()}}]),n}(p.default.Component);t.default=be,(0,d.default)(be,"displayName","MortgageCalculatorForm"),(0,d.default)(be,"defaultProps",{mortgageRatesPageLink:null,sharedRegionInfo:{trendsData:{}},onRevampVariantFALButtonClick:function(){return null}}),be.propTypes={};var ke=function(e){var t=e.homeSalePrice,n=e.sellingFee,a=e.outstandingMortgage,r=e.otherCosts;return null==t||null==a||null==r?null:t-t*(n/100)-a-r};t.calculateAdjustedDownPayment=ke;var Re=function(e){if(null==e)return null;var t,n=(0,X.isBrowser)()?p.default.createElement(O.default,{duration:300,value:Math.abs(e),formatValue:function(e){return(0,q.formatPrice)(e)}}):(0,q.formatPrice)(Math.abs(e));t=e<0?p.default.createElement(p.default.Fragment,null,"You'll need ",p.default.createElement("b",null,n)," to cover selling costs"):p.default.createElement(p.default.Fragment,null,"You'll have ",p.default.createElement("b",null,n)," for your new home");var a=(0,W.default)({"font-size-medium":!0,adjustedDownHeader:!0,"text-center":"desktop"===(0,K.getCurrentDeviceType)()});return p.default.createElement("div",{className:a},t)};t.renderAdjustedDownPaymentHeader=Re},"6tFN":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.VIDEO_OPEN_HOUSE_VIEWS_COOKIE_NAME=void 0,t.getFormattedDayAndDate=function(e,t){var n=new Date(1e3*e.seconds);return r.default.format(n,t,"dddd, MMM D")},t.getFormattedTime=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=new Date(1e3*e.seconds),o="h";0!==a.getMinutes()&&(o+=":mm");o+="A",n&&(o+=" z");return r.default.format(a,t,o)},t.getVideoOpenHouseSectionViews=function(){var e=(0,o.default)(s);return e?parseInt(e):0},t.isCurrentlyLive=l,t.isOpenHouseCurrentlyLive=function(e){var t=e[0];return l(t.startTime,t.endTime)},t.isTimezoneDifferentFromBrowser=function(e){var t=new Date;return(0,i.default)(t).utcOffset()!==i.default.tz(t,e).utcOffset()},t.isToday=function(e,t){var n=new Date(1e3*e.seconds);return i.default.tz(t).isSame(n,"day")},t.shouldShowVideoOpenHouseSection=function(e,t,n){if(n&&n.experienceData&&n.experienceData.isDirectAccess)return!1;return e&&t&&t.length>0},t.updateLDPVideoOpenHouseCookie=function(){var e=(0,o.default)(s),t=e?parseInt(e):0;(0,o.default)(s,t+1,{path:"/",expires:3650,domain:g_cookieDomain})};var r=a(n("lcmt")),o=a(n("72T9")),i=a(n("pKkH")),s="RF_VIDEO_OPEN_HOUSE_VIEWS";function l(e,t){var n=new Date(1e3*e.seconds),a=new Date(1e3*t.seconds),r=new Date;return r.getTime()>=n.getTime()&&r.getTime()<a.getTime()}t.VIDEO_OPEN_HOUSE_VIEWS_COOKIE_NAME=s},"7AK6":function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("RIqP")),o=a(n("J4zp")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("TK2v")),u=n("Du2J"),c=a(n("cXUB")),d=a(n("luvc")),f=n("DW2W"),p=a(n("dnbo")),m=a(n("cMqt")),h=m.default.logging.getLogger({name:"corvair.sites.customer-pages.middleware.COPMiddleware",color:{server:219,client:"rgb(212,127,212)"}}),g=m.default.RequestLocalStorage.getNamespace(),_=1e4,v=function(){function e(){(0,i.default)(this,e),g().this=this}return(0,s.default)(e,[{key:"addConfigValues",value:function(){return g().copDataStore&&g().copDataStore.destroy(),g().copDataStore=null,{disableCOP:!1,disableCOPDefaultWidgets:!1,disableCOPDefaultWidgetTypes:[],placementName:"all_pages",copWidgetComponentPropsOverridesMap:{}}}},{key:"handleRoute",value:function(e){var t=this;return this.getConfig("isFragment")||this.getConfig("isRawResponse")?e():e().tap(function(){y().requestPlacement(t.getConfig("placementName")).tap(S)})}},{key:"getBodyClasses",value:function(t){var n=(0,c.default)(t()),a=e.getHasWidgetPromise("SimpleBannerWidget").then(function(e){return e?["simpleBannerPresent"]:[]}).catch(function(e){return h.error(e),[]});return c.default.all([n,a]).then(function(e){var t=(0,o.default)(e,2),n=t[0],a=t[1];return[].concat((0,r.default)(n),(0,r.default)(a))})}},{key:"getElements",value:function(t){var n=t(),a=E();if(a&&function(){if("undefined"==typeof window||!window.__reactServerClientController)return void h.error("clientController not found, or invalid");g().hasPageMounted=!1;var e=c.default.defer();window.__reactServerClientController.once("render",function(){return e.resolve("clientController")}),setTimeout(function(){return e.resolve("timeout")},_),e.promise.then(function(e){"timeout"===e&&h.warning('clientController did not emit "render" event within '.concat(_,"ms. Picking a flyout anyway."));var t=y().state.namedFlyouts;h.debug("Registered COPFlyouts: ",Object.keys(t||{}));var n=y().pickAFlyout();n&&h.info("Selected COPFlyout to show:",n),g().hasPageMounted=!0}).catch(function(e){return h.error("Picking a COPFlyout failed:",e)}).done()}(),!a||this.getConfig("disableCOPDefaultWidgets"))return n;var o=e._getWidgetRootElem("SaveSearchBannerWidget",!0),i=e._getWidgetRootElem("SimpleBannerWidget",!0),s=e._getWidgetRootElem("SimpleDrawerWidget",!0),l=e._getWidgetRootElem("SaveSearchDrawerWidget",!0),u=e._getWidgetRootElem("AppInstallDrawerWidget",!0),d=e._getWidgetRootElem("AskAgentVideoTourUploadFormWidget",!0),f=e._getWidgetRootElem("ExternalVideoTourUploadBannerWidget",!0),p=e._getWidgetRootElem("QualarooSurveyWidget",!0);return[f,o,e._getWidgetRootElem("UserOnboardingProgressWidget",!0),i].concat((0,r.default)(n),[s,u,l,d,p])}}],[{key:"getWidgetRootElem",value:function(t){return e._getWidgetRootElem(t,!1)}},{key:"_getWidgetRootElem",value:function(e,t){return y().getWidgetRootElem(e,t)}},{key:"getHasWidgetPromise",value:function(e){return y().hasWidgetPromise(e)}},{key:"setTurnOffCOPWidgets",value:function(){y().disableAllWidgets()}},{key:"setTurnOffCOPDefaultWidgets",value:function(){y().disableAllDefaultWidgets()}},{key:"disableCOPDefaultWidgetType",value:function(e){y().disableDefaultWidgetType(e)}},{key:"setOnWidgetHideCallback",value:function(e){y().registerOnWidgetHideCallback(e)}},{key:"setWidgetContextData",value:function(e,t){y().setWidgetComponentState(e,t)}},{key:"registerFlyout",value:function(e,t){if(!(0,u.isValidFlyoutName)(e))throw new Error("Flyout registration failed. Invalid flyoutName: ".concat(e));if(!t||"function"!=typeof t)throw new Error("Flyout registration failed. Invalid storeUpdateCallback: ".concat(t));h.debug("Registering COPFlyout named:",e),g().hasPageMounted&&h.warning("COPFlyout named <".concat(e,"> was registered after page-mount. ")+"COPDataStore may have already picked another Flyout to use, and won't consider this one.");var n=y();n.registerFlyout(e);var a=n.listen(function(e){var n=e._getWidgetInfo("COPFlyout");t({currentFlyout:e.currentFlyout,flyoutProps:n&&n.widgetStartingProps})});return function(){h.debug("Unregistering COPFlyout named:",e),a(),n.unregisterFlyout(e)}}}]),e}();function y(){if(g().copDataStore)return g().copDataStore;h.debug("Creating COPDataStore instance");var e=g().this;return g().copDataStore=new l.default({isPageCOPEligible:E(),placementName:e.getConfig("placementName"),widgetComponentPropsOverridesMap:e.getConfig("copWidgetComponentPropsOverridesMap"),disableCOPDefaultWidgetTypes:e.getConfig("disableCOPDefaultWidgetTypes"),disableAllCOPDefaultWidgets:e.getConfig("disableCOPDefaultWidgets")})}function E(){var e=g().this;return!(e.getConfig("disableCOP")||e.getConfig("isFragment")||e.getConfig("isRawResponse")||(0,d.default)("ios-web-view")||(0,d.default)("android-web-view"))}function S(e){if(e){var t=e.allWidgetsInfo||[];t.length&&t.forEach(function(e){var t=e.widgetType,n=e.widgetStartingProps;"QualarooSurveyWidget"===t&&("number"==typeof n.surveyId&&(0,f.addUserSurveyIdToLoad)(n.surveyId),"number"==typeof n.mobileSurveyId&&(0,f.addUserSurveyIdToLoad)(n.mobileSurveyId))})}}p.default.set(v),e.exports=v},"7TP0":function(e,t,n){},"7Wtv":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.isBDX=t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("lSNA")),f=(a(n("17x9")),function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw"))),p=n("cMqt"),m=a(n("ma35")),h=a(n("McMD")),g=a(n("WxCX")),_=n("R8lb"),v=a(n("8Llx")),y=a(n("f+7f")),E=a(n("qF8C")),S=a(n("pxp0")),I=n("AXGM"),T=a(n("kmI5")),C=a(n("0avO")),b=n("XaAO"),k=n("EQKR"),R=a(n("W5nm")),O=n("VxV/"),N=a(n("Tvr+")),A=a(n("eXIM")),P=a(n("sppR")),D=a(n("5gQI"));n("qTFo");var w=n("10Vo");function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var x=p.logging.getLogger({name:"corvair.sites.customer-pages.pages.homeDetails.components.stickyTourFooter.StickyTourButton",color:{server:219,client:"rgb(212,127,212)"}}),F="sticky-tour-button",B=function(e){(0,l.default)(n,e);var t=M(n);function n(e){var a;if((0,o.default)(this,n),(a=t.call(this,e)).state={showLoadingIndicator:!1},e.contactBoxInfo&&e.contactBoxInfo.experienceType===y.default.DIRECT_ACCESS.id){var r=e.contactBoxInfo.experienceData&&e.contactBoxInfo.experienceData.isRedfin;a._scheduleButtonClick=a._startSelfTour.bind((0,s.default)(a),r)}else a._scheduleButtonClick=a._scheduleButtonClick.bind((0,s.default)(a));return a.resetInquirySource=a.resetInquirySource.bind((0,s.default)(a)),a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.props.isRedirect&&this._scheduleButtonClick()}},{key:"renderButton",value:function(){var e=this.props.datePickerInfo||{},t=e.isListingUnderContract,n=e.isListingRecentlyMarkedSold,a=e.isListingOnExistingTour,r=e.isListingOnExistingUnrepShowing,o=e.existingConfirmedTourInformation,i=e.timeZoneStringId,s=(this.props.binnableToursStore||{}).extendableTourIds,l=a||r||Boolean(o),u=P.default.getExistingToursForAddingHome(this.props.datePickerInfo,s);return this.state.showLoadingIndicator||this.props.loading?f.default.createElement(h.default,{size:"large",layout:"column",centerPosition:"both",className:"stickyTourRedirecting"}):this.props.contactBoxInfo&&this.props.contactBoxInfo.experienceType===y.default.DIRECT_ACCESS.id?this._renderSelfTourButton():U(this.props)?f.default.createElement(C.default,this.props):P.default.isPossiblyUnavailable(this.props.datePickerInfo)?this.props.isRenderedOnMB||this.props.isRenderedOnSinglePhoto?null:f.default.createElement(A.default,{listingId:this.props.listingId,isListingRecentlyMarkedSold:n,isListingUnderContract:t}):u&&u.length>0?this.props.isRenderedOnMB||this.props.isRenderedOnSinglePhoto?null:f.default.createElement(N.default,{listingId:this.props.listingId,tourStartTime:u[0].tourStartTime,hasMultipleTours:u.length>1,timeZone:i}):l?null:this.props.isRenderedOnMB&&this.props.isDesktop?this.renderTourDetailsButton():this.props.isRenderedOnSinglePhoto?this.renderSinglePhotoTourButton():this._getScheduleTourButton()}},{key:"render",value:function(){return f.default.createElement("div",{className:"StickyTourButton"},this.renderButton())}},{key:"_getScheduleTourButton",value:function(){if(T.default.trackImpression(T.default.impressions.SCHEDULE_TOUR_BUTTON,{is_partner:this.props.datePickerInfo.isRequestingPartnerAgent,num_completed_tours:this.props.datePickerInfo.numCompletedTours}),(0,I.shouldRenderLiveChatWidget)(this.props.contactBoxInfo)||this.props.isFullWidthButton)return this.renderTourDetailsButton();var e=(0,O.getDateForScheduleTourButton)(this.props.datePickerInfo.isRequestingPartnerAgent,this.props.datePickerInfo.nextAvailableTourTime,this.props.datePickerInfo.timeZoneStringId),t=this.props.contactBoxInfo&&e,n=t?"Next available tour:":"Go Tour This Home",a=t?e:"See it in person or via video chat!",r=(0,w.isInEitherVariantAndEligibleBinSetExpectations)()?"Request Tour":"Schedule Tour";return f.default.createElement(D.default,{className:"scheduleTourButton",description:f.default.createElement(f.default.Fragment,null,f.default.createElement("p",{className:"font-size-small font-weight-bold"},n),f.default.createElement("p",{className:"font-size-small next-available-tour-date","data-rf-test-id":"next-available-tour-date"},a)),button:{className:"TourButton v3 primary rec-button",onClick:this._scheduleButtonClick,children:r,rfTestId:F}})}},{key:"renderTourDetailsButton",value:function(){return f.default.createElement(R.default,{onClick:this._scheduleButtonClick,nextAvailableTourTime:this.props.datePickerInfo.nextAvailableTourTime,timeZone:this.props.datePickerInfo.timeZoneStringId,isRequestingPartnerAgent:this.props.datePickerInfo.isRequestingPartnerAgent,rfTestId:F,shouldShowNextAvailableTourMessage:!0,isFullWidthButton:this.props.isFullWidthButton,isEligibleBinSetExpectations:(0,w.isEligibleBinSetExpectations)()})}},{key:"renderSinglePhotoTourButton",value:function(){var e=this.props.contactBoxInfo&&!this.props.contactBoxInfo.isServicedByRedfinAgent,t=f.default.createElement("div",{className:"subheading text-smaller"},"See it in person or via video chat"),n=(0,O.getDateForScheduleTourButton)(this.props.datePickerInfo.isRequestingPartnerAgent,this.props.datePickerInfo.nextAvailableTourTime,this.props.datePickerInfo.timeZoneStringId);return e&&n&&(t=f.default.createElement("div",{className:"subheading text-smaller","data-rf-test-id":"next-available-tour-date"},"Next Available: "+n)),f.default.createElement(m.default,{rfTestId:F,type:"primary",className:"TourButtonSinglePhoto v3 unpadded",onClick:this._scheduleButtonClick},f.default.createElement("div",{className:"buttonText"},f.default.createElement("div",{className:"heading text-base"},"Schedule Tour"),t))}},{key:"renderHeaderTourButton",value:function(){return f.default.createElement(m.default,{rfTestId:F,type:"primary",className:"HeaderTour v3 unpadded",onClick:this._scheduleButtonClick},f.default.createElement("div",{className:"buttonText"},f.default.createElement("div",{className:"heading front headerCTA"},"Schedule Tour")))}},{key:"_renderSelfTourButton",value:function(){var e=(0,I.shouldRenderLiveChatWidget)(this.props.contactBoxInfo)?"SelfTourButton unpadded":"SelfTourButton TourButton rec-button";return f.default.createElement(m.default,{rfTestId:F,type:"primary",className:e,onClick:this._scheduleButtonClick},f.default.createElement("span",{className:"lightning fill-white"},f.default.createElement(E.default,{className:"size-small"})),f.default.createElement("span",null,"Self Tour"))}},{key:"_scheduleButtonClick",value:function(){(0,b.isListening)()?this._trackAndRedirect():x.error("Datepicker is not listening")}},{key:"_startSelfTour",value:function(e){var t={listing_id:this.props.listingId},n=e?T.default.clicks.SELF_TOUR_BUTTON_REDFIN:T.default.clicks.SELF_TOUR_BUTTON_EXT;T.default.trackClick(n,t),(0,k.showDirectAccessDialog)(g_inquirySource.LDP_DIRECT_ACCESS_FOOTER_SELF_TOUR)}},{key:"resetInquirySource",value:function(){this.setState({promptInquirySource:void 0,isTourPromptDismissed:!0})}},{key:"_trackAndRedirect",value:function(){var e=this,t=this.props.isRenderedOnMB,n=e.props.isRenderedOnSinglePhoto?g_inquirySource.LDP_SINGLE_PHOTO_MEDIA_BROWSER_TOUR_ENTRYPOINT:e.state.promptInquirySource?e.state.promptInquirySource:t?e.props.isDesktop?g_inquirySource.WEB_DESKTOP_LIGHTBOX:g_inquirySource.LDP_MEDIA_BROWSER_STICKY_FOOTER_TOUR_CTA:g_inquirySource.LDP_STICKY_FOOTER_TOUR_CTA,a=t?T.default.clicks.MEDIA_BROWSER_FOOTER:T.default.clicks.SCHEDULE_TOUR_BUTTON;a=this.props.isRenderedOnSinglePhoto?T.default.clicks.SINGLE_PHOTO_MEDIA_BROWSER_CTA_CLICK:a;var r=T.default.trackClick(a,{is_partner:this.props.datePickerInfo.isRequestingPartnerAgent,redfin_direct:this.props.redfinDirect,device_category:S.default.getDeviceType(),business_market_id:this.props.datePickerInfo.businessMarketId,num_completed_tours:this.props.datePickerInfo.numCompletedTours});if(v.default.isLoggedIn()||(0,_.trackRegistrationConversionAttempt)(r,g_registrationReason.TOUR_HOME,g_registrationAuthority.REDFIN),this.props.datePickerInfo.isRequestingPartnerAgent){var o={dateTime:this.props.datePickerInfo.nextAvailableTourTime,agent:this.props.contactBoxInfo.agentRequestAgent||this.props.contactBoxInfo.recommendedAgent,listingId:this.props.listingId,inquirySource:n,riftContext:r,isAmp:this.props.isRedirect};g.default.redirectForPartnerTour(o)}else{var i={inquirySource:n,listingId:this.props.listingId,riftContext:r};g.default.redirectToScheduler(i),this.setState({showLoadingIndicator:!0})}}}]),n}(f.Component);(0,d.default)(B,"defaultProps",{promptEligibility:{},loading:!1,isFullWidthButton:!1}),B.propTypes={};var H=B;t.default=H;var U=function(e){var t=e.contactBoxInfo,n=e.mainHouseInfo;return!(t&&(t.customerAgentStatus===g_customerAgentStatus.AGENT_PENDING||t.customerAgentStatus===g_customerAgentStatus.AGENT_ASSIGNED))&&n&&n.isBDXEligible};t.isBDX=U},"7X4W":function(e,t,n){},"7gF2":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("QkVN")),o=a(n("LDFp")),i=a(n("pBXq"));o.default.ensure(n("tTYd"));var s=(0,r.default)(new i.default,{name:"AroundThisHomeRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!1,impressions:{AROUND_THIS_HOME:{section:"around_this_home"},PLACES_CARD:{section:"around_this_home",target:"places_card"},TRANSIT_CARD:{section:"around_this_home",target:"transit_card"}},clicks:{MORE_LINK:{section:"around_this_home",target:"more_link"},LESS_LINK:{section:"around_this_home",target:"less_link"}}});t.default=s,e.exports=t.default},"7ia7":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("94Bj")),o=a(n("/+pK")),i=n("osI4"),s=a(n("rRR6")),l=a(n("ckBc")),u=a(n("51Vz")),c=a(n("O6Q4")),d=a(n("rjMM")),f=a(n("Cbdg")),p=a(n("6OYn")),m=a(n("jhTE")),h=a(n("qH7Q")),g=a(n("5vVr")),_=a(n("pCbh")),v=a(n("ngUu")),y=a(n("RFa+")),E=a(n("w/KZ")),S=n("AXGM"),I=n("Dt6W"),T=n("vrcu"),C=function(e){var t=e.avmEdition,n=e.avmInfo,a=e.contactBoxInfo,C=e.experimentStore,b=e.listingId,k=e.mainHouseInfo,R=e.propertyId,O=e.pageType,N=e.bundledIncentiveVariant;return{eligibleForNetProceedsExperiment:function(){return this.canShowNetProceedsSection()&&r.default.isOn(this.getNetProceedsFeature())},canShowNetProceedsSection:function(){return this.shouldRenderReactWidgetExcludingAssignedAgentCheck()&&t&&n&&n.predictedValue&&a&&a.isServicedByRedfinAgent&&g.default[a.sellsideThreshold]===_.default.id&&(this.shouldStandardizeAgentCTAs()||!this.isAgentPendingOrAssigned())},createUpdatedInlineAAQStore:function(e){return this.shouldRenderReactWidget()?(0,E.default)({contactBoxInfo:a,isMobile:"desktop"!==(0,i.getCurrentDeviceType)(),listingId:b,mainHouseInfo:k,onSubmitCallback:e,propertyId:R,bundledIncentiveVariant:N}):null},shouldRenderReactWidget:function(){return this.showBDXExperience()||this.shouldRenderReactWidgetExcludingAssignedAgentCheck()&&!(this.isAgentPendingOrAssigned()&&!this.getIsActive())},shouldRenderReactWidgetExcludingAssignedAgentCheck:function(){return!!(r.default.isOn(d.default)&&a&&k)&&(a.experienceData&&a.experienceData.showSalePriceEstimate||a.recommendedAgent&&!(0,S.shouldRenderLiveChatWidget)(a))},shouldStandardizeAgentCTAs:function(){var e=C&&C.offMarketDPExperimentInfo;return e&&e.shouldStandardizeAgentCTAs},getAgentAvgResponseMinutes:function(){return a.recommendedAgent&&a.recommendedAgent.get("agentAvgResponseMinutes")},getIsActive:function(){return k.searchStatus&&h.default[k.searchStatus]},getInquirySource:function(){return b?this.getIsActive()?f.default.id:p.default.id:m.default.id},getNetProceedsFeature:function(){return this.hasMarketFeeData()?c.default:u.default},hasMarketFeeData:function(){return(0,T.hasDataForBusinessMarket)(a.recommendedAgent.get("businessMarketId"))},isAgentPendingOrAssigned:function(){return a.customerAgentStatus===s.default.id||a.customerAgentStatus===l.default.id},showBDXExperience:function(){return!this.isAgentPendingOrAssigned()&&k.isBDXEligible},shouldShowAskAnAgentSectionOnPartnerOrExternalCSL:function(){var e=k.isComingSoonListing,t=k.listingAgents||[];return!(0,I.shouldRenderEnhancedAgentAttribution)(t,e)},shouldShowOriginalNetProceedsSection:function(){return this.canShowNetProceedsSection()&&this.hasMarketFeeData()&&"Update"!==r.default.getVariant(c.default)},shouldShowUpdatedNetProceedsSection:function(){return this.eligibleForNetProceedsExperiment()&&"Control"!==r.default.getVariant(this.getNetProceedsFeature())},shouldHideAskAQuestionSectionOnSoldProperty:function(){return[v.default,y.default].map(function(e){return e.id}).indexOf(O)>=0},shouldHideAskAQuestionSectionForMLSCompliance:function(){var e;return this.getIsActive()&&o.default.get(g_dbBackedConfigKeys.HIDE_AAQ_FOR_MLS_COMPLIANCE).includes(null==k?void 0:null===(e=k.source)||void 0===e?void 0:e.dataSourceId)}}};t.default=C,e.exports=t.default},"7uBu":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n("RBnj").createActions)(["navigateToSellerConsultForm","navigateToCashOfferForm","navigateToHomeValuationAnalysisForm","updatePrimaryCTAVisibility","navigateToOpendoorQuestionnaire"]);t.default=a,e.exports=t.default},"7vIQ":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),d=(a(n("LDFp")),a(n("94Bj"))),f=a(n("nc5n")),p=a(n("4rUc")),m=a(n("kixt"));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var _=function(e){(0,s.default)(n,e);var t=g(n);function n(e){return(0,o.default)(this,n),t.call(this,e)}return(0,i.default)(n,[{key:"render",value:function(){var e=this;return d.default.isOn(m.default)?c.default.createElement(f.default,{uniqueKey:"homiesLoadTest",placeHolderMinHeight:1,onEnterViewport:function(){return p.default.populateLoadTestData(e.props.addressSectionInfo)}},c.default.createElement("div",{className:"homiesLoadTest"})):null}}],[{key:"displayName",get:function(){return"HomiesLoadTestDataSection"}},{key:"getComponentDependencies",value:function(){return{dependencies:["addressSectionInfo"]}}}]),n}(c.Component);t.default=_,e.exports=t.default},"8/6A":function(e,t,n){},"8/B9":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n("17x9"));var r=n("bqcM"),o=a(n("IgEu")),i=function(e){var t=e.eventStartTimeStamp,n=e.eventEndTimeStamp,a=void 0===n?null:n,i=e.eventUrl,s=e.eventLocation,l=e.eventName,u=e.eventOffer,c=void 0===u?null:u,d=e.eventImage,f=void 0===d?null:d,p=e.latLong,m=e.eventDisplayDate,h=e.eventDisplayTime,g=new Date(t).toISOString(),_=a?new Date(a).toISOString():null,v=function(e){var t=e.name,n=e.description,a=e.url,r=e.price,o=e.startDate,i=e.endDate,s=e.imageUrl,l=e.latLong,u=e.location;return{"@context":"http://schema.org","@type":"Event",name:t,description:n,url:a,offers:r?{"@type":"Offer",price:r,priceCurrency:"USD",url:a}:void 0,startDate:o,endDate:i,image:s,location:{"@type":"Place",name:u,geo:l?{"@type":"GeoCoordinates",latitude:l.latitude,longitude:l.longitude}:void 0,address:{"@type":"PostalAddress",streetAddress:u}}}}({name:l,description:"Open House",url:(0,r.getSecureWebServerUrl)()+i,price:c,startDate:g,endDate:_,location:s,latLong:p,imageUrl:f});return React.createElement("span",null,React.createElement("time",{dateTime:g,"data-rf-test-id":"openHouse-startTime"},m),_&&React.createElement("time",{dateTime:_}),h&&React.createElement("span",{"data-rf-test-id":"openHouse-times"}," · ",h),React.createElement(o.default,{blob:v}))};i.propTypes={};var s=i;t.default=s,e.exports=t.default},"82EI":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("cDf5")),o=a(n("pVnL")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("uM7l")),f=(a(n("17x9")),a(n("lcmt"))),p=a(n("YAhj")),m=n("+xFC"),h=n("I5FW"),g=a(n("4ppV")),_=a(n("0VIu")),v=a(n("pXdz"));function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var E=function(e){(0,l.default)(n,e);var t=y(n);function n(e){var a;return(0,i.default)(this,n),(a=t.call(this,e)).state={showDialog:!1},a}return(0,s.default)(n,[{key:"_singleDecimalIfNeeded",value:function(e){return"number"==typeof e&&e%1?e%.5?e.toFixed(2):e.toFixed(1):e}},{key:"render",value:function(){var e=this.props,t=e.basicInfo,n=e.editedHomeFacts,a=e.ownerVerificationStore,r=e.propertyIsActivish,i=e.countyName,s=e.hideHeader;if(!t&&!n)return null;var l=(0,h.getCurrentCountryCode)(),u=void 0!==n?"owner":l===g_countryCode.CANADA?"public records":"county records",c=this.calculateCountyRecordsFacts({basicInfo:t}),d=this.calculateFactsToUse({countyRecordsFacts:c,editedHomeFacts:n,basicInfo:t,countyName:i});return p.default.createElement("div",{className:"basic-info",id:"basicInfo"},p.default.createElement("div",{className:"home-facts-header"},p.default.createElement(_.default,(0,o.default)({},a,{isActivish:r,pageType:this.props.pageType,useV2EditFactsButtonRiftEvents:this.props.useV2EditFactsButtonRiftEvents})),s?null:p.default.createElement("div",{className:"font-weight-bold"},"Home Facts")),p.default.createElement("div",{className:"median-values"},this._constructFactsTable(d,!0,!!n,r,l),p.default.createElement("div",{className:"source-info-container"},p.default.createElement("div",{className:"source-info"},"Home facts updated by ",u," on ",d.lastUpdated,". ",n&&p.default.createElement("a",{onClick:this.showPublicRecordDialogOnClick.bind(this),className:"public-records-link clickable"},"View Public Records")))),this.state.showDialog&&this._renderCountyRecordsDialog(c))}},{key:"showPublicRecordDialogOnClick",value:function(){this.setState({showDialog:!0}),v.default.trackClick(v.default.clicks.SHOW_PUBLIC_RECORD_FACTS)}},{key:"_renderCountyRecordsDialog",value:function(e){var t=this;return p.default.createElement(g.default,{className:"PublicRecordsInfoDialog",title:"Public Records",close:function(){return t.setState({showDialog:!1})}},this._constructFactsTable(e,!1,!1))}},{key:"_constructFactsTable",value:function(e,t,n,a,r){var o=r===g_countryCode.CANADA?"Region":"County",i=r===g_countryCode.CANADA?null:S({label:"APN",value:e.apn}),s=S({label:o,value:e.countyName});return p.default.createElement("div",{className:"facts-table"},[S({label:"Beds",value:e.beds}),S({label:"Baths",value:e.baths})],a&&[S({label:"Finished Sq. Ft.",value:e.finishedSqFt}),S({label:"Unfinished Sq. Ft.",value:e.unfinishedSqFt}),S({label:"Total Sq. Ft.",value:e.totalSqFt})],!a&&[S({label:"Sq. Ft.",value:e.totalSqFt})],[S({label:"Stories",value:e.floors})],n&&[S({label:"Parking Spaces",value:e.numParkingSpaces}),S({label:"Basement",value:e.hasBasement}),S({label:"Accessible",value:e.isAccessible})],[S({label:"Lot Size",value:e.lotSize}),S({label:"Style",value:e.houseStyle}),S({label:"Year Built",value:e.yearBuilt}),S({label:"Year Renovated",value:e.yearRenovated})],t&&s,t&&i,n&&[S({label:(0,h.getCurrentCountryCode)()===g_countryCode.CANADA?"Maintenance Fees":"HOA Dues",value:e.hoaDues}),S({label:"Garage",value:e.hasGarage}),S({label:"Features",value:e.features})])}},{key:"calculateCountyRecordsFacts",value:function(e){var t=e.basicInfo,n=void 0===t?{}:t;return{beds:n.beds||"—",baths:this._singleDecimalIfNeeded(n.baths)||"—",houseStyle:n.propertyTypeName,finishedSqFt:(0,m.formatNumber)(n.sqFtFinished)||"—",unfinishedSqFt:(0,m.formatNumber)(n.sqFtUnfinished)||"—",floors:n.numStories||"—",yearBuilt:n.yearBuilt||"—",totalSqFt:(0,m.formatNumber)(n.totalSqFt)||"—",yearRenovated:n.yearRenovated||"—",lotSize:(0,m.formatLotSize)(n.lotSqFt,void 0,"—"),apn:n.apn||"—",lastUpdated:n.displayTimeZone&&n.propertyLastUpdatedDate?f.default.formatDateStandard(n.propertyLastUpdatedDate,n.displayTimeZone):"—",numParkingSpaces:"—",hoaDues:"—",hasBasement:"—",isAccessible:"—",hasGarage:"—",features:"—"}}},{key:"calculateFactsToUse",value:function(e){var t=e.countyRecordsFacts,n=e.editedHomeFacts,a=e.basicInfo,i=e.countyName,s=(0,d.default)(t);if(s.countyName=i,"object"!==(0,r.default)(n))return s;var l=n.numBedrooms,u=n.numBathrooms,c=n.approxSqFt,p=n.sqFtUnfinished,h=n.numStories,g=n.lotSqFt,_=n.propertyTypeName,v=n.yearBuilt,y=n.lastUpdatedDate,E=n.numParkingSpaces,S=n.basementType,I=n.accessibilityType,T=n.hoaDues,C=n.hasGarage,b=n.greenCertification,k=n.hasView,R=n.isOnWaterfront,O=n.yearRenovated,N=n.poolType,A={};if(_&&(A.houseStyle=_),v&&(A.yearBuilt=v),y&&a&&a.displayTimeZone&&(A.lastUpdated=f.default.formatDateStandard(y,a.displayTimeZone)),O&&(A.yearRenovated=O),void 0!==l&&(A.beds=l),void 0!==u&&(A.baths=u),void 0!==h&&(A.floors=h),void 0!==c&&(A.finishedSqFt=(0,m.formatNumber)(c)),void 0!==p&&(A.unfinishedSqFt=(0,m.formatNumber)(p)),void 0!==c||"undefined"!=typeof unfinishedSqFt){var P=c||0,D=p||0,w=(0,m.formatNumber)(P+D);A.totalSqFt=w}if(void 0!==g&&(A.lotSize=(0,m.formatNumber)(g)),void 0!==E&&(A.numParkingSpaces=(0,m.formatNumber)(E)),void 0!==T){var L=(0,m.formatNumber)(T),M="$".concat(L," /month");A.hoaDues=M}if(void 0!==S&&(A.hasBasement=S===g_basementType.NO_BASEMENT||S===g_basementType.HAS_CRAWLSPACE?"No":"Yes"),void 0!==I&&(A.isAccessible=I===g_accessibilityType.NONE?"No":"Yes"),void 0!==C&&(A.hasGarage=C?"Yes":"No"),void 0!==k||void 0!==b||void 0!==R||void 0!==N){var x=[];k&&x.push("Views"),void 0!==b&&b!==g_greenCertification.NONE&&x.push("Green"),R&&x.push("Waterfront"),void 0!==N&&N!==g_poolType.NO_POOL&&N!==g_poolType.POOL_PERMIT&&x.push("Pool"),A.features=x.length>0?x.join(", "):"—"}return(0,o.default)(s,A)}}]),n}(p.default.Component);function S(e){var t=e.label,n=e.value;return p.default.createElement("div",{className:"table-row",key:t},p.default.createElement("span",{className:"table-label"},t),p.default.createElement("div",{className:"table-value"},n))}E.displayName="PublicRecordsBasicInfo",E.propTypes={};var I=E;t.default=I,e.exports=t.default},"85cV":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("lSNA")),i=n("TlVh"),s=a(n("CqHp")),l=a(n("94Bj")),u=a(n("M58V")),c=a(n("nlbq")),d=a(n("hmmP")),f=a(n("d21m"));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var m=(0,i.createStoreFactory)({OH_LIST_API_VERSION:"v1",init:function(e){var t=e.openHouses,n=e.videoOpenHouses,a=e.openHouseConfirmationIdMap,r=e.openHouseCalendarInformationMap,i=e.agent;this.isPartnerServiced=i&&i.getAgentType()===c.default.id,this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({experimentVariant:l.default.isOff(u.default)?"CONTROL":l.default.getVariant(u.default),buttonStores:new h({openHouses:t,openHouseConfirmationIdMap:a,openHouseCalendarInformationMap:r,isPartnerServiced:this.isPartnerServiced}),videoOpenHouses:n,openHouses:t},this.setupActions()))},setupActions:function(){return{onVideoOpenHouseRowsInView:this._onVideoOpenHouseRowsInView,onVideoOpenHouseFlyoutClick:this._onVideoOpenHouseFlyoutClick}},_onVideoOpenHouseRowsInView:function(){d.default.trackImpression((this.isPartnerServiced?f.default:d.default).impressions.VIDEO_OPEN_HOUSE_SUBHEADER)},_onVideoOpenHouseFlyoutClick:function(){d.default.trackClick((this.isPartnerServiced?f.default:d.default).clicks.VIDEO_OPEN_HOUSE_FLYOUT)}});t.default=m;var h=(0,i.createStoreFactory)({init:function(e){var t=e.openHouses,n=void 0===t?[]:t,a=e.openHouseConfirmationIdMap,i=void 0===a?{}:a,l=e.openHouseCalendarInformationMap,u=void 0===l?{}:l,c=e.isPartnerServiced;this.setState(n.reduce(function(e,t){var n;return(0,r.default)(e,(n={},(0,o.default)(n,t.id,new s.default(t,i[t.id],u[t.id],c)),(0,o.default)(n,"length",e.length+1),n))},{length:0}))}});e.exports=t.default},"85k2":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;a(n("17x9"));var r=a(n("02GA"));function o(e){var t=e.children,n=t?React.createElement("span",{className:"font-color-gray-light"}," · "):null;return React.createElement("div",{className:"placeholder basic-border-radius"},React.createElement("div",null,React.createElement(r.default,null)),React.createElement("div",{className:"inline-block font-weight-bold time"},React.createElement("span",null,"— min"),n,t))}n("c65I"),o.propTypes={},o.defaultProps={children:null},e.exports=t.default},"89eI":function(e,t,n){},"8FbS":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getStandardStickyOmdpFooterEventDetails=t.default=void 0;var r=a(n("3OWR")),o=a(n("LDFp")),i=a(n("pBXq")),s=n("uAhr");o.default.ensure(n("tTYd"));var l=(0,r.default)(new i.default,{name:"StickyOMDPFooterRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],impressions:{MW_STICKY_FOOTER:{section:"mw_sticky_footer",trackGA:!1,expectedParams:["service"]}},clicks:{MW_STICKY_FOOTER_BUTTON:{section:"mw_sticky_footer",target:"sell_cta",trackGA:!0,expectedParams:["service"]},DESKTOP_LIGHTBOX_SELL_BUTTON:{section:"full_screen_media_browser_photo",target:"sell_cta",trackGA:!0,expectedParams:["service"]},OMDP_OWNER_CTA:{section:"mw_sticky_footer",target:"owner_cta",trackGA:!1,expectedParams:["service"]},DESKTOP_LIGHTBOX_OWNER_BUTTON:{section:"full_screen_media_browser_photo",target:"owner_cta",trackGA:!0,expectedParams:["service"]}}}),u=function(e){var t;switch(e){case s.StickyOMDPButtonTypeConstants.UNCLAIMED:t="claim";break;case s.StickyOMDPButtonTypeConstants.REDFIN_NOW:t="redfin_now";break;case s.StickyOMDPButtonTypeConstants.OPENDOOR:t="opendoor";break;case s.StickyOMDPButtonTypeConstants.PARTNER:t="partner";break;case s.StickyOMDPButtonTypeConstants.HOME_VALUATION_ANALYSIS:t="hva";break;case s.StickyOMDPButtonTypeConstants.BROKERAGE:t="brokerage"}return t};t.getStandardStickyOmdpFooterEventDetails=function(e){return{service:u(e)}};var c=l;t.default=c},"8YsT":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n("17x9"));var r=n("mXGw"),o=a(n("p7Q8")),i=a(n("1lFN")),s=a(n("h1NK")),l=a(n("bo1D")),u=a(n("ufn8")),c=a(n("8Z2X")),d=a(n("FDyu")),f=a(n("wzsw")),p=a(n("R4MD")),m=a(n("94Bj"));n("gEcG");var h=function(e){var t=e.remarks,n=e.displayLevel,a=e.dataSourceId,h=e.accessLevel,g=e.expandable,_=(0,r.useRef)(null);(0,r.useEffect)(function(){_.current&&l.default.trackImpression(l.default.impressions.TEASE_MARKETING_REMARKS_LINK,null,_.current)},[]);var v="VARIANT"===m.default.getVariant(p.default)&&t&&t.length;if(!g_displayLevel.idToObj[n].isReachable)return null;if(!g_displayLevel.idToObj[n].isVisible&&!v)return React.createElement("div",{style:{marginBottom:"25px"}},React.createElement(i.default,{displayLevel:n,dataSourceId:a,detailsText:"view this home’s listing description",sectionName:"marketing_remarks"}));for(var y=[],E=[],S=0;t&&S<t.length;S++){var I=t[S];I.displayLevel===g_displayLevel.AGENT_ACCESSIBLE?E.push(React.createElement(o.default,{key:S,label:I.label,body:I.marketingRemark,agentOnly:!0})):y.push(React.createElement(o.default,{key:S,label:I.label,body:I.marketingRemark,agentOnly:!1}))}var T=y.concat(E),C=React.createElement("div",{className:"remarks",id:"marketing-remarks-scroll","data-rf-test-id":"listingRemarks"},T);return g_displayLevel.idToObj[n].isVisible?g?React.createElement("div",{className:"remarks font-weight-roman"},React.createElement(s.default,{section:"marketingRemarks",collapsedPreviewHeight:70,rfTestId:"listingRemarks",initiallyExpanded:h===g_accessLevel.REDFIN_AGENT,shouldFadeOut:!1,expandText:"Continue reading",shouldScrollToTopOnCollapse:!1,onClickCallback:function(){return l.default.trackClick(l.default.clicks.MARKETING_REMARKS_EXPAND)}},C)):C:React.createElement(React.Fragment,null,React.createElement(u.default,null,C),React.createElement("div",{ref:_,className:"signInLink font-size-base"},React.createElement(d.default,{displayLevel:n,dataSourceId:a,registrationReason:f.default,trackClick:function(){return l.default.trackClick(l.default.clicks.TEASE_MARKETING_REMARKS_LINK)}},"Sign in for details ",React.createElement(c.default,null))))};h.propTypes={},h.defaultProps={displayLevel:1,expandable:!1},h.displayName="MarketingRemarks";var g=h;t.default=g,e.exports=t.default},"8aW2":function(e,t,n){},"8f57":function(e,t,n){},"92zx":function(e,t,n){},"9AFO":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("17x9")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),p=a(n("ma35")),m=a(n("hlq+")),h=a(n("WxCX")),g=a(n("hLSw")),_=a(n("UT8e")),v=a(n("PVuu"));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}n("Ohq3");var S=function(e){(0,l.default)(n,e);var t=E(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={selectedTime:null,isTourLoading:!1,hasMounted:!1},a._handleTourTimeClicks=a._handleTourTimeClicks.bind((0,s.default)(a)),a._handleTourClick=a._handleTourClick.bind((0,s.default)(a)),a}return(0,i.default)(n,[{key:"_handleTourTimeClicks",value:function(e,t){var n=this.props.isDesktop?g.default.clicks.INLINE_CTA_MORE_LINK_CLICKED_DESKTOP:g.default.clicks.INLINE_CTA_MORE_LINK_CLICKED;"more"!==t&&(this.setState({selectedTime:e.time}),n=this.props.isDesktop?g.default.clicks.INLINE_CTA_TIME_TILE_CLICKED_DESKTOP:g.default.clicks.INLINE_CTA_TIME_TILE_CLICKED);var a=this.props.riftParams;a.time_tile_selected=e.time;var r=g.default.trackClick(n,a);this._handleTourRequest(r,e.time)}},{key:"_handleTourRequest",value:function(e,t){var n=this.props.isPartnerTour,a={inquirySource:g_inquirySource.LDP_INLINE_MEDIA_BROWSER_TOUR_CTA,listingId:this.props.listingId,tourDay:this.props.nextAvailableTourTime,tourTime:n?"partnerTour":t,dateTime:n&&this.props.nextAvailableTourTime,agent:this.props.touringAgent,riftContext:e};if(n){var r=this.props.isDesktop?g.default.clicks.INLINE_CTA_TOUR_LINK_DESKTOP:g.default.clicks.INLINE_CTA_TOUR_LINK;g.default.trackClick(r),h.default.redirectForPartnerTour(a)}else h.default.redirectToScheduler(a);this.setState({showTourCTALoadingIndicator:!0})}},{key:"_handleTourClick",value:function(){var e=g.default.trackClick(g.default.clicks.INLINE_CTA_TOUR_LINK,{is_partner:this.props.isPartnerTour});this._handleTourRequest(e)}},{key:"render",value:function(){var e=this,t=f.default.createElement(p.default,{className:"text tourWithLink Redfin",onClick:this._handleTourClick},"See it in person or via video chat");this.props.isPartnerTour?t=f.default.createElement(p.default,{className:"text tourWithLink Partner",onClick:this._handleTourClick},"Tour it with a Redfin Partner Agent"):!this.props.isNextTourTimeAfterTomorrow&&this.props.nextTourDisplayTimes&&this.props.nextTourDisplayTimes.length>0&&(t=f.default.createElement("div",{className:"subtitleText"},"See it in person or via video chat"));var n=this.props.isDesktop?"full_screen_media_browser_list":"full_screen_mobile_web_phone_media_browser";return f.default.createElement(_.default,{section:n,target:"inline_CTA",eventDetails:this.props.riftParams},f.default.createElement("div",{className:"InlineTourCTA"},f.default.createElement(v.default,{"data-rf-test-name":"BalloonHouseIcon"}),f.default.createElement("div",{className:"titleText"},"Tour it soon before it's gone!"),t,!this.props.isPartnerTour&&!this.props.isNextTourTimeAfterTomorrow&&f.default.createElement(m.default,{useConciseFormat:!0,tourTimes:this.props.nextTourDisplayTimes,tourTimeZone:this.props.tourTimeZone,isNextTourTimeToday:this.props.isNextTourTimeToday,onMoreClick:function(t){return e._handleTourTimeClicks(t,"more")},onTimeLinkClick:function(t){return e._handleTourTimeClicks(t,"time")}})))}}],[{key:"displayName",get:function(){return"MediaBrowserInlineTourCTA"}},{key:"propTypes",get:function(){return{datePickerInfo:d.default.object,riftParams:d.default.object,touringAgent:d.default.object,listingId:d.default.number,isPartnerTour:d.default.bool,isDesktop:d.default.bool}}}]),n}(f.Component);t.default=S,e.exports=t.default},"9NDK":function(e,t,n){},"9QPH":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("mXGw")),f=a(n("17x9")),p=a(n("8Jek")),m=a(n("WqrT")),h=n("+xFC"),g=a(n("BYaZ")),_=a(n("GiNY"));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}n("9jfl");var y=function(e){(0,l.default)(n,e);var t=v(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).onInfoIconClick=a.onInfoIconClick.bind((0,s.default)(a)),a}return(0,i.default)(n,[{key:"onInfoIconClick",value:function(){g.default.trackClick(g.default.clicks.REFUND,{refund_value:this.props.refund})}},{key:"onRefundFlyoutMoreInfoClick",value:function(){g.default.trackClick(g.default.clicks.REFUND_FLYOUT_MORE_INFO)}},{key:"renderRefundMessage",value:function(){var e={term:"Redfin Refund",className:"refund-flyout",position:"above",alignment:"right",definition:"Estimated Redfin Refund amount is subject to adjustment or cancellation, and not available in certain areas or where prohibited by law.",definitionLink:"/disclaimer",moreInfoText:"Learn More",underline:!1,onShowDefinitionFlyout:this.onInfoIconClick,onClickDefinitionLink:this.onRefundFlyoutMoreInfoClick},t=(0,p.default)("refund-message","padding-top-medium",{"hide-contact-links":this.props.isAgentAssignedOrPending});return d.default.createElement("div",{className:t,"data-rf-test-name":"refund-message"},"Buy with a Redfin Agent and get ",d.default.createElement("span",{className:"refund-amount font-weight-bold"},(0,h.formatPrice)(this.props.refund))," back.",d.default.createElement(m.default,(0,r.default)({},e,{infoIcon:!0})))}},{key:"render",value:function(){if(this.props.isInRedfinDirectMarket)return null;var e=this.props.refund&&this.renderRefundMessage(),t=(0,p.default)("font-size-small",this.props.deviceConfig===g_deviceConfiguration.TABLET?"Refund-tablet":"Refund");return d.default.createElement("div",{className:t,"data-rf-test-name":"refund"},d.default.createElement(_.default,{isPartnerServiced:this.props.isPartnerServiced,agentId:this.props.agent&&this.props.agent.getId(),listingId:this.props.listingId,businessMarketId:this.props.businessMarketId,inquirySource:this.props.inquirySource,riftParams:this.props.riftParams,renderAsLink:this.props.renderAsStartAnOfferLink}),e)}}],[{key:"propTypes",get:function(){return{refund:f.default.number,listingId:f.default.number.isRequired,agent:f.default.object.isRequired,deviceConfig:f.default.number,riftParams:f.default.object.isRequired,isAgentAssignedOrPending:f.default.bool,isInRedfinDirectMarket:f.default.bool,businessMarketId:f.default.number,renderAsStartAnOfferLink:f.default.bool}}}]),n}(d.default.Component);t.default=y,e.exports=t.default},"9To1":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("17x9")),f=a(n("mXGw")),p=a(n("lQoP")),m=a(n("Nm66")),h=a(n("4ppV")),g=a(n("ma35")),_=a(n("Xecl")),v=a(n("t/kO")),y=n("EQKR"),E=a(n("8Jek")),S=a(n("VzMp"));function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}n("AKmY");var T="direct_access_instructions_drawer",C="direct_access_instructions_dialog",b="ext_direct_access_instructions_drawer",k="ext_direct_access_instructions_dialog",R=function(e){(0,l.default)(n,e);var t=I(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={showLoadingIndicator:!1},a.riftSection=a.props.deviceConfig===g_deviceConfiguration.PHONE?a.props.isRedfin?T:b:a.props.isRedfin?C:k,a.commonRiftParams={listing_id:a.props.listingId,property_id:a.props.propertyId},a._firePhoneClick=a._firePhoneClick.bind((0,s.default)(a)),a._handleCloseDialog=a._handleCloseDialog.bind((0,s.default)(a)),a._handleSendAppLink=a._handleSendAppLink.bind((0,s.default)(a)),a._handleClickAppLink=a._handleClickAppLink.bind((0,s.default)(a)),a._redirectToScheduleTour=a._redirectToScheduleTour.bind((0,s.default)(a)),a}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props.showSuccess?"":"Download the Redfin mobile app for instant access";this.props.isOpendoor&&(e=this.props.showSuccess?"":"Get instant access to this Opendoor listing");var t=(0,E.default)({DirectAccessOpendoorDialog:!0,drawer:this.props.deviceConfig===g_deviceConfiguration.PHONE,desktop:this.props.deviceConfig!==g_deviceConfiguration.PHONE});return f.default.createElement(h.default,{className:t,close:this._handleCloseDialog,fullScreenOnMobile:!1,title:e,closeOnBackgroundClick:!1},this._renderContent())}},{key:"_renderContent",value:function(){var e=this;if(this.props.showSuccess){var t="We texted a link to the Redfin app to ".concat(S.default.formatPhoneNumberParens(this.props.fields.phoneNumber.value));return this.props.isOpendoor&&(t="We texted a link to the Opendoor app to ".concat(S.default.formatPhoneNumberParens(this.props.fields.phoneNumber.value))),p.default.trackImpression(this.riftSection,"text_sent_success",this.commonRiftParams),f.default.createElement("div",{class:"textConfirmation"},f.default.createElement("div",{className:"fill-valid"},f.default.createElement(m.default,{className:"size-large"})),f.default.createElement("div",{className:"confirmationHeader font-size-medium"},"Text Sent!"),f.default.createElement("div",{className:"confirmationInfo"},t))}var n=this.props.deviceConfig!==g_deviceConfiguration.DESKTOP?"Use the Redfin app to tour on your own schedule without an agent.":"We'll text you a link to the Redfin app so you can tour this home on your own schedule without an agent.";return this.props.isOpendoor&&(n=this.props.deviceConfig!==g_deviceConfiguration.DESKTOP?"Use the Opendoor app to tour on your own schedule without an agent.":"We'll text you a link to the Opendoor app so you can tour this home on your own schedule without an agent."),f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:"infoText"},n),this.props.showError&&f.default.createElement("div",{className:"font-color-red"},"Sorry, something went wrong. Please try again"),f.default.createElement(v.default,{formName:this.props.formName,className:"phoneForm"},this._renderPhoneField(),this._renderCTA()),this.props.isServiced&&f.default.createElement(g.default,{className:"text tourWithAgent",href:"#",saving:this.state.showLoadingIndicator,onClick:function(t){t.preventDefault(),e._redirectToScheduleTour()}},"Tour with an agent instead"))}},{key:"_renderPhoneField",value:function(){return this.props.deviceConfig===g_deviceConfiguration.DESKTOP?f.default.createElement(_.default,(0,r.default)({className:"phone",type:"tel"},this.props.fields.phoneNumber,{autofocus:!1,onClick:this._firePhoneClick})):null}},{key:"_renderCTA",value:function(){if(this.props.deviceConfig!==g_deviceConfiguration.DESKTOP){var e="Go to Redfin app";return this.props.isOpendoor&&(e="Go to Opendoor app"),f.default.createElement(g.default,{className:"primary v3",title:e,onClick:this._handleClickAppLink},e)}return f.default.createElement(g.default,{className:"primary v3",title:"Text me a link",disabled:this.props.isSubmitting,onClick:this._handleSendAppLink},"Text me a link")}},{key:"_firePhoneClick",value:function(){p.default.trackClick(this.riftSection,"phone_field",this.commonRiftParams)}},{key:"_handleCloseDialog",value:function(){p.default.trackClick(this.riftSection,"close_button",this.commonRiftParams),this.props.onCloseDialog()}},{key:"_redirectToScheduleTour",value:function(){var e=p.default.trackClick(this.riftSection,"tour_with_agent_link",this.commonRiftParams);(0,y.redirectForTourWithAgent)(this.props.listingId,e)}},{key:"_handleClickAppLink",value:function(){p.default.trackClick(this.riftSection,"download_app_button",this.commonRiftParams),this.props.isOpendoor?(0,y.clickOpendoorAppLink)(this.props.listingId):(0,y.clickRedfinAppLink)(this.props.listingId)}},{key:"_handleSendAppLink",value:function(){p.default.trackClick(this.riftSection,"text_app_link_button",this.commonRiftParams),this.props.isOpendoor?(0,y.sendOpendoorAppLinkText)(this.props.listingId):(0,y.sendRedfinAppLinkText)(this.props.listingId)}}],[{key:"propTypes",get:function(){return{isRedfin:d.default.bool,isOpendoor:d.default.bool,listingId:d.default.number,deviceConfig:d.default.number,onCloseDialog:d.default.func,formName:d.default.string,fields:d.default.shape({phoneNumber:d.default.object}),showError:d.default.bool,isSubmitting:d.default.bool,showSuccess:d.default.bool,propertyId:d.default.number,isServiced:d.default.bool}}}]),n}(f.default.Component);t.default=R,e.exports=t.default},"9XWZ":function(e,t,n){},"9j+1":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("QkVN")),o=a(n("LDFp")),i=a(n("pBXq"));o.default.ensure(n("tTYd"));var s=(0,r.default)(new i.default,{name:"FloodDataRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!1,impressions:{FLOOD_RISK:{section:"flood_risk",target:null},FLOOD_RISK_MISSING:{section:"flood_risk",target:"missing_data"},FLOOD_RISK_MISSING_FF:{section:"flood_risk",target:"missing_ff"}},clicks:{ABOUT_FF_LINK:{section:"flood_risk",target:"about_ff_link"},ABOUT_FEMA_LINK:{section:"flood_risk",target:"about_fema_link"},FF_HEADING_I_BUTTON:{section:"flood_risk",target:"ff_heading_i_button"},FLOOD_LIKELIHOOD_I_BUTTON:{section:"flood_risk",target:"flood_likelihood_i_button"},LEARN_MORE_FF_LINK:{section:"flood_risk",target:"learn_more_ff_link"},FEMA_HEADING_I_BUTTON:{section:"flood_risk",target:"fema_heading_i_button"},LEARN_MORE_FEMA_LINK:{section:"flood_risk",target:"learn_more_fema_link"},INSURANCE_HEADING_I_BUTTON:{section:"flood_risk",target:"insurance_heading_i_button"},GET_QUOTE:{section:"flood_risk",target:"get_quote"},FF_MODAL_LEARN_MORE_LINK:{section:"flood_risk",target:"ff_modal_learn_more_link"},FEMA_MODAL_LEARN_MORE_LINK:{section:"flood_risk",target:"fema_modal_learn_more_link"},FOOTER_FF_LINK:{section:"flood_risk",target:"footer_ff_link"},FOOTER_FSF_LINK:{section:"flood_risk",target:"footer_fsf_link"},FOOTER_QUESTIONS_FEED_BACK_LINK:{section:"flood_risk",target:"footer_questions_feedback_link"},TO_FF_HOMEPAGE_LINK:{section:"full_screen_minimap_flood",target:"data_flood_factor_link"},FLOOD_ON_MAP_FULL_DETAILS:{section:"full_screen_minimap_flood",target:"full_details_button"},FLOOD_ON_MAP_FULL_DETAILS_CLOSE:{section:"full_screen_minimap_flood_full_section",target:"close_button"},CLIMATE_RISK_LINK:{section:"flood_risk",target:"climate_page_link"}}});t.default=s,e.exports=t.default},"9jfl":function(e,t,n){},"9lsf":function(e,t,n){"use strict";e.exports=[{name:"desktop-atf-component-latency",trigger:"every",bins:{hi:1e4,step:2e3},metricNames:["react-server.core.ClientController.rootelement.Header","react-server.core.ClientController.rootelement.AddressBannerSection","react-server.core.ClientController.rootelement.ClickThroughSection","react-server.core.ClientController.rootelement.NavigationBarSection","react-server.core.ClientController.rootelement.SecondaryBannerSection","react-server.core.ClientController.rootelement.BannerSection","react-server.core.ClientController.rootelement.InlinePhotoPreviewSection","react-server.core.ClientController.rootelement.DesktopMediaBrowserWithTourCTA","react-server.core.ClientController.rootelement.SideBarContent","react-server.core.ClientController.rootelement.MediaBannerSection","react-server.core.ClientController.rootelement.SurveySection","react-server.core.ClientController.rootelement.MediaDialogWithTourCTA"]},{name:"desktop-atf-component-good",trigger:"every",metricNames:["react-server.core.ClientController.rootelement.Header.renderStatus.written","react-server.core.ClientController.rootelement.AddressBannerSection.renderStatus.written","react-server.core.ClientController.rootelement.ClickThroughSection.renderStatus.written","react-server.core.ClientController.rootelement.NavigationBarSection.renderStatus.written","react-server.core.ClientController.rootelement.SecondaryBannerSection.renderStatus.written","react-server.core.ClientController.rootelement.BannerSection.renderStatus.written","react-server.core.ClientController.rootelement.InlinePhotoPreviewSection.renderStatus.written","react-server.core.ClientController.rootelement.DesktopMediaBrowserWithTourCTA.renderStatus.written","react-server.core.ClientController.rootelement.SideBarContent.renderStatus.written","react-server.core.ClientController.rootelement.MediaBannerSection.renderStatus.written","react-server.core.ClientController.rootelement.SurveySection.renderStatus.written","react-server.core.ClientController.rootelement.MediaDialogWithTourCTA.renderStatus.written"]},{name:"desktop-atf-component-valid",trigger:"every",metricNames:["react-server.core.ClientController.rootelement.Header.attempt","react-server.core.ClientController.rootelement.AddressBannerSection.attempt","react-server.core.ClientController.rootelement.ClickThroughSection.attempt","react-server.core.ClientController.rootelement.NavigationBarSection.attempt","react-server.core.ClientController.rootelement.SecondaryBannerSection.attempt","react-server.core.ClientController.rootelement.BannerSection.attempt","react-server.core.ClientController.rootelement.InlinePhotoPreviewSection.attempt","react-server.core.ClientController.rootelement.DesktopMediaBrowserWithTourCTA.attempt","react-server.core.ClientController.rootelement.SideBarContent.attempt","react-server.core.ClientController.rootelement.MediaBannerSection.attempt","react-server.core.ClientController.rootelement.SurveySection.attempt","react-server.core.ClientController.rootelement.MediaDialogWithTourCTA.attempt"]},{name:"desktop-atf-page-good",trigger:"last",metricNames:["react-server.core.renderMiddleware.rootelement.Header.renderStatus.written","react-server.core.renderMiddleware.rootelement.AddressBannerSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.ClickThroughSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.NavigationBarSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.SecondaryBannerSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.BannerSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.InlinePhotoPreviewSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.DesktopMediaBrowserWithTourCTA.renderStatus.written","react-server.core.renderMiddleware.rootelement.SideBarContent.renderStatus.written","react-server.core.renderMiddleware.rootelement.MediaBannerSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.SurveySection.renderStatus.written","react-server.core.renderMiddleware.rootelement.MediaDialogWithTourCTA.renderStatus.written"]},{name:"desktop-atf-page-valid",trigger:"last",metricNames:["react-server.core.renderMiddleware.rootelement.Header.attempt","react-server.core.renderMiddleware.rootelement.AddressBannerSection.attempt","react-server.core.renderMiddleware.rootelement.ClickThroughSection.attempt","react-server.core.renderMiddleware.rootelement.NavigationBarSection.attempt","react-server.core.renderMiddleware.rootelement.SecondaryBannerSection.attempt","react-server.core.renderMiddleware.rootelement.BannerSection.attempt","react-server.core.renderMiddleware.rootelement.InlinePhotoPreviewSection.attempt","react-server.core.renderMiddleware.rootelement.DesktopMediaBrowserWithTourCTA.attempt","react-server.core.renderMiddleware.rootelement.SideBarContent.attempt","react-server.core.renderMiddleware.rootelement.MediaBannerSection.attempt","react-server.core.renderMiddleware.rootelement.SurveySection.attempt","react-server.core.renderMiddleware.rootelement.MediaDialogWithTourCTA.attempt"]},{name:"desktop-btf-component-latency",bins:{hi:1e4,step:2e3},trigger:"every",metricNames:["react-server.core.ClientController.rootelement.VideoOpenHouseSection","react-server.core.ClientController.rootelement.UrgencySection","react-server.core.ClientController.rootelement.ReverseMatchmakerSection","react-server.core.ClientController.rootelement.SharedSearchCommentsSection","react-server.core.ClientController.rootelement.MainHouseInfoPanel","react-server.core.ClientController.rootelement.OpenHouseSectionWrapper","react-server.core.ClientController.rootelement.MortgageCalculatorSection","react-server.core.ClientController.rootelement.ListingScanSection","react-server.core.ClientController.rootelement.HigherSimilarsSection","react-server.core.ClientController.rootelement.AmenitiesInfoSection","react-server.core.ClientController.rootelement.AskAnAgentSection","react-server.core.ClientController.rootelement.PropertyHistory","react-server.core.ClientController.rootelement.AboutThisBuildingSection","react-server.core.ClientController.rootelement.SchoolsSection","react-server.core.ClientController.rootelement.TourInsightsSection","react-server.core.ClientController.rootelement.ActivitySection","react-server.core.ClientController.rootelement.PublicRecordsInfoPanel","react-server.core.ClientController.rootelement.ClimateRiskDataSection","react-server.core.ClientController.rootelement.RedfinEstimateSection","react-server.core.ClientController.rootelement.RentalEstimateSection","react-server.core.ClientController.rootelement.NeighborhoodStatsSection","react-server.core.ClientController.rootelement.SimilarsSection","react-server.core.ClientController.rootelement.SmartInterlinksSection","react-server.core.ClientController.rootelement.DescriptiveParagraphSection","react-server.core.ClientController.rootelement.AgentToolsWidget","react-server.core.ClientController.rootelement.LiveChatHomeDetailsWrapper"]},{name:"desktop-btf-component-good",trigger:"every",metricNames:["react-server.core.ClientController.rootelement.VideoOpenHouseSection.renderStatus.written","react-server.core.ClientController.rootelement.UrgencySection.renderStatus.written","react-server.core.ClientController.rootelement.ReverseMatchmakerSection.renderStatus.written","react-server.core.ClientController.rootelement.SharedSearchCommentsSection.renderStatus.written","react-server.core.ClientController.rootelement.MainHouseInfoPanel.renderStatus.written","react-server.core.ClientController.rootelement.OpenHouseSectionWrapper.renderStatus.written","react-server.core.ClientController.rootelement.MortgageCalculatorSection.renderStatus.written","react-server.core.ClientController.rootelement.ListingScanSection.renderStatus.written","react-server.core.ClientController.rootelement.HigherSimilarsSection.renderStatus.written","react-server.core.ClientController.rootelement.AmenitiesInfoSection.renderStatus.written","react-server.core.ClientController.rootelement.AskAnAgentSection.renderStatus.written","react-server.core.ClientController.rootelement.PropertyHistory.renderStatus.written","react-server.core.ClientController.rootelement.AboutThisBuildingSection.renderStatus.written","react-server.core.ClientController.rootelement.SchoolsSection.renderStatus.written","react-server.core.ClientController.rootelement.TourInsightsSection.renderStatus.written","react-server.core.ClientController.rootelement.ActivitySection.renderStatus.written","react-server.core.ClientController.rootelement.PublicRecordsInfoPanel.renderStatus.written","react-server.core.ClientController.rootelement.ClimateRiskDataSection.renderStatus.written","react-server.core.ClientController.rootelement.RedfinEstimateSection.renderStatus.written","react-server.core.ClientController.rootelement.RentalEstimateSection.renderStatus.written","react-server.core.ClientController.rootelement.NeighborhoodStatsSection.renderStatus.written","react-server.core.ClientController.rootelement.SimilarsSection.renderStatus.written","react-server.core.ClientController.rootelement.SmartInterlinksSection.renderStatus.written","react-server.core.ClientController.rootelement.DescriptiveParagraphSection.renderStatus.written","react-server.core.ClientController.rootelement.AgentToolsWidget.renderStatus.written","react-server.core.ClientController.rootelement.LiveChatHomeDetailsWrapper.renderStatus.written"]},{name:"desktop-btf-component-valid",trigger:"every",metricNames:["react-server.core.ClientController.rootelement.VideoOpenHouseSection.attempt","react-server.core.ClientController.rootelement.UrgencySection.attempt","react-server.core.ClientController.rootelement.ReverseMatchmakerSection.attempt","react-server.core.ClientController.rootelement.SharedSearchCommentsSection.attempt","react-server.core.ClientController.rootelement.MainHouseInfoPanel.attempt","react-server.core.ClientController.rootelement.OpenHouseSectionWrapper.attempt","react-server.core.ClientController.rootelement.MortgageCalculatorSection.attempt","react-server.core.ClientController.rootelement.ListingScanSection.attempt","react-server.core.ClientController.rootelement.HigherSimilarsSection.attempt","react-server.core.ClientController.rootelement.AmenitiesInfoSection.attempt","react-server.core.ClientController.rootelement.AskAnAgentSection.attempt","react-server.core.ClientController.rootelement.PropertyHistory.attempt","react-server.core.ClientController.rootelement.AboutThisBuildingSection.attempt","react-server.core.ClientController.rootelement.SchoolsSection.attempt","react-server.core.ClientController.rootelement.TourInsightsSection.attempt","react-server.core.ClientController.rootelement.ActivitySection.attempt","react-server.core.ClientController.rootelement.PublicRecordsInfoPanel.attempt","react-server.core.ClientController.rootelement.ClimateRiskDataSection.attempt","react-server.core.ClientController.rootelement.RedfinEstimateSection.attempt","react-server.core.ClientController.rootelement.RentalEstimateSection.attempt","react-server.core.ClientController.rootelement.NeighborhoodStatsSection.attempt","react-server.core.ClientController.rootelement.SimilarsSection.attempt","react-server.core.ClientController.rootelement.SmartInterlinksSection.attempt","react-server.core.ClientController.rootelement.DescriptiveParagraphSection.attempt","react-server.core.ClientController.rootelement.AgentToolsWidget.attempt","react-server.core.ClientController.rootelement.LiveChatHomeDetailsWrapper.attempt"]},{name:"desktop-btf-page-good",trigger:"last",metricNames:["react-server.core.renderMiddleware.rootelement.VideoOpenHouseSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.UrgencySection.renderStatus.written","react-server.core.renderMiddleware.rootelement.ReverseMatchmakerSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.SharedSearchCommentsSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.MainHouseInfoPanel.renderStatus.written","react-server.core.renderMiddleware.rootelement.OpenHouseSectionWrapper.renderStatus.written","react-server.core.renderMiddleware.rootelement.MortgageCalculatorSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.ListingScanSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.HigherSimilarsSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.AmenitiesInfoSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.AskAnAgentSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.PropertyHistory.renderStatus.written","react-server.core.renderMiddleware.rootelement.AboutThisBuildingSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.SchoolsSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.TourInsightsSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.ActivitySection.renderStatus.written","react-server.core.renderMiddleware.rootelement.PublicRecordsInfoPanel.renderStatus.written","react-server.core.renderMiddleware.rootelement.ClimateRiskDataSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.RedfinEstimateSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.RentalEstimateSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.NeighborhoodStatsSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.SimilarsSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.SmartInterlinksSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.DescriptiveParagraphSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.AgentToolsWidget.renderStatus.written","react-server.core.renderMiddleware.rootelement.LiveChatHomeDetailsWrapper.renderStatus.written"]},{name:"desktop-btf-page-valid",trigger:"last",metricNames:["react-server.core.renderMiddleware.rootelement.VideoOpenHouseSection.attempt","react-server.core.renderMiddleware.rootelement.UrgencySection.attempt","react-server.core.renderMiddleware.rootelement.ReverseMatchmakerSection.attempt","react-server.core.renderMiddleware.rootelement.SharedSearchCommentsSection.attempt","react-server.core.renderMiddleware.rootelement.MainHouseInfoPanel.attempt","react-server.core.renderMiddleware.rootelement.OpenHouseSectionWrapper.attempt","react-server.core.renderMiddleware.rootelement.MortgageCalculatorSection.attempt","react-server.core.renderMiddleware.rootelement.ListingScanSection.attempt","react-server.core.renderMiddleware.rootelement.HigherSimilarsSection.attempt","react-server.core.renderMiddleware.rootelement.AmenitiesInfoSection.attempt","react-server.core.renderMiddleware.rootelement.AskAnAgentSection.attempt","react-server.core.renderMiddleware.rootelement.PropertyHistory.attempt","react-server.core.renderMiddleware.rootelement.AboutThisBuildingSection.attempt","react-server.core.renderMiddleware.rootelement.SchoolsSection.attempt","react-server.core.renderMiddleware.rootelement.TourInsightsSection.attempt","react-server.core.renderMiddleware.rootelement.ActivitySection.attempt","react-server.core.renderMiddleware.rootelement.PublicRecordsInfoPanel.attempt","react-server.core.renderMiddleware.rootelement.ClimateRiskDataSection.attempt","react-server.core.renderMiddleware.rootelement.RedfinEstimateSection.attempt","react-server.core.renderMiddleware.rootelement.RentalEstimateSection.attempt","react-server.core.renderMiddleware.rootelement.NeighborhoodStatsSection.attempt","react-server.core.renderMiddleware.rootelement.SimilarsSection.attempt","react-server.core.renderMiddleware.rootelement.SmartInterlinksSection.attempt","react-server.core.renderMiddleware.rootelement.DescriptiveParagraphSection.attempt","react-server.core.renderMiddleware.rootelement.AgentToolsWidget.attempt","react-server.core.renderMiddleware.rootelement.LiveChatHomeDetailsWrapper.attempt"]},{name:"desktop-full-page-server-good",trigger:"every",metricNames:["react-server.core.renderMiddleware.responseCode.200"]},{name:"desktop-full-page-server-valid",trigger:"every",metricNames:["react-server.core.renderMiddleware.totalRequestTime"]},{name:"desktop-server-atf-latency",bins:{hi:1200,step:200},trigger:"every",metricNames:["react-server.core.renderMiddleware.responseCode.200"]},{name:"desktop-all-components-visible",trigger:"every",metricNames:["react-server.core.ClientController.elementVisible.Header","react-server.core.ClientController.elementVisible.AddressBannerSection","react-server.core.ClientController.elementVisible.ClickThroughSection","react-server.core.ClientController.elementVisible.NavigationBarSection","react-server.core.ClientController.elementVisible.SecondaryBannerSection","react-server.core.ClientController.elementVisible.BannerSection","react-server.core.ClientController.elementVisible.InlinePhotoPreviewSection","react-server.core.ClientController.elementVisible.DesktopMediaBrowserWithTourCTA","react-server.core.ClientController.elementVisible.SideBarContent","react-server.core.ClientController.elementVisible.MediaBannerSection","react-server.core.ClientController.elementVisible.SurveySection","react-server.core.ClientController.elementVisible.MediaDialogWithTourCTA","react-server.core.ClientController.elementVisible.VideoOpenHouseSection","react-server.core.ClientController.elementVisible.UrgencySection","react-server.core.ClientController.elementVisible.ReverseMatchmakerSection","react-server.core.ClientController.elementVisible.SharedSearchCommentsSection","react-server.core.ClientController.elementVisible.MainHouseInfoPanel","react-server.core.ClientController.elementVisible.OpenHouseSectionWrapper","react-server.core.ClientController.elementVisible.MortgageCalculatorSection","react-server.core.ClientController.elementVisible.ListingScanSection","react-server.core.ClientController.elementVisible.HigherSimilarsSection","react-server.core.ClientController.elementVisible.AmenitiesInfoSection","react-server.core.ClientController.elementVisible.AskAnAgentSection","react-server.core.ClientController.elementVisible.PropertyHistory","react-server.core.ClientController.elementVisible.AboutThisBuildingSection","react-server.core.ClientController.elementVisible.SchoolsSection","react-server.core.ClientController.elementVisible.TourInsightsSection","react-server.core.ClientController.elementVisible.ActivitySection","react-server.core.ClientController.elementVisible.PublicRecordsInfoPanel","react-server.core.ClientController.elementVisible.ClimateRiskDataSection","react-server.core.ClientController.elementVisible.RedfinEstimateSection","react-server.core.ClientController.elementVisible.RentalEstimateSection","react-server.core.ClientController.elementVisible.NeighborhoodStatsSection","react-server.core.ClientController.elementVisible.SimilarsSection","react-server.core.ClientController.elementVisible.SmartInterlinksSection","react-server.core.ClientController.elementVisible.DescriptiveParagraphSection","react-server.core.ClientController.elementVisible.AgentToolsWidget","react-server.core.ClientController.elementVisible.LiveChatHomeDetailsWrapper"]},{name:"desktop-all-components-interactive",trigger:"every",metricNames:["react-server.core.ClientController.elementInteractive.Header","react-server.core.ClientController.elementInteractive.AddressBannerSection","react-server.core.ClientController.elementInteractive.ClickThroughSection","react-server.core.ClientController.elementInteractive.NavigationBarSection","react-server.core.ClientController.elementInteractive.SecondaryBannerSection","react-server.core.ClientController.elementInteractive.BannerSection","react-server.core.ClientController.elementInteractive.InlinePhotoPreviewSection","react-server.core.ClientController.elementInteractive.DesktopMediaBrowserWithTourCTA","react-server.core.ClientController.elementInteractive.SideBarContent","react-server.core.ClientController.elementInteractive.MediaBannerSection","react-server.core.ClientController.elementInteractive.SurveySection","react-server.core.ClientController.elementInteractive.MediaDialogWithTourCTA","react-server.core.ClientController.elementInteractive.VideoOpenHouseSection","react-server.core.ClientController.elementInteractive.UrgencySection","react-server.core.ClientController.elementInteractive.ReverseMatchmakerSection","react-server.core.ClientController.elementInteractive.SharedSearchCommentsSection","react-server.core.ClientController.elementInteractive.MainHouseInfoPanel","react-server.core.ClientController.elementInteractive.OpenHouseSectionWrapper","react-server.core.ClientController.elementInteractive.MortgageCalculatorSection","react-server.core.ClientController.elementInteractive.ListingScanSection","react-server.core.ClientController.elementInteractive.HigherSimilarsSection","react-server.core.ClientController.elementInteractive.AmenitiesInfoSection","react-server.core.ClientController.elementInteractive.AskAnAgentSection","react-server.core.ClientController.elementInteractive.PropertyHistory","react-server.core.ClientController.elementInteractive.AboutThisBuildingSection","react-server.core.ClientController.elementInteractive.SchoolsSection","react-server.core.ClientController.elementInteractive.TourInsightsSection","react-server.core.ClientController.elementInteractive.ActivitySection","react-server.core.ClientController.elementInteractive.PublicRecordsInfoPanel","react-server.core.ClientController.elementInteractive.ClimateRiskDataSection","react-server.core.ClientController.elementInteractive.RedfinEstimateSection","react-server.core.ClientController.elementInteractive.RentalEstimateSection","react-server.core.ClientController.elementInteractive.NeighborhoodStatsSection","react-server.core.ClientController.elementInteractive.SimilarsSection","react-server.core.ClientController.elementInteractive.SmartInterlinksSection","react-server.core.ClientController.elementInteractive.DescriptiveParagraphSection","react-server.core.ClientController.elementInteractive.AgentToolsWidget","react-server.core.ClientController.elementInteractive.LiveChatHomeDetailsWrapper"]},{name:"desktop-full-page-good",trigger:"last",metricNames:["react-server.core.renderMiddleware.rootelement.Header.renderStatus.written","react-server.core.renderMiddleware.rootelement.AddressBannerSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.ClickThroughSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.NavigationBarSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.SecondaryBannerSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.BannerSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.InlinePhotoPreviewSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.DesktopMediaBrowserWithTourCTA.renderStatus.written","react-server.core.renderMiddleware.rootelement.SideBarContent.renderStatus.written","react-server.core.renderMiddleware.rootelement.MediaBannerSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.SurveySection.renderStatus.written","react-server.core.renderMiddleware.rootelement.MediaDialogWithTourCTA.renderStatus.written","react-server.core.renderMiddleware.rootelement.VideoOpenHouseSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.UrgencySection.renderStatus.written","react-server.core.renderMiddleware.rootelement.ReverseMatchmakerSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.SharedSearchCommentsSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.MainHouseInfoPanel.renderStatus.written","react-server.core.renderMiddleware.rootelement.OpenHouseSectionWrapper.renderStatus.written","react-server.core.renderMiddleware.rootelement.MortgageCalculatorSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.ListingScanSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.HigherSimilarsSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.AmenitiesInfoSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.AskAnAgentSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.PropertyHistory.renderStatus.written","react-server.core.renderMiddleware.rootelement.AboutThisBuildingSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.SchoolsSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.TourInsightsSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.ActivitySection.renderStatus.written","react-server.core.renderMiddleware.rootelement.PublicRecordsInfoPanel.renderStatus.written","react-server.core.renderMiddleware.rootelement.ClimateRiskDataSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.RedfinEstimateSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.RentalEstimateSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.NeighborhoodStatsSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.SimilarsSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.SmartInterlinksSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.DescriptiveParagraphSection.renderStatus.written","react-server.core.renderMiddleware.rootelement.AgentToolsWidget.renderStatus.written","react-server.core.renderMiddleware.rootelement.LiveChatHomeDetailsWrapper.renderStatus.written"]},{name:"desktop-full-page-valid",trigger:"last",metricNames:["react-server.core.renderMiddleware.rootelement.Header.attempt","react-server.core.renderMiddleware.rootelement.AddressBannerSection.attempt","react-server.core.renderMiddleware.rootelement.ClickThroughSection.attempt","react-server.core.renderMiddleware.rootelement.NavigationBarSection.attempt","react-server.core.renderMiddleware.rootelement.SecondaryBannerSection.attempt","react-server.core.renderMiddleware.rootelement.BannerSection.attempt","react-server.core.renderMiddleware.rootelement.InlinePhotoPreviewSection.attempt","react-server.core.renderMiddleware.rootelement.DesktopMediaBrowserWithTourCTA.attempt","react-server.core.renderMiddleware.rootelement.SideBarContent.attempt","react-server.core.renderMiddleware.rootelement.MediaBannerSection.attempt","react-server.core.renderMiddleware.rootelement.SurveySection.attempt","react-server.core.renderMiddleware.rootelement.MediaDialogWithTourCTA.attempt","react-server.core.renderMiddleware.rootelement.VideoOpenHouseSection.attempt","react-server.core.renderMiddleware.rootelement.UrgencySection.attempt","react-server.core.renderMiddleware.rootelement.ReverseMatchmakerSection.attempt","react-server.core.renderMiddleware.rootelement.SharedSearchCommentsSection.attempt","react-server.core.renderMiddleware.rootelement.MainHouseInfoPanel.attempt","react-server.core.renderMiddleware.rootelement.OpenHouseSectionWrapper.attempt","react-server.core.renderMiddleware.rootelement.MortgageCalculatorSection.attempt","react-server.core.renderMiddleware.rootelement.ListingScanSection.attempt","react-server.core.renderMiddleware.rootelement.HigherSimilarsSection.attempt","react-server.core.renderMiddleware.rootelement.AmenitiesInfoSection.attempt","react-server.core.renderMiddleware.rootelement.AskAnAgentSection.attempt","react-server.core.renderMiddleware.rootelement.PropertyHistory.attempt","react-server.core.renderMiddleware.rootelement.AboutThisBuildingSection.attempt","react-server.core.renderMiddleware.rootelement.SchoolsSection.attempt","react-server.core.renderMiddleware.rootelement.TourInsightsSection.attempt","react-server.core.renderMiddleware.rootelement.ActivitySection.attempt","react-server.core.renderMiddleware.rootelement.PublicRecordsInfoPanel.attempt","react-server.core.renderMiddleware.rootelement.ClimateRiskDataSection.attempt","react-server.core.renderMiddleware.rootelement.RedfinEstimateSection.attempt","react-server.core.renderMiddleware.rootelement.RentalEstimateSection.attempt","react-server.core.renderMiddleware.rootelement.NeighborhoodStatsSection.attempt","react-server.core.renderMiddleware.rootelement.SimilarsSection.attempt","react-server.core.renderMiddleware.rootelement.SmartInterlinksSection.attempt","react-server.core.renderMiddleware.rootelement.DescriptiveParagraphSection.attempt","react-server.core.renderMiddleware.rootelement.AgentToolsWidget.attempt","react-server.core.renderMiddleware.rootelement.LiveChatHomeDetailsWrapper.attempt"]},{name:"ldp-desktop-customer-conversion-latency",trigger:"every",bins:{hi:2e4,step:2e3},metricNames:["react-server.core.ClientController.rootelement.SideBarContent"]},{name:"ldp-desktop-customer-conversion-render-good",trigger:"every",metricNames:["react-server.core.renderMiddleware.rootelement.SideBarContent.renderStatus.written"]},{name:"ldp-desktop-customer-conversion-render-valid",trigger:"every",metricNames:["react-server.core.renderMiddleware.rootelement.SideBarContent.attempt"]}]},"9m7Z":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("mXGw")),i=a(n("WqrT")),s=a(n("jhpn")),l=a(n("+tVG")),u=n("iXF3"),c=n("SdOs"),d=n("vrcu");function f(e){var t=e.className,n=void 0===t?"":t,a=e.label,s=e.definition,l=void 0===s?"":s,u=e.redfin,d=e.trad,f=e.extraFlyoutProps,p=void 0===f?{}:f,m=e.labelClickTarget;return o.default.createElement("div",{className:"comparison "+n},o.default.createElement("span",{className:"redfin"},u),o.default.createElement("span",{className:"label"},o.default.createElement(i.default,(0,r.default)({term:a,definition:l,underline:!1,onShowDefinitionFlyout:m&&function(){(0,c.trackClickTarget)(m)}},p),o.default.createElement("span",{className:"definitionLabelText"},a))),o.default.createElement("span",{className:"trad"},d))}function p(e){var t=e.label,n=e.amount,a=e.explanation,r=e.labelClickTarget;return n?o.default.createElement("div",{className:"fee"},o.default.createElement("span",{className:"label"},o.default.createElement(i.default,{term:t,definition:a,underline:!1,onShowDefinitionFlyout:r&&function(){(0,c.trackClickTarget)(r)}},t)),o.default.createElement("span",{className:"amount"},(0,d.formatDollarAmt)(n))):o.default.createElement("noscript",null)}n("43d3");var m=function(e){var t=e.address,n=e.homePriceField,a=e.homePriceSliderProps,r=e.mortgageBalanceField,i=e.mortgageBalanceSliderProps,m=e.traditionalProceeds,h=e.redfinProceeds,g=e.sellAgentAmt,_=e.sellAgentAmtRedfin,v=e.sellAgentPctRedfin,y=e.sellAgentPct,E=e.buyAgentAmt,S=e.buyAgentPct,I=e.exciseTax,T=e.title,C=e.escrow,b=e.otherFees,k=e.collapsedSubsections,R=t&&t.city?"the ".concat(t.city," area"):"this location";function O(e){var t=e.name,n=e.header,a=e.children;return o.default.createElement("div",{className:"collapsible subsection "+t+(k[t]?" collapsed":"")},o.default.createElement("div",{className:"header clickable",onClick:function(){(0,u.toggleCollapsibleSubsection)({name:t})}},o.default.createElement("div",{className:"content"},n),o.default.createElement(s.default,null)),o.default.createElement("div",{className:"content"},a))}return o.default.createElement("div",{className:"SaleProceedsCalculator"},o.default.createElement("div",{className:"vsHeader subsection"},o.default.createElement("div",{className:"content"},o.default.createElement("div",{className:"redfin agent"},"Redfin Agent"),o.default.createElement("div",{className:"vs"},o.default.createElement("div",{className:"content bg-color-white"},"vs")),o.default.createElement("div",{className:"trad agent"},"Traditional Agent"))),o.default.createElement("div",{className:"proceeds subsection"},o.default.createElement("div",{className:"content"},o.default.createElement(f,{className:"proceeds",label:"Total Proceeds",definition:"Based on your estimated sale price, outstanding mortgage balance, and real estate fees and taxes, this is the estimated amount you’ll walk away with when you sell your home.",redfin:(0,d.formatDollarAmt)(h),trad:(0,d.formatDollarAmt)(m),labelClickTarget:c.clickTargets.labels.PROCEEDS}),o.default.createElement(f,{label:"Seller Agent Commission",definition:"When you sell with a Redfin Agent,"+" you pay only ".concat(v,"% of your home's sale price in commission.")+" If you list with a non-Redfin agent in ".concat(R,",")+" you'll typically pay ".concat(y,"% of your home's sale price."),redfin:"".concat((0,d.formatDollarAmt)(_)," (").concat(v,"%)"),trad:"".concat((0,d.formatDollarAmt)(g)," (").concat(y,"%)"),labelClickTarget:c.clickTargets.labels.COMMISSION}),o.default.createElement("div",{className:"subsubsectionDivider"}),o.default.createElement(l.default,{name:n.name,value:+n.value,label:"Home Sale Price",type:"currency",sliderProps:a,alwaysShowInput:!0,onTextClick:function(){(0,c.trackClickTarget)(c.clickTargets.HOME_PRICE_TEXT)},onSliderMouseUp:function(){(0,c.trackClickTarget)(c.clickTargets.HOME_PRICE_SLIDER)}}),o.default.createElement(l.default,{name:r.name,value:+r.value,label:"Outstanding Mortgage",type:"currency",sliderProps:i,alwaysShowInput:!0,onTextClick:function(){(0,c.trackClickTarget)(c.clickTargets.MORTGAGE_BALANCE_TEXT)},onSliderMouseUp:function(){(0,c.trackClickTarget)(c.clickTargets.MORTGAGE_BALANCE_SLIDER)}}))),o.default.createElement(O,{name:"services",header:"Redfin vs Traditional Agent Services"},o.default.createElement("div",{className:"comparisonHeader"},o.default.createElement("div",{className:"redfin"},"Redfin Agent"),o.default.createElement("div",{className:"trad"},"Traditional Agent")),o.default.createElement(f,{label:"Full Service Agents",definition:"Redfin Agents are local experts who provide full service at every step, for less than the typical listing fee.* Your Redfin Agent will price your home accurately, get your home market-ready, give you expert advice, and do what it takes to get the best results. Each Redfin Agent is supported by a team so you’ll get on-demand service from list to close.\\n*Minimum commissions apply. Buyer’s agent commission not included.",extraFlyoutProps:{definitionLink:"/disclaimer",moreInfoText:"See full terms and conditions."},redfin:"Yes",trad:"Yes",labelClickTarget:c.clickTargets.labels.FULL_SERVICE}),o.default.createElement(f,{label:"Premium Placement on #1 Brokerage Website",definition:"As the most trafficked U.S. real estate brokerage website, Redfin offers the most visibility. Redfin listings appear at the top of search result pages on Redfin.com and in the Redfin app, resulting in 50% more views.",redfin:"Free",trad:"No",labelClickTarget:c.clickTargets.labels.PREMIUM_PLACEMENT}),o.default.createElement(f,{label:"Professional Photography",definition:"A professional real estate photographer will shoot an assortment of images that showcase your home’s beauty and originality. These photos will be the focal point of your Redfin marketing campaign, both online and in printed materials such as full-color listing brochures.",redfin:"Free",trad:"Maybe",labelClickTarget:c.clickTargets.labels.PRO_PHOTOS}),o.default.createElement(f,{label:"3D Walkthrough™",definition:"When you sell with a Redfin Agent, we include an interactive 3D scan that lets buyers take a virtual tour of every corner of your home, whether they’re across town or on a different continent.",redfin:"Free",trad:"Maybe",labelClickTarget:c.clickTargets.labels.WALKTHROUGH})),o.default.createElement(O,{name:"fees",header:"Additional Taxes & Fees"},o.default.createElement(p,{label:"Buyer Agent Commission",amount:E,explanation:"As a seller, you are responsible for paying the buyer's agent commission,"+" which is usually ".concat(S,"% of your home's sale price in ").concat(R,".")}),o.default.createElement(p,{label:"Excise Tax",amount:I,explanation:"Excise Tax is a flat tax your local government places on real estate transactions."}),o.default.createElement(p,{label:"Title Insurance",amount:T,explanation:"Some states require sellers to pay for their buyer's title insurance policy, which insures the buyer against claims on the home other than their own."}),o.default.createElement(p,{label:"Escrow Fee",amount:C,explanation:"These fees cover the costs of holding and transferring funds in a real estate transaction."}),o.default.createElement(p,{label:"Misc. Fees",amount:b,explanation:"Other fees involved in selling your home may include a pest inspection, condo association fees, and recording fees."})))};t.default=m,e.exports=t.default},"9r8j":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=n("MAzh"),s=a(n("0XUH")),l=a(n("3rsG")),u=a(n("LDFp")),c=(a(n("94Bj")),(0,i.customerPages)());u.default.ensure(n("zOLm"));var d=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"handleRoute",value:function(e){var t=e();return this.getConfig("isRawResponse")||!this.getConfig("needUserData")?t:s.default.whenReady().then(function(){return l.default.setDirectives(c),t})}}],[{key:"optIntoAmpCSP",value:function(){var e=c.concat((0,i.ampPages)());l.default.setDirectives(e)}},{key:"optIntoCordlessAdsCSP",value:function(){var e=c.concat((0,i.dpCordlessAds)());l.default.setDirectives(e)}},{key:"optIntoDisplayAdsOpenCSP",value:function(){var e=c.concat((0,i.dpDisplayAdsOpen)());l.default.setDirectives(e)}}]),e}();t.default=d,e.exports=t.default},A0Vg:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("lSNA")),d=a(n("mXGw")),f=(a(n("17x9")),n("+xFC"));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("w3Rd");var m=n("MN6W"),h=function(e){(0,s.default)(n,e);var t=p(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,c.default)((0,i.default)(e),"_onClickNearbyHome",function(){var t={property_id:e.props.propertyId,listing_id:e.props.listingId};m.trackClick(e.props.cardClickEvent,t)}),e}return(0,o.default)(n,[{key:"render",value:function(){var e=this.props.beds?this.props.beds:"-",t=this.props.baths?this.props.baths:"-",n=this.props.sqFt.value?this.props.sqFt.value:"-",a=this.props.avmInfo?(0,f.formatPrice)(this.props.avmInfo):d.default.createElement(d.default.Fragment,null,"—"),r=this.props.streetAddress.assembledAddress?this.props.streetAddress.assembledAddress:"-",o=this.props.city?this.props.city:"-",i=this.props.state?this.props.state:"-",s="".concat(r,", ").concat(o,", ").concat(i),l=this.props.isMobile?"nearby-home-row mobile":"nearby-home-row desktop";return d.default.createElement("tr",{className:l,onClick:this._onClickNearbyHome},d.default.createElement("td",{className:"nearby-home-data"},d.default.createElement("div",null,d.default.createElement("a",{className:"nearby-home-address",href:this.props.url,title:s},r,d.default.createElement("span",{className:"comma"},", "),d.default.createElement("span",{className:"cityState"},"".concat(o,", ").concat(i)))),d.default.createElement("div",{className:"nearby-home-stats"},e," Beds | ",t," Baths | ",n," Sq. Ft.")),this.props.showAvmColumn?d.default.createElement("td",{className:"nearby-home-avm"},a):null)}}]),n}(d.default.Component);(0,c.default)(h,"displayName","redfin.homes.details.similars.react.NearbyHome"),h.propTypes={},e.exports=h},AKmY:function(e,t,n){},AXGM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shouldRenderLiveChatWidget=function(e){var t=e&&(e.refundMessagingData||e.experienceData&&(0,a.doObjectGraph)()(e.experienceData.refundMessagingData));return t&&t.cbActionType===g_contactBoxActionType.LIVE_CHAT};var a=n("Q+Iq")},AcH2:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("lSNA")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),f=a(n("17x9")),p=a(n("Tweu")),m=a(n("hwKh"));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("89eI");var _=function(e){(0,s.default)(n,e);var t=g(n);function n(e){return(0,o.default)(this,n),t.call(this,e)}return(0,i.default)(n,[{key:"_hasComments",value:function(){return this.props.userCommentStore.propertyConversation&&this.props.userCommentStore.propertyConversation.conversation&&this.props.userCommentStore.propertyConversation.conversation.length>0}},{key:"render",value:function(){var e=[];if(e.push(d.default.createElement("div",{key:"minimapdesktop"},d.default.createElement(m.default,{mainHouseInfo:this.props.mainHouseInfo,addressSectionInfo:this.props.addressSectionInfo,propertyParcelInfo:this.props.propertyParcelInfo,personalizationInfo:this.props.personalizationInfo,commuteInfo:this.props.commuteInfo,quickMapStore:this.props.quickMapStore,miniMapStore:this.props.miniMapStore,parcelStream:this.props.parcelStream,pageType:this.props.pageType,deviceConfig:this.props.deviceConfig,propertyId:this.props.propertyId,dataSourceId:this.props.dataSourceId,experimentStore:this.props.experimentStore,floodStore:this.props.floodStore}))),this.props.userCommentStore&&(this.props.userCommentStore.showCommentsSectionInMainHouseInfo&&this.props.pageType!==g_detailsPageType.OFF_MARKET||this.props.pageType===g_detailsPageType.OFF_MARKET&&this._hasComments())){var t=this.props.personalizationInfo&&this.props.personalizationInfo.isFavorite;e.push(d.default.createElement("div",{className:"links-and-notes-container",key:"lnc"},d.default.createElement(p.default,{key:"ucs",userCommentStore:this.props.userCommentStore,addressSectionInfo:this.props.addressSectionInfo,userFavorite:t})))}return e}}],[{key:"propTypes",get:function(){return{userCommentStore:f.default.object,addressSectionInfo:f.default.object,mainHouseInfo:f.default.object,propertyParcelInfo:f.default.object,personalizationInfo:f.default.object,commuteInfo:f.default.object,quickMapStore:f.default.object,miniMapStore:f.default.object,parcelStream:f.default.object,pageType:f.default.number,deviceConfig:f.default.number,propertyId:f.default.number,dataSourceId:f.default.number,experimentStore:f.default.object,floodStore:f.default.object}}}]),n}(d.Component);t.default=_,(0,c.default)(_,"displayName","MapAndComments"),_.getComponentDependencies=function(){return{dependencies:["userCommentStore","addressSectionInfo","mainHouseInfo","propertyParcelInfo","personalizationInfo","quickMapStore","miniMapStore","parcelStream","pageType","dataSourceId","floodStore"]}},e.exports=t.default},Adw9:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.PublicRecordsDisclaimerFlyout=function(){var e=r.default.createElement("a",{href:"https://support.redfin.com/hc/en-us/articles/360001454531-Public-Records-"},"Public Records page"),t=r.default.createElement("a",{href:"https://www.redfin.com/real-estate-agents"},"Redfin Agent"),n={position:"above",alignment:"center",definition:r.default.createElement("span",null,"Facts about a property entered by the listing agent in the MLS may not always match those from public county records. To learn more, visit our ",e," or get in touch with a ",t," who can help answer your questions."),underline:!1};return r.default.createElement("div",{className:"publicRecordDisclaimerFlyout"},r.default.createElement(i.default,n,"Why am I seeing different values between these sources?"))},t.createPublicRecordTabColumn=function(e,t,n,a){for(var i=n&&n.basicInfo,l=n&&n.countyName,u=a?"Listing":"Previous Listing",c=Object.keys(s),d=[],f=0,p=c;f<p.length;f++){var m=p[f],h=[],g=(0,o.default)({listItemData:!0,listItem:!0,firstRow:"beds"===m});if(h.push(r.default.createElement("th",{scope:"row",className:"listItemLabel listItem"},s[m])),e){var _="—";"beds"===m?_=e.numBedrooms||"—":"baths"===m?_=e.numBathrooms||"—":"totalSqFt"===m?_=e.approxSqFt||"—":e[m]&&(_=e[m]),h.push(r.default.createElement("td",{className:g},_))}if(t){var v="—";t[m]&&(v=t[m]),h.push(r.default.createElement("td",{className:g},v))}if(i){var y="—";"county"===m?y=l||"—":i[m]&&(y=i[m]),h.push(r.default.createElement("td",{className:g},y))}d.push(r.default.createElement("tr",null,h))}var E=1/(e&&t&&i?4:3)*100;return r.default.createElement("table",{className:"publicRecordTable"},r.default.createElement("tr",{className:"publicRecordTableHeader"},r.default.createElement("th",{className:"tableHeaderItem hide",style:{width:"".concat(E,"%")}},"PlaceholderCol"),e&&r.default.createElement("th",{scope:"col",className:"tableHeaderItem",style:{width:"".concat(E,"%")}},"Owner Update"),t&&r.default.createElement("th",{scope:"col",className:"tableHeaderItem",style:{width:"".concat(E,"%")}},u),i&&r.default.createElement("th",{scope:"col",className:"tableHeaderItem",style:{width:"".concat(E,"%")}},"Public Record")),d)};var r=a(n("mXGw")),o=a(n("8Jek")),i=a(n("WqrT")),s={beds:"Beds",baths:"Baths",sqFtFinished:"Finished Sq. Ft.",sqFtUnfinished:"Unfinished Sq. Ft.",totalSqFt:"Total Sq. Ft.",numStories:"Stories",lotSqFt:"Lot Size",propertyTypeName:"Style",yearBuilt:"Year Built",yearRenovated:"Year Renovated",county:"County",apn:"APN"}},AlHl:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.formName,n=e.fields,a=e.submittedContactInfo,r=e.showExpandedForm;if(a)return(0,s.isValidNumber)(a)&&(a=(0,s.formatPhoneNumberParens)(a)),o.default.createElement(_,{submittedContactInfo:a});return o.default.createElement(v,{formName:t,fields:n,showExpandedForm:r})};var r=a(n("pVnL")),o=a(n("mXGw")),i=a(n("z3/0")),s=n("VzMp"),l=a(n("8Jek")),u=a(n("Xecl")),c=a(n("vH3W")),d=a(n("ma35")),f=a(n("BlgU")),p=a(n("4Ot/")),m=n("4KIY"),h=n("GoxZ"),g=a(n("6YqF"));function _(e){var t=e.submittedContactInfo;return o.default.createElement("div",{className:"contactFormConfirmation"},o.default.createElement("div",null,"We'll get back to you at:"),o.default.createElement("div",{className:"submittedContactInfosection"},o.default.createElement("div",{className:"contactInfo"},t),o.default.createElement(i.default,{className:"confirmationCheck"})))}function v(e){var t=e.formName,n=e.fields,a=e.showExpandedForm,r=!n.name,i=a?null:o.default.createElement("div",null,"Get a reply by text or email."),s=(0,l.default)("userContactForm",{expandedUserContactForm:a});return o.default.createElement(p.default,{className:s,formName:t},i,o.default.createElement(y,{fieldData:n.name}),o.default.createElement(E,{isSignedIn:r,fieldData:n.emailOrPhone}),o.default.createElement(I,{fieldData:n.howCanWeHelpYou}),o.default.createElement(T,{isSignedIn:r}))}function y(e){var t=e.fieldData;return t?o.default.createElement(u.default,(0,r.default)({className:"nameField"},t,{placeholder:"First and last name",onBlur:m.textFieldBlur,onFocus:function(){g.default.trackClickWithDefaults(g.default.clicks.getContactInfoNameField()),(0,m.textFieldFocus)(h.textFields.NAME)}})):o.default.createElement("noscript",null)}function E(e){var t=e.isSignedIn,n=e.fieldData;return o.default.createElement("div",{className:"emailOrPhoneSection"},o.default.createElement(u.default,(0,r.default)({className:t?"emailOrPhoneFieldShowButton":"emailOrPhoneFieldExpanded"},n,{placeholder:"Email or phone number",onBlur:m.textFieldBlur,onFocus:function(){g.default.trackClickWithDefaults(g.default.clicks.getContactInfoContactField()),(0,m.textFieldFocus)(h.textFields.EMAIL_OR_PHONE)}})),o.default.createElement(S,{isSignedIn:t}))}function S(e){return e.isSignedIn?o.default.createElement(d.default,{type:"primary",className:"emailOrPhoneButton",svgAsset:f.default,formSubmit:!0}):o.default.createElement("noscript",null)}function I(e){var t=e.fieldData;return t?o.default.createElement(c.default,(0,r.default)({className:"howCanWeHelpYouField"},t,{onBlur:m.textFieldBlur,onFocus:function(){g.default.trackClickWithDefaults(g.default.clicks.getContactInfoMessageField()),(0,m.textFieldFocus)(h.textFields.HOW_CAN_WE_HELP_YOU)}})):o.default.createElement("noscript",null)}function T(e){return e.isSignedIn?o.default.createElement("noscript",null):o.default.createElement(d.default,{type:"primary",className:"sendContactInfoButton",formSubmit:!0},"Send")}n("LVWs"),e.exports=t.default},An05:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,n,a;return"Have We Met?",t=e.fields.email.value+" is already associated with a Redfin account. Please sign in to continue, or use a different email.",n=r.default.createElement(o.default,{size:"large",type:"tertiary",onClick:c},"Use a Different Email"),a=r.default.createElement(o.default,{size:"large",type:"primary",onClick:d.bind(this,e.fields.email.value)},"Sign In"),r.default.createElement(s.default,{showCloseButton:!1},r.default.createElement("div",{className:"aaq-have-we-met secondary-dialog"},r.default.createElement("div",{className:"title row"},"Have We Met?"),r.default.createElement("div",{className:"message row"},t),r.default.createElement("div",{className:"cta-buttons"},n,a)))};var r=a(n("mXGw")),o=a(n("ma35")),i=n("f2dk"),s=a(n("hzyT")),l=a(n("iDTg")),u=a(n("Tt+I"));function c(){l.default.hideHaveWeMetDialog()}function d(e){(0,i.showLoginLightboxIfNeeded)({registrationReason:g_registrationReason.CONTACT_AGENT,suppressEntrypointTracking:!0,view:u.default.SIGN_IN_FORM,loginOnly:!0,loginEmail:e}).then(l.default.loginSuccess)}n("liRG"),e.exports=t.default},Ao91:function(e,t,n){},AusB:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lSNA")),o=n("Q+Iq");function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var s=(0,n("TlVh").createStoreFactory)({init:function(e,t,n){this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({requestParams:this.getRequestParams(e,t,n)},this.setUpActions()))},setUpActions:function(){return{actions:{fetchUtilitiesData:this.fetchUtilitiesData}}},fetchUtilitiesData:function(){var e=this;this.state.utilitiesInfo||(0,o.getEndpoint)("/stingray/api/home/details/getUtilitiesData",this.state.requestParams).then(function(t){e.setState({utilitiesInfo:t})})},getRequestParams:function(e,t,n){var a,r,o,i=t||(null==n?void 0:n.addressSectionInfo),s={propertyId:e};i&&(s.address=null===(a=i.streetAddress)||void 0===a?void 0:a.assembledAddress,s.zip=i.zip,s.city=i.city,s.state=i.state,s.latitude=null===(r=i.latLong)||void 0===r?void 0:r.latitude,s.longitude=null===(o=i.latLong)||void 0===o?void 0:o.longitude);return s}});t.default=s,e.exports=t.default},B3cr:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("TlVh"),o=n("FNRH"),i=n("2nT6"),s=a(n("2FT6")),l=(0,r.createStoreFactory)({init:function(e){var t=!!e&&e.hasPropertyHistory;this.setState({renderMediaBrowser:!1,isListView:!1,selectedTab:t?i.SALE_HISTORY_TAB_INDEX:i.TAX_HISTORY_TAB_INDEX,expandSection:!1}),this.setupActions()},setupActions:function(){this.listenTo(s.default.openMediaBrowser,this.onOpenPropertyHistoryMediaBrowser),this.listenTo(s.default.closeMediaBrowser,this.onCloseListView),this.listenTo(s.default.toggleSection,this.onToggleSection),this.listenTo(s.default.selectTab,this.onSelectTab)},onCloseListView:function(){this.setState({renderMediaBrowser:!1})},onOpenPropertyHistoryMediaBrowser:function(e,t){this.setState({renderMediaBrowser:!0,isListView:e,selectedMedia:o.MEDIA_OPTIONS.PHOTOS,photoIndex:t})},onToggleSection:function(e){this.setState({expandSection:e})},onSelectTab:function(e){this.setState({selectedTab:e})}});t.default=l,e.exports=t.default},B5BY:function(e,t,n){},B5Ma:function(e,t,n){},B7XB:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),i=(a(n("17x9")),a(n("r1vo"))),s=a(n("uZbT")),l=n("+xFC"),u=a(n("cIxY"));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}n("GnpT");function d(e){var t=e.homeSalePrice,n=e.outstandingMortgage,a=e.otherCosts,r=e.sellingFee,c=(0,u.default)({homeSalePrice:t,outstandingMortgage:n,otherCosts:a,sellingFee:r});return o.default.createElement("div",{className:"EstimatedHomeEquity"},o.default.createElement("div",{className:"labelAndNumber"},o.default.createElement("span",{className:"label"},"Estimated home equity: "),o.default.createElement("strong",{className:"number"},o.default.createElement(s.default,{duration:300,value:c,formatValue:function(e){return(0,l.formatPrice)(e)}}))),c<0&&o.default.createElement(i.default,null,"You'll need additional funds to cover your selling costs"))}d.propTypes={},d.displayName="EstimatedHomeEquity";var f=(0,o.memo)(d);t.default=f,e.exports=t.default},BCZJ:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),f=a(n("xARA")),p=a(n("17x9")),m=n("DyRb");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var _=function(e){(0,l.default)(n,e);var t=g(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.windowWidth=f.default.findDOMNode(this.refs.contactBox0).offsetWidth}},{key:"render",value:function(){var e=this.props.classes.indexOf("contactBoxMultiWindowWithAnimation")>-1,t=this.props.classes.indexOf("partnerSellside")>-1&&1===this.props.position;return d.default.createElement("div",{className:(0,m.getClassSet)({contactBoxMultiWindowViewport:!0,contactBoxMultiWindowWithAnimation:e},this.props),style:{height:t?150:null}},d.default.createElement("div",{className:"contactBoxMultiWindow",style:{left:-1*this.windowWidth*this.props.position}},this.props.views.map(function(e,t){return d.default.createElement(this.props.ContactBox,(0,o.default)({key:t,ref:"contactBox"+t,isDisplayed:t===this.props.position,isPrimaryCta:this.props.isPrimaryCta,TourPopup:this.props.TourPopup,sideBarStore:this.props.sideBarStore,showSellerConsultDialogCallback:this.props.showSellerConsultDialogCallback,showAAQDialogCallback:this.props.showAAQDialogCallback,generalInquiryActions:this.props.generalInquiryActions,generalInquiryDialog:this.props.generalInquiryDialog,liveChatWidgetAction:this.props.liveChatWidgetAction,deviceConfig:this.props.deviceConfig,isPartnerAgent:this.props.isPartnerAgent,contactBoxInfo:this.props.contactBoxInfo},e))},this)))}}],[{key:"displayName",get:function(){return"ContactBoxMultiWindow"}},{key:"propTypes",get:function(){return{classes:p.default.arrayOf(p.default.string),views:p.default.arrayOf(p.default.object),position:p.default.number,isTabbed:p.default.bool,isDisplayed:p.default.bool,isPrimaryCta:p.default.bool,sideBarStore:p.default.object,showSellerConsultDialogCallback:p.default.func,showAAQDialogCallback:p.default.func,generalInquiryActions:p.default.object,generalInquiryDialog:p.default.func,liveChatWidgetAction:p.default.object,deviceConfig:p.default.number}}},{key:"getDefaultProps",get:function(){return{classes:[],views:[],position:0,isTabbed:!1}}}]),n}(d.Component);t.default=_,e.exports=t.default},BLuO:function(e,t,n){},BMUa:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("17x9")),d=n("mXGw"),f=a(n("1AMb")),p=a(n("Zks4")),m=a(n("ed/o"));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var g=function(e){(0,s.default)(n,e);var t=h(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"componentDidMount",value:function(){m.default.calculatorDidMount(this.domNode)}},{key:"render",value:function(){var e=this,t=this.props,n=t.mortgageCalculatorStore,a=t.homeEquityCalculatorStore,o=t.deviceConfig,i=g_deviceConfiguration.PHONE===o?{display:"none"}:{};return n?React.createElement(f.default,{name:"MortgageCalculatorSection",addTopRule:this.props.addTopRule,id:"mortgage-calculator-scroll"},React.createElement("div",{className:"sectionContainer","data-rf-test-id":"MortgageCalculator",ref:function(t){return e.domNode=t}},React.createElement("h2",{className:"heading-medium inline-block mcSectionTitle",style:i},"Payment Calculator"),React.createElement(p.default,(0,r.default)({},n,{homeEquityCalculatorStore:a,isCoop:n.defaults.isCoop,coopEstimatedPropertyTaxRate:n.defaults.coopEstimatedPropertyTaxRate})))):null}}],[{key:"displayName",get:function(){return"MortgageCalculatorSection"}},{key:"propTypes",get:function(){return{mortgageCalculatorStore:c.default.shape({defaults:c.default.object})}}},{key:"defaultProps",get:function(){return{addTopRule:!0}}},{key:"getComponentDependencies",value:function(){return{dependencies:["mortgageCalculatorStore","homeEquityCalculatorStore"]}}}]),n}(d.Component);t.default=g,e.exports=t.default},BTgH:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),d=a(n("17x9")),f=a(n("ma35")),p=a(n("VMur")),m=a(n("eTJ6")),h=n("WFin"),g=a(n("wYmU"));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("Z4wH");var y=function(e){(0,s.default)(n,e);var t=v(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={showFlyout:!1,currentOpenCollapsibleItem:null},a}return(0,i.default)(n,[{key:"onToggleFlyout",value:function(){g.default.trackClick(g.default.clicks.CALC_COMPARISON_SEE_HOW_WE_CALCULATED),this.setState({showFlyout:!this.state.showFlyout})}},{key:"onBlur",value:function(){this.setState({showFlyout:!1,currentOpenCollapsibleItem:null})}},{key:"onToggleCollapsibleItem",value:function(e,t){e?this.setState({currentOpenCollapsibleItem:t}):this.setState({currentOpenCollapsibleItem:null})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.savingsPercent,a=e.listingFee,r=e.redfinRefund,o=e.estimatedHomeEquity,i=e.totalEquity,s={redfinRefund:r,listingPrice:e.listingPrice,savingsPercent:n,listingFee:a,riftSection:e.riftSection,onToggleCollapsibleItem:this.onToggleCollapsibleItem.bind(this),currentOpenCollapsibleItem:this.state.currentOpenCollapsibleItem},l=E("Home Equity",o),u=function(e){var t=e.redfinRefund,n=e.listingPrice,a=e.riftSection,r=e.onToggleCollapsibleItem,o=e.currentOpenCollapsibleItem;if(!t||"$0"===t)return null;return c.default.createElement("div",{className:"comparison-line-item"},c.default.createElement(m.default,{heading:"Redfin Refund",onToggleClick:function(e){var t=e.isCollapsed;return r(t,h.BuyAndSellCollapsibleItems.REDFIN_REFUND)},isCollapsed:o!==h.BuyAndSellCollapsibleItems.REDFIN_REFUND,uncontrolled:!1},"Buy with Redfin and we'll give you a part of the commission the seller pays us. If you bought this home for its list price of ",n,", we would give you ",t," back. Redfin Refund not available in all areas, subject to lender approval and minimum commissions. ",c.default.createElement(S,{riftSection:a,riftTarget:"redfin_refund_disclaimer"})),c.default.createElement("span",{className:"comparison-line-value collapse"},"+ ",t))}(s),d=function(e){var t=e.savingsPercent,n=e.listingFee,a=e.riftSection,r=e.onToggleCollapsibleItem,o=e.currentOpenCollapsibleItem;return t&&n&&c.default.createElement("div",{className:"comparison-line-item"},c.default.createElement(m.default,{heading:"Listing Fee (1%)",onToggleClick:function(e){var t=e.isCollapsed;return r(t,h.BuyAndSellCollapsibleItems.LISTING_FEE)},isCollapsed:o!==h.BuyAndSellCollapsibleItems.LISTING_FEE,uncontrolled:!1},"Sell for a 1% listing fee only if you also buy with Redfin within 365 days of closing on your Redfin listing. If you sell first, we will initially charge a 1.5% listing fee and then send you a check for the 0.5% difference after you buy your next home with Redfin. Buyer's agent fee not included. ",c.default.createElement(S,{riftSection:a,riftTarget:"listing_fee_disclaimer"})),c.default.createElement("span",{className:"comparison-line-value collapse"},"- ",n))||E("Listing Fee (3%)","- ".concat(n))}(s),g=E("Total Equity",i,"total-equity"),_=c.default.createElement("div",null,l,u,d,g);return c.default.createElement("div",{className:"BuyAndSellComparisonFlyout margin-top-smaller"},c.default.createElement(f.default,{className:"flyout-link text unpadded",onClick:this.onToggleFlyout.bind(this)},"See how we calculated this"),c.default.createElement(p.default,{title:t,position:"right",alignment:"center",showDialogOnSmallScreen:!0,dialogProps:{className:"BuyAndSellComparisonDialog"},show:this.state.showFlyout,onBlur:this.onBlur.bind(this)},_))}}],[{key:"propTypes",get:function(){return{title:d.default.string.isRequired,listingFee:d.default.string.isRequired,redfinRefund:d.default.string,estimatedHomeEquity:d.default.string.isRequired,totalEquity:d.default.string.isRequired,listingPrice:d.default.string.isRequired,riftSection:d.default.string.isRequired}}}]),n}(c.Component);function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return c.default.createElement("div",{className:"comparison-line-item ".concat(n)},c.default.createElement("span",null,e),c.default.createElement("span",{className:"comparison-line-value"},t))}function S(e){var t=e.riftSection,n=e.riftTarget;return c.default.createElement("a",{href:"/disclaimer",target:"_blank",rel:"noreferrer noopener",className:"learn-more-link clickable",onClick:function(){return g.default.trackClick({section:t,target:n})}},"Learn more")}t.default=y,e.exports=t.default},BXnI:function(e,t,n){},BYaZ:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("LDFp"));o.default.ensure(n("tTYd"));var i=n("pBXq").default,s=(0,r.default)(new i,{name:"RefundRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],clicks:{CTA_BUTTON:{section:"contact_box",target:"cta_button",trackGA:!0,expectedParams:["agent_id","star_rating","num_reviews","num_closed_deals","is_partner","has_refund","has_phone_number","device_category","text","customer_status"]},PARTNER_CTA_BUTTON:{section:"partner_contact_box",target:"cta_button",trackGA:!0,expectedParams:["agent_id","star_rating","num_reviews","num_closed_deals","is_partner","has_refund","has_phone_number","device_category","text","customer_status"]},PHONE_NUMBER:{section:"contact_box",target:"phone_number",trackGA:!0,expectedParams:["agent_id","star_rating","num_reviews","num_closed_deals","is_partner","has_refund","has_phone_number","device_category"]},PHONE_NUMBER_TEXT:{section:"contact_box",target:"text_button",trackGA:!0,expectedParams:["agent_id","star_rating","num_reviews","num_closed_deals","is_partner","has_refund","has_phone_number","device_category"]},PHONE_NUMBER_CALL:{section:"contact_box",target:"call_button",trackGA:!0,expectedParams:["agent_id","star_rating","num_reviews","num_closed_deals","is_partner","has_refund","has_phone_number","device_category"]},PHONE_NUMBER_DIALOG_CLOSE:{section:"contact_box",target:"phone_number",trackGA:!0,expectedParams:["agent_id","star_rating","num_reviews","num_closed_deals","is_partner","has_refund","has_phone_number","device_category"]},REFUND:{section:"contact_box",target:"refund",trackGA:!0,expectedParams:["refund_value","device_category"]},REFUND_FLYOUT_MORE_INFO:{section:"contact_box_refund_flyout",target:"more_link",trackGA:!0,expectedParams:["device_category"]},START_AN_OFFER:{section:"contact_box",target:"start_an_offer",trackGA:!0,expectedParams:["agent_id","star_rating","num_reviews","num_closed_deals","is_partner","has_refund","has_phone_number","device_category"]},PARTNER_START_AN_OFFER:{section:"partner_contact_box",target:"start_an_offer",trackGA:!0,expectedParams:["agent_id","star_rating","num_reviews","num_closed_deals","is_partner","has_refund","has_phone_number","device_category"]}},impressions:{SECTION:{section:"contact_box",trackGA:!0,expectedParams:["text","refund_value","device_category"]},HIDDEN_REFUND_EXPERIMENT_ELIGIBLE:{section:"ldp_refund_experiment_eligible",expectedParams:["device_category"]},START_AN_OFFER:{section:"contact_box",target:"start_an_offer"},PARTNER_START_AN_OFFER:{section:"partner_contact_box",target:"start_an_offer"},PHONE_TEXT_CALL_DIALOG:{section:"contact_box",expectedParams:["device_category"]}}});e.exports=s},"Ba2+":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.createHomeDetailsStoreFactory=void 0;var r=a(n("pVnL")),o=n("mUvu"),i={callEndpoints:function(e){return this.callPageEndpoints?this.callPageEndpoints(e):null},mapPromisesToData:function(e){return this.mapPagePromisesToData?this.mapPagePromisesToData(e):null},getSubstores:function(e){return this.getPageSubstores?this.getPageSubstores(e):null}};t.createHomeDetailsStoreFactory=function(e){return(0,o.createDPStoreFactory)((0,r.default)({},i,e))}},BcrJ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mwIZ")),o=a(n("94Bj")),i=a(n("x3Yk")),s=n("TlVh"),l=a(n("tVyV")),u=n("BHWi"),c=(0,s.createStoreFactory)({init:function(e){if(!e||!e.propertyId)throw new Error("propertyId not defined");if(o.default.isOn(l.default)){if(!this.pageTypeIsSupported(e))return void this.setState({isOpendoorEligible:!1});this.setOpendoorPurchaseEstimateEligibility(e.propertyId)}},pageTypeIsSupported:function(e){return e.pageType===g_detailsPageType.OFF_MARKET},setOpendoorPurchaseEstimateEligibility:function(e){var t=(0,i.default)("/stingray/opendoor/api/estimate/forProperty/".concat(e)).then(u.getPayloadOrThrowError);this.setState({isOpendoorEligible:t.then(function(e){return(0,r.default)(e,"eligible")}),opendoorPurchaseEstimateValue:t.then(function(e){return(0,r.default)(e,"valueEstimate.value")})})}});t.default=c,e.exports=t.default},BxHH:function(e,t,n){"use strict";var a=n("R16N");e.exports=a.createActions(["updateComingSoonListingUpdatesSubscription","scheduleEarlyTour"])},CCNK:function(e,t,n){},"CH+5":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=_;var r=a(n("NIJN")),o=(a(n("17x9")),a(n("mXGw"))),i=a(n("NFCW")),s=a(n("g9ws")),l=a(n("usTY")),u=a(n("Luu8")),c=a(n("NcWF")),d=a(n("Mba0")),f=a(n("cyv2")),p=a(n("McMD")),m=n("RxnA"),h=a(n("8Jek")),g=n("haQS");function _(e){var t=(0,r.default)(e.stageHistory,e.currentStage),n=e.isMobile?(0,m.getScreenWidth)()-50:e.sectionWidth,a=e.isMobile?"80vh":e.showBDXExperience&&e.currentStage===g_askAQuestionStage.NAME_WITH_CONTACT?380:330;a=(0,g.isPartnerSuggestedMessagesEligible)(e)&&e.currentStage===g_askAQuestionStage.QUESTION&&!e.isInVariantForPartnerLDPRemoveAgentInfo?395:a,a=e.isPartnerAssigned&&e.currentStage===g_askAQuestionStage.CONFIRMATION?420:a;var _={width:n,height:a=e.showPartnerAAQConfirmRevamp?"auto":a},v=(0,h.default)({"multiStage-aaq-form-stage":!0,"center-content":e.currentStage===g_askAQuestionStage.NAME_WITH_CONTACT}),y=(0,h.default)("multiStage-aaq-form-container",{"partner-horizontal-progress":e.showPartnerAAQConfirmRevamp&&"HorizontalProgress"===e.partnerAAQConfirmVariant,"partner-vertical-progress":e.showPartnerAAQConfirmRevamp&&"VerticalProgress"===e.partnerAAQConfirmVariant});return o.default.createElement("div",{className:"multiStage-aaq-main-container"},o.default.createElement(f.default,{className:y,currentSection:t?t.indexOf(e.currentStage):null,sectionWidth:n,useMobileStyle:!1},t.map(function(n){return o.default.createElement("section",{className:"multiStage-aaq-form-section",key:t.indexOf(n)},o.default.createElement("div",{className:v,style:_},function(e,t){switch(e){case g_askAQuestionStage.QUESTION:return o.default.createElement(i.default,t);case g_askAQuestionStage.NAME:return o.default.createElement(s.default,t);case g_askAQuestionStage.CONTACT:return o.default.createElement(l.default,t);case g_askAQuestionStage.NAME_WITH_CONTACT:return o.default.createElement(u.default,t);case g_askAQuestionStage.PHONE_ONLY:return o.default.createElement(c.default,t);case g_askAQuestionStage.CONFIRMATION:return o.default.createElement(d.default,t);default:return o.default.createElement(p.default,null)}}(n,e)))})))}n("+7Pm"),_.propTypes={},e.exports=t.default},CHyQ:function(e,t,n){},CR7A:function(e,t,n){},Coxz:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("PJYZ")),u=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=a(n("17x9")),p=n("mXGw"),m=a(n("8Jek")),h=a(n("1RMg")),g=a(n("aVrQ")),_=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=W(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("ss/Q")),v=n("jDxM"),y=n("osI4"),E=n("VzMp"),S=n("AYTD"),I=n("n1rO"),T=a(n("KLmJ")),C=a(n("WqrT")),b=a(n("OFlL")),k=a(n("adRd")),R=a(n("1AMb")),O=a(n("bXwE")),N=a(n("h1NK")),A=a(n("W0u/")),P=a(n("W7xe")),D=a(n("ma35")),w=a(n("bo1D")),L=a(n("h1Tg")),M=a(n("Eo6n")),x=a(n("8ty+")),F=a(n("TNXy")),B=a(n("gImD")),H=a(n("Kz9E")),U=a(n("CyYD")),j=a(n("2FT6")),q=n("2nT6");function W(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(W=function(e){return e?n:t})(e)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}n("u2VA");var G=function(e){(0,u.default)(n,e);var t=V(n);function n(e){var a;return(0,i.default)(this,n),(a=t.call(this,e))._categorizedAmenities=_.getSimplifiedKeyFactEntries(a.props.addressSectionInfo,a.props.mainHouseInfo,a.props.publicRecordsInfo),a.isPhone="phone"===(0,y.getCurrentDeviceType)(),a.handleFullDetailsClick=a.handleFullDetailsClick.bind((0,l.default)(a)),a}return(0,s.default)(n,[{key:"componentDidMount",value:function(){L.default.trackImpression(L.default.impressions.PROPERTY_DETAILS,{},this.domNode),this.trackNodes(),this.mounted=!0}},{key:"componentDidUpdate",value:function(){this.trackNodes()}},{key:"createPriceInsightsAndHomeFacts",value:function(e,t){var n=e.content,a=null,r=(0,m.default)("compactPropertyDetailItem","keyFacts",{"agent-only":e.displayLevel===g_displayLevel.AGENT_ACCESSIBLE});if(e.statusInfo){var i=e.statusInfo;if(i.definition){var s=i.hasOwnProperty("longerDefinitionToken")&&i.longerDefinitionToken?"/definition/"+i.longerDefinitionToken:"";a=React.createElement(C.default,{term:i.displayValue,position:"below",alignment:"left",definition:i.definition,definitionLink:s,onClickDefinitionLink:function(){L.default.trackClick(L.default.clicks.STATUS_FLYOUT_LINK,{status:i.displayValue})}},i.displayValue)}else a=i.displayValue;return React.createElement("div",{className:r,key:t},React.createElement("span",{className:"header"},e.header),React.createElement("span",{className:"content text-right"},a))}if(e.showLastPropertyFlyout){var l={position:"below",alignment:"left",definition:"The owner for this home paid "+e.amount+" in property taxes"+(e.currentYear?" in "+e.currentYear:"")+(e.percentChange?", "+e.percentChange+(e.increase?" more":" less")+" compared to "+e.previousYear+".":"."),term:"Last Property Tax",moreInfoText:"See tax history",definitionLink:"#property-history"};a=React.createElement(C.default,(0,o.default)({},l,{onClickDefinitionLink:function(){M.default.trackClick(M.default.clicks.LAST_PROPERTY_TAX)},handleMoreInfoTextClick:function(){j.default.toggleSection(!0),j.default.selectTab(q.TAX_HISTORY_TAB_INDEX),M.default.trackClick(M.default.clicks.LAST_PROPERTY_TAX_HISTORY_LINK)}}),"Last Property Tax");var u=(0,m.default)({"text-right":!0,content:!0});return React.createElement("div",{className:r,key:"".concat(t,"-").concat(e.hidden)},React.createElement("div",{className:"header"},a),React.createElement("div",{className:u},n))}if(e.shouldShowInfoFlyout)return this.isPhone?(a=this.buyerCommissionFlyout("Buyer's Agent Commission",n),React.createElement("div",{className:r,key:t},React.createElement("span",{className:"header"},a),React.createElement("span",{className:"content text-right"},n))):(a=React.createElement("div",{className:"isDesktop inline-block"},this.buyerCommissionFlyout("Buyer's Agent Commission",n)),React.createElement("div",{className:r,key:t},React.createElement("div",{className:"header"},a),React.createElement("div",{className:"content text-right"},n)));if(e.showAVMFlyout){var c={position:"below",alignment:"left",definition:React.createElement(b.default,{riftTracker:L.default})};return a=React.createElement(C.default,(0,o.default)({},c,{onClickDefinitionLink:function(){L.default.trackClick(L.default.clicks.ESTIMATE_FLYOUT_LINK)}}),"Redfin Estimate"),React.createElement("div",{className:r,key:t},React.createElement("span",{className:"header"},a),React.createElement("span",{className:"content text-right"},n))}return n=e.url?"Building"===e.header?React.createElement("a",{href:e.url,target:"_top",className:"key-facts-link",onClick:this.handleClick},n):React.createElement("a",{href:e.url,target:"_top",className:"key-facts-link"},n):T.default.checkHtml(n),React.createElement("div",{className:r,key:t},React.createElement("span",{className:"header"},e.header,a),React.createElement("span",{className:"content text-right"},n))}},{key:"handleClick",value:function(){w.default.trackClick(w.default.clicks.KEY_DETAILS)}},{key:"handleFullDetailsClick",value:function(){L.default.trackClick(L.default.clicks.FULL_DETAILS),this.props.propertyDetailsDrawerDialogStore.actions.onDialogOpen()}},{key:"handleDragClose",value:function(){L.default.trackClick(L.default.clicks.DRAG_CLOSE)}},{key:"handleClickClose",value:function(){L.default.trackClick(L.default.clicks.CLICK_CLOSE)}},{key:"buyerCommissionFlyout",value:function(e,t){return React.createElement(C.default,{position:k.default.position,alignment:"left",term:k.default.term,definition:k.default.getPercentageDefinition(t),definitionLink:k.default.definitionLink,moreInfoText:k.default.moreInfoText,onClickDefinitionLink:function(){L.default.trackClick(L.default.clicks.BUYERS_COMMISSION_FLYOUT)}},e)}},{key:"mapEntry",value:function(e,t){for(var n=e.amenityName,a=void 0===n?null:n,r=e.displayLevel,o=e.amenityValues,i=void 0===o?[]:o,s=[],l=0;l<i.length;++l){var u=i[l];this.isPhone&&(0,E.isValidNumber)(u)&&(u="<a href='tel:"+u+"'>"+u+"</a>"),s.push(u)}var c=s.join(", "),d=a?a+": ":null;return React.createElement("li",{key:t,className:"entryItem "+(this.isPhone?"isPhone ":"")+(r===g_displayLevel.AGENT_ACCESSIBLE?"agent-only":"")},React.createElement("span",{className:"entryItemContent"},d,React.createElement("span",{dangerouslySetInnerHTML:{__html:c}})))}},{key:"createAmenitiesForSuperGroup",value:function(e){var t=this;return e.map(function(e){return t.createAmenityForSubGroup(e)})}},{key:"createAmenityForSubGroup",value:function(e){var t=this,n=e.amenityEntries.map(function(e,n){return t.mapEntry(e,n)});return React.createElement("div",{className:"compactPropertyDetailItem"},React.createElement("div",{className:"listHeader "+(this.isPhone?"isPhone ":"")},e.groupTitle),React.createElement("ul",{className:"listContent"},n))}},{key:"onPublicRecordsLinkClick",value:function(e){e.preventDefault(),(0,S.navigateToSectionId)("public-records")}},{key:"calculateCollapsedPreviewHeight",value:function(){if(this.isPhone){return 156}return 360}},{key:"trackNodes",value:function(){this.interiorDomNode&&(this.interiorUnsubscribe&&this.interiorUnsubscribe(),this.interiorUnsubscribe=(0,I.trackNode)({bufferValue:0,domNode:this.interiorDomNode,nodeId:"InteriorSubsection",scrollParent:this.dialogNode,onEnterViewCallback:function(){L.default.trackImpression(L.default.impressions.SUBSECTION_INTERIOR,{})}})),this.exteriorDomNode&&(this.exteriorUnsubscribe&&this.exteriorUnsubscribe(),this.exteriorUnsubscribe=(0,I.trackNode)({bufferValue:0,domNode:this.exteriorDomNode,nodeId:"ExteriorSubsection",scrollParent:this.dialogNode,onEnterViewCallback:function(){L.default.trackImpression(L.default.impressions.SUBSECTION_EXTERIOR,{})}})),this.neighborDomNode&&(this.neighborUnsubscribe&&this.neighborUnsubscribe(),this.neighborUnsubscribe=(0,I.trackNode)({bufferValue:0,domNode:this.neighborDomNode,nodeId:"NeighborSubsection",scrollParent:this.dialogNode,onEnterViewCallback:function(){L.default.trackImpression(L.default.impressions.SUBSECTION_NEIGHBORHOOD,{})}})),this.otherDomNode&&(this.otherUnsubscribe&&this.otherUnsubscribe(),this.otherUnsubscribe=(0,I.trackNode)({bufferValue:0,domNode:this.otherDomNode,nodeId:"OtherSubsection",scrollParent:this.dialogNode,onEnterViewCallback:function(){L.default.trackImpression(L.default.impressions.SUBSECTION_OTHER,{})}}))}},{key:"render",value:function(){var e=this,t=this.props.pageType;if(!h.default.isOn(g.default)||"VARIANT"!==h.default.getVariant(g.default))return null;var n,a=React.createElement(x.default,{className:"icon"}),r=this._categorizedAmenities.previewKeyFacts.concat(this._categorizedAmenities.modalKeyFacts),o=this._categorizedAmenities.previewKeyFacts.map(function(t,n){return e.createPriceInsightsAndHomeFacts(t,n)}),i=r.filter(function(t){return!(e.props.isPDP&&(t.header.includes("Price")||"Buyer’s Agent Commission"===t.header))}).map(function(t,n){return e.createPriceInsightsAndHomeFacts(t,n)}),s=React.createElement(D.default,{className:"tertiary-alt fullDetailsButton",onClick:this.handleFullDetailsClick},"See Full Details"),l=o&&o.length>0&&React.createElement("div",{className:"compactPropertyDetailsGroup previewKeyFacts"},React.createElement(P.default,{title:"Key Facts",icon:a,hideHeader:this.isPhone,childComponents:o})),u=i&&i.length>0&&React.createElement("div",{className:"compactPropertyDetailsGroup"},React.createElement(P.default,{title:"Key Facts",icon:a,hideHeader:this.isPhone,childComponents:i})),c=React.createElement(F.default,{className:"icon"}),d=this.props.amenitiesInfo&&this.props.amenitiesInfo.superGroups.filter(function(e){return"Interior Details"===e.titleString}).map(function(t){return e.createAmenitiesForSuperGroup(t.amenityGroups)}),f=d&&d.length>0&&d[0]&&d[0].length>0&&React.createElement("div",{className:"compactPropertyDetailsGroup"},React.createElement(P.default,{ref:function(t){return e.interiorDomNode=t},title:"Interior Details",icon:c,childComponents:d[0],useColumnCount:!0})),p=React.createElement(B.default,{className:"icon"}),m=this.props.amenitiesInfo&&this.props.amenitiesInfo.superGroups.filter(function(e){return"Exterior Details"===e.titleString}).map(function(t){return e.createAmenitiesForSuperGroup(t.amenityGroups)}),_=m&&m.length>0&&m[0]&&m[0].length>0&&React.createElement("div",{className:"compactPropertyDetailsGroup"},React.createElement(P.default,{ref:function(t){return e.exteriorDomNode=t},title:"Exterior Details",icon:p,childComponents:m[0],useColumnCount:!0})),y=React.createElement(H.default,{className:"icon"}),E=this.props.amenitiesInfo&&this.props.amenitiesInfo.superGroups.filter(function(e){return"Neighborhood / Community"===e.titleString}).map(function(t){return e.createAmenitiesForSuperGroup(t.amenityGroups)}),S=E&&E.length>0&&E[0]&&E[0].length>0&&React.createElement("div",{className:"compactPropertyDetailsGroup"},React.createElement(P.default,{ref:function(t){return e.neighborDomNode=t},title:"Neighborhood / Community",icon:y,childComponents:E[0],useColumnCount:!0})),I=React.createElement(U.default,{className:"icon"}),T=this.props.amenitiesInfo&&this.props.amenitiesInfo.superGroups.filter(function(e){return"Other"===e.titleString}).map(function(t){return e.createAmenitiesForSuperGroup(t.amenityGroups)}),C=T&&T.length>0&&T[0]&&T[0].length>0&&React.createElement("div",{className:"compactPropertyDetailsGroup"},React.createElement(P.default,{ref:function(t){return e.otherDomNode=t},title:"Other",icon:I,childComponents:T[0],useColumnCount:!0})),b=this.props.amenitiesInfo&&this.props.amenitiesInfo.addressInfo&&this.props.amenitiesInfo.addressInfo.street,k=React.createElement("h2",{className:"heading-medium inline-block sectionHeaderContainer homeDetailsTitle"},(0,v.calculateHeaderText)({sectionTitle:"Home Details",streetAddress:b,isMobile:this.isPhone})),O=this.props.mainHouseInfo&&this.props.amenitiesInfo,w=this.props.mainHouseInfo&&this.props.amenitiesInfo&&this.props.amenitiesInfo.mlsDisclaimerInfo,L=w&&this.props.amenitiesInfo.mlsDisclaimerInfo.showDisclaimerWithMlsInfo,M=function(e){return e===g_detailsPageType.OFF_MARKET||e===g_detailsPageType.RECENTLY_SOLD}(t),j=M&&O&&!this.props.amenitiesInfo.showGhostTown&&React.createElement(Q,{showProvider:this.props.amenitiesInfo.showDetailsProvidedDisclaimer,provider:this.props.amenitiesInfo.provider,onClickHandler:this.onPublicRecordsLinkClick,lastListYear:this.props.amenitiesInfo.lastListYear,hasEditedHomeFacts:this.props.publicRecordsInfo&&this.props.publicRecordsInfo.editedHomeFacts}),q=L&&React.createElement(K,{mlsDisclaimerInfo:w}),W=!M&&O&&React.createElement(X,{provider:this.props.amenitiesInfo.provider}),V=React.createElement(React.Fragment,null,u,f,_,S,C,j,W,q),G=this.calculateCollapsedPreviewHeight();return n=this.isPhone?this.mounted?React.createElement(A.default,{className:"HomeDetails",open:this.props.propertyDetailsDrawerDialogStore.open,onClose:this.props.propertyDetailsDrawerDialogStore.actions.onDialogClose,onDragClose:this.handleDragClose,onClickClose:this.handleClickClose,title:"Home Details",ref:function(t){return e.dialogNode=t}},V):React.createElement("div",{className:"propertyDetailsContent"},V):React.createElement(N.default,{sectionName:"compactPropertyDetailsSection",section:"propertyDetails",collapsedPreviewHeight:G,shouldFadeOut:!0,initiallyExpanded:this.props.accessLevel>=g_accessLevels.REDFIN_AGENT,disableContentSectionClickExpansion:!0},V),React.createElement(R.default,{name:"CompactPropertyDetails",addTopRule:!0,addBottomRule:this.isPhone,id:"property-details-scroll"},React.createElement("div",{className:"sectionContainer",ref:function(t){return e.domNode=t}},k,React.createElement("div",{className:"compactPropertyDetailsSectionContainer "+(this.isPhone?"isPhone":"")},this.isPhone&&l,this.isPhone&&s,n)))}}],[{key:"displayName",get:function(){return"CompactPropertyDetails"}},{key:"propTypes",get:function(){return{mainHouseInfo:f.default.object,addressSectionInfo:f.default.object,buildingInfo:f.default.object,publicRecordsInfo:f.default.object,isPDP:f.default.bool}}},{key:"getComponentDependencies",value:function(){return{dependencies:["accessLevel","amenitiesInfo","mainHouseInfo","addressSectionInfo","publicRecordsInfo","buildingInfo","pageType","propertyDetailsDrawerDialogStore"]}}},{key:"defaultProps",get:function(){return{isPDP:!1}}}]),n}(p.Component);t.default=G;function K(e){var t=e.mlsDisclaimerInfo;return React.createElement("div",{className:"disclaimer"},React.createElement(O.default,{mlsDisclaimerInfo:t,showRuler:!1,truncate:!1,showListingProvider:!0,showLastUpdated:!0,lazy:!1}))}var Y="https://support.redfin.com/hc/en-us/articles/360001454531-Public-Records-",z=React.createElement("span",{className:"pd-learn-more",onClick:function(){L.default.trackClick(L.default.clicks.LEARN_MORE),window.open(Y,"_top")}},"Learn more.");function X(e){var t=e.provider;return React.createElement("div",{className:"subtext"},React.createElement("span",null,"Details provided by ",React.createElement("span",null,t)," and may not match the public record. ",z))}function Q(e){var t=e.showProvider,n=e.provider,a=e.lastListYear,r=e.onClickHandler,o=e.hasEditedHomeFacts,i=React.createElement("span",{className:"navigation-link",onClick:r},"public records"),s=a?" when last listed in ".concat(a):"",l=t?"Property information provided by ".concat(n," ").concat(s,". "):"",u=(o||a)&&[o?"This data may not show owner updates. ":React.createElement("span",null,"This data may not match ",i,". "),z];return React.createElement("div",{className:"subtext"},React.createElement("span",null,l,u))}e.exports=t.default},CqHp:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lSNA")),o=n("TlVh"),i=a(n("x3Yk")),s=n("BHWi"),l=n("1pvD"),u=n("Q+Iq"),c=a(n("hmmP")),d=a(n("d21m")),f=(0,o.createStoreFactory)({OH_LIST_API_VERSION:"v1",init:function(e,t,n,a){this.isPartnerServiced=a,this.openHouse=e,this.confirmatIonId=t,this.setState({processingRequest:!1,showSuccessFlyout:!1,showTooManyFlyout:!1,showRemovedFlyout:!1,showErrorFlyout:!1,isOpenHouseSaved:!!t,actions:this._setupActions(),openHouseCalendarInformation:n})},_setupActions:function(){return{saveOpenHouse:this._saveOpenHouse,removeOpenHouse:this._removeOpenHouse,closeAllFlyouts:this._closeAllFlyouts,showCalendarDialog:this._showCalendarDialog,hideCalendarDialog:this._hideCalendarDialog,showMoreOptionsFlyout:this._showMoreOptionsFlyout,hideMoreOptionsFlyout:this._hideMoreOptionsFlyout,saveOpenHouseToCalendar:this._saveOpenHouseToCalendar,downloadCalendarFile:this._downloadCalendarFile,viewSchedule:this._viewSchedule}},_closeAllFlyouts:function(){this.setState({showSuccessFlyout:!1,showTooManyFlyout:!1,showRemovedFlyout:!1,showErrorFlyout:!1})},_showCalendarDialog:function(){c.default.trackClick((this.isPartnerServiced?d.default:c.default).clicks.ADD_TO_CALENDAR),this.setState({showCalendarDialog:!0})},_viewSchedule:function(){c.default.trackClick(c.default.clicks.VIEW_SCHEDULE)},_hideCalendarDialog:function(){this.setState({showCalendarDialog:!1})},_showMoreOptionsFlyout:function(){c.default.trackClick(c.default.clicks.MORE_OPTIONS),this.setState({showMoreOptionsFlyout:!0})},_hideMoreOptionsFlyout:function(){this.setState({showMoreOptionsFlyout:!1})},_saveOpenHouse:function(){var e=this;if(!this.state.processingRequest){this.setState({processingRequest:!0});var t="/stingray/do/openhouses/".concat(this.OH_LIST_API_VERSION,"/save?").concat(new URLSearchParams({openHouseId:this.openHouse.id}));(0,i.default)(t,{method:l.METHODS.POST,credentials:l.INCLUDE_USER_CREDENTIALS}).then(s.getPayloadOrThrowError).then(function(t){var n=(0,u.doObjectGraph)({useDataObjects:!1})(t)||{},a=n.openHouseListItem,r=n.openHouseCalendarInformation;e.confirmatIonId=a.id,e.setState({isOpenHouseSaved:!0,showSuccessFlyout:!0,processingRequest:!1,openHouseCalendarInformation:r}),e.isPartnerServiced?d.default.trackClick(d.default.clicks.ADD_TO_OPEN_HOUSES_LIST):c.default.trackClick(c.default.clicks.SAVE_TO_OPEN_HOUSE)}).catch(function(t){var n=t.responseBody,a=void 0===n?{}:n,r=!1,o=!1,i=!1;a.resultCode===g_apiResultCode.TOO_MANY_FAVORITES?r=!0:a.resultCode===g_apiResultCode.VALIDATION_ERROR?o=!0:i=!0,e.setState({showTooManyFlyout:r,showRemovedFlyout:o,showErrorFlyout:i,processingRequest:!1})})}},_removeOpenHouse:function(){var e=this;if(!this.state.processingRequest){this.setState({processingRequest:!0,showMoreOptionsFlyout:!1});var t="/stingray/do/openhouses/".concat(this.OH_LIST_API_VERSION,"/delete");(0,i.default)(t,{method:l.METHODS.POST,credentials:l.INCLUDE_USER_CREDENTIALS,body:{openHouseListItemId:this.confirmatIonId},headers:(0,r.default)({},l.CONTENT_TYPE_HEADER,"application/x-www-form-urlencoded")}).then(s.getPayloadOrThrowError).then(function(){e.setState({isOpenHouseSaved:!1,processingRequest:!1,showMoreOptionsFlyout:!1}),c.default.trackClick(c.default.clicks.REMOVE_OPEN_HOUSE)}).catch(function(t){var n=t.responseBody,a=(void 0===n?{}:n).errorMessage||"Could not remove home from open house schedule";throw e.setState({showErrorFlyout:!0,processingRequest:!1}),a})}},_saveOpenHouseToCalendar:function(e){var t;if(!this.state.openHouseCalendarInformation)return null;switch(e.name){case"Google Calendar":c.default.trackClick(c.default.clicks.GOOGLE_CALENDAR_CLICK),t=this.state.openHouseCalendarInformation.googleUrl,window.open(t,"_blank").location;break;case"Yahoo Calendar":c.default.trackClick(c.default.clicks.YAHOO_CALENDAR_CLICK),t=this.state.openHouseCalendarInformation.yahooUrl,window.open(t,"_blank").location;break;case"iCal Calendar":case"Outlook Calendar":default:var n="Outlook Calendar"===e.name?c.default.clicks.OUTLOOK_CALENDAR_CLICK:c.default.clicks.ICAL_CALENDAR_CLICK;c.default.trackClick(n),this._downloadCalendarFile(!1)}this._hideCalendarDialog()},_downloadCalendarFile:function(e){var t=(this.state.openHouseCalendarInformation||{}).icsFileText;if(t){var n=-1!==navigator.appVersion.indexOf("Win")?t.windowsCompatibleFile:t.standardFile;window.open("data:text/calendar;charset=utf8,"+escape(n)),e&&(this._hideMoreOptionsFlyout(),this._hideCalendarDialog())}}});t.default=f,e.exports=t.default},CrDX:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.isAgentMobile=function(e){if(!e)return!1;return"true"===e[r.AGENT_MOBILE]&&o.default.isOn(i.default)};var r=n("JMoV"),o=a(n("94Bj")),i=a(n("sxil"))},CtbG:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("LDFp"));o.default.ensure(n("tTYd"));var i=n("pBXq").default,s=(0,r.default)(new i,{name:"PropertyHistoryRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{PROPERTY_HISTORY:{section:"property_history",target:"",expectedParams:["num_rows"]},MEDIA_BROWSER:{section:"property_history",target:"media_browser"},REGISTRATION_BOX:{section:"property_history",target:"registration"},TAX_HISTORY_TABLE:{section:"property_history",target:"tax_history_table"}},clicks:{FOLLOW_HOME:{section:"property_history",target:"follow_this_home_button"},PRICE_HOME:{section:"property_history",target:"price_this_home_button"},SIGN_IN:{section:"property_history",target:"sign_in_link"},JOIN:{section:"property_history",target:"join_link"},OPEN_MEDIA_BROWSER:{section:"property_history",target:"media_thumbnail"},SALES_TAB:{section:"property_history",target:"sales_tab"},TAX_TAB:{section:"property_history",target:"tax_tab"},TAX_INFO_FLYOUT:{section:"property_history",target:"tax_info_flyout"},PUBLIC_RECORDS_TAB:{section:"property_history",target:"public_records_tab"}}});e.exports=s},CyAg:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("7W2i")),s=a(n("a1gu")),l=a(n("Nsbk")),u=a(n("17x9")),c=a(n("8Jek")),d=n("mXGw"),f=n("xARA"),p=n("TRKi"),m=n("vrcu"),h=a(n("1AMb")),g=a(n("ajZI")),_=a(n("Qqzb")),v=a(n("9m7Z")),y=a(n("Rerk")),E=a(n("XQqa")),S=a(n("SdOs")),I=a(n("7zAM")),T=a(n("SkEM"));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}n("kdH/");var b=function(e){(0,i.default)(n,e);var t=C(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).state={calculatorStore:null},a}return(0,o.default)(n,[{key:"UNSAFE_componentWillMount",value:function(){this.setUpCalculatorStore(this.props)}},{key:"componentDidMount",value:function(){this.setUpTracking()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setUpCalculatorStore(e)}},{key:"componentDidUpdate",value:function(){this.setUpTracking()}},{key:"setUpCalculatorStore",value:function(e){!this.state.calculatorStore&&e.propertyId&&e.avmInfo&&(e.businessMarketID||e.contactBoxInfo.agentRequestAgent||e.contactBoxInfo.recommendedAgent)&&this.setState({calculatorStore:new _.default({businessMarketID:e.businessMarketID||(e.contactBoxInfo.agentRequestAgent||e.contactBoxInfo.recommendedAgent).get("businessMarketId"),estimatedSalePrice:e.avmInfo.predictedValue,lastSalePrice:e.avmInfo.lastSoldPrice,lastSaleDate:e.avmInfo.lastSoldDate})})}},{key:"setUpTracking",value:function(){if(this.state.calculatorStore&&!this.trackingHasBeenSetUp){this.trackingHasBeenSetUp=!0;var e=this.state.calculatorStore.state.feesAreNational;S.default.setHasMarketSpecificFees(!e);var t=(0,f.findDOMNode)(this),n=this.props.avmInfo.predictedValue?"redfin_estimate":this.props.avmInfo.lastSoldPrice?"last_sold_price":"empty";e&&S.default.initializeNationalExperiment(t),S.default.trackImpressionWithDefaults(S.default.impressions.SECTION,{sales_price:n},t,e?null:S.default.initializeUpdateGAExperiment)}}},{key:"getHeader",value:function(){var e=this.props,t=e.deviceConfig;return e.isOwnerDashboardVariant?React.createElement("h3",{className:"sectionHeader"},t!==g_deviceConfiguration.PHONE?"What Can You Make from Selling Your Home?":"Sale Proceeds"):t!==g_deviceConfiguration.PHONE?React.createElement("h2",{className:"heading-medium padding-bottom-medium"},2!==this.props.version?"Home Sale Proceeds":"What Can You Make from Selling Your Home?"):null}},{key:"render",value:function(){if(!this.state.calculatorStore)return null;var e=(0,m.formatDollarAmt)(this.state.calculatorStore.state.redfinProceeds),t=2!==this.props.version?e+" total proceeds with a Redfin Agent":"Make ".concat(e," selling this home with Redfin"),n=!this.props.mainHouseInfo.propertyIsActivish&&this.props.deviceConfig===g_deviceConfiguration.PHONE&&this.props.initiallyExpanded,a=this.props.propertyAddress||this.props.mainHouseInfo.propertyAddress,r=2!==this.props.version?React.createElement(v.default,{address:a}):React.createElement(y.default,{address:a}),o=(0,c.default)({sectionContainer:this.props.isOwnerDashboardVariant}),i=React.createElement("div",{className:o,id:"sales-proceeds"},this.getHeader(),(0,p.createRootElement)(this.state.calculatorStore,r),(0,p.createRootElement)(this.state.calculatorStore,React.createElement(E.default,{propertyId:this.props.propertyId,deviceConfig:this.props.deviceConfig,inquirySource:(this.props.isOwnerDashboardVariant?I.default:T.default).id,version:this.props.version})));return this.props.isOwnerDashboardVariant?React.createElement("div",{className:"SaleProceedsSection section"},i):React.createElement(h.default,{name:"SaleProceedsSection",addTopRule:!0,id:"sales-proceeds"},React.createElement(g.default,{section:"saleProceeds",sectionName:"Sale Proceeds",previewText:t,enabled:this.props.deviceConfig===g_deviceConfiguration.PHONE,initiallyExpanded:n},i))}}],[{key:"propTypes",get:function(){return{deviceConfig:u.default.number.isRequired,mainHouseInfo:u.default.object,propertyId:u.default.number.isRequired,listingId:u.default.number,avmInfo:u.default.object,contactBoxInfo:u.default.object,version:u.default.number,isOwnerDashboardVariant:u.default.bool,businessMarketID:u.default.number,propertyAddress:u.default.object,initiallyExpanded:u.default.bool}}},{key:"defaultProps",get:function(){return{mainHouseInfo:{},contactBoxInfo:{},isOwnerDashboardVariant:!1,initiallyExpanded:!0}}},{key:"displayName",get:function(){return"SaleProceedsSection"}}]),n}(d.Component);t.default=b,e.exports=t.default},D0QW:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("LDFp"));o.default.ensure(n("tTYd"));var i=n("pBXq").default,s=(0,r.default)(new i,{name:"AddressBannerRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{ADDRESS_BANNER:{section:"address_banner",target:"",expectedParams:["status","redfin_estimate","is_favorite","is_xout","is_rebny"],trackGA:!1},ADDRESS_BANNERV2:{section:"address_banner",target:"",expectedParams:["status","property_type","access_level"],trackGA:!1},REFUND_ENTRYPOINT_LINK:{section:"address_banner",target:"refund_entrypoint_link",expectedParams:["price","refund","type"]},REFUND_COMMISSION_MODAL:{section:"refund_commission_modal",target:"",expectedParams:["price","refund","type"]},REBNY_CENSORED_BANNER:{section:"rebny_censored_banner",target:null,expectedParams:["censored_status"]},HOME_REPORT_SUBSCRIBE:{section:"address_banner",target:"home_report_subscribe_button"},HOME_CLAIM_FLYOUT:{section:"home_claim_flyout",target:null},MORTGAGE_RATES_ENTRYPOINT_LINK_START:{section:"mortgage_above_fold_ldp_start",target:""},MORTGAGE_RATES_ENTRYPOINT_LINK:{section:"address_banner",target:"mortgage_entrypoint_link"},STATIC_MINI_MAP_AVAILABLE:{section:"address_banner",target:"static_minimap"},STATIC_MINI_MAP_UNAVAILABLE:{section:"address_banner",target:"unavailable_minimap"},LISTING_STATUS:{section:"address_banner",target:"status"}},clicks:{CENSORED_SQ_FT:{section:"address_banner",target:"censored_sq_ft"},CENSORED_REDFIN_ESTIMATE:{section:"address_banner",target:"censored_redfin_estimate"},CENSORED_PRICE:{section:"address_banner",target:"censored_price"},REFUND_ENTRYPOINT_LINK:{section:"address_banner",target:"refund_entrypoint_link",expectedParams:["price","refund","type"]},LEARN_MORE_CTA:{section:"address_banner_refund_flyout",target:"learn_more_cta",expectedParams:["auto_shown"]},DISMISS_REFUND_FLYOUT:{section:"address_banner_refund_flyout",target:"dismiss_link",expectedParams:["auto_shown"]},HOME_REPORT_SUBSCRIBE_BUTTON:{section:"address_banner",target:"home_report_subscribe_button"},HOME_REPORT_DASHBOARD_BUTTON:{section:"address_banner",target:"view_owner_dashboard"},CLAIM_HOME_BUTTON:{section:"address_bar",target:"im_the_owner"},OWNER_DASHBOARD_BUTTON:{section:"address_bar",target:"owner_dashboard"},HOME_CLAIM_FLYOUT_CLOSE:{section:"home_claim_flyout",target:"close"},STATIC_MINI_MAP_CLICK:{section:"address_banner",target:"static_minimap"},MORTGAGE_CALC_ENTRYPOINT_CLICK:{section:"mortgage_calculator_entrypoint",target:"cta"},MORTGAGE_RATES_ENTRYPOINT_LINK:{section:"address_banner",target:"mortgage_entrypoint_link"},UNCLAIMED_BADGE_CLICK:{section:"address_banner",target:"unclaimed_badge"},MLS_STATUS_DISPLAY_CLICK:{section:"address_banner",target:"status_underline_flyout"}}});e.exports=s},D0ds:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("lSNA")),d=(a(n("17x9")),a(n("gsfS"))),f=a(n("ge1J")),p=a(n("AHsC")),m=a(n("QKRl"));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var g=n("YAhj"),_=n("mU1b"),v=function(e){(0,s.default)(n,e);var t=h(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,c.default)((0,i.default)(e),"_renderUpperLabel",function(){var t=1===e.props.count?e.props.countLabelSingular:e.props.countLabel,n=e.props.count.toLocaleString();return g.createElement("div",{className:"upperLabel"},g.createElement("span",{className:"count","data-rf-test-name":"activity-count-label"},n),g.createElement("span",{className:"label"},g.createElement("span",{className:"labelText"},e._renderFlyout("upper",t))))}),(0,c.default)((0,i.default)(e),"_renderBottomLabel",function(){if(e.props.totalCount===e.props.count||null==e.props.totalCount)return null;var t=e.props.totalCount.toLocaleString();return g.createElement("div",{className:"bottomLabel"},g.createElement("span",{className:"count","data-rf-test-name":"activity-count-label"},t),g.createElement("span",{className:"label"},g.createElement("span",{className:"labelText"},e._renderFlyout("lower",e.props.bottomCountLabel))))}),(0,c.default)((0,i.default)(e),"_renderFlyout",function(t,n){var a="",r="";switch(t){case"upper":a=e.props.upperLabelFlyoutTexts.title,r=e.props.upperLabelFlyoutTexts.content;break;case"lower":a=e.props.lowerLabelFlyoutTexts.title,r=e.props.lowerLabelFlyoutTexts.content}return g.createElement(_,{term:a,definition:r,alignment:"center"},n)}),e}return(0,o.default)(n,[{key:"render",value:function(){if("tours"===this.props.section&&null==this.props.count)return null;var e;switch(this.props.section){case"views":e=d.default;break;case"favorites":e=f.default;break;case"xOuts":e=p.default;break;case"tours":e=m.default}return g.createElement("td",null,g.createElement("div",{className:"activityColumn"},g.createElement("div",{className:"icon"},g.createElement(e,{className:"size-medium"})),g.createElement("div",{className:"labels"},this._renderUpperLabel(),this._renderBottomLabel())))}}]),n}(g.Component);(0,c.default)(v,"displayName","ActivityColumn"),(0,c.default)(v,"defaultProps",{bottomCountLabel:"all-time"}),v.propTypes={},e.exports=v},D19o:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("LDFp"));o.default.ensure(n("tTYd"));var i=n("pBXq").default,s=(0,r.default)(new i,{name:"ActivityRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{ACTIVITY_SECTION:{section:"activity",target:"",expectedParams:["num_views","num_favorites","num_favorites_all_time","num_x_outs","num_x_outs_all_time","num_tours","num_tours_all_time"]}},clicks:{}});e.exports=s},D1FA:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mXGw")),o=a(n("WqrT"));t.default=function(e){var t=e.segment,n=(t=void 0===t?{}:t).flyoutDefinition,a=t.link,i=t.text,s=e.actions,l=(s=void 0===s?{}:s).whenDefinitionFlyoutTextIsClicked,u=void 0===l?function(){}:l;return r.default.createElement(o.default,{definition:n,definitionLink:a,onShowDefinitionFlyout:u},i,r.default.createElement("span",{className:"hidden"},n))},e.exports=t.default},D4D0:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("mXGw")),d=a(n("17x9")),f=a(n("ma35")),p=a(n("Irq/")),m=a(n("g9Ky")),h=a(n("I0fR")),g=a(n("YPNX")),_=a(n("1lFN")),v=a(n("94Bj")),y=a(n("yJbw"));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var S=function(e){(0,s.default)(n,e);var t=E(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).insightsUrl="/manage-insights/".concat(a.props.propertyId),a._getFeedbackNotes=a._getFeedbackNotes.bind((0,i.default)(a)),a._getTourInsights=a._getTourInsights.bind((0,i.default)(a)),a._getInsightsContent=a._getInsightsContent.bind((0,i.default)(a)),a._getGhostTownOrFeedbackNotes=a._getGhostTownOrFeedbackNotes.bind((0,i.default)(a)),a._isCensored=a._isCensored.bind((0,i.default)(a)),a._isViewedThroughEmail=a._isViewedThroughEmail.bind((0,i.default)(a)),a._getAddVideoTourButton=a._getAddVideoTourButton.bind((0,i.default)(a)),a._getManageTourInsightsButton=a._getManageTourInsightsButton.bind((0,i.default)(a)),a}return(0,o.default)(n,[{key:"_getFeedbackNotes",value:function(){if(this.props.tourInsightsInfo.currentAgentFeedbackIds.length>0)return c.default.createElement(m.default,{feedbackIds:this.props.tourInsightsInfo.currentAgentFeedbackIds,deviceConfig:this.props.deviceConfig})}},{key:"_getTourInsights",value:function(){return c.default.createElement(h.default,{tourInsightsInfo:this.props.tourInsightsInfo,listingId:this.props.listingId,propertyId:this.props.propertyId})}},{key:"_getInsightsContent",value:function(){var e,t=this.props.tourInsightsInfo;return e=this._isCensored()&&t.noteCount>0?c.default.createElement(_.default,{header:"Unlock ".concat(t.noteCount," Tour ").concat(t.noteCount>1?"Insights":"Insight"),displayLevel:t.displayLevel,dataSourceId:this.props.dataSourceId,detailsText:"view Redfin Agent comments about this home",sectionName:"tour_insights"}):this._isViewedThroughEmail()&&t.noteCount>0?c.default.createElement(g.default,{tourInsightsInfo:t,propertyId:this.props.propertyId}):[this._getGhostTownOrFeedbackNotes(),this._getTourInsights()],c.default.createElement("div",{className:"main-content col-12"},e)}},{key:"_getGhostTown",value:function(){return c.default.createElement("div",null,c.default.createElement("div",null,"We haven't left any insights about this home yet, but as soon as we do, we'll leave our thoughts here."))}},{key:"_getGhostTownOrFeedbackNotes",value:function(){return this.props.tourInsightsInfo.tourInsights?this._getFeedbackNotes():this._getGhostTown()}},{key:"_isCensored",value:function(){var e=g_displayLevel.idToObj[this.props.tourInsightsInfo.displayLevel];return!e.isVisible&&e.isReachable}},{key:"_isViewedThroughEmail",value:function(){return this.props.tourInsightsInfo.displayLevel===g_displayLevel.CENSORED}},{key:"_getAddVideoTourButton",value:function(){var e=this;if(this.props.tourInsightsInfo.insightCreationPermission!==g_tourInsightCreationPermission.NONE&&v.default.isOn(y.default)&&"ADMIN"===v.default.getVariant(y.default)){return c.default.createElement(f.default,{className:"col-12 col-lg-4 addVideoTourButton v3",type:"primary",href:this.insightsUrl,onClick:function(){p.default.trackClick(p.default.clicks.ADD_VIDEO_TOUR,{user_type:e.props.tourInsightsInfo.userType})}},"Add a Video Tour")}return null}},{key:"_getManageTourInsightsButton",value:function(){var e=this;if(this.props.tourInsightsInfo.insightCreationPermission!==g_tourInsightCreationPermission.NONE){return c.default.createElement(f.default,{className:"col-12 col-lg-6 manageTourInsightsButton v3",type:"tertiary",href:this.insightsUrl,onClick:function(){p.default.trackClick(p.default.clicks.MANAGE_TOUR_INSIGHTS,{user_type:e.props.tourInsightsInfo.userType})}},"Add / Manage Tour Insights")}return null}},{key:"render",value:function(){return this.props.tourInsightsInfo?c.default.createElement("div",{className:"row"},this._getAddVideoTourButton(),this._getManageTourInsightsButton(),this._getInsightsContent()):null}}],[{key:"displayName",get:function(){return"TourInsightsMainContent"}},{key:"propTypes",get:function(){return{tourInsightsInfo:d.default.object.isRequired,propertyId:d.default.number,listingId:d.default.number,dataSourceId:d.default.number}}}]),n}(c.default.Component);t.default=S,e.exports=t.default},DBgZ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.dpaStore,n=e.disclaimers,a=t.withParams,s=t.showBlueLink,l=t.dpaData,u=t.runningApi,c=u?"dpaRunningApi":"",d=r.default.createElement("p",{className:"programTextInfo"},"Based on the information you provided, you may be eligible for ",l.availablePrograms," ",l.availablePrograms>1?"programs":"program"," with up to ",(0,o.formatPrice)(l.maxAssistance)," in down payment assistance."),f=r.default.createElement("p",null,"You could be eligible for ",l.availablePrograms," ",l.availablePrograms>1?"programs":"program"," with up to ",(0,o.formatPrice)(l.maxAssistance),". Fill out the form to see what programs may be available to you.");return r.default.createElement("div",{className:"dpaProgramSection"},r.default.createElement("div",null,a&&d,!a&&f),r.default.createElement("div",{className:"dpaProgramTitle"},r.default.createElement("div",{className:"col-4"},"Assistance"),r.default.createElement("div",{className:"col-8"},"Program")),r.default.createElement("div",{className:"dpaProgramContent"},r.default.createElement("div",{className:"dpaContent"},l.programs.map(function(e,t){return r.default.createElement("div",{className:"dpaRow col-12",key:t},r.default.createElement("div",{className:"col-4"},r.default.createElement("span",{className:c},e.assistanceAmount?"Up to "+(0,o.formatPrice)(e.assistanceAmount):"See program details")),r.default.createElement("div",{className:"col-8"},(s||a)&&!u&&r.default.createElement("a",{className:"dpaDataCursor",href:e.url,onClick:function(){i.default.trackClick(i.default.clicks.PROGRAM_LINK)},target:"_blank",rel:"noopener"},e.name),r.default.createElement("span",{className:c},(!s&&!a||u)&&e.name)))})),n))};var r=a(n("mXGw"));n("gr7s");var o=n("+xFC"),i=a(n("RlWI"));e.exports=t.default},DOn3:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mXGw")),o=a(n("8Jek")),i=(a(n("17x9")),a(n("ma35"))),s=a(n("lcmt")),l=a(n("zy5r")),u=function(e){return r.default.createElement(l.default,{className:(0,o.default)("PendingTourMessage listingOnPendingTour",{"padding-horiz-large":e.isOpenHouseExperimentVariant}),scrollId:e.scrollId},r.default.createElement("p",{className:"pendingTourMessageText"},function(e){var t=e.existingConfirmedTourInformation,n=e.timeZone;if(null!=t&&t.tourStartTime&&n){var a=new Date(t.tourStartTime);return r.default.createElement(r.default.Fragment,null,"Your tour is confirmed! Meet ",t.agentFirstName," at"," ",t.firstHomeAddress," at"," ",s.default.format(a,n,"h:mm A"),".")}return r.default.createElement(r.default.Fragment,null,"We've received your request to tour this home. Once we verify the availability of this home, we'll get in touch with you to confirm.")}(e)),r.default.createElement(i.default,{href:"/myredfin/tours",target:"_blank",className:"primary tourDetails"},"View Tour Details"))};u.propTypes={};var c=u;t.default=c,e.exports=t.default},DSc9:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.AsyncReverseMatchmakerWrapper=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),d=a(n("+hUF"));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var m=function(){var e=n("cXUB").defer();return n.e(200).then(function(t){var a=n("t7LH");e.resolve(a)}.bind(null,n)).catch(n.oe),e.promise},h=function(e){var t=e.propertyId,n=e.listingId,a=e.accessLevel,r=e.addressSectionInfo;return c.default.createElement(d.default,{loader:m,propertyId:t,listingId:n,accessLevel:a,addressSectionInfo:r})};t.AsyncReverseMatchmakerWrapper=h;var g=function(e){(0,s.default)(n,e);var t=p(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props,t=e.propertyId,n=e.listingId,a=e.accessLevel,r=e.addressSectionInfo;return c.default.createElement("div",{"data-rf-test-id":"reverseMatchmakerSection"},c.default.createElement(h,{propertyId:t,listingId:n,accessLevel:a,addressSectionInfo:r}))}}],[{key:"getComponentDependencies",value:function(){return{dependencies:["accessLevel","addressSectionInfo"]}}}]),n}(c.Component);t.default=g,g.displayName="ReverseMatchmakerSection"},DT4l:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("QkVN")),o=a(n("LDFp")),i=a(n("pBXq"));o.default.ensure(n("tTYd"));var s=(0,r.default)(new i.default,{name:"BDXRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{ASK_BDX:{section:"ask_BDX"},ASK_BDX_DIALOG:{section:"ask_BDX_dialog"},ASK_BDX_COMMENT_DIALOG:{section:"ask_BDX_comment_dialog"},ASK_BDX_NAME_DIALOG:{section:"ask_BDX_name_dialog"},ASK_BDX_CONTACT_INFO_DIALOG:{section:"ask_BDX_contact_info_dialog"},ASK_BDX_FORM_SUCCESS:{section:"ask_BDX_form_success"}},clicks:{ASK_BDX_QUESTION_FIELD_CLICK:{section:"ask_BDX",target:"question_field"},ASK_BDX_QUESTION_BUTTON_CLICK:{section:"ask_BDX",target:"ask_question_button"},ASK_BDX_FOOTER_CLICK:{section:"ask_BDX_footer_CTA",target:"contact_builder_button"},ASK_BDX_DIALOG_CLOSE_CLICK:{section:"ask_BDX_dialog",target:"close_button"},ASK_BDX_COMMENT_DIALOG_COMMENT_CLICK:{section:"ask_BDX_comment_dialog",target:"comment_field"},ASK_BDX_COMMENT_DIALOG_NEXT_CLICK:{section:"ask_BDX_comment_dialog",target:"next_button"},ASK_BDX_FIRST_NAME_FIELD_CLICK:{section:"ask_BDX_name_dialog",target:"first_name_field"},ASK_BDX_LAST_NAME_FIELD_CLICK:{section:"ask_BDX_name_dialog",target:"last_name_field"},ASK_BDX_NAME_DIALOG_NEXT_CLICK:{section:"ask_BDX_name_dialog",target:"next_button"},ASK_BDX_EMAIL_FIELD_CLICK:{section:"ask_BDX_contact_info_dialog",target:"email_field"},ASK_BDX_PHONE_FIELD_CLICK:{section:"ask_BDX_contact_info_dialog",target:"phone_field"},ASK_BDX_POSTCODE_FIELD_CLICK:{section:"ask_BDX_contact_info_dialog",target:"postcode_field"},ASK_BDX_CONTACT_INFO_SUBMIT_CLICK:{section:"ask_BDX_contact_info_dialog",target:"submit_button"}}});t.default=s,e.exports=t.default},DW2W:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lSNA")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("/4Do")),l=a(n("0XUH")),u=a(n("94Bj")),c=a(n("+qUa")),d=a(n("fOFW")),f=a(n("U+LO")),p=n("cMqt");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var h=p.logging.getLogger({name:"corvair.sites.customer-pages.middleware.UserSurveyApiLoader",color:{server:229,client:"rgb(212,212,127)"}}),g=p.RequestLocalStorage.getNamespace(),_="//cl.qualaroo.com/ki.js/67312/fRW.js",v="//cl.qualaroo.com/ki.js/67312/fRX.js",y=function(){function e(){(0,o.default)(this,e),g().userSurveyBouncerFeatureMap=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},f.default)}return(0,i.default)(e,[{key:"concatSurveyScriptTags",value:function(e){return l.default.whenReady().then(function(){if(!(g_isProdEnv?u.default.isOn(c.default):u.default.isOn(d.default)))return e;var t=(s.default.getCurrentUserData()||{}).id;return h.debug("Adding Qualaroo survey script tags to the body content"),e.concat(["<script type=\"text/javascript\">\n                        var _kiq = _kiq || [];\n                        _kiq.push(['disableAuto']);\n                        _kiq.push(['disableAutoSelect']);\n                        (function(){\n                            setTimeout(function(){\n                                var d = document, f = d.getElementsByTagName('script')[0], s = d.createElement('script'); s.type = 'text/javascript';\n                                s.async = true; s.src = '".concat(g_isProdEnv?_:v,"'; f.parentNode.insertBefore(s, f);\n                            }, 1);\n                        })();\n                    <\/script>").replace(/\s*\n\s*/g,""),'<script type="text/javascript" charset="utf-8">\n                        _kiq.push([\'identify\', \''.concat(t,"']);\n                    <\/script>").replace(/\s*\n\s*/g,"")])})}},{key:"getBodyStartContent",value:function(e){var t=this,n=g().userSurveyBouncerFeatureMap||{},a=g().userSurveysToLoad||[],r=[];g().disableAddingUserSurveysToLoad=!0;for(var o=0;o<a.length;o++){var i=n[a[o]];if(void 0!==i){if(null===i)return e().then(this.concatSurveyScriptTags);r.push(i)}}return r.length?l.default.whenReady().then(function(){return r.some(function(e){return u.default.isOn(e)})?e().then(t.concatSurveyScriptTags):e()}):e()}}],[{key:"addUserSurveyIdToLoad",value:function(e){var t=g();if("number"!=typeof e||e<0)throw new Error("The `surveyId` parameter is a required, positive integer.");if(t.disableAddingUserSurveysToLoad)throw new Error("Failed to add survey ID ".concat(e," due to it being too late in the page lifecycle; the survey logic has already been executed. Surveys must be added before the `getBodyStartContent` React Server page lifecycle method is executed."));h.debug("Adding survey ".concat(e," to list of surveys to load")),void 0===t.userSurveyBouncerFeatureMap[e]&&(t.userSurveyBouncerFeatureMap[e]=null),t.userSurveysToLoad=t.userSurveysToLoad||[],t.userSurveysToLoad.push(e)}}]),e}();t.default=y,e.exports=t.default},DaJd:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("lSNA")),s=a(n("lwsE")),l=a(n("W8MJ")),u=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),p=a(n("17x9")),m=a(n("4ppV")),h=a(n("qDYr")),g=a(n("V/OE")),_=a(n("i2EY")),v=n("wTjA"),y=a(n("VlCb"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}n("LJFL");var C=function(e){(0,u.default)(n,e);var t=T(n);function n(){return(0,s.default)(this,n),t.apply(this,arguments)}return(0,l.default)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.homeEquityCalculatorStore,a=t.onCloseDialog,r=t.className;if(!n)return null;var o=n.actions.onPreviousClick,i=function(){return o(a)};return this.props.isMobile?f.default.createElement(g.default,{onBack:i,hasFixedHeader:!0,hasFixedFooter:!0,renderHeader:function(){return e._getMobileDialogHeader(i)},renderContent:function(){return e._renderContent()},renderFooter:function(){return e._renderFooter()},className:"HomeEquityCalculatorDialog ".concat(r||"")}):f.default.createElement(m.default,{className:"HomeEquityCalculatorDialog unpadded ".concat(r||""),close:a,transitionAppear:!0},f.default.createElement("div",{className:"dialog-content-container"},f.default.createElement("div",{className:"main-content-container"},this._renderContent()),f.default.createElement("div",{className:"footer-container"},this._renderFooter())))}},{key:"_renderContent",value:function(){var e=this.props.homeEquityCalculatorStore;return f.default.createElement("div",{className:"stage-content-container"},f.default.createElement("h1",{className:"stage-header font-weight-bold font-size-medium"},e.currentSection.getTitle(I({},e))),this._getCurrentSection())}},{key:"_renderFooter",value:function(){var e=this.props,t=e.homeEquityCalculatorStore,n=e.isMobile,a=e.onCloseDialog,r=f.default.createElement(y.default,(0,o.default)({},t,{isMobile:n,onCloseDialog:a}));return n?f.default.createElement(h.default,null,r):r}},{key:"_getCurrentSection",value:function(){var e=this.props.homeEquityCalculatorStore,t=e.currentSection,n=(void 0===t?{}:t).component;return n?f.default.createElement(n,e):null}},{key:"_getMobileDialogHeader",value:function(e){return f.default.createElement(_.default,{shouldHideSaveButton:!0,title:"Your Home Information",actions:{DialogHeader:I({},(0,v.isFunction)(e)&&{whenCloseButtonClicked:e})}})}}],[{key:"propTypes",get:function(){return{homeEquityCalculatorStore:p.default.object.isRequired,isMobile:p.default.bool.isRequired,onCloseDialog:p.default.func.isRequired,className:p.default.string}}},{key:"displayName",get:function(){return"HomeEquityCalculatorDialog"}}]),n}(f.Component);t.default=C,e.exports=t.default},Dmc0:function(e,t,n){},Dt6W:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.shouldRenderEnhancedAgentAttribution=t.mapAgentToAgentInfoItem=t.isRightRailEnhancedAgentAttributionEnabledForPhone=t.default=t.AgentInfoContainer=void 0;var r=a(n("pVnL")),o=a(n("LDFp")),i=(a(n("17x9")),n("mXGw")),s=a(n("94Bj")),l=a(n("T7PP")),u=a(n("bVXH")),c=a(n("VPw5")),d=a(n("G8F8")),f=a(n("8Jek"));n("Wai5"),o.default.ensure(n("LbQT")),o.default.ensure(n("2EvO")),o.default.ensure(n("s89/"));var p=function(e,t,n,a,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0;return React.createElement("div",{className:a?"buyer-agent-item":"listing-agent-item",key:u},s&&s.agentInfo&&(s.agentInfo.isRedfinAgent||s.agentInfo.isPartnerAgent&&e)&&t===g_deviceConfiguration.DESKTOP?React.createElement(c.default,{agentName:s.agentInfo.agentName,profileUrl:s.agentInfo.agentUrl,photoUrl:s.agentInfo.agentPhotoUrl,isPartner:s.agentInfo.isPartnerAgent,isRedfin:s.agentInfo.isRedfinAgent,key:"photo-"+u}):null,React.createElement(l.default,(0,r.default)({},s,{hideRedfinAgentPhoneNumber:i,isComingSoonListing:e,deviceConfig:t,heading:n,key:u,accessLevel:o})))};t.mapAgentToAgentInfoItem=p;var m=function(e){var t=e.heading,n=e.children,a=e.isRedfinAgent;if(0===i.Children.count(n))return null;var r=(0,f.default)({"agent-info-container":!0,"redfin-agent":a});return React.createElement("div",{className:r},React.createElement("div",{className:"agent-info-heading"},t),React.createElement("div",{className:"agent-info-content"},n))};t.AgentInfoContainer=m;var h=function(e,t){if(e&&e.length>0){var n=e[0],a=n.agentInfo.isPartnerAgent&&s.default.isOn(o.default.COMING_SOON_PARTNER_AGENTS),r=n.agentInfo.isExternalAgent&&s.default.isOn(o.default.COMING_SOON_NON_REDFIN_AGENTS);return(a||r)&&t&&!s.default.isOn(s.default.feature.COMING_SOON_PARTNER_AGENTS_EXCLUSION_LIST)}return!1};t.shouldRenderEnhancedAgentAttribution=h;var g=function(e,t,n){if(e&&e.length>0){var a=e[0],r=a.agentInfo.isPartnerAgent&&s.default.isOn(o.default.COMING_SOON_PARTNER_AGENTS),i=a.agentInfo.isExternalAgent&&s.default.isOn(o.default.COMING_SOON_NON_REDFIN_AGENTS);return(r||i)&&t&&(n===g_deviceConfiguration.PHONE||n===g_deviceConfiguration.TABLET)}return!1};t.isRightRailEnhancedAgentAttributionEnabledForPhone=g;var _=function(e){var t=e.listingAgents,n=void 0===t?[]:t,a=e.buyingAgents,o=void 0===a?[]:a,i=e.isComingSoonListing,s=e.mlsId,l=e.mlsIdDisplayLevel,c=e.deviceConfig,_=e.listingInfoData,v=e.isOpendoor,y=e.listingId,E=e.accessLevel,S=e.isNY,I=e.hideRedfinAgentPhoneNumber,T=void 0!==I&&I,C=e.amenities,b=void 0===C?{}:C,k=e.emphasizeAgentAttribution,R=void 0!==k&&k,O=e.lastUpdatedDate,N=e.pageType;if(0===n.length&&0===o.length&&c===g_deviceConfiguration.PHONE&&!v)return null;var A=_&&c===g_deviceConfiguration.DESKTOP?React.createElement(d.default,{listingInfoData:_,amenities:b,mlsId:s,mlsIdDisplayLevel:l,accessLevel:E,lastUpdatedDate:O,pageType:N}):null,P=h(n,i),D=g(n,i,c),w=null;if(P||D||v){var L=n[0];w=React.createElement(u.default,(0,r.default)({},L,{isOpendoor:v,deviceConfig:c,listingId:y}))}else{var M=p.bind(null,i,c,S?"Listing by ":"Listed by ",!1,E,T);w=React.createElement(m,{isRedfinAgent:n.length>0&&n[0].agentInfo.isRedfinAgent},n.map(M))}var x=p.bind(null,i,c,"Bought with ",!0,E,!1),F=React.createElement(m,{isRedfinAgent:o.length>0&&o[0].agentInfo.isRedfinAgent},o.map(x)),B=(0,f.default)({"agent-info-section":!0,"enhanced-attribution":P,"font-size-base":R});return React.createElement("div",{className:B},w,A,F)};_.propTypes={};var v=_;t.default=v},DwVe:function(e,t,n){},DyRb:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getClassSet=function(e,t){var n={};return(t.classes||[]).forEach(function(e){n[e]=!0}),(0,r.assign)(n,e),(0,s.default)(n)},t.isSellSide=u,t.shouldRunExperiment=l,t.trackClick=d,t.trackClicks=function(e,t){c(e,t,d.bind(this))},t.trackImpressions=function(e,t){c(e,t,o.default.trackImpression.bind(o.default))},t.trackTargetsWithFunction=c;var r=n("gZHp"),o=a(n("lQoP")),i=a(n("tGxv")),s=a(n("8Jek"));function l(e,t){return(!t||e.refParams.experimentRunning===t)&&e.refParams&&e.refParams.shouldRunExperimentCallback&&e.refParams.shouldRunExperimentCallback(u(e))}function u(e){return e.refParams&&e.refParams.sellSide||e.classes&&e.classes.indexOf("sellside")>-1}function c(e,t,n){t.forEach(function(t){t&&n(e,t)})}function d(e,t,n,a){(n=n||{}).side=u(a)?"sell":"buy",l(a)&&(n.cb_ref="true"),n[i.default.TRACKGA]=!0,o.default.trackClick(e,t,n)}},Dz38:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("mXGw")),d=a(n("17x9")),f=a(n("4ppV")),p=a(n("ma35")),m=a(n("pBXq"));function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("9NDK");var g=function(e){(0,s.default)(n,e);var t=h(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).onPhoneClick=a.onPhoneClick.bind((0,i.default)(a)),a.onTextClick=a.onTextClick.bind((0,i.default)(a)),a.onCallClick=a.onCallClick.bind((0,i.default)(a)),a.onClosePhoneDialog=a.onClosePhoneDialog.bind((0,i.default)(a)),a.state={showPhoneDialog:!1},a}return(0,o.default)(n,[{key:"onPhoneClick",value:function(e){this.trackClickEvent(this.props.riftClickEvents&&this.props.riftClickEvents.linkClickEvent),this.props.isMobile&&(e.preventDefault(),this.props.riftTracker&&this.props.riftParams&&this.props.riftImpressionEvents&&this.props.riftImpressionEvents.dialogViewEvent&&this.props.riftTracker.trackImpression(this.props.riftImpressionEvents.dialogViewEvent,this.props.riftParams),this.setState({showPhoneDialog:!0}))}},{key:"onTextClick",value:function(){this.trackClickEvent(this.props.riftClickEvents&&this.props.riftClickEvents.textClickEvent)}},{key:"onCallClick",value:function(){this.trackClickEvent(this.props.riftClickEvents&&this.props.riftClickEvents.callClickEvent)}},{key:"onClosePhoneDialog",value:function(){this.trackClickEvent(this.props.riftClickEvents&&this.props.riftClickEvents.dialogCloseEvent),this.setState({showPhoneDialog:!1})}},{key:"trackClickEvent",value:function(e){this.props.riftTracker&&this.props.riftParams&&e&&this.props.riftTracker.trackClick(e,this.props.riftParams)}},{key:"render",value:function(){var e="Want to talk to someone? Call ".concat(this.props.phoneNumber);return c.default.createElement("a",{href:this.props.phoneNumberUrl,className:"phone-number TextOrCallPhoneLink","aria-label":e,"data-rf-test-name":"phone-number",onClick:this.onPhoneClick},this.props.phoneNumber,this.props.isMobile&&this.state.showPhoneDialog&&c.default.createElement(f.default,{className:"drawer no-title phone-dialog",close:this.onClosePhoneDialog,showCloseButton:!1,transitionAppear:!0},c.default.createElement("div",{className:"phone-dialog-content"},c.default.createElement(p.default,{href:n.convertPhoneNumberLinkToSmsLink(this.props.phoneNumberUrl),className:"button tertiary text-link",onClick:this.onTextClick},"Text"),c.default.createElement(p.default,{href:this.props.phoneNumberUrl,className:"button tertiary unpadded call-link",onClick:this.onCallClick},"Call"))))}}],[{key:"propTypes",get:function(){return{phoneNumber:d.default.string.isRequired,phoneNumberUrl:d.default.string.isRequired,isMobile:d.default.bool.isRequired,riftTracker:d.default.instanceOf(m.default),riftParams:d.default.object,riftClickEvents:d.default.shape({linkClickEvent:d.default.object,textClickEvent:d.default.object,callClickEvent:d.default.object,dialogCloseEvent:d.default.object}),riftImpressionEvents:d.default.shape({dialogViewEvent:d.default.object})}}},{key:"convertPhoneNumberLinkToSmsLink",value:function(e){return e&&e.replace("tel:","sms:")}}]),n}(c.default.Component);t.default=g,e.exports=t.default},EQKR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n("RBnj").createActions)(["redirectForTourWithAgent","showDirectAccessDialog","closeDirectAccessDialog","clickRedfinAppLink","sendRedfinAppLinkText","clickOpendoorAppLink","sendOpendoorAppLinkText"]);t.default=a,e.exports=t.default},ERtC:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;a(n("17x9"));var r=a(n("mXGw")),o=a(n("8Jek")),i=a(n("ma35")),s=n("6tFN"),l=a(n("KBk/")),u=a(n("6WO4"));function c(e){var t=e.openHouses,n=e.deviceConfig,a=e.isLive,c=e.timezone,d=e.propertyId,f=e.listingId,p=e.hasInPersonOpenHouses,m=e.source,h=n===g_deviceConfiguration.PHONE;return r.default.createElement("div",{className:"VideoOpenHouseBody"},a&&function(e,t,n,a,u){var c=e[0],d=r.default.createElement("span",{className:"font-weight-bold"},"right now till ",(0,s.getFormattedTime)(c.endTime,n)),f=t?". Join to learn more about this home.":".",p=t?r.default.createElement("a",{href:c.url,target:"_blank",className:"joinLink",onClick:function(){return l.default.fireRiftClick(l.default.clicks.JOIN_NOW,c.startTime.seconds,a,u)}},"Join now"):r.default.createElement(i.default,{className:"button tertiary compact joinButton",onClick:function(){!function(e,t,n){l.default.fireRiftClick(l.default.clicks.JOIN_NOW,e.startTime.seconds,t,n),window.open(e.url,"_blank")}(c,a,u)}},"Join now"),m=(0,o.default)("messageBody",{"font-size-small":t});return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",null,!t&&p,r.default.createElement("div",{className:m},"Redfin is hosting a live video open house ",d,f),!t&&r.default.createElement("div",null,"Join to learn more and ask questions about this home."),t&&p))}(t,h,c,d,f),!a&&function(e,t,n,a,o){var i=1===e.length?"Redfin is hosting a live video open house.":"Redfin is hosting live video open houses.";return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"messageBody"},i," Join us to learn more about this home."),function(e,t,n,a,o){return r.default.createElement("div",{className:"openHouseList"},r.default.createElement(u.default,{startTime:e.startTime,endTime:e.endTime,url:e.url,propertyId:n,listingId:a,timezone:t,comment:e.comment,dataSourceName:o?o.dataSourceName:null,logoImageFilename:o?o.dataSourceImage:null,riftEvent:l.default.clicks.SIGN_UP}))}(e[0],t,n,a,o))}(t,c,d,f,m),(p||t.length>1)&&r.default.createElement("div",{className:"fullScheduleLink"},"Or see the ",r.default.createElement("a",{href:"#open-houses"},"full open house schedule.")))}c.propTypes={},e.exports=t.default},ElKm:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("LDFp"));o.default.ensure(n("tTYd"));var i=n("pBXq").default,s=(0,r.default)(new i,{name:"OwnerToolsSectionRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],impressions:{EXPERIMENT_START:{section:"owner_tools_exp_start",target:""},OWNER_TOOLS:{section:"owner_tools",target:""}},clicks:{EDIT_FACTS:{section:"owner_tools",target:"edit_facts",expectedParams:["user_has_claimed"]},ADD_PHOTOS:{section:"owner_tools",target:"add_photos",expectedParams:["user_has_claimed"]},CLAIM_HOME:{section:"owner_tools",target:"claim_home",expectedParams:["user_has_claimed"]},OWNER_ESTIMATE:{section:"owner_tools",target:"create_owner_estimate",expectedParams:["user_has_claimed"]},OWNER_TOOLS_MORE_LINK:{section:"owner_tools",target:"more_link"},OWNER_TOOLS_CLOSE:{section:"owner_tools",target:"close_button"},OWNER_TOOLS_OWNER_DASH:{section:"owner_tools",target:"owner_dashboard_link"},OWNER_TOOLS_SALES_PROCEEDS:{section:"owner_tools",target:"sale_proceeds"},OWNER_TOOLS_OWNER_CTA:{section:"owner_tools",target:"owner_cta"}}});e.exports=s},Eo6n:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("3OWR")),o=a(n("LDFp")),i=a(n("pBXq"));o.default.ensure(n("tTYd"));var s=(0,r.default)(new i.default,{name:"ExposedKeyFactsRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{EXPOSED_KEY_FACTS:{section:"key_details",target:null,expectedParams:["num_details","includes_county_link"]},BUILDING_PAGE_ELIGIBLE:{section:"building_page_eligible",target:null,trackGA:!0}},clicks:{FLYOUT_ACCURACY_LINK:{section:"key_details",target:"estimate_flyout_accuracy_link"},FLYOUT_FEEDBACK_LINK:{section:"key_details",target:"estimate_flyout_feedback_link"},FLYOUT_LINK:{section:"key_details",target:"estimate_flyout_link"},STATUS_FLYOUT_LINK:{section:"key_details",target:"status_flyout_link"},BUYERS_COMMISSION_FLYOUT:{section:"key_details",target:"buyers_brokerage_flyout"},LAST_PROPERTY_TAX:{section:"key_details",target:"last_property_tax_flyout"},LAST_PROPERTY_TAX_HISTORY_LINK:{section:"key_details",target:"last_property_tax_flyout_history_link"}}});t.default=s,e.exports=t.default},Ephp:function(e,t,n){},EyRd:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("LDFp"));o.default.ensure(n("aD6v"));var i=n("pBXq").default,s=(0,r.default)(new i,{name:"MortgageCalculatorRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP,o.default.LDP_MORTGAGE_CALCULATOR_SECTION],trackAllEventsInGA:!0,impressions:{MORTGAGE_CALCULATOR:{section:"mortgage_calculator",target:null,expectedParams:["platform"]},CUSTOMIZE_CALCULATIONS:{section:"customize_calculations",target:null,expectedParams:["num_results","credit_score","home_price","loan_balance","loan_type","percentage_down","zipcode"]},INLINE_RATES_CAROUSEL:{section:"mortgage_calculator",target:"rates_carousel",expectedParams:["num_results","credit_score","home_price","loan_balance","loan_type","percentage_down","zipcode"],trackAll:!0},RATES_CAROUSEL:{section:"customize_calculations",target:"rates_carousel",expectedParams:["num_results","credit_score","home_price","loan_balance","loan_type","percentage_down","zipcode"],trackAll:!0},COMPARE_INSURANCE_RATES_LINK:{section:"customize_calculations",target:"compare_insurance_rates_link",expectedParams:["platform"]},FIRST_BANKRATE_CARD_AVAILABLE:{section:"mortgage_calculator",target:"first_bankrate_card_available",expectedParams:["num_results","credit_score","home_price","loan_balance","loan_type","percentage_down","zipcode"]},DESKTOP_PROMINENT_BANKRATE_ELIGIBLE:{section:"desktop_prominent_bankrate_eligible"},MOILE_WEB_PROMINENT_BANKRATE_ELIGIBLE:{section:"mw_prominent_bankrate_eligible"},HSP_IN_LDP_PAYMENT_CALC_START:{section:"hsp_in_ldp_payment_calc_start",expectedParams:["has_claimed_home"]},HOME_SALE_PRICE_CALC_MODAL:{section:"home_sale_price_calc_modal",expectedParams:["has_claimed_home"]},REVAMPED_SELLER_MODAL:{section:"home_sale_price_calc_inline"}},clicks:{INLINE_SUMMARY:{section:"mortgage_calculator",target:"inline_summary",expectedParams:["platform"]},INLINE_HOME_PRICE_EDIT:{section:"mortgage_calculator",target:"inline_home_price_edit"},INLINE_HOME_PRICE_SLIDER:{section:"mortgage_calculator",target:"inline_home_price_slider"},INLINE_DOWN_PAYMENT_ABSOLUTE_EDIT:{section:"mortgage_calculator",target:"inline_down_payment_absolute_edit"},INLINE_DOWN_PAYMENT_PERCENTAGE_EDIT:{section:"mortgage_calculator",target:"inline_down_payment_percentage_edit"},INLINE_DOWN_PAYMENT_SLIDER:{section:"mortgage_calculator",target:"inline_down_payment_slider"},INLINE_LOAN_TYPE_EDIT:{section:"mortgage_calculator",target:"loan_type_edit",expectedParams:["loan_type"]},INLINE_CREDIT_SCORE_EDIT:{section:"mortgage_calculator",target:"credit_score_edit",expectedParams:["credit_score"]},CUSTOMIZE_CALCULATIONS_LINK:{section:"mortgage_calculator",target:"customize_calculations_link",expectedParams:["platform"]},MORTGAGE_RATES_LINK:{section:"mortgage_calculator",target:"mortgage_rates_link"},DISCLAIMER_FLYOUT_RATES_LINK:{section:"mortgage_calculator",target:"disclaimer_flyout_rates_link"},DISCLAIMER_FLYOUT_STANDALONE_MORTGAGE_CALCULATOR_LINK:{section:"mortgage_calculator",target:"standalone_mortgage_calculator_link"},SIGN_IN_LINK:{section:"mortgage_calculator",target:"sign_in_link"},INLINE_CAROUSEL_CARD_SELECTION:{section:"mortgage_calculator",target:"carousel_card_selection",expectedParams:["rank"]},INLINE_CAROUSEL_GET_PREQUALIFIED_CTA:{section:"mortgage_calculator",target:"carousel_get_prequalified_cta",expectedParams:["rank"]},INLINE_LOAN_TYPE_CREDIT_SCORE_TOGGLE:{section:"mortgage_calculator",target:"loan_type_credit_score_toggle",expectedParams:["isOpen"]},HOME_PRICE_EDIT:{section:"customize_calculations",target:"home_price_edit",expectedParams:["platform"]},HOME_PRICE_TILE_MC:{section:"mortgage_calculator",target:"home_price_tile"},HOME_PRICE_TILE_MC_CLOSE:{section:"mortgage_calculator",target:"home_price_close"},HOME_PRICE_SLIDER:{section:"customize_calculations",target:"home_price_slider",expectedParams:["platform"]},DOWN_PAYMENT_TILE_MC:{section:"mortgage_calculator",target:"down_payment_tile"},DOWN_PAYMENT_TILE_MC_CLOSE:{section:"mortgage_calculator",target:"down_payment_close"},DOWN_PAYMENT_ABSOLUTE_EDIT:{section:"customize_calculations",target:"down_payment_absolute_edit",expectedParams:["platform"]},DOWN_PAYMENT_ABSOLUTE_EDIT_VARIANT:{section:"mortgage_calculator",target:"inline_down_payment_absolute_edit",expectedParams:["platform"]},DOWN_PAYMENT_PERCENTAGE_EDIT:{section:"customize_calculations",target:"down_payment_percentage_edit",expectedParams:["platform"]},DOWN_PAYMENT_PERCENTAGE_EDIT_VARIANT:{section:"mortgage_calculator",target:"down_payment_percentage_edit",expectedParams:["platform"]},DOWN_PAYMENT_SLIDER:{section:"customize_calculations",target:"down_payment_slider",expectedParams:["platform"]},DOWN_PAYMENT_TOGGLE_CLICK:{section:"mortgage_calculator",target:"home_sale_price_toggle",expectedParams:["has_claimed_home"]},SALE_PROCEEDS_CLICK:{section:"mortgage_calculator",target:"calculate_sale_proceeds_cta"},PROPERTY_TAX_EDIT:{section:"customize_calculations",target:"property_tax_edit",expectedParams:["platform"]},PROPERTY_TAX_EDIT_REVAMP_VARIANT:{section:"mortgage_calculator",target:"property_tax_edit",expectedParams:["platform"]},PROPERTY_TAX_PERCENTAGE_EDIT:{section:"customize_calculations",target:"property_tax_percentage_edit",expectedParams:["platform","percentage","county"]},PROPERTY_TAX_PERCENTAGE_EDIT_REVAMP_VARIANT:{section:"mortgage_calculator",target:"property_tax_percentage_edit",expectedParams:["platform","percentage","county"]},HOA_EDIT:{section:"customize_calculations",target:"hoa_edit",expectedParams:["platform"]},HOA_EDIT_REVAMP_VARIANT:{section:"mortgage_calculator",target:"hoa_edit",expectedParams:["platform"]},LOAN_TYPE_EDIT:{section:"customize_calculations",target:"loan_type_edit",expectedParams:["platform","loan_type"]},LOAN_TYPE_TILE_MC:{section:"mortgage_calculator",target:"loan_type_tile"},LOAN_TYPE_TILE_MC_CLOSE:{section:"mortgage_calculator",target:"loan_type_close"},CREDIT_SCORE_EDIT:{section:"customize_calculations",target:"credit_score_edit",expectedParams:["platform","credit_score"]},INTEREST_RATE_EDIT:{section:"customize_calculations",target:"interest_rate_edit",expectedParams:["platform"]},INTEREST_RATE_TILE_MC:{section:"mortgage_calculator",target:"interest_rate_tile"},INTEREST_RATE_TILE_MC_CLOSE:{section:"mortgage_calculator",target:"interest_rate_close"},LOAN_DETAILS_TILE_MC:{section:"mortgage_calculator",target:"loan_details_tile"},LOAN_DETAILS_TILE_MC_CLOSE:{section:"mortgage_calculator",target:"loan_details_close"},HOME_INSURANCE_ABSOLUTE_EDIT:{section:"customize_calculations",target:"home_insurance_absolute_edit",expectedParams:["platform"]},HOME_INSURANCE_PERCENTAGE_EDIT:{section:"customize_calculations",target:"home_insurance_percentage_edit",expectedParams:["platform","percentage","state"]},HOME_INSURANCE_PERCENTAGE_EDIT_REVAMP:{section:"mortgage_calculator",target:"home_insurance_percentage_edit",expectedParams:["platform","percentage","state"]},MORTGAGE_INSURANCE_ABSOLUTE_EDIT:{section:"customize_calculations",target:"mortgage_insurance_absolute_edit",expectedParams:["platform"]},MORTGAGE_INSURANCE_ABSOLUTE_EDIT_VARIANT:{section:"mortgage_calculator",target:"mortgage_insurance_absolute_edit",expectedParams:["platform"]},MORTGAGE_INSURANCE_PERCENTAGE_EDIT:{section:"customize_calculations",target:"mortgage_insurance_percentage_edit",expectedParams:["platform","percentage"]},MORTGAGE_INSURANCE_PERCENTAGE_EDIT_VARIANT:{section:"mortgage_calculator",target:"mortgage_insurance_percentage_edit",expectedParams:["platform","percentage"]},RESET_BUTTON:{section:"mortgage_calculator",target:"reset_button",expectedParams:["platform"]},RESET_DIALOG_CLOSE_BUTTON:{section:"reset_dialog",target:"close_button",expectedParams:["platform"]},RESET_DIALOG_CANCEL_BUTTON:{section:"reset_dialog",target:"cancel_button",expectedParams:["platform"]},RESET_DIALOG_RESET_BUTTON:{section:"reset_dialog",target:"reset_button",expectedParams:["platform"]},CUSTOMIZE_CALCULATIONS_TILE_MC:{section:"mortgage_calculator",target:"advanced_options_link"},CUSTOMIZE_CALCULATIONS_TILE_MC_CLOSE:{section:"mortgage_calculator",target:"advanced_options_close"},CUSTOMIZE_CALCS_INTEREST_FLYOUT_RATES_LINK:{section:"customize_calculations",target:"customize_calcs_interest_flyout_link"},DISCLAIMER_INFO_ICON:{section:"customize_calculations",target:"disclaimer_info_icon"},CAROUSEL_LEFT_ARROW:{section:"customize_calculations",target:"carousel_left_arrow"},CAROUSEL_RIGHT_ARROW:{section:"customize_calculations",target:"carousel_right_arrow"},CAROUSEL_CARD_SELECTION:{section:"customize_calculations",target:"carousel_card_selection",expectedParams:["rank"]},CAROUSEL_GET_PREQUALIFIED_CTA:{section:"customize_calculations",target:"carousel_get_prequalified_cta",expectedParams:["rank"]},CAROUSEL_ADVERTISER_DISCLOSURE_LINK:{section:"customize_calculations",target:"advertiser_disclosure_link"},COMPARE_INSURANCE_RATES_LINK:{section:"customize_calculations",target:"compare_insurance_rates_link",expectedParams:["platform"]},HOME_SALE_PRICE_CALC_INLINE_EXPAND:{section:"home_sale_price_calc_inline",target:"expand"},HOME_SALE_PRICE_CALC_INLINE_COLLAPSE:{section:"home_sale_price_calc_inline",target:"collapse"},HOME_SALE_PRICE_CALC_INLINE_ADDRESS_INFO:{section:"home_sale_price_calc_inline",target:"address_info_flyout"},HOME_SALE_PRICE_CALC_INLINE_SEARCH_SUBMITTED:{section:"home_sale_price_calc_inline",target:"address_search_submitted",expectedParams:["has_claimed_home"]},HOME_SALE_PRICE_CALC_INLINE_HOME_SALE_PRICE:{section:"home_sale_price_calc_inline",target:"home_sale_price",expectedParams:["has_claimed_home"]},HOME_SALE_PRICE_CALC_INLINE_OUTSTANDING_MORTGAGE:{section:"home_sale_price_calc_inline",target:"outstanding_mortgage",expectedParams:["has_claimed_home"]},HOME_SALE_PRICE_CALC_INLINE_SELLING_FEE:{section:"home_sale_price_calc_inline",target:"selling_fee_drop_down",expectedParams:["has_claimed_home"]},HOME_SALE_PRICE_CALC_INLINE_OTHER_COSTS_INFO:{section:"home_sale_price_calc_inline",target:"other_selling_costs_info_flyout"},HOME_SALE_PRICE_CALC_INLINE_OTHER_COSTS:{section:"home_sale_price_calc_inline",target:"other_selling_costs",expectedParams:["has_claimed_home"]},HOME_SALE_PRICE_CALC_INLINE_EXPLORE_SELLING:{section:"home_sale_price_calc_inline",target:"explore_selling_with_redfin",expectedParams:["has_claimed_home"]},HOME_SALE_PRICE_CALC_MODAL_EXPAND:{section:"home_sale_price_calc_modal",target:"expand"},HOME_SALE_PRICE_CALC_MODAL_COLLAPSE:{section:"home_sale_price_calc_modal",target:"collapse"},HOME_SALE_PRICE_CALC_MODAL_ADDRESS_INFO:{section:"home_sale_price_calc_modal",target:"address_info_flyout"},HOME_SALE_PRICE_CALC_MODAL_SEARCH_SUBMITTED:{section:"home_sale_price_calc_modal",target:"address_search_submitted",expectedParams:["has_claimed_home"]},HOME_SALE_PRICE_CALC_MODAL_HOME_SALE_PRICE:{section:"home_sale_price_calc_modal",target:"home_sale_price",expectedParams:["has_claimed_home"]},HOME_SALE_PRICE_CALC_MODAL_OUTSTANDING_MORTGAGE:{section:"home_sale_price_calc_modal",target:"outstanding_mortgage",expectedParams:["has_claimed_home"]},HOME_SALE_PRICE_CALC_MODAL_SELLING_FEE:{section:"home_sale_price_calc_modal",target:"selling_fee_drop_down",expectedParams:["has_claimed_home"]},HOME_SALE_PRICE_CALC_MODAL_OTHER_COSTS_INFO:{section:"home_sale_price_calc_modal",target:"other_selling_costs_info_flyout"},HOME_SALE_PRICE_CALC_MODAL_OTHER_COSTS:{section:"home_sale_price_calc_modal",target:"other_selling_costs",expectedParams:["has_claimed_home"]},HOME_SALE_PRICE_CALC_MODAL_EXPLORE_SELLING:{section:"home_sale_price_calc_modal",target:"explore_selling_with_redfin",expectedParams:["has_claimed_home"]},HOME_SALE_PRICE_CALC_INLINE_SELLING_FEE_DISCLAIMER:{section:"home_sale_price_calc_inline",target:"selling_fee_disclaimer"},HOME_SALE_PRICE_CALC_MODAL_SELLING_FEE_DISCLAIMER:{section:"home_sale_price_calc_modal",target:"selling_fee_disclaimer"},FIND_A_LENDER:{section:"mortgage_calculator",target:"find_a_lender_cta"},HOME_PRICE_TIP_LINK:{section:"mortgage_calculator",target:"home_price_tip_link"},DOWN_PAYMENT_TIP_LINK:{section:"mortgage_calculator",target:"down_payment_tip_link"},LOAN_TYPE_TIP_LINK:{section:"mortgage_calculator",target:"loan_type_tip_link"},INTEREST_RATE_TIP_LINK:{section:"mortgage_calculator",target:"interest_rate_tip_link"},ADVANCED_OPTIONS_TIP_LINK:{section:"mortgage_calculator",target:"advanced_options_tip_link"},ADD_HOME_EQUITY:{section:"mortgage_calculator",target:"add_home_equity_cta_click"},CASH_INFO_ICON_DISCLAIMER:{section:"mortgage_calculator",target:"cash_info_icon_disclaimer"},INLINE_HOME_EQUITY_SLIDER:{section:"mortgage_calculator",target:"inline_home_equity_slider"},EDIT_HOME_EQUITY:{section:"mortgage_calculator",target:"home_equity_edit_button"},INLINE_HOME_EQUITY_FIELD_BOX:{section:"mortgage_calculator",target:"inline_home_equity_field_box"},MEET_WITH_AGENT_CTA:{section:"mortgage_calculator",target:"meet_with_an_agent_cta"}}});e.exports=s},F7nt:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=n("mXGw"),d=a(n("17x9")),f=a(n("1RMg")),p=a(n("Bdmw")),m=n("osI4"),h=n("61sW");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var _=n("cMqt").logging.getLogger({name:"corvair.sites.customer-pages.pages.homeDetails.components.surveySection.SurveySection",color:{server:203,client:"rgb(212,42,42)"}}),v=202736,y=204824,E=205007,S=213730,I=213731,T=function(e){(0,s.default)(n,e);var t=g(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){return React.createElement(C,(0,r.default)({},this.props.qualarooFirstTourSurveyQualificationData,{pageType:this.props.pageType}))}}],[{key:"displayName",get:function(){return"SurveySection"}},{key:"propTypes",get:function(){return{pageType:d.default.string}}},{key:"defaultProps",get:function(){return{qualarooFirstTourSurveyQualificationData:{},pageType:""}}}]),n}(c.Component);function C(e){var t=e.qualifiesForSurvey,n=void 0!==t&&t,a=e.pageType;return(0,c.useEffect)(function(){try{if(f.default.isOn(h.UserSurveyBouncerFeatureMap[v])&&n)h.UserSurvey.showDesktopOnlyUserSurvey({surveyId:v});else if(f.default.isOn(h.UserSurveyBouncerFeatureMap[y]))h.UserSurvey.showDesktopOnlyUserSurvey({surveyId:y});else if(f.default.isOn(h.UserSurveyBouncerFeatureMap[E]))h.UserSurvey.showDesktopOnlyUserSurvey({surveyId:E});else if(f.default.isOn(h.UserSurveyBouncerFeatureMap[S])&&"ie"!==(0,m.getCurrentBrowserName)()){var e=1e3*[10,30,60,90][Math.floor(4*Math.random())];h.UserSurvey.setUserProperties({cohort:f.default.getVariant(h.UserSurveyBouncerFeatureMap[S]),rf_browser_id:p.default.get(),delay_time:e,page_type:a}),setTimeout(function(){h.UserSurvey.showUserSurvey({surveyId:S,mobileSurveyId:I})},e)}}catch(e){_.warning(e)}},[]),React.createElement("noscript",null)}t.default=T,e.exports=t.default},FApa:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("3OWR")),o=a(n("pBXq")),i=n("e9eQ"),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _.merge(e,{platform:(0,i.isOnSmallScreen)()?"mobile_web":"desktop"})},l=["num_completed_tours"],u=(0,r.default)(new o.default,{name:"DatePickerRiftTracker",trackAllEventsInGA:!1,impressions:{TODAY_TOMORROW:{section:"today_tomorrow_experiment",target:null},BIN3_SERVER_SIDE:{section:"time_select_3_day_bin_server_side_eligible",target:null,trackGA:!1},REQUEST_DIFFERENT_TOUR:{section:"tour_picker",target:"choose_different_time",trackGA:!1,expectedParams:l},ADD_HOME_TO_TOUR:{section:"tour_picker",target:"add_home_to_tour",trackGA:!1,expectedParams:l},PENDING_EXTENDABLE_TOURS:{section:"pending_extendable_tours",target:null,trackGA:!1}},clicks:{TOUR_IN_PERSON:{section:"tour_picker",target:"in_person_toggle",trackGA:!0},TOUR_VIA_VIDEO_CHAT:{section:"tour_picker",target:"video_chat_toggle",trackGA:!0},PARTNER_TOUR_IN_PERSON:{section:"partner_tour_picker",target:"in_person_toggle",trackGA:!0},PARTNER_TOUR_VIA_VIDEO_CHAT:{section:"partner_tour_picker",target:"video_chat_toggle",trackGA:!0},ADD_HOME_TO_TOUR:{section:"tour_picker",target:"add_home_to_tour",trackGA:!1,expectedParams:l}},trackImpressionWithDefaults:function(e,t){this.trackImpression(e,s(t))},trackClickWithDefaults:function(e,t){this.trackClick(e,s(t))}});t.default=u,e.exports=t.default},FQpZ:function(e,t,n){},FZhc:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("7W2i")),s=a(n("a1gu")),l=a(n("Nsbk")),u=n("mXGw"),c=a(n("17x9")),d=n("vWGb"),f=a(n("1AMb")),p=a(n("wkw9")),m=a(n("Id7D")),h=a(n("bo1D"));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}n("0Z3k");var _=function(e){(0,i.default)(n,e);var t=g(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.domNode&&h.default.trackImpression(h.default.impressions.BUILDING_INFO,null,this.domNode)}},{key:"render",value:function(){var e=this;return this.props.isMobile?React.createElement(f.default,{name:"BuildingInfo",ref:function(t){return e.domNode=t}},React.createElement("h2",{className:"heading-medium padding-medium"},"About the Building"),this._renderSection()):React.createElement("div",{className:"BuildingInfo",ref:function(t){return e.domNode=t}},React.createElement("h2",{className:"heading-medium padding-medium"},"About the Building"),this._renderSection())}},{key:"_renderSection",value:function(){var e=this.props.isMobile?"mobile-":"",t=e+"wrapper",n=e+"imageDiv",a=e+"buildingDetails",r=e+"buildingContent",o=e+"buildingImage";return React.createElement("a",{href:this.props.buildingInfo.buildingUrl,onClick:this._handleBuildingClick,"data-rf-test-id":"buildingInfoLink"},React.createElement("div",{className:t},React.createElement("div",{className:n},this._renderBuildingImage(o)),React.createElement("div",{className:a},React.createElement("div",{className:r},React.createElement("div",{className:"textColor"},this.props.buildingInfo.buildingName),React.createElement("div",{className:"child textColor"},(0,d.getBuildingCardInfo)(this.props.buildingInfo.numUnits,this.props.numForSale,this.props.buildingInfo.numStories)),React.createElement("div",{className:"child"},React.createElement("a",{href:this.props.buildingInfo.buildingUrl,onClick:this._handleBuildingClick},"See photos & sale trends")),React.createElement("div",{className:"attribution"},this._renderPhotoAttributionText())))))}},{key:"_renderBuildingImage",value:function(e){return this.props.buildingHeroShotInfo&&this.props.buildingHeroShotInfo.photoUrls&&this.props.buildingHeroShotInfo.photoUrls.nonFullScreenPhotoUrl?React.createElement("img",{className:e,src:this.props.buildingHeroShotInfo.photoUrls.nonFullScreenPhotoUrl}):React.createElement(p.default,{message:"Sorry, but there are no photos available for the building.",svgAsset:m.default})}},{key:"_renderPhotoAttributionText",value:function(){return this.props.buildingHeroShotInfo&&this.props.buildingHeroShotInfo.attribution?"Photo via "+this.props.buildingHeroShotInfo.attribution.address:"Photo not available"}},{key:"_handleBuildingClick",value:function(){h.default.trackClick(h.default.clicks.BUILDING_LINK)}}],[{key:"displayName",get:function(){return"BuildingDetailsCard"}},{key:"propTypes",get:function(){return{isMobile:c.default.bool,buildingInfo:c.default.object,buildingHeroShotInfo:c.default.object,numForSale:c.default.number}}},{key:"defaultProps",get:function(){return{isMobile:!1}}}]),n}(u.Component);t.default=_,e.exports=t.default},FZzt:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=n("mXGw"),d=a(n("8Jek")),f=a(n("17x9"));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var m=function(e){(0,s.default)(n,e);var t=p(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).state={selectedValue:e.value},a.handleSelect=a.handleSelect.bind((0,i.default)(a)),a}return(0,o.default)(n,[{key:"handleSelect",value:function(e){e.preventDefault();var t=e.currentTarget.value;this.setState({selectedValue:t}),this.props.onSelect&&this.props.onSelect(t)}},{key:"getSelectedValue",value:function(){return this.state.selectedValue}},{key:"render",value:function(){var e=this,t=this.props.options.map(function(t,n){var a,r=t.icon;return r&&"function"==typeof r&&(a=React.createElement(r,{className:"size-small"})),React.createElement("button",{key:n,value:t.value,className:(0,d.default)("button","tertiary-alt","unpadded","inline-block",{selected:t.value===e.state.selectedValue}),onClick:e.handleSelect},a)});return React.createElement("div",{className:"typeOptions inline-block"},t)}}],[{key:"propTypes",get:function(){return{options:f.default.arrayOf(f.default.shape({value:f.default.string,icon:f.default.elementType})),value:f.default.string,onSelect:f.default.func}}}]),n}(c.Component);t.default=m,e.exports=t.default},Fsfh:function(e,t,n){},FycR:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("J4zp")),o=a(n("lSNA")),i=n("Q+Iq"),s=a(n("94Bj")),l=n("TlVh"),u=a(n("I1qj")),c=a(n("2jYZ")),d=a(n("pBOy")),f=a(n("7gF2")),p=a(n("L67V")),m=n("6YAR");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=(0,l.createStoreFactory)({init:function(e){var t=e.propertyId,n=e.listingId,a=e.latLong,r=e.regionTypeId,o=e.regionId,i=e.isRental;this.name="AroundThisHomeStore",this.setState(g(g({},this.buildActions()),this.fetchData(t,n,a,r,o,i)))},buildActions:function(){return{actions:{whenAroundThisHomeSectionCollapsedToggleIsClicked:this.whenAroundThisHomeSectionCollapsedToggleIsClicked}}},fetchData:function(e,t,n,a,o,l){var f=(0,i.getEndpoint)("/stingray/api/home/details/aroundThisHomeSectionInfo",{propertyId:e,listingId:t});return{regionName:f.then(function(e){return e.regionName}),walkScoreData:f.then(function(e){return e.walkScoreData}),pointOfInterestWidgetStore:s.default.isOn(c.default)||s.default.isOn(d.default)?f.then(function(t){var n=t.pointOfInterestList,a=t.assembledAddress;return s.default.isOn(c.default)?l?p.default.homecard(e).then(function(e){return new u.default(n,a,(0,m.getPropertyNameFromRental)(e))}):new u.default(n,a,null):null}):null,isRental:l,rentalProps:l?Promise.all([p.default.homecard(e),p.default.neighborhoodInfo(e,a,o)]).then(function(e){var t,n,a=(0,r.default)(e,2),o=a[0],i=a[1];return{rentalId:(0,m.getListingIdFromRental)(o),address:(0,m.getStreetAddressFromRental)(o),rentalPropertyTypeStr:(0,m.getPropertyTypeStringFromRental)(o),rentalPropertyName:(0,m.getPropertyNameFromRental)(o),regionBreadcrumbs:null==i?void 0:null===(t=i.neighborhoodData)||void 0===t?void 0:null===(n=t.regionBreadcrumbs)||void 0===n?void 0:n.breadcrumbs}}):{},transitData:f.then(function(t){var a=t.assembledAddress,r=g(g({},t.transitData),{},{address:a,propertyLatLong:n});return l?p.default.homecard(e).then(function(e){return g(g({},r),{},{address:(0,m.getPropertyNameFromRental)(e)})}):r})}},whenAroundThisHomeSectionCollapsedToggleIsClicked:function(e){var t=e?f.default.clicks.MORE_LINK:f.default.clicks.LESS_LINK;f.default.trackClick(t)}});t.default=_,e.exports=t.default},G4xM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("sXLI");Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return a[e]}}))})},G8F8:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=(a(n("17x9")),n("jkZQ")),i=a(n("Nb0P")),s=a(n("UxXj")),l=a(n("yR6Y"));n("qIK1");var u=function(e){var t=e.listingInfoData,n=e.amenities,a=e.mlsId,u=e.mlsIdDisplayLevel,c=e.accessLevel,d=e.lastUpdatedDate,f=e.pageType,p=t.source,m=p.dataSourceDescription,h=p.dataSourceImage,g=p.dataSourceName,_=p.shouldShowLargerLogo;return _?React.createElement("div",{className:"listingInfoSection font-color-gray-dark"},React.createElement(l.default,{listingContactInfo:t.listingContactInfo}),React.createElement("div",{class:"inline-section"},React.createElement(i.default,{lastUpdatedDate:t.lastUpdatedDate,lastCheckedDate:t.lastCheckedDate,deviceConfig:t.deviceConfig,pageType:f}),React.createElement(o.ListingSource,(0,r.default)({},t.source,{amenities:n,mlsId:a,mlsIdDisplayLevel:u})),React.createElement(o.DataSourceImage,{dataSourceDescription:m,dataSourceImage:h,dataSourceName:g,shouldShowLargerLogo:_,amenities:n}),React.createElement(s.default,{warningText:t.multipleListingsWarningText,accessLevel:c}))):React.createElement("div",{className:"listingInfoSection font-color-gray-dark"},React.createElement(l.default,{listingContactInfo:t.listingContactInfo}),React.createElement("div",{class:"inline-section"},React.createElement(i.default,{lastUpdatedDate:t.lastUpdatedDate,lastCheckedDate:t.lastCheckedDate,deviceConfig:t.deviceConfig,pageType:f}),React.createElement(o.ListingSource,(0,r.default)({},t.source,{amenities:n,mlsId:a,mlsIdDisplayLevel:u,isPDP:void 0===d})),React.createElement(s.default,{warningText:t.multipleListingsWarningText,accessLevel:c})))};u.propTypes={};var c=u;t.default=c,e.exports=t.default},GCl5:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.computeComponents=void 0;var r=a(n("H+kC")),o=n("KJh8");t.computeComponents=function(e){var t=e.hasAvm;return[{component:r.default,additionalProps:{linksToShow:(0,o.getNavigationLinks)(t)}}]}},GDDB:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("7W2i")),s=a(n("a1gu")),l=a(n("Nsbk")),u=a(n("lSNA"));function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var d=n("YAhj");n("kf8g");var f=function(e){(0,i.default)(n,e);var t=c(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"render",value:function(){return d.createElement("div",{className:"OffMarketWarning bg-color-white"},d.createElement("div",{className:"sprite-warning-icon inline-block"}),d.createElement("span",{"data-rf-test-id":"goneOffMarket"},"The most recent listing for this property has gone off the market."))}}]),n}(d.Component);(0,u.default)(f,"displayName","OffMarketWarning"),e.exports=f},GDTY:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULT_MORE_INFO_TEXT=t.ADU_LABEL=void 0;var r=a(n("Kssv")),o=a(n("mXGw")),i=a(n("WqrT")),s=a(n("ws6r"));n("QRyt");t.ADU_LABEL="ADU";t.DEFAULT_MORE_INFO_TEXT="Learn more";var l=function(e){var t=e.content;return o.default.createElement("span",{className:"ZoningRow--content ZoningSummaryContent"},t)},u=function(e){var t=e.content,n=e.icon,a={className:"ADUFlyout",infoIcon:!0,position:"below",openLinkInNewTab:!0,definition:"\n    An Accessory Dwelling Unit (ADU) is a separate living space built on the same property as an existing home,\n    commonly used for extra living space or rental income.\n",definitionLink:"/definition/adu",moreInfoText:"Learn more",onShowDefinitionFlyout:function(){s.default.trackClick(s.default.clicks.ZONING_LAND_USE_ADU_FLYOUT)}};return o.default.createElement("ul",{className:"ZoningLandUseContent"},o.default.createElement("li",{className:"ZoningLandUseContent--icon"},n),o.default.createElement("li",{className:"ZoningLandUseContent--content"},t),"ADU"===t&&o.default.createElement("li",{className:"ZoningLandUseContent--definition"},o.default.createElement(i.default,a)))},c=function(e){var t=e.label,n=e.data,a=e.icon;if(!n||Array.isArray(n)&&0===n.length)return null;var i=a?u:l,s=Array.isArray(n)?n:[n],c=s[0],d=(0,r.default)(s,1,s.length),f=""+s.length;return o.default.createElement(o.default.Fragment,null,o.default.createElement("tr",{className:"ZoningRow"},o.default.createElement("th",{className:"ZoningRow--cell label",rowspan:f},t),o.default.createElement("td",{className:"ZoningRow--cell"},o.default.createElement(i,{content:c,icon:a}))),null==d?void 0:d.map(function(e){return o.default.createElement("tr",{className:"ZoningRow"},o.default.createElement("td",{className:"ZoningRow--cell"},o.default.createElement(i,{content:e,icon:a})))}))};t.default=c},GFPZ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lSNA")),o=a(n("pVnL")),i=a(n("cXUB")),s=n("TlVh"),l=a(n("5BUB")),u=a(n("RBnj")),c=n("cMqt"),d=a(n("JX1m")),f=n("f2dk"),p=a(n("I+M3")),m=n("QP4D"),h=n("4Vtq"),g=a(n("yTPA")),_=n("MYdA"),v=n("irHt"),y=n("YnaG");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var I=c.logging.getLogger({owningTeam:"HOME_DISCOVERY",name:"corvair.sites.customer-pages.pages.homeDetails.components.commute.CommuteStore",color:{server:215,client:"rgb(212,127,42)"}}),T=(0,s.createStoreFactory)({formName:"CommuteForm",mixins:[l.default],fields:{commuteType:{label:"Commute Type",riftFieldName:"commute_type",value:"DRIVING"},address:{riftFieldName:"address"}},init:function(e){var t=e.commuteData,n=e.linkOnly,a=u.default.createActions(["showForm","closeForm","deleteCommute","createCommute","updateCommute","closeErrorDialog","autoCompletePlaceChanged","autoCompleteBoxClicked","toggleRoute","closeRegPrompt","saveCommutes","loadDirectionsService","showOptions","closeOptions","setFormFeedback"]);if(this.listenTo(a.closeForm,this.onCloseForm),this.listenTo(a.showForm,this.onShowForm),this.listenTo(a.deleteCommute,this.onDelete),this.listenTo(a.createCommute,this.onCreateCommute),this.listenTo(a.updateCommute,this.onUpdateCommute),this.listenTo(a.autoCompletePlaceChanged,this.onPlaceChanged),this.listenTo(p.default.autoCompleteSetupDone,this.setUpDirections),this.listenTo(d.default.homeMapRendered,this.onMapLoaded),this.listenTo(a.closeErrorDialog,this.onCloseErrorDialog),this.listenTo(a.autoCompleteBoxClicked,this.onAutoCompleteBoxClicked),this.listenTo(a.toggleRoute,this.onToggleRoute),this.listenTo(a.loadDirectionsService,this.onLoadDirectionsService),this.listenTo(a.closeRegPrompt,this.onCloseRegPrompt),this.listenTo(a.saveCommutes,this.onSaveCommutes),this.listenTo(a.showOptions,this.onShowOptions),this.listenTo(a.closeOptions,this.onCloseOptions),this.listenTo(a.setFormFeedback,this.onSetFormFeedback),this.listenTo(g.default.keyboardC,this.onKeyboardC),t){var r=(0,_.convertFromEnum)(t.commuteType).commuteType;this.setFormName((0,_.getCommuteFormName)(t.id)),this.setFields({commuteType:r,address:t.address}),this.setState({editMode:!0,autoCompleteBoxClicked:!1,id:t.id,address:t.address,autoCompleteAddress:t.address,commuteType:r,destLat:t.destinationLatitude,destLong:t.destinationLongitude,actions:a,showForm:!1,showOptions:!1,origin:null,rendererData:null,map:null,linkOnly:n,requestInFlight:!1})}else this.setState({editMode:!1,actions:a,showForm:!1,showRoute:!1,showOptions:!1,linkOnly:n});this.queuedState={}},onKeyboardC:function(){(0,m.isBrowser)()&&(document.getElementById("NewCommuteLinkButton").focus(),(0,h.autoScroll)({destination:"NewCommuteLinkButton",center:!0,scrollParent:document.querySelector("#HomeDetailsPage")}))},onPlaceChanged:function(e){e.geometry?((0,o.default)(this.queuedState,{address:e.placeName}),this.setState({autoCompleteAddress:e.placeName,destLat:e.geometry.location.lat(),destLong:e.geometry.location.lng(),dest:new window.google.maps.LatLng(e.geometry.location.lat(),e.geometry.location.lng()),autoCompleteBoxClicked:!1,feedback:null})):this.setState({feedback:{type:"error",text:"Please select a valid destination"}})},onAutoCompleteBoxClicked:function(){this.state.dest&&this.setState({prevDest:this.state.dest}),this.setState({autoCompleteBoxClicked:!0,feedback:null})},onToggleRoute:function(){this.state.showRoute?(this.state.rendererData.renderer.setDirections({routes:[]}),this.state.rendererData.marker.setMap(null)):(this.state.rendererData.renderer.setMap(this.state.map),this.state.rendererData.renderer.setDirections(this.state.rendererData.route),this.state.rendererData.marker.setMap(this.state.map)),this.setState({showRoute:!this.state.showRoute})},onShowOptions:function(){this.setState({showOptions:!0,errorMessage:null})},onCloseOptions:function(){this.setState({showOptions:!1,errorMessage:null})},onLoadDirectionsService:function(e){this.state.directionsService||this.setState({directionsService:e.initialDirectionsData.directionsService,origin:e.initialDirectionsData.origin,map:e.map,timeZone:e.initialDirectionsData.timeZone})},onMapLoaded:function(e){this.setState({map:e})},onUpdateCommute:function(){var e=this;if(this.state.dest&&this.state.dest.lat()&&this.state.dest.lng()){var t=(0,_.convertToEnum)(this.state.fields.commuteType.value),n={commuteId:this.state.id,address:this.state.autoCompleteAddress,commuteType:t,destinationLatitude:this.state.destLat,destinationLongitude:this.state.destLong};this._makeDirectionsRequest(this.state.dest,this.state.fields.commuteType.value,this.state.showForm||this.state.showRoute).then(function(t){"OK"===t||"ZERO_RESULTS"===t?(e.setState({requestInFlight:!0}),(0,y.updateCommute)(n).then(function(t){("Success"===t.body.errorMessage||0===t.body.resultCode)&&t.body.payload.activeCommutes.length>0?(e.setState(S({requestInFlight:!1,showForm:!1,commuteType:e.state.fields.commuteType.value},e.queuedState)),e.state.rendererData.duration.value>21600&&!e.state.showRoute&&e.state.rendererData.renderer&&e.state.rendererData.renderer.getDirections().routes.length>0&&(e.state.rendererData.renderer.setDirections({routes:[]}),e.state.rendererData.marker.setMap(null)),p.default.updateCommute(t.body.payload.activeCommutes)):e.setState({requestInFlight:!1,errorMessage:"An error occurred while trying to edit this commute, please try again later."})})):e.setState({errorMessage:"An error occurred while trying to calculate commutes, please try again later.",requestInFlight:!1,dest:e.state.prevDest})})}else this.setState({feedback:{type:"error",text:"Please select a valid destination"}})},onCreateCommute:function(){var e=this;if(this.state.dest&&this.state.dest.lat()&&this.state.dest.lng()){var t=(0,_.convertToEnum)(this.state.fields.commuteType.value),n={address:this.state.autoCompleteAddress,commuteType:t,destinationLatitude:this.state.destLat,destinationLongitude:this.state.destLong};this._makeDirectionsRequest(this.state.dest,this.state.fields.commuteType.value,!0).then(function(t){"OK"===t||"ZERO_RESULTS"===t?(e.setState({requestInFlight:!0}),(0,y.createCommute)(n).then(function(t){if(("Success"===t.body.errorMessage||0===t.body.resultCode)&&t.body.payload.activeCommutes.length>0){var n=t.body.payload.activeCommutes[t.body.payload.activeCommutes.length-1],a=(0,v.shouldShowRegPrompt)();e.setState(S({requestInFlight:!1,showRegPrompt:a,showForm:!1,editMode:!0,id:n.id,commuteType:e.state.fields.commuteType.value},e.queuedState)),e.setFormName("CommuteForm"+n.id),p.default.createNewCommute(t.body.payload.activeCommutes)}else e.setState({requestInFlight:!1,errorMessage:"An error occurred while trying to create a commute, please try again later."})})):e.setState({errorMessage:"An error occurred while trying to calculate commutes, please try again later.",requestInFlight:!1})})}else this.setState({feedback:{type:"error",text:"Please select a valid destination"}})},onDelete:function(){var e=this;this.setState({requestInFlight:!0}),(0,y.deleteCommute)({commuteId:this.state.id}).then(function(){e.state.rendererData.renderer&&e.state.rendererData.marker&&(e.state.rendererData.renderer.setMap(null),e.state.rendererData.marker.setMap(null)),e.setState({requestInFlight:!1,showForm:!1}),p.default.deleteCommute(e)},function(){e.setState({requestInFlight:!1,errorMessage:"An error occurred while trying to delete this commute, please try again later."})})},onSaveCommutes:function(e){(0,f.showLoginLightboxIfNeeded)({registrationReason:g_registrationReason.SAVE_COMMUTE,registrationEntrypointRiftContext:e})},onCloseErrorDialog:function(){this.setState({errorMessage:null})},onShowForm:function(){this.setState({showForm:!0,showOptions:!1,showRegPrompt:!1,errorMessage:null}),p.default.openForm(this)},onCloseForm:function(){this.setState({showForm:!1,autoCompleteBoxClicked:!1,feedback:null,autoCompleteAddress:this.state.address}),this.state.dest||this.setState({dest:this.state.prevDest})},onCloseRegPrompt:function(){this.setState({showRegPrompt:!1}),(0,v.dismissRegPrompt)()},onSetFormFeedback:function(e){this.setState({feedback:e})},setUpDirections:function(e){var t=this;if(this.setState({directionsService:e.directionsService,origin:e.origin,timeZone:e.timeZone,map:e.map}),this.state.destLat&&this.state.destLong){var n=new window.google.maps.LatLng(this.state.destLat,this.state.destLong);this.setState({dest:n}),this._makeDirectionsRequest(n,this.state.fields.commuteType.value,!1).then(function(){t.setState(t.queuedState)})}},_makeDirectionsRequest:function(e,t,n){var a=this,r=(0,_.convertToEnum)(t),s=(0,_.getTransitOptionsForCommuteType)(r,this.state.timeZone),l=i.default.defer();return this.state.directionsService.route({origin:this.state.origin,destination:e,travelMode:t,transitOptions:s},function(t,r){if("OK"===r){var i=a.state.rendererData&&a.state.rendererData.renderer?a.state.rendererData.renderer:new window.google.maps.DirectionsRenderer({suppressMarkers:!0});a.state.rendererData&&a.state.rendererData.marker&&a.state.rendererData.marker.setMap(null);var s=new google.maps.Marker({position:e}),u={dest:e,renderer:i,route:t,duration:t.routes[0].legs[0].duration_in_traffic?t.routes[0].legs[0].duration_in_traffic:t.routes[0].legs[0].duration,marker:s};u.duration.value>21600&&(u.duration.text="6+ hours"),i.setMap(a.state.map);var c=!1;n&&u.duration.value<=21600&&(c=!0,u.renderer.setDirections(u.route),u.marker.setMap(a.state.map)),(0,o.default)(a.queuedState,{rendererData:u,enableRoute:u.duration.value<=21600,showRoute:c}),l.resolve("OK")}else if("ZERO_RESULTS"===r){var d={dest:e,renderer:null,route:null,duration:{text:"Can't calculate commute",value:0},marker:null};(0,o.default)(a.queuedState,{rendererData:d,enableRoute:!1,showRoute:!1}),l.resolve("ZERO_RESULTS")}else r&&n?l.resolve("ERROR"):"OVER_QUERY_LIMIT"===r&&I.error("Google Directions API over query limit")}),l.promise}});t.default=T,e.exports=t.default},GO4b:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=U(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),f=a(n("17x9")),p=a(n("8Jek")),m=n("osI4"),h=a(n("FprU")),g=a(n("dutD")),_=a(n("Cjij")),v=a(n("Wf+Q")),y=a(n("wzsw")),E=a(n("bYFU")),S=a(n("VvOK")),I=a(n("Tufv")),T=a(n("fgAv")),C=a(n("XDrj")),b=a(n("0iqE")),k=n("AYTD"),R=a(n("lOhN")),O=a(n("IgEu")),N=a(n("94Bj")),A=n("I5FW"),P=a(n("cksC")),D=a(n("NSws")),w=a(n("UT8e")),L=a(n("6Ee1")),M=a(n("JX1m")),x=a(n("Wt5P")),F=a(n("D0QW")),B=a(n("iscO")),H=a(n("UrhC"));function U(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(U=function(e){return e?n:t})(e)}function j(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}n("0WFT");var q=function(e){(0,l.default)(n,e);var t=j(n);function n(e){var a;(0,o.default)(this,n),(a=t.call(this,e)).onAddressBannerImpression=a.onAddressBannerImpression.bind((0,s.default)(a)),a._onMapClick=a._onMapClick.bind((0,s.default)(a)),a.searchBrokerageHelper=(0,b.default)({addressSectionInfo:e.addressSectionInfo,accessLevel:e.accessLevel,pageType:e.pageType});var r=a.props.mainHouseInfo.propertyIsActivish;return a.MortgageEntrypointEnabled=r&&(0,A.getCurrentCountryCode)().id===P.default.id,a.MOCGDemandBouncer=N.default.isOn(E.default),a}return(0,i.default)(n,[{key:"onAddressBannerImpression",value:function(){F.default.trackImpression(F.default.impressions.ADDRESS_BANNERV2,this.getRiftParams())}},{key:"getRiftParams",value:function(){return{status:this.props.addressSectionInfo&&this.props.addressSectionInfo.status&&this.props.addressSectionInfo.status.displayValue,access_level:this.props.accessLevel,property_type:this.props.addressSectionInfo.propertyType}}},{key:"getStreetAddress",value:function(){var e,t,n,a=this.searchBrokerageHelper.getStreetAddress();if(e=a.value,t=a.displayLevel,n=a.dataSourceId,!_.default[t]&&v.default[t]){e=d.default.createElement(C.default,{displayLevel:t,dataSourceId:n,registrationReason:y.default.id,trackClick:function(){return F.default.trackClick(F.default.clicks.CENSORED_ADDRESS)}},d.default.createElement("span",{style:{marginRight:"4px",whiteSpace:"nowrap"}},e))}return e}},{key:"getPriceInfo",value:function(){var e,t,n,a=this.searchBrokerageHelper.getPriceInfo();if(e=a.value,t=a.label,(n=a.displayLevel)&&!_.default[n]&&v.default[n]){e=d.default.createElement(C.default,{displayLevel:n,dataSourceId:this.props.dataSourceId,trackClick:function(){return F.default.trackClick(F.default.clicks.CENSORED_PRICE)},registrationReason:y.default.id})}return{value:e,label:t,displayLevel:n}}},{key:"getSqFtInfo",value:function(){var e,t,n,a,r=this.searchBrokerageHelper.getSqFtInfo();if(e=r.value,t=r.link,n=r.label,a=r.displayLevel,t)e=d.default.createElement("a",{target:"_self",onClick:function(e){e.preventDefault(),(0,k.navigateToSectionId)(e.target.getAttribute("href").substring(1))},href:t},"View");else if(a&&!_.default[a]&&v.default[a]){e=d.default.createElement(C.default,{displayLevel:a,dataSourceId:this.props.dataSourceId,trackClick:function(){return F.default.trackClick(F.default.clicks.CENSORED_SQ_FT)},registrationReason:y.default.id})}return{value:e,label:n,displayLevel:a}}},{key:"_getVOWBanner",value:function(){var e=this.props,t=e.addressBarBannerInfoStore,n=e.dataSourceId;return t.displayBannerType===g.default.id&&t.displayBannerStore&&t.displayBannerStore.displayLevel?d.default.createElement(B.default,{className:"vow-banner",dataSourceId:n,displayLevel:t.displayBannerStore.displayLevel,message:t.displayBannerStore.message}):null}},{key:"_onMapClick",value:function(){F.default.trackClick(F.default.clicks.STATIC_MINI_MAP_CLICK),H.default.populateFloodData(this.props.propertyParcelInfo,this.props.addressSectionInfo,this.props.propertyId),M.default.openQuickMapFullScreen()}},{key:"_getMap",value:function(){var e=this;return this.props.addressSectionInfo.staticMapUrl?d.default.createElement(w.default,{section:"address_banner",target:"static_minimap"},d.default.createElement("div",{className:"static-map v2",onClick:this._onMapClick,role:"button",tabIndex:0,onKeyDown:function(t){return 13===t.keyCode&&e._onMapClick(t)}},d.default.createElement("img",{className:"map-img",src:this.props.addressSectionInfo.staticMapUrl,alt:"map-entry",height:"100%",width:"100%"}),d.default.createElement(L.default,{divPixel:{x:"50%",y:"50%"},listingType:this.props.addressSectionInfo.listingType,searchStatus:this.props.addressSectionInfo.searchStatus,propertyType:this.props.addressSectionInfo.propertyType}))):d.default.createElement("div",{className:"static-map"},d.default.createElement(R.default,null))}},{key:"render",value:function(){var e=this.props,t=e.addressSectionInfo,n=e.pageType,a=e.buyersAgentCommissionStore,r=e.experimentStore,o=e.publicRecordsInfo,i=e.mortgageCalculatorStore,s=e.listingStatusBannerStore,l=this.getPriceInfo(),u=this.searchBrokerageHelper.getBedsInfo(),c=this.searchBrokerageHelper.getBathsInfo("phone"===(0,m.getCurrentDeviceType)()),f=this.getSqFtInfo(),g=this._getVOWBanner(),_=(0,p.default)({"Section AddressBannerSectionV2":!0,"white-bg":"desktop"===(0,m.getCurrentDeviceType)(),"not-omdp":n!==h.default.OFF_MARKET.id,ListingStatus:"CONTROL"!==s.EXPERIMENT_VARIANT});return d.default.createElement("div",{className:_},d.default.createElement("div",{ref:"containerNode",className:"sectionContainer "},g,d.default.createElement("div",{className:"flex margin-top-larger"},d.default.createElement("div",{className:"flex-1"},d.default.createElement(D.default,{listingStatusBannerStore:s}),d.default.createElement(S.default,{actions:{AddressBannerV2:{onImpression:this.onAddressBannerImpression}},streetAddress:this.getStreetAddress(),city:t.city,zip:t.zip,state:t.state,price:l&&l.value,priceLabel:a&&a.experimentVariant!==a.EXPERIMENT_VARIANTS.CONTROL?d.default.createElement(I.default,{experimentStore:r,buyersAgentCommissionStore:a}):this.MortgageEntrypointEnabled&&this.MOCGDemandBouncer&&i&&i.downPayment?d.default.createElement(T.default,{publicRecordsInfo:o,addressSectionInfo:t,downPaymentPercent:i.downPayment.percentage}):l&&l.label,beds:u&&u.value,bedsLabel:u&&u.label,baths:c&&c.value,bathsLabel:c&&c.label,sqFt:f&&f.value,sqFtLabel:f&&f.label})),this._getMap())),d.default.createElement("div",{className:"bottom-stats padding-bottom-large","data-rf-test-id":"abp-homeinfo-homebottomstats"},d.default.createElement(x.default,{addressBarBannerInfoStore:this.props.addressBarBannerInfoStore,personalizationInfoReceived:this.props.personalizationInfoReceived,isFavorite:this.props.personalizationInfo.isFavorite,priceInfo:this.props.addressSectionInfo.priceInfo,soldDate:this.props.addressSectionInfo.soldDate,searchStatus:this.props.addressSectionInfo.searchStatus,listingType:this.props.addressSectionInfo.listingType,isActivish:this.props.pageType===h.default.ACTIVE.id||this.props.pageType===h.default.ACTIVE_PENDING.id,pageType:this.props.pageType,dataSourceId:this.props.addressSectionInfo.dataSourceId,photos:this.props.mediaBrowserInfo&&this.props.mediaBrowserInfo.photos,contactBoxInfo:this.props.contactBoxInfo,totalActiveClaims:this.props.addressSectionInfo.totalActiveClaims})),d.default.createElement(O.default,{key:"home-address",blob:this.searchBrokerageHelper.getStructuredData()}))}}],[{key:"displayName",get:function(){return"AddressBannerSectionV2"}},{key:"propTypes",get:function(){return{className:f.default.string,addressSectionInfo:f.default.object.isRequired,personalizationInfo:f.default.object}}},{key:"getComponentDependencies",value:function(){return{dependencies:["addressSectionInfo","personalizationInfo","pageType","dataSourceId","mediaBrowserInfo","accessLevel","propertyParcelInfo","contactBoxInfo","addressBarBannerInfoStore","buyersAgentCommissionStore","experimentStore","publicRecordsInfo","mortgageCalculatorStore","mainHouseInfo","listingStatusBannerStore"]}}}]),n}(d.Component);t.default=q,e.exports=t.default},GWUO:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("pVnL")),o=a(n("LDFp"));o.default.ensure(n("tTYd"));var i=n("pBXq").default,s=(0,r.default)(new i,{name:"DPRedfinEstimateRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{REDFIN_ESTIMATE_SECTION:{section:"redfin_estimate",target:""},GRAPH:{section:"redfin_estimate",target:"graph"},TRACK_ESTIMATE_BUTTON:{section:"redfin_estimate",target:"home_report_subscribe_button"},GHOST_TOWN_HOMECARD:{section:"redfin_estimate",target:"ghost_town_homecard"},GHOST_TOWN_MORE_LINK:{section:"redfin_estimate",target:"ghost_town_more_link"}},clicks:{ESTIMATE_FLYOUT:{section:"redfin_estimate",target:"estimate_flyout_link"},FLYOUT_ACCURACY_LINK:{section:"estimate_flyout",target:"estimate_flyout_accuracy_link"},FLYOUT_AGENT_LINK:{section:"estimate_flyout",target:"estimate_flyout_agent_link"},FLYOUT_FEEDBACK_LINK:{section:"estimate_flyout",target:"estimate_flyout_feedback_link"},ONE_YEAR_CLICK:{section:"redfin_estimate",target:"graph_one_year_button"},FIVE_YEAR_CLICK:{section:"redfin_estimate",target:"graph_five_year_button"},DISMISS_REFUND_FLYOUT:{section:"address_banner_refund_flyout",target:"dismiss_link",expectedParams:["auto_shown"]},HOME_REPORT_SUBSCRIBE_BUTTON:{section:"address_banner",target:"home_report_subscribe_button"},HOME_REPORT_DASHBOARD_BUTTON:{section:"address_banner",target:"view_owner_dashboard"},GRAPH:{section:"redfin_estimate",target:"graph"},TRACK_ESTIMATE_BUTTON:{section:"redfin_estimate",target:"home_report_subscribe_button"},EXPAND_GRAPH:{section:"redfin_estimate",target:"show_history"},CREATE_OWNER_ESTIMATE:{section:"redfin_estimate",target:"create_owner_estimate"},SHOW_COMPARABLES_LINK:{section:"redfin_estimate",target:"show_comparables_link"},ESTIMATE_HISTORY_SHOW:{section:"redfin_estimate",target:"estimate_history_link"},SHOW_COMPARABLES_ON_MAP:{section:"redfin_estimate",target:"view_on_map_link"},GHOST_TOWN_HOMECARD:{section:"redfin_estimate",target:"ghost_town_homecard"},GHOST_TOWN_MORE_LINK:{section:"redfin_estimate",target:"ghost_town_homecard"},COMPARABLE_SWIPE_RIGHT:{section:"redfin_estimate",target:"homecard_swipe_right"},COMPARABLE_SWIPE_LEFT:{section:"redfin_estimate",target:"homecard_swipe_left"}}});e.exports=s},GiNY:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lSNA")),o=a(n("mXGw")),i=(a(n("17x9")),a(n("ma35"))),s=a(n("z7Ey")),l=a(n("nbo3")),u=a(n("/+pK")),c=n("R8lb"),d=a(n("qNVT")),f=a(n("razj")),p=a(n("J3Df")),m=a(n("8Llx")),h=a(n("Czz3")),g=a(n("BYaZ")),_=n("JW9R");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var y=function(e){o.default.useEffect(function(){g.default.trackImpression(e.isPartnerServiced?g.default.impressions.PARTNER_START_AN_OFFER:g.default.impressions.START_AN_OFFER,{redfin_direct:e.isInRedfinDirectMarket,is_partner:e.isPartnerServiced})},[]);var t=function(t,n,a){t&&t.preventDefault();var o=a||e.riftClickEvent||(e.isPartnerServiced?g.default.clicks.PARTNER_START_AN_OFFER:g.default.clicks.START_AN_OFFER),i=e.businessMarketId&&u.default.get(g_dbBackedConfigKeys.START_AN_OFFER_REDUCED_FIELDS_MARKETS).includes(e.businessMarketId),s=g.default.trackClick(o,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({inReducedFieldsMarket:i},e.riftParams||{}));m.default.isLoggedIn()||(0,c.trackRegistrationConversionAttempt)(s,f.default.id,p.default.id),e.onClick&&e.onClick(),l.default.flushRiftEvents(),window.open(function(e,t,n){var a=new URLSearchParams({listingId:e.listingId,inquirySource:String(t||e.inquirySource||d.default.LDP_CONTACT_BOX_OFFER_WIZARD.id),epc:(0,c.serializeConversionRiftEntrypoint)(n)});if(e.isPartnerServiced)return a.set("agent",e.agentId),"/buy-a-home/start-an-offer?".concat(a.toString());var r=(0,_.shouldShowStartAnOfferMultiStep)()?"/buy-a-home/start-an-offer-flow":"/buy-a-home/start-an-offer";return"".concat(r,"?").concat(a.toString())}(e,n,s),"_self")};return(0,s.default)(h.default.clickStartAnOffer,t),e.renderAsLink?o.default.createElement("div",{className:"StartOfferButton link-wrapper text-center"},o.default.createElement("a",{href:"#",onClick:t,"data-rf-test-name":"offer",className:"startOfferLink"},"Start an offer")):o.default.createElement(i.default,{rfTestName:"offer",className:"StartOfferButton startAnOfferButton",onClick:t},"Start an offer")};y.propTypes={},y.defaultProps={isPartnerServiced:!1,isInRedfinDirectMarket:!1,agentId:null,businessMarketId:null,inquirySource:null,riftParams:null,riftClickEvent:null,onClick:null,renderAsLink:!1};var E=y;t.default=E,e.exports=t.default},GnpT:function(e,t,n){},GoxZ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.LIVE_CHAT_PROMPT_COOKIE=t.CONVERSATION_ELEMENT_ID=void 0,t.createPromptCookie=function(){var e=new Date;e.setTime(e.getTime()+36e5),null==(0,u.default)(f)&&(0,u.default)(f,JSON.stringify({showPromptedInitialMessage:!0,showBadge:!0,expirationDate:e.toUTCString()}),{expires:e,path:"/"})},t.generateArrayOfComponentsFromMessageBody=function(e,t){var n=[e];if(!function(e){return(0,o.default)(e,"agent")}(t))return n;var a=function(e){if("string"==typeof e){var t=new RegExp(/(https?:\/\/)?(www\.)?(redfin.com|redf.in){1}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi);return e.match(t)}}(e),r=function(e){if("string"==typeof e){var t=new RegExp("[-\\w~!$%^&*=+}{\\'?]+(\\.[-\\w~!$%^&*=+}{\\'?]+)*@([a-z0-9][-a-z0-9]*(\\.[-a-z0-9]+)*\\.([a-z][-a-z0-9]+)|([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}))(:[0-9]{1,5})?$","gi");return e.match(t)}}(e),i=function(e){if("string"==typeof e){var t=new RegExp(/\+?\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})/gi);return e.match(t)}}(e),s=function(e){var t={};if(e)for(var n=0;n<e.length;n++)t[e[n]]=h(e[n]);return t}(a),u=function(e,t,n){var a="";t&&(a+=t.join("|"));e&&(a+=a.length>0?"|":"",a+=e.join("|"));n&&(a+=a.length>0?"|":"",a+=n.join("|"));return a}(a,r,i);if(u.length){var c="("+u+")",d=e.split(new RegExp(c,"ig"))||[];n=d.map(function(e){return r&&r.indexOf(e)>=0?l.default.createElement("a",{href:"mailto:"+e},e):a&&a.indexOf(e)>=0?l.default.createElement("a",{href:s[e],target:"_blank"},e):i&&i.indexOf(e)>=0?l.default.createElement("a",{href:"phone:"+e},e):e})}return n},t.getConversationScrollPositionClasses=function(){var e=document.getElementById(d);return e&&e.scrollTop&&0!==e.scrollTop?"":"scrollTop"},t.getLiveChatPromptMessage=function(e,t){var n=e?" "+e:"";if(m.includes(t))return"Hi".concat(n,"! Do you have any questions about selling your home?");return"Hi".concat(n,"! Do you have any questions about this home?")},t.hidePromptCookieBadge=function(){if(null!=(0,u.default)(f)){var e=JSON.parse((0,u.default)(f));e.showBadge&&(0,u.default)(f,JSON.stringify({showPromptedInitialMessage:!0,showBadge:!1,expirationDate:e.expirationDate}),{expires:new Date(e.expirationDate),path:"/"})}},t.isOnMobileWeb=void 0,t.needMobileSafariKeyboardHandling=function(){return c()&&(0,i.default)("ios-app-store")},t.offMarketChatInquirySources=void 0,t.scrollForTextFieldIfNeeded=function(e){if(!c())return;e.className?function(e){if(!(0,s.isBrowser)())return;setTimeout(function(){var t=document.getElementById(d);if(t&&t.getElementsByClassName){var n=t.getElementsByClassName(e)[0];if(n&&n.scrollIntoView){n.scrollIntoView();var a=document.getElementsByClassName("liveChatDialog")[0];a&&a.parentElement&&(a.parentElement.scrollTop=0)}}},10)}(e.className):e.bottomOfConversation&&p()},t.scrollToBottomOfConversation=p,t.textFields=void 0;var r=a(n("DzJC")),o=a(n("Xdxp")),i=a(n("luvc")),s=n("QP4D"),l=a(n("mXGw")),u=a(n("72T9")),c=(0,r.default)(function(){return(0,i.default)("screen-size")<i.default.screenSizes.MEDIUM},20);t.isOnMobileWeb=c;var d="liveChatConversationHistory";t.CONVERSATION_ELEMENT_ID=d;var f="RF_LIVE_CHAT_PROMPT";function p(){(0,s.isBrowser)()&&setTimeout(function(){var e=document.getElementById(d);e&&(e.scrollTop=e.scrollHeight)},10)}t.LIVE_CHAT_PROMPT_COOKIE=f;var m=[g_inquirySource.OMDP_LIVE_CHAT_PROMPT,g_inquirySource.OMDP_LIVE_CHAT_FOOTER_BUTTON,g_inquirySource.OMDP_LIVE_CHAT_FLOATING_BUTTON];t.offMarketChatInquirySources=m;function h(e){var t=e,n=e.match(/^(https?\:)\/\/(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/);return n&&(n[2]||n[1])||(t="http://"+e),t}t.textFields={NAME:{className:"nameField"},EMAIL_OR_PHONE:{className:"emailOrPhoneSection"},HOW_CAN_WE_HELP_YOU:{className:"howCanWeHelpYouField"},MESSAGE_COMPOSE:{bottomOfConversation:!0}}},"H+kC":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.NAVIGATION_LINKS_KEYS=void 0;var o=a(n("J4zp")),i=a(n("VJLA")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),l=n("QP4D"),u=(a(n("17x9")),a(n("tOtM"))),c=a(n("8Jek")),d=a(n("Szhz")),f=a(n("1RMg")),p=a(n("LDFp")),m=a(n("YYdk")),h=n("osI4");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}var _=(0,l.isBrowser)()&&window.IntersectionObserver&&new IntersectionObserver(function(e){var t=(0,o.default)(e,1)[0];t.target.classList.toggle("is-pinned",t.intersectionRatio<1)},{threshold:[1]}),v=function(e,t,n){return{displayName:e,sectionId:t,riftClickEvent:d.default.clicks[n]}},y={OVERVIEW:v("Overview","overview","OVERVIEW"),AVM:v("Redfin Estimate","redfin-estimate","AVM"),AMENITIES:v("Property Details","property-details","PROPERTY_DETAILS"),AMENITIES_ALT:v("Listing Details","property-details","PROPERTY_DETAILS"),TOUR_INSIGHTS:v("Tour Insights","agent-insights","TOUR_INSIGHTS"),PROPERTY_HISTORY:v("Sale & Tax History","property-history","PROPERTY_HISTORY"),PUBLIC_RECORDS:v("Public Facts","public-records","PUBLIC_RECORDS"),SCHOOLS:v("Schools","schools","SCHOOLS"),NEIGHBORHOOD_INFO:v("Neighborhood","neighborhood-info","NEIGHBORHOOD"),SIMILARS:v("Similar Homes","similar-section","SIMILARS"),ENERGY_DATA:v("Energy Report","energy-data","ENERGY_REPORT")},E=(0,i.default)(Object.keys(y),Object.keys(y));t.NAVIGATION_LINKS_KEYS=E;var S=(0,i.default)(Object.keys(y),Object.values(y).map(function(e){return e.sectionId}));var I=function(e){var t=e.deviceConfig,n=e.linksToShow,a=e.coreNavigationStore,r=e.addressSectionInfo,o=e.pageLoadComplete,i=e.accessLevel,l=e.isLandingSession,d=e.shareBoxStore,g=e.personalizationInfo,v=e.tourHomeMomentInfoStore,I=e.isPropertyPage;(0,s.useEffect)(function(){_&&_.observe(document.querySelector(".navigationHeader"))},[]);var T=(0,c.default)({Section:!0,FixedHeader:!0,"white-bg":t===g_deviceConfiguration.DESKTOP}),C=(0,c.default)({sectionContainer:!0,NavigationBarSection:!0}),b=function(e,t,n){for(var a={},r=!(e&&(4===e.listingType||5===e.listingType)),o=e.searchStatus,i=o&&g_searchStatuses.idToObj[o]&&g_searchStatus.idToObj[o].isActivish,s=0;s<n.length;s++){var l=n[s],u=!0;if(l in E){switch(l){case E.AVM:u=!1;break;case E.AMENITIES:case E.AMENITIES_ALT:u=f.default.isOn(p.default.LDP_PROPERTY_DETAILS);break;case E.TOUR_INSIGHTS:u=!1;break;case E.PROPERTY_HISTORY:u=r&&f.default.isOn(p.default.LDP_PROPERTY_HISTORY);break;case E.PUBLIC_RECORDS:u=r&&f.default.isOn(p.default.LDP_PUBLIC_RECORDS)&&!i;break;case E.SCHOOLS:var c=e&&e.countryCode===m.default.CANADA.id&&!f.default.isOn(p.default.LDP_REDPANDA_SCHOOLS);u=f.default.isOn(p.default.LDP_NEARBY_SCHOOLS)&&!c;break;case E.NEIGHBORHOOD_INFO:u=f.default.isOn(p.default.LDP_NEIGHBORHOOD_STATS)&&"ie"===(0,h.getCurrentBrowserName)();break;case E.SIMILARS:case E.ENERGY_DATA:u=!1}a[l]=u}}return a}(r,0,n),k=a.backButtonName,R=a.backButtonUrl,O=a.defaultSearchUrl;return s.default.createElement("div",{className:T},s.default.createElement("div",{className:C},s.default.createElement(u.default,{addressSectionInfo:r,pageLoadComplete:o,deviceConfig:t,accessLevel:i,linksToShow:n,isLandingSession:l,backButtonName:k,backButtonUrl:R,defaultSearchUrl:O,shareBoxStore:d,navigationLinks:y,displaySections:b,sectionIds:S,personalizationInfo:g,tourHomeMomentInfoStore:v,isPropertyPage:I})))};I.displayName="NavigationBarSection",I.propTypes={},I.defaultProps={linksToShow:[],isPropertyPage:!1},I.getComponentDependencies=function(){return{dependencies:["isLandingSession","addressSectionInfo","homeDetailsPageHeaderInfo","accessLevel","coreNavigationStore","personalizationInfo","tourHomeMomentInfoStore"],clientDependencies:["pageLoadComplete","shareBoxStore"]}},I.getPageLayoutClassName=function(){return"force-sm-fullPageWidth force-md-fullPageWidth navigationHeader"};var T=I;t.default=T},"H/w5":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createHomeDetailsInitialStoreFromiFrameRequest=t.createHomeDetailsInitialStoreFromRequest=void 0;var r=a(n("QILm")),o=a(n("lSNA")),i=a(n("pVnL")),s=n("cMqt"),l=a(n("bOMt")),u=a(n("m7qm")),c=a(n("7kw5")),d=n("Q+Iq"),f=a(n("94Bj")),p=(a(n("vDqi")),a(n("/+pK"))),m=a(n("FprU")),h=a(n("gDG7")),g=["pageType","rentalStatus","deviceConfig","propertyType"],_=Object.keys(h.default).reduce(function(e,t){var n=h.default[t];return(0,i.default)(e,(0,o.default)({},n.id,t))},{}),v=["_rfBrowserId_forCorvair",s.ReactServerAgent.DATA_BUNDLE_PARAMETER],y=(n("cMqt").logging.getLogger({name:"corvair.sites.customer-pages.pages.details.DetailsInitialDataStore",color:{server:147,client:"rgb(127,127,212)"}}),u.default.createStoreFactory({init:function(e){this.DIRECT_TO_OZ_PAGE_INFO_PATH="".concat("prod"===(0,s.config)().environmentName?"https://service-web-home-data.k8s.redf.in":"https://service-web-home-data.k8s.redfintest.com","/api/v1/properties/pageRoute"),this.registerUrls(e)},registerUrls:function(e){var t=e.queryString?Object.fromEntries(new URLSearchParams(e.queryString)):{};if(t.path=e.urlPath,v.forEach(function(e){return delete t[e]}),t.rfAmpClientId||t.s){var n={responseCode:301,redirectUrl:t.path};this.setState({urlData:n,rentalUrlData:n})}else{var a;if(t&&t.path)p.default.get("SEARCH_RENTALS_PAGE_INFO_DIRECT_TO_OZ_PERCENTAGE")>100*Math.random()?(c.default.addTag("ozDirect"),a=this.DIRECT_TO_OZ_PAGE_INFO_PATH):(c.default.addTag("ozProxy"),a="/stingray/api/v1/properties/pageRoute"),this.setState({rentalUrlData:s.ReactServerAgent.get(a,t).then(function(e){var t;if(!e.body)return{};var n=e.body,a=n.pageType,o=n.rentalStatus,i=n.deviceConfig,s=n.propertyType,l=(0,r.default)(n,g);return l.propertyType=_[s]||s,l.pageType=(null===(t=m.default[a])||void 0===t?void 0:t.id)||a,l.rentalStatus=(null==o?void 0:o.toLowerCase())||o,l.deviceConfig=g_deviceConfiguration[i]||i,l}).catch(function(e){return console.log(e),{}}),urlData:(0,d.getEndpoint)("/stingray/api/home/details/initialInfo",t),pageTagsInfo:(0,d.getEndpoint)("/stingray/api/home/details/v1/pagetagsinfo",t),primaryRegionInfo:(0,d.getEndpoint)("/stingray/api/home/details/primaryRegionInfo",t),bouncyHouseFlags:f.default.resolve(["DISPLAY_ADS_2022_DP_V2_REDEPLOY","LISTING_FLOORPLANS_DIALOG","DP_USE_SRCSET"])})}}})),E=function(e,t){var n,a=e.getUrl(),r=a&&a.match(new RegExp("^(".concat(t,")?(/.*)")));return r&&(r.length>2&&r[2]&&(a=r[2]),n=l.default.parse(a)),{urlParts:n,match:r}};t.createHomeDetailsInitialStoreFromRequest=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="/corv|/r3s",a=E(e,n),r=a.urlParts;t&&(r.pathname=r.pathname.replace("/amp",""));var o=y({urlPath:r.pathname,queryString:r.query});return t&&o.setState({canonicalUrl:r.pathname}),o};t.createHomeDetailsInitialStoreFromiFrameRequest=function(e){var t=E(e,"/corv/[a-z,-]*(/v2)*/[a-z]*|/r3s/[a-z,-]*/[a-z]*").urlParts;return y({urlPath:t.pathname,queryString:t.query})};var S=y;t.default=S},"Hl/W":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.LenderContactButton=void 0;var r=a(n("pVnL")),o=a(n("ma35")),i=a(n("WqrT")),s=n("+xFC"),l=a(n("EyRd")),u=n("zNyI"),c=a(n("8Jek")),d=a(n("94Bj")),f=a(n("cY5t")),p=a(n("Eua3"));n("K62H");var m=function(e){var t,n=e.mortgageLenderInfo,a=n.apr,r=n.contactUrl,o=n.interestRate,i=n.lenderName,s=n.nmls,l=n.payment,u=n.fees,f=n.points,m=e.onClick,v=e.index,y=e.userSessionId,E=e.transactionId,S=e.lendersCount,I=e.context,T=e.isStandalone,C=e.downPaymentAmount,b=e.homePrice;t=d.default.isOn(p.default)?React.createElement(g,{nmls:s,lenderName:i,interestRate:o,apr:a,payment:l,fees:u,points:f,isStandalone:T,downPaymentAmount:C,homePrice:b}):React.createElement(h,{nmls:s,lenderName:i,interestRate:o,apr:a,payment:l});var k=(0,c.default)("bankrateCard variant-treatment bg-color-white",{"with-fees":d.default.isOn(p.default)});return React.createElement("div",{className:k,onClick:m},t,React.createElement(_,{contactUrl:r,userSessionId:y,index:v,showRevampedButtonStyle:!0,trackingInfo:{transactionId:E,lenderName:i,lendersCount:S,demandChannel:I,lenderPosition:v+1}}))};t.default=m;var h=function(e){var t=e.interestRate,n=e.apr,a=e.payment,r=e.nmls,o=e.lenderName;return React.createElement("div",{className:"revampedBankrateLenderInfo"},React.createElement("div",{className:"bankrateInfoItem lenderNameSection one-column"},React.createElement("div",{className:"paymentCalculator-lenderName font-weight-bold"},o),React.createElement("div",{className:"label font-size-smaller"},"NMLS#",r)),React.createElement("div",{className:"bankrateInfoItem"},React.createElement("div",{className:"text-base"},(0,s.formatPrice)(a,0,"$")),React.createElement("div",{className:"label font-size-smaller"},"Est. payment",React.createElement("sup",null,"*"))),React.createElement("div",{className:"bankrateInfoItem"},React.createElement("div",{className:"text-base"},(0,s.formatNumber)(t,3),"%"),React.createElement("div",{className:"label font-size-smaller"},"Interest Rate")),React.createElement("div",{className:"bankrateInfoItem"},React.createElement("div",{className:"text-base"},(0,s.formatNumber)(n,3),"%"),React.createElement("div",{className:"label font-size-smaller"},"APR")))},g=function(e){var t=e.interestRate,n=e.apr,a=e.payment,o=e.fees,l=e.points,u=e.nmls,d=e.lenderName,f=e.isStandalone,p=e.downPaymentAmount,m=e.homePrice,h={position:"above",alignment:f?"right":"center",term:"Points",definition:"A type of mortgage loan fee that enables a borrower to lower monthly interest rate payments by paying more upfront."},g=E(p,m,l),_=o-g,v=(0,c.default)("bankrateInfoItem feeSection one-column",{standalone:f});return React.createElement("div",{className:"revampedBankrateLenderInfo"},React.createElement("div",{className:"bankrateInfoItem lenderNameSection one-column"},React.createElement("div",{className:"paymentCalculator-lenderName with-fees font-weight-bold"},d),React.createElement("div",{className:"label font-size-smaller"},"NMLS#",u)),React.createElement("div",{className:"bankrateInfoItem"},React.createElement("div",{className:"text-base"},(0,s.formatNumber)(n,3),"%"),React.createElement("div",{className:"label font-size-smaller"},"APR")),React.createElement("div",{className:"bankrateInfoItem"},React.createElement("div",{className:"text-base"},(0,s.formatNumber)(t,3),"%"),React.createElement("div",{className:"label font-size-smaller"},"Rate")),React.createElement("div",{className:"bankrateInfoItem"},React.createElement("div",{className:"text-base"},(0,s.formatPrice)(a,0,"$"),"/mo."),React.createElement("div",{className:"label font-size-smaller"},"Principal & interest")),React.createElement("div",{className:v},React.createElement("div",{className:"label font-size-smaller"},"Lender fees: ",React.createElement("span",{className:"value font-size-small"},(0,s.formatPrice)(_,0,"$"))),React.createElement("div",{className:"label font-size-smaller"},"Points: ",React.createElement("span",{className:"value font-size-small"},(0,s.formatPrice)(g,0,"$")," (",l," points)")," ",React.createElement(i.default,(0,r.default)({infoIcon:!0},h)))))},_=function(e){var t=e.contactUrl,n=e.userSessionId,a=e.index,r=e.inline,i=e.showRevampedButtonStyle,s=e.trackingInfo;return React.createElement(o.default,{className:"btnLink ctaBtn"+(i?" showRevampedButtonStyle":""),href:t,key:"ctaBtn",onClick:function(e){l.default.trackClick(r?l.default.clicks.INLINE_CAROUSEL_GET_PREQUALIFIED_CTA:l.default.clicks.CAROUSEL_GET_PREQUALIFIED_CTA,{rank:a,zillow_uuid:n}),d.default.isOn(f.default)&&(0,u.MRCtrackClickEvent)(s),e.stopPropagation&&e.stopPropagation()},target:"_blank",type:i?"tertiary":"primary"},y())};t.LenderContactButton=function(e){var t=e.isSelected,n=void 0!==t&&t,a=e.contactUrl,r=e.index,i=e.userSessionId,s=n?"primary":"text";return React.createElement("div",{className:"lenderContactButtonContainer"},React.createElement("a",{className:"btnLink",href:"#",rel:"nofollow",onClick:function(e){return v(a,e,r,i)}},React.createElement(o.default,{type:s,className:"lenderContactButton v3"},y())))};var v=function(e,t,n,a){t.preventDefault(),l.default.trackClick(l.default.clicks.CAROUSEL_GET_PREQUALIFIED_CTA,{rank:n,zillow_uuid:a}),window.open(e)},y=function(){return d.default.isOn(p.default)?"Get pre-approved":"Get pre-qualified"},E=function(e,t,n){return(t-e)*n/100}},Hl77:function(e,t,n){"use strict";var a=n("TqRt")(n("V5+8"));t.computeComponents=function(e){var t=e.useScrollStateControllerForSideRail;return[{component:a.default,shouldRender:!t,additionalDependencies:["binnableToursStore","openHouseStore"]}]}},Hlrp:function(e,t,n){},Hv05:function(e,t,n){},"I+M3":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n("RBnj").createActions)({createNewCommute:{},deleteCommute:{},showRoutes:{sync:!0},autoCompleteSetupDone:{},setUpCommuteDisplay:{sync:!0},autoCompletePlaceChanged:{},openForm:{},updateCommute:{}});t.default=a,e.exports=t.default},I0fR:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("17x9")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),f=a(n("vr1Q")),p=a(n("7RE6"));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var g=function(e){(0,s.default)(n,e);var t=h(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={previousInsightsVisible:!1},a.displayName="TourInsightList",a}return(0,i.default)(n,[{key:"_displayTourInsights",value:function(e,t){if(!e)return null;var n=e.map(function(e,t){var n=e.agentInfo;return d.default.createElement(f.default,{note:e.note,noteId:e.noteId,agentRoleName:e.agentRoleName,teamName:e.teamName,agentInfo:n,lastModified:e.lastModified,displayLevel:e.displayLevel,agentFeedbackIds:e.agentFeedbackIds,editable:e.editable,isVisibleToCustomers:e.displayLevel===g_displayLevel.ACCESSIBLE,key:t,showDisclaimer:this.props.tourInsightsInfo.showDisclaimer})}.bind(this));return d.default.createElement("div",{className:t},n)}},{key:"_getCurrentTourInsights",value:function(){return this._displayTourInsights(this.props.tourInsightsInfo.tourInsights,"currentTourInsights")}},{key:"_getPreviousTourInsights",value:function(){if(this.props.tourInsightsInfo.previousTourInsights&&this.props.tourInsightsInfo.previousTourInsights.length>0)return d.default.createElement("div",{className:"previousInsightsSection"},this._getPreviousTourInsightButton(),this._getPreviousTourInsightNotes())}},{key:"_getPreviousTourInsightButton",value:function(){var e=this.props.tourInsightsInfo.previousTourInsights.length,t=e+" insight"+(e>1?"s":""),n=this.state.previousInsightsVisible?"Hide previous insights":"View "+t+" from previous listings",a=this.state.previousInsightsVisible?"collapseArrow":"expandArrow";return d.default.createElement("div",{className:"expand-notes",onClick:this._togglePreviousNotes.bind(this)},d.default.createElement("span",null,n),d.default.createElement(p.default,{className:a}))}},{key:"_togglePreviousNotes",value:function(){this.setState({previousInsightsVisible:!this.state.previousInsightsVisible})}},{key:"_getPreviousTourInsightNotes",value:function(){if(this.state.previousInsightsVisible)return this._displayTourInsights(this.props.tourInsightsInfo.previousTourInsights,"previousTourInsights")}},{key:"render",value:function(){return d.default.createElement("div",null,this._getCurrentTourInsights(),this._getPreviousTourInsights())}}],[{key:"propTypes",get:function(){return{propertyId:c.default.number,tourInsightsInfo:c.default.object,listingId:c.default.number}}}]),n}(d.Component);t.default=g,e.exports=t.default},I1mr:function(e,t,n){"use strict";var a=n("TqRt")(n("17x9")),r=n("YAhj"),o=n("0VMN"),i=n("PqOS"),s=n("BclJ"),l=o({mixins:[i.ListenerMixin],displayName:"HomeMapStatic",propTypes:{addressSectionInfo:a.default.object,propertyParcelInfo:a.default.object,width:a.default.number,height:a.default.number},getInitialState:function(){var e;return this.props.propertyParcelInfo&&(e=this.props.propertyParcelInfo),{overlay:null,markersDOM:null,parcelInfo:e}},render:function(){var e=this.props.addressSectionInfo;if(!e||!this.state.parcelInfo.staticMapUrl2x)return null;try{var t={divPixel:{x:"50%",y:"50%"},propertyType:e.propertyType,listingType:e.listingType,searchStatus:e.searchStatus};return r.createElement("div",{className:"map-container",style:{position:"relative"}},r.createElement("img",{src:this.state.parcelInfo.staticMapUrl2x,alt:"",style:{width:"100%",display:"block"}}),r.createElement(s,{divPixel:t.divPixel,propertyType:t.propertyType,listingType:t.listingType,searchStatus:t.searchStatus}))}catch(e){return console.error("LdpMiniMap error: ",e),null}},_setupPropertyBounds:function(){var e;this.props.propertyParcelInfo&&(e=this.props.propertyParcelInfo.bounds),this.setState({propertyBounds:e})}});e.exports=l},I9sY:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.ChatMessage=c,t.ContactingTeamIndicator=function(e){if(!e.contactingTeam)return o.default.createElement("noscript",null);return o.default.createElement(c,{body:o.default.createElement("img",{className:"typingIndicator",src:g_imageServerUrl+"/images/agents/liveChat/typingProgress.gif"}),fromCurrentUser:!1,isPrevMessageFromSameAuthor:!1,isNextMessageFromSameAuthor:!1,authorId:"redfin",footer:"Contacting Team..."})},t.EndRestartChatMessage=function(e){var t=e.message;return o.default.createElement(c,(0,r.default)({fromCurrentUser:!1,isPrevMessageFromSameAuthor:!1,isNextMessageFromSameAuthor:!1,authorId:"redfin",isEndAndRestartMessage:!0},t))},t.OfflineContactInfoConfirmationMessage=function(e){var t=e.submittedContactInfo;if(!t)return o.default.createElement("noscript",null);var n=o.default.createElement("div",{className:"expandedOfflineContactInfoConfirmationMessage"},"Thank you. We'll get back to you at:",o.default.createElement("div",null,t));return o.default.createElement(c,{body:n,fromCurrentUser:!1,isPrevMessageFromSameAuthor:!1,isNextMessageFromSameAuthor:!1,authorId:"redfin"})},t.OfflineMessage=function(e){var t=e.agentsOnline,n=e.formName,a=e.fields,r=e.submittedContactInfo,i=e.showExpandedFormWithOfflineMessaging;return o.default.createElement("div",{className:"offlineMessageSection"},o.default.createElement(d,{agentsOnline:t,showExpandedFormWithOfflineMessaging:i}),o.default.createElement("div",{className:"contactFormContainer"},o.default.createElement(l.default,{formName:n,fields:a,showExpandedForm:i,submittedContactInfo:r})))},t.OfflinePromptMessage=d,t.TypingIndicator=function(e){var t=e.typingMemberIds,n=e.typingMembers,a=t&&t.length&&t[0],r=n&&n.length&&n[0];if(!a&&!r)return o.default.createElement("noscript",null);var i=o.default.createElement("img",{className:"typingIndicator",src:g_imageServerUrl+"/images/agents/liveChat/typingProgress.gif"});return o.default.createElement(c,{body:i,fromCurrentUser:!1,isPrevMessageFromSameAuthor:!1,isNextMessageFromSameAuthor:!1,authorId:a,authorMember:r,sentDate:null})};var r=a(n("pVnL")),o=a(n("mXGw")),i=a(n("8Jek")),s=a(n("MUw3")),l=a(n("AlHl")),u=n("GoxZ");function c(e){var t=e.body,n=e.fromCurrentUser,a=e.isInitialMessage,r=e.isEndAndRestartMessage,s=e.isPrevMessageFromSameAuthor,l=e.isNextMessageFromSameAuthor,c=e.authorId,d=e.authorMember,h=e.sentDate,g=e.footer,_=s,v=(l||!s)&&!r,y=!s,E=!l;n&&(g=!h?"Sending...":"Sent");var S=(0,u.generateArrayOfComponentsFromMessageBody)(t,c),I=d&&d.user.attributes.firstName,T=(0,i.default)({message:!0,fromCurrentUser:n,receivedMessage:!n,isLastMessage:E,isInitialMessage:a}),C=(0,i.default)({content:!0,sharpTop:_,sharpBottom:v,firstMessage:y&&!n});return o.default.createElement("div",{className:T},o.default.createElement(f,{isNotLastOfSuccessiveMessages:!E,isSentMessage:n,authorId:c}),o.default.createElement(m,{authorName:I,isTopMessage:y,isEndAndRestartMessage:r}),o.default.createElement("div",{className:C},S),o.default.createElement(p,{footerBody:g,isLastMessage:E}))}function d(e){var t=e.agentsOnline,n=e.showExpandedFormWithOfflineMessaging?o.default.createElement("div",{className:"expandedOfflineMessage"},"Our team is currently offline.",o.default.createElement("div",null,"Leave us a message and we'll get back to you by 10AM.")):t?"Our team is currently helping other customers.":"Our team is currently offline.";return o.default.createElement(c,{body:n,fromCurrentUser:!1,isPrevMessageFromSameAuthor:!1,isNextMessageFromSameAuthor:!1,authorId:"redfin"})}function f(e){var t,n=e.isNotLastOfSuccessiveMessages,a=e.isSentMessage,r=e.authorId;if(n||a)return o.default.createElement("noscript",null);if("agent.5602.4724937"===r)t="/images/agents/liveChat/lisa.png";else if("agent.3870.2659257"===r)t="/images/agents/liveChat/meg.png";else if("agent.2191.1287414"===r)t="/images/agents/liveChat/ashley.png";else if("agent.9688.8882595"===r)t="/images/agents/liveChat/karin.png";else if("agent.7073.6026954"===r)t="/images/agents/liveChat/crystal.png";else if("agent.7280.6218615"===r)t="/images/agents/liveChat/kaycie.png";else if("agent.3678.2392093"===r)t="/images/agents/liveChat/percelita.png";else{if("agent.3562.2279169"!==r)return o.default.createElement("div",{className:"messageIcon"},o.default.createElement(s.default,null));t="/images/agents/liveChat/stephany.png"}return o.default.createElement("img",{className:"messageIcon",src:g_imageServerUrl+t})}function p(e){var t=e.footerBody;return e.isLastMessage?o.default.createElement("div",{className:"messageFooter"},t):null}function m(e){var t=e.authorName,n=e.isTopMessage,a=e.isEndAndRestartMessage;if(!(t&&n||a))return o.default.createElement("noscript",null);var r=(0,i.default)("messageHeader",{endRestartChatMessageHeader:a}),s=a?"You have ended this chat":t;return o.default.createElement("div",{className:r},s)}n("2le5")},INXV:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lSNA")),o=n("R8lb"),i=a(n("94Bj")),s=a(n("QyVa")),l=a(n("/+pK")),u=n("QP4D"),c=n("TlVh"),d=n("61sW"),f=a(n("ckBc")),p=a(n("Yww5")),m=a(n("Xf43")),h=a(n("J3Df")),g=a(n("Cjij")),_=a(n("8Llx")),v=a(n("7SUW")),y=a(n("/30G")),E=a(n("D0QW")),S=a(n("7ia7"));function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var C=Object.freeze(p.default.experimentVariants.reduce(function(e,t){return T(T({},e),{},(0,r.default)({},t.name,t))},{})),b=Object.freeze({PROMOTE_BE_RATE:1,PROMOTE_BE_RATE_NO_LENDER_FEES:2}),k=(0,c.createStoreFactory)({init:function(e){var t=e.addressSectionInfo,n=e.contactBoxInfo,a=e.mainHouseInfo,r=e.avmInfo,o=e.queryParams,c=e.listingId,d=e.propertyId,m=e.additionalProperties,h=(t||{}).priceInfo||{},_=h.amount,y=h.displayLevel,E=n||{},I=E.customerAgentStatus,T=E.isServicedByRedfinAgent,k=I===f.default.id,R=a||{},O=R.bac,N=R.propertyIsActivish,A=R.refund,P=m.businessMarkets&&m.businessMarkets.length>0?m.businessMarkets[0]:null,D=null;P&&(l.default.get(g_dbBackedConfigKeys.PROMOTE_BE_RATE_NO_LENDER_FEES_MARKETS).includes(P)?D=b.PROMOTE_BE_RATE_NO_LENDER_FEES:l.default.get(g_dbBackedConfigKeys.PROMOTE_BE_RATE_MARKETS).includes(P)&&(D=b.PROMOTE_BE_RATE));var w=N&&T&&!k&&(A||D)&&O&&_&&y&&g.default[y]?((0,u.isBrowser)()&&setTimeout(function(){s.default.startExperiment(p.default),(0,v.default)().initialize({experiment:p.default,gaExperimentId:"0JjT-p9DT4y0by9l24iYig"})},0),C[i.default.getVariant(p.default)]||C.CONTROL):C.CONTROL;this.setState({EXPERIMENT_VARIANTS:C,experimentVariant:w,isServicedByRedfinAgent:T,isCustomerAssignedAnAgent:k,listPrice:_,refund:A,priceAfterRefund:_-A,bac:O,listingId:c,propertyId:d,formStore:(0,S.default)({contactBoxInfo:n,listingId:c,mainHouseInfo:a,propertyId:d,bundledIncentiveVariant:D}).createUpdatedInlineAAQStore(this.onAAQSubmit.bind(this)),actions:{BuyerAgentCommissionEntryPoint:{onSavingsMessagingClick:this.onSavingsMessagingClick,onSavingsMessagingMount:this.onSavingsMessagingMount},BuyersAgentCommissionDialog:{onBACDialogOpen:this.onBACDialogDidOpen,onBACDialogClose:this.onBACDialogClose,onAAQDialogClose:this.onAAQDialogClose,onBackFromAAQDialog:this.onBackFromAAQDialog}},contactBoxInfo:n,mainHouseInfo:a,avmInfo:r,queryParams:o,BUNDLED_INCENTIVE_VARIANTS:b,bundledIncentiveVariant:D})},_getRiftParams:function(){return{price:this.state.listPrice,refund:this.state.refund,type:this.state.experimentVariant.description}},onSavingsMessagingClick:function(){this.setState({showDialog:!0,dialogOpenedStamp:Date.now()}),E.default.trackClick(E.default.clicks.REFUND_ENTRYPOINT_LINK,this._getRiftParams())},onSavingsMessagingMount:function(){E.default.trackImpression(E.default.impressions.REFUND_ENTRYPOINT_LINK,this._getRiftParams())},onBACDialogDidOpen:function(){E.default.trackImpression(E.default.impressions.REFUND_COMMISSION_MODAL,this._getRiftParams())},onBACDialogClose:function(){var e=this.state,t=e.experimentVariant,n=e.listingId,a=e.refund;t!==C.CONTROL&&Date.now()-this.state.dialogOpenedStamp>1e4&&(d.UserSurvey.setUserProperties({cohort:t,listing_id:n,refund_amount:a}),this.state.dialogOpenedStamp%2?d.UserSurvey.showUserSurvey({surveyId:217350,mobileSurveyId:217413}):d.UserSurvey.showUserSurvey({surveyId:217415,mobileSurveyId:217416})),this.setState({showDialog:!1,dialogOpenedStamp:null})},onAAQSubmit:function(e){var t=y.default.trackClick(y.default.clicks.SUBMIT_INLINE_QUESTION);_.default.isLoggedIn()||(0,o.trackRegistrationConversionAttempt)(t,m.default.id,h.default.id),this.setState({entrypointRiftContext:t,submittedQuestion:e,showAAQDialog:!0,showDialog:!1,dialogOpenedStamp:null})},onAAQDialogClose:function(){this.setState({showAAQDialog:!1})},onBackFromAAQDialog:function(){this.setState({showAAQDialog:!1,showDialog:!0})}});t.default=k,e.exports=t.default},IU4J:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("lSNA")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=n("mXGw"),f=a(n("17x9")),p=a(n("HDuL")),m=a(n("CtbG")),h=a(n("2FT6"));function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var y=function(e){(0,l.default)(n,e);var t=v(n);function n(e){return(0,i.default)(this,n),t.call(this,e)}return(0,s.default)(n,[{key:"componentDidMount",value:function(){m.default.trackImpression(m.default.impressions.MEDIA_BROWSER)}},{key:"render",value:function(){if(void 0===this.props.mediaBrowserInfo||null===this.props.mediaBrowserInfo.photos||0===this.props.mediaBrowserInfo.photos.length)return null;var e=_(_({},this.props.mediaBrowserInfo),{},{photoTotal:this.props.mediaBrowserInfo.photos.length});return e.has3D=e.scans&&e.scans.length,React.createElement(p.default,(0,r.default)({},e,{hidden:!1,onClickClose:h.default.closeMediaBrowser}))}}],[{key:"displayName",get:function(){return"PropertyHistoryDesktopMediaBrowser"}},{key:"propTypes",get:function(){return{mediaBrowserInfo:f.default.object}}}]),n}(d.Component);t.default=y,e.exports=t.default},IaBH:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.faqRiftTrackerConfig=t.default=void 0;var r=a(n("lSNA")),o=a(n("pVnL")),i=a(n("LDFp")),s=a(n("pBXq"));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}i.default.ensure(n("tTYd"));var u={trackAllEventsInGA:!0,impressions:{FAQ:{section:"faq",target:""}},clicks:{FAQ_EXPAND_ITEM:{section:"faq",target:"faq_collapse_item",expectedParams:["question"]}}};t.faqRiftTrackerConfig=u;var c=(0,o.default)(new s.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({name:"FAQRiftTracker",bouncerFlags:[i.default.RIFT_ON_LDP]},u));t.default=c},"Irq/":function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("LDFp"));o.default.ensure(n("tTYd"));var i=n("pBXq").default,s=(0,r.default)(new i,{name:"TourInsightsRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{TOUR_INSIGHTS:{section:"tour_insights",target:null,expectedParams:["num_current_insights","num_previous_insights","visibility"]}},clicks:{ADD_INSIGHT:{section:"tour_insights",target:"add_insight_button"},DELETE_INSIGHT:{section:"tour_insights",target:"delete_insight_link"},UPDATE_VISIBILITY:{section:"tour_insights",target:"update_visibility_toggle",expectedParams:["new_state"]},FOLLOW_HOME:{section:"tour_insights",target:"follow_this_home_button"},NOTIFY_ME:{section:"tour_insights",target:"notify_me_button"},MANAGE_TOUR_INSIGHTS:{section:"tour_insights",target:"agent_manage_insights_button",expectedParams:["user_type"]},ADD_VIDEO_TOUR:{section:"tour_insights",target:"agent_add_video_tour_button",expectedParams:["user_type"]},YES_HELPFUL:{section:"tour_insights",target:"helpful_yes_link",expectedParams:["property_id","listing_id","insight_id"]},NO_HELPFUL:{section:"tour_insights",target:"helpful_no_link",expectedParams:["property_id","listing_id","insight_id"]}}});e.exports=s},JGIV:function(e,t,n){},JLHZ:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("pVnL")),o=a(n("kj8T")),i=a(n("zl5j")),s=a(n("iscO")),l=a(n("fCIp")),u=a(n("MMTE")),c=a(n("Z890")),d=a(n("ZNeB")),f=n("osI4"),p=a(n("lcmt")),m=function(e){var t=e.bannerInfoStore,n=e.personalizationInfo,a=e.mediaBrowserInfo,m=e.deviceConfig,h=e.listingId,g=e.dataSourceId,_=e.fallBackComponent,v=void 0===_?null:_,y=e.addressSectionInfo,E=e.isPhoneOMDP,S=m!==g_deviceConfiguration.DESKTOP;if("desktop"===(0,f.getCurrentDeviceType)()&&t.displayBannerType!==g_detailsPageBanner.REDFIN_DIRECT)return null;if(E){var I=t.displayBannerType===g_detailsPageBanner.LOCAL_RULES,T=y&&y.soldDate&&p.default.format(y.soldDate,"US/Pacific","MMMM D, YYYY"),C=y&&y.latestPriceInfo;return React.createElement(u.default,{locked:I,soldDate:T,priceInfo:C,isPhone:!0})}switch(t.displayBannerType){case g_detailsPageBanner.REDFIN_DIRECT:return"desktop"===(0,f.getCurrentDeviceType)()?React.createElement(c.default,(0,r.default)({},t.displayBannerStore,{listingId:h})):v;case g_detailsPageBanner.OFFER_DEADLINE:return React.createElement(o.default,{offerDeadlineInfoStore:t.displayBannerStore,contactBoxInfo:t.contactBoxInfo,homePhotosInfo:a.photos});case g_detailsPageBanner.COMING_SOON:return React.createElement(i.default,{comingSoonInfoStore:t.displayBannerStore,personalizationInfo:n,deviceConfig:m});case g_detailsPageBanner.LOCAL_RULES:return React.createElement(s.default,(0,r.default)({dataSourceId:g,isPhone:S},t.displayBannerStore));case g_detailsPageBanner.RECENTLY_SOLD:return React.createElement(l.default,(0,r.default)({isPhone:S},t.displayBannerStore));case g_detailsPageBanner.PENDING_HOME:return React.createElement(d.default,null);case g_detailsPageBanner.HOTNESS:default:return v}};m.getComponentDependencies=function(){return{dependencies:["bannerInfoStore","personalizationInfo","dataSourceId","mediaBrowserInfo","deviceConfig","addressSectionInfo"]}},m.getPageLayoutClassName=function(){return"dp-col-sm-12 dp-col-md-12"},m.displayName="BannerSection",e.exports=m},JPWT:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=n("mXGw"),d=a(n("uFDd")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("4ppV")),p=n("osI4"),m=a(n("McMD"));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("bGwx");var _=g_imageServerUrl+"/images/homes/details/clickThroughContent/blurred_dp_bg.jpg",v=function(e){(0,s.default)(n,e);var t=g(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.overflowStyle=document.body.style.overflow,document.body.style.overflow="hidden",document.body.classList.add("clickThroughContentFixedBodyPosition")}},{key:"componentWillUnmount",value:function(){document.body.style.overflow=this.overflowStyle,document.body.classList.remove("clickThroughContentFixedBodyPosition")}},{key:"render",value:function(){if(!this.props.showSection)return null;var e="phone"===(0,p.getCurrentDeviceType)();return React.createElement("div",{className:"ClickThroughContentContainer"},React.createElement("div",{className:"ClickThroughContentHeaderOverlay"}),e?this._getMobileClickThroughContentBackground():this._getClickThroughContentUnderlay(),React.createElement(f.default,{className:"ClickThroughContentDialog ".concat(f.DRAWER_STYLE_CLASS),showCloseButton:!1,closeOnBackgroundClick:!0,title:this.props.title,transitionAppear:!0,shouldPreventScrollingDown:!0},React.createElement(d.default,this.props)))}},{key:"_getClickThroughContentUnderlay",value:function(){var e={backgroundImage:"url(".concat(_,")")};return React.createElement("div",null,React.createElement("div",{className:"ClickThroughContentBackground bg-color-white"}),React.createElement("div",{className:"ClickThroughContentUnderlay",style:e}))}},{key:"_getMobileClickThroughContentBackground",value:function(){return React.createElement("div",{className:"MobileClickThroughContentBackground bg-color-white"},React.createElement(m.default,null))}}]),n}(c.Component);t.default=v,e.exports=t.default},JW9R:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.isMobileOrTablet=t.isMobile=t.historyReplaceState=t.historyPushState=void 0,t.shouldShowStartAnOfferMultiStep=function(){return!s()};var r=a(n("DzJC")),o=a(n("luvc"));var i=(0,r.default)(function(){return(0,o.default)("screen-size")<o.default.screenSizes.MEDIUM});t.isMobile=i;var s=(0,r.default)(function(){return(0,o.default)("screen-size")<o.default.screenSizes.LARGE});t.isMobileOrTablet=s;t.historyPushState=function(e,t){"undefined"!=typeof history&&history.pushState(e,"",t)};t.historyReplaceState=function(e,t){"undefined"!=typeof history&&history.replaceState(e,"",t)}},"JX/J":function(e,t,n){},JrpX:function(e,t,n){},JsyM:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("17x9")),d=n("mXGw");n("i7W0");var f=a(n("8Jek"));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var m=function(e){(0,s.default)(n,e);var t=p(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).onClick=a.onClick.bind((0,i.default)(a)),a.placesCallback=a.placesCallback.bind((0,i.default)(a)),a}return(0,o.default)(n,[{key:"render",value:function(){var e=(0,f.default)({dropDownItem:!0,isSelected:this.props.isSelected});return React.createElement("div",{className:e,onClick:this.onClick},React.createElement("div",{className:"placeName"},this.props.placeName))}},{key:"onClick",value:function(){if(window.google){var e={fields:["geometry"],placeId:this.props.placeId,sessionToken:this.props.token};this.props.placesService.getDetails(e,this.placesCallback)}}},{key:"placesCallback",value:function(e){var t={placeName:this.props.placeName,geometry:e.geometry};this.props.onPlaceSelected(t)}}],[{key:"propTypes",get:function(){return{placeId:c.default.string,placeName:c.default.string,substringInfo:c.default.array,onPlaceSelected:c.default.func,placesService:c.default.object,isSelected:c.default.bool}}}]),n}(d.Component);t.default=m,e.exports=t.default},K4NS:function(e,t,n){},K62H:function(e,t,n){},K8l8:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.dpaStore,n=e.useMobileStyles,a=t.formName,m=t.fields,h=o.default.createElement("span",{className:"programDisclaimers"},"The following is not an application, and any information you provide will only be stored temporarily in order to determine the assistance programs available to you. You can remove the information anytime by clearing your responses."),g=!n&&"col-6";return o.default.createElement(f.default,{section:p.default.impressions.DPA_MODAL_FORM.section,target:p.default.impressions.DPA_MODAL_FORM.target},o.default.createElement("div",{className:"dpaFormSection"},o.default.createElement("p",{className:"dpaFormSub"},"These questions are all optional to fill out, however the more questions you answer, the more relevant the results will be to you."),o.default.createElement(i.default,{className:"dpaForm",decorateRequiredFields:!1,formName:a},o.default.createElement("div",null,o.default.createElement("p",{className:"dpaFormOptionTitleAboveLabel"},"How many people live in your household?"),o.default.createElement("p",{className:"dpaFormLabel"},"Include yourself, spouse, children, other adults and senior dependents."),o.default.createElement(s.default,(0,r.default)({className:"houseHoldSelect",options:d.householdOptions},m.household))),o.default.createElement("div",null,o.default.createElement("p",{className:"dpaFormOptionTitle"},"Do you currently own a home?"),o.default.createElement(s.default,(0,r.default)({className:"ownershipSelect",options:d.ownHomeOptions},m.ownership))),o.default.createElement("div",null,o.default.createElement("p",{className:"dpaFormOptionTitle"},"Estimated annual income of your household (pre-tax)"),o.default.createElement(l.default,(0,r.default)({className:"incomeText",type:"currencyString",value:"$",placeholder:"\\xa0",sublabel:"/year"},m.income))),o.default.createElement("div",null,o.default.createElement("p",{className:"dpaFormOptionTitleAboveLabel"},"Are you (or a co-borrower) a member or former member of the U.S military?"),o.default.createElement("p",{className:"dpaFormLabelWithCheckbox"},"Select all that apply"),o.default.createElement(u.default,(0,r.default)({className:"dpaCheckbox"},m.military,{options:(0,d.memberCheckOptions)(g)}))),o.default.createElement("div",null,o.default.createElement("p",{className:"dpaFormOptionTitle"},"Are you (or a co-borrower) Native American?"),o.default.createElement(c.default,(0,r.default)({className:"dpaRadioInput"},m.isNativeAmerican,{options:(0,d.nativeOption)(g)}))),o.default.createElement("div",null,o.default.createElement("p",{className:"dpaFormOptionTitleAboveLabel"},"Do you (or a co-borrower) work in any of these professions?"),o.default.createElement("p",{className:"dpaFormLabelWithCheckbox"},"Select all that apply"),o.default.createElement(u.default,(0,r.default)({className:"dpaCheckbox"},m.professions,{options:(0,d.professionOptions)(g)}))),o.default.createElement("div",null,o.default.createElement("p",{className:"dpaFormOptionTitle"},"Do you (or a co-borrower or dependent house hold member) have a disability?"),o.default.createElement(c.default,(0,r.default)({className:"dpaRadioInput"},m.isDisability,{options:(0,d.disabilityOption)(g)})))),h))};var r=a(n("pVnL")),o=a(n("mXGw")),i=a(n("t/kO")),s=a(n("Ni50")),l=a(n("Xecl")),u=a(n("CwGj")),c=a(n("N3zK")),d=n("0Z4d"),f=a(n("UT8e"));n("33e7");var p=a(n("RlWI"));e.exports=t.default},"KBk/":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("3OWR")),o=a(n("pBXq")),i=(0,r.default)(new o.default,{name:"VideoOpenHousesRiftTracker",trackAllEventsInGA:!1,impressions:{VIDEO_OPEN_HOUSES:{section:"video_open_houses",target:null,expectedParams:["has_live_now","start_times","property_id","listing_id"]}},clicks:{SIGN_UP:{section:"video_open_houses",target:"sign_up",expectedParams:["start_time","property_id","listing_id"]},JOIN_NOW:{section:"video_open_houses",target:"join_now",expectedParams:["start_time","property_id","listing_id"]}},fireRiftClick:function(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o={start_time:1e3*t,property_id:n,listing_id:a};null!==r&&(o.is_live_now=r),this.trackClick(e,o)}});t.default=i,e.exports=t.default},KD8M:function(e,t,n){},KJh8:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getNavigationLinks=void 0;var r=n("H+kC"),o=a(n("1RMg")),i=a(n("aVrQ"));t.getNavigationLinks=function(e){var t=[r.NAVIGATION_LINKS_KEYS.OVERVIEW,"VARIANT"===o.default.getVariant(i.default)?r.NAVIGATION_LINKS_KEYS.AMENITIES_ALT:r.NAVIGATION_LINKS_KEYS.AMENITIES,r.NAVIGATION_LINKS_KEYS.PROPERTY_HISTORY,r.NAVIGATION_LINKS_KEYS.SCHOOLS,r.NAVIGATION_LINKS_KEYS.TOUR_INSIGHTS,r.NAVIGATION_LINKS_KEYS.PUBLIC_RECORDS,r.NAVIGATION_LINKS_KEYS.NEIGHBORHOOD_INFO,r.NAVIGATION_LINKS_KEYS.SIMILARS],n=[].concat(t);return e&&n.splice(7,0,r.NAVIGATION_LINKS_KEYS.AVM),n}},KKEr:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getButtonType=void 0;var r=a(n("ON6Z")),o=a(n("8Pth")),i=n("uAhr"),s=n("SQRV");t.getButtonType=function(e){var t=e.personalizationInfo,n=e.redfinNowHomeMomentInfoStore,a=e.contactBoxInfo,r=e.opendoorPurchaseEstimateStore;return l(t)?i.StickyOMDPButtonTypeConstants.UNCLAIMED:u(n)?i.StickyOMDPButtonTypeConstants.REDFIN_NOW:c(r)?i.StickyOMDPButtonTypeConstants.OPENDOOR:d(a)?i.StickyOMDPButtonTypeConstants.PARTNER:(0,s.isHomeValuationAnalysisEligible)(a)?i.StickyOMDPButtonTypeConstants.HOME_VALUATION_ANALYSIS:f(a)?i.StickyOMDPButtonTypeConstants.BROKERAGE:void 0};var l=function(e){return e&&!e.hasClaim},u=function(e){return(0,s.shouldShowOMDPCashOfferMerch)(e)&&e.estimate.cashOfferType===r.default.REDFIN_NOW.id},c=function(e){return(0,s.shouldShowOpendoorMerch)(e)},d=function(e){var t=e&&(e.agentRequestAgent||e.recommendedAgent);return t&&t.getAgentType()===o.default.CONNECT.id},f=function(e){var t=e&&(e.agentRequestAgent||e.recommendedAgent);return t&&t.getAgentType()===o.default.REDFIN.id}},KLhx:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t){var n=t.currentSection,a=(n=void 0===n?{}:n).riftSection;return r.default.createElement(o.default,{section:a},r.default.createElement(e,t))}return t.displayName="WithHomeEquitySectionWrapper__".concat((n=e,n.displayName||n.name||"Component")),t;var n};var r=a(n("mXGw")),o=a(n("UT8e"));e.exports=t.default},KaCs:function(e,t,n){"use strict";var a=n("RBnj");e.exports=(0,a.createActions)(["setCurrentFullScreenComponent"])},Kern:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("pBXq")),i=a(n("LDFp")),s=a(n("ulln")),l=(0,r.default)(new o.default,{name:"SellsideFlyoutRiftTracker",bouncerFlags:[i.default.RIFT_ON_LDP,i.default.LDP_MORTGAGE_CALCULATOR_SECTION,s.default],trackAllEventsInGA:!0,impressions:{SELLING_FLYOUT_TEST:{section:"payment_calc_selling_flyout_test",target:null},SELL_WITH_REDFIN:{section:null,target:null}},clicks:{FLYOUT_EXPLORE_REDFIN:{section:"payment_calc_selling_flyout",target:"explore_selling_with_redfin"},SELLING_FLYOUT_CLOSE:{section:"payment_calc_selling_flyout",target:"close"},SELL_TO_BUY_DISCLAIMER:{section:"payment_calc_selling_flyout",target:"sell_to_buy_disclaimer"}}});e.exports=l},KpZ5:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lSNA")),i=a(n("J4zp")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),l=a(n("V/OE")),u=a(n("4ppV")),c=a(n("i2EY")),d=a(n("rNya")),f=n("LFuj"),p=a(n("5lvR")),m=n("wTjA");n("JX/J");var h=a(n("W0u/")),g=n("osI4"),_=a(n("UT8e"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=function(){return s.default.createElement(s.default.Fragment,null,f.INTERNET_CONNECTION_TYPES_DATA.map(function(e){return s.default.createElement("div",{className:"padding-bottom-large"},s.default.createElement("p",{className:"connectionTypeTitle font-size-base font-weight-bold"},e.title),s.default.createElement("p",{className:"connectionTypeDescription font-size-base"},e.description))}))},I=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s.default.createElement(s.default.Fragment,null,f.INTERNET_SPEEDS_DATA.map(function(t){return s.default.createElement("div",{className:"speedColumns speedInfoItem"},!e&&s.default.createElement(s.default.Fragment,null,s.default.createElement("p",{className:"speedInfoTitle font-weight-bold font-size-base"},t.speedTitle),s.default.createElement("p",{className:"speedInfoSummary font-size-base"},t.speedSummary)),!!e&&s.default.createElement("p",{className:"speedInfoTitle font-weight-bold font-size-base"},t.speedTitle," ",s.default.createElement("p",{className:"speedInfoSummary font-weight-normal font-size-base"},t.speedSummary)),s.default.createElement("p",{className:"speedInfoDescription font-size-base"},t.description))}))};var T=function(e){var t=e.internetProvidersData,n=void 0===t?[]:t,a=e.speedSummary,r=e.address,o="phone"===(0,g.getCurrentDeviceType)()||"tablet"===(0,g.getCurrentDeviceType)(),v=(0,f.getSpeedFromProviders)(n),y=(0,s.useState)({shouldShowProvidersDialog:!1,shouldShowSpeedsDialog:!1,shouldShowConnectionTypesDialog:!1,speedDetail:(0,f.getSpeedFromProviders)(n)}),T=(0,i.default)(y,2),C=T[0],b=T[1],k=!a,R="Internet: ".concat(k?"No data available":a),O=function(){b({shouldShowProvidersDialog:!1,shouldShowSpeedsDialog:!1,shouldShowConnectionTypesDialog:!1})},N=function(){b(E(E({},C),{},{shouldShowSpeedsDialog:!1,shouldShowConnectionTypesDialog:!1}))},A=function(){p.default.trackClick(p.default.clicks.SPEED_INFO_LINK),b(E(E({},C),{},{shouldShowSpeedsDialog:!0}))},P=function(){p.default.trackClick(p.default.clicks.TYPE_INFO_LINK),b(E(E({},C),{},{shouldShowConnectionTypesDialog:!0}))},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return s.default.createElement(c.default,{title:e,actions:{DialogHeader:E({},(0,m.isFunction)(t)&&{whenCloseButtonClicked:t})}})};return s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:"internetDataSEOHidden"},s.default.createElement(d.default,{internetProvidersData:n,seoDataOnly:!0,address:r})),o?s.default.createElement(s.default.Fragment,null,s.default.createElement(h.default,{className:"internetDataOnDp-drawer",open:C.shouldShowProvidersDialog,title:"Internet Providers",onClose:O},s.default.createElement(d.default,{internetProvidersData:n,onSpeedLinkClick:A,onConnectionTypesLinkClick:P,riftSpeedDetail:v,address:r})),C.shouldShowSpeedsDialog&&C.shouldShowProvidersDialog&&s.default.createElement(u.default,{className:"internetSpeedsDialog",rfTestName:"internet-speeds-dialog",close:N,title:"Internet Speed",hasFixedHeader:!0},I(!0)),C.shouldShowConnectionTypesDialog&&C.shouldShowProvidersDialog&&s.default.createElement(u.default,{className:"connectionTypesDialog",rfTestName:"internet-connections-dialog",close:N,title:"Connection Types",hasFixedHeader:!0},S())):null,o?null:s.default.createElement(s.default.Fragment,null,C.shouldShowProvidersDialog&&s.default.createElement(l.default,{className:"internetDataOnDpDialog",contentId:"internet-data-dialog",onBack:O,renderContent:function(){return s.default.createElement(d.default,{internetProvidersData:n,onSpeedLinkClick:A,onConnectionTypesLinkClick:P,riftSpeedDetail:v})},renderHeader:function(){return D("Internet Providers",O)},hasFixedHeader:!0}),C.shouldShowSpeedsDialog&&C.shouldShowProvidersDialog&&s.default.createElement(l.default,{className:"internetSpeedsDialog",contentId:"internet-speeds-dialog",onBack:N,renderContent:I,renderHeader:function(){return D("Internet Speed",N)},hasFixedHeader:!0}),C.shouldShowConnectionTypesDialog&&C.shouldShowProvidersDialog&&s.default.createElement(l.default,{className:"connectionTypesDialog",contentId:"internet-connections-dialog",onBack:N,renderContent:S,renderHeader:function(){return D("Connection Types",N)},hasFixedHeader:!0})),s.default.createElement(_.default,{section:k?p.default.impressions.INTERNET_ENTRYPOINT_GHOSTTOWN.section:p.default.impressions.INTERNET_ENTRYPOINT.section,target:k?p.default.impressions.INTERNET_ENTRYPOINT_GHOSTTOWN.target:p.default.impressions.INTERNET_ENTRYPOINT.target,eventDetails:!k&&{speed:v}},s.default.createElement("a",{className:"internetDataCursor"},s.default.createElement("span",{role:"button",onClick:function(){return k||p.default.trackClick(p.default.clicks.INTERNET_ENTRYPOINT,{speed:v}),void b(E(E({},C),{},{shouldShowProvidersDialog:!C.shouldShowProvidersDialog}))}},R))))};t.default=T,e.exports=t.default},KtT9:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n("RBnj").createActions)({autoCompleteServicesSetup:{}});t.default=a,e.exports=t.default},L6tX:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("ZLCl")),o=a(n("5tnl")),i=a(n("Nxri")),s=a(n("y7wi")),l=a(n("1tOm")),u=a(n("bJVg"));t.computeComponents=function(){return[{component:r.default,additionalProps:{useScrollStateControllerForSideRail:!1}},o.default,{component:i.default,additionalProps:{isMobile:!1,isPDP:!1}},s.default,{component:l.default,additionalProps:{isDP:!0}},u.default]}},L7jq:function(e,t,n){},LFuj:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getSpeedFromProviders=t.getShouldShowInternetDataOnDp=t.buildSeoAutoText=t.INTERNET_SPEEDS_DATA=t.INTERNET_CONNECTION_TYPES_DATA=void 0;var r=a(n("RIqP")),o=a(n("1RMg")),i=a(n("FprU")),s=a(n("BMRX")),l=a(n("oK/V"));t.INTERNET_SPEEDS_DATA=[{speedTitle:"< 25 Mbps",speedSummary:"Slow",description:"Basic internet for checking e-mail, google searches"},{speedTitle:"25-99 Mbps",speedSummary:"Moderate",description:"Will handle streaming Netflix, FaceTime, Zoom calls"},{speedTitle:"100+ Mbps",speedSummary:"Fast",description:"Fast downloads, gaming online, streaming UHD onmultiple screens"}];t.INTERNET_CONNECTION_TYPES_DATA=[{title:"Fiber",description:"Fiber uses light to transmit internet data along fiber-optic cables made of thin glass strands. This means information travels at close to the speed of light, offering the highest speed and bandwidth. Fiber connections are not available in all areas."},{title:"Cable",description:"Cable delivers internet data over the same coaxial cable used for Cable TV service. Cable is fast and affordable, but you may experience slowdowns during the hours of peak usage. Delays, or lag, can also be more frequent with cable."},{title:"Copper",description:"Copper connections like T1 use twisted copper lines to transmit data and voice. While it is mostly used for business, copper connections are available for residential use in some locations. Its speed and reliability rivals fiber, at a higher price."},{title:"IPBB",description:"IPBB is a higher speed DSL internet offered by AT&T. It uses common phone lines to deliver internet data. With speeds ranging from 10 to 100 Mbps, IPBB can be faster than traditional DSL, but it’s slower and offers less bandwidth than cable or fiber."},{title:"DSL",description:"Digital Subscriber Line, or DSL internet, uses phone lines to transmit internet data. Unlike the old dial-up, DSL lets you use internet without an incoming call disrupting the connection. Since DSL uses existing cables, providers can keep prices low."},{title:"Fixed Wireless",description:"Fixed Wireless sends internet data over the airwaves from a nearby tower to a receiver installed at the user's home. Fixed Wireless can offer fast, reliable internet in areas with no access to high-speed connections that user fiber or copper cables."},{title:"Satellite",description:"Satellite internet sends data from a satellite to an antenna on your property. It requires no ground infrastructure like cables or towers, making it a good solution for rural homes. Satellite can be less reliable and more expensive than other options."}];t.getSpeedFromProviders=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===e.length)return null;var t=e[0];return t.speedSummary};var u=function(e){switch(e){case"Fiber":return 0;case"Cable":return 1;case"Copper":return 2;case"IPBB":return 3;case"DSL":return 4;case"Fixed Wireless":return 5;case"Satellite":return 6;default:return 1e3}};t.buildSeoAutoText=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"This home",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===t.length)return null;var n=(t[0].supportedTechnologies||[])[0],a=t[0].speedInMbps,o=t[0].providerName,i=new Set,s=new Set;(t[0].supportedTechnologies||[]).map(function(e,t){0!==t&&s.add([e,u(e)])}),t.map(function(e,t){0!==t&&(i.add(e.providerName),e.supportedTechnologies&&e.supportedTechnologies.length>0&&e.supportedTechnologies.map(function(e){return s.add([e,u(e)])}))});var l=(0,r.default)(s).sort(function(e,t){return e[1]<t[1]}),c=l.map(function(e){return e[0]}),d=(0,r.default)(i),f=d.slice(0,Math.min(d.length,3)),p="".concat(e," is serviced by ").concat(t.length," Internet service providers, including ").concat([o].concat((0,r.default)(f)).join(", "),". ")+"The best available Internet option for ".concat(e," is provided by ").concat(o,", using ").concat(n," technology with speeds up to ").concat(a," Mbps. ")+"".concat(f.length>0&&"Additional Internet options for this home include "+c.join(", ")+" provided by "+f.join(", ")+".\n\n");return p};t.getShouldShowInternetDataOnDp=function(e){var t=o.default.isOn(s.default)&&"VARIANT"===o.default.getVariant(s.default);return e!==i.default.OFF_MARKET.id?t:t&&o.default.isOn(l.default)}},LI1s:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),f=a(n("17x9")),p=a(n("lQoP")),m=a(n("Ncjd")),h=a(n("OKss")),g=n("DyRb");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var y=function(e){(0,l.default)(n,e);var t=v(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e))._onLeftNav=a._onLeftNav.bind((0,s.default)(a)),a._onRightNav=a._onRightNav.bind((0,s.default)(a)),a}return(0,i.default)(n,[{key:"_onLeftNav",value:function(){p.default.trackClick("partner_contact_box","left_arrow",this.props.riftParams),this.props.onLeftNav()}},{key:"_onRightNav",value:function(){p.default.trackClick("partner_contact_box","right_arrow",this.props.riftParams),this.props.onRightNav()}},{key:"render",value:function(){return d.default.createElement("div",{className:(0,g.getClassSet)({contactBoxNavigation:!0},this.props)},d.default.createElement("div",{className:"leftNavContainer"},d.default.createElement("div",{onClick:this._onLeftNav},d.default.createElement(m.default,{className:"leftNav",asset:"slide-previous"}))),d.default.createElement("div",{className:"rightNavContainer"},d.default.createElement("div",{onClick:this._onRightNav},d.default.createElement(h.default,{className:"rightNav",asset:"slide-next"}))))}}],[{key:"displayName",get:function(){return"ContactBoxNavigation"}},{key:"propTypes",get:function(){return{classes:f.default.arrayOf(f.default.string),numSlots:f.default.number,position:f.default.number,isDisplayed:f.default.bool,riftParams:f.default.object}}},{key:"getDefaultProps",get:function(){return{classes:[],numSlots:0,position:0}}}]),n}(d.Component);t.default=y,e.exports=t.default},LJFL:function(e,t,n){},LKYz:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.isValidArray=t.default=void 0;var o=a(n("J4zp")),i=a(n("lSNA")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),l=n("osI4"),u=a(n("W0u/")),c=a(n("V/OE")),d=a(n("i2EY")),f=a(n("Y90t")),p=a(n("ma35")),m=n("wTjA"),h=a(n("Nm66")),g=a(n("81MV")),_=a(n("UT8e")),v=a(n("ws6r")),y=a(n("GDTY")),E=a(n("gDIX"));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("MACF");var C=function(e){return e&&Array.isArray(e)&&e.length>0};t.isValidArray=C;var b=function(e){var t=e.zoningDataInfo,n=e.className,a=(0,s.useState)(!1),r=(0,o.default)(a,2),i=r[0],S=r[1],I="phone"===(0,l.getCurrentDeviceType)(),b=s.default.createElement(E.default,{zoningDataInfo:t}),k=C(null==t?void 0:t.asofRightLandUse)||C(null==t?void 0:t.conditionalLandUse)||C(null==t?void 0:t.accessoryLandUse);return s.default.createElement("div",{className:"ZoningLandUseSection ".concat(n)},s.default.createElement("div",{className:"h3 subSectionHeader"},"Land use"),s.default.createElement("table",{"aria-label":"Permitted and not permitted land uses"},s.default.createElement(y.default,{label:"Permitted:",data:null==t?void 0:t.permittedLandUse,icon:s.default.createElement(h.default,{className:"size-small LandUseConfirmIcon"})}),s.default.createElement(y.default,{label:"Not Permitted:",data:null==t?void 0:t.notPermittedLandUse,icon:s.default.createElement(g.default,{className:"size-small LandUseClearIcon "})})),k&&s.default.createElement(_.default,{section:v.default.impressions.ZONING_LAND_USE_VIEW_ALL.section,target:v.default.impressions.ZONING_LAND_USE_VIEW_ALL.target},s.default.createElement(p.default,{className:"text unpadded view-all-land-uses-button",onClick:function(){S(!0),v.default.trackClick(v.default.clicks.ZONING_LAND_USE_VIEW_ALL)},svgAsset:function(){return s.default.createElement(f.default,{className:"view-all-land-uses-button-icon"})},iconRight:!0},"View all land uses")),i&&!I&&s.default.createElement(c.default,{className:"desktopDPLandUsesDialog",onBack:function(){return S(!1)},renderContent:function(){return b},renderHeader:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return s.default.createElement(d.default,{title:e,actions:{DialogHeader:T({},(0,m.isFunction)(t)&&{whenCloseButtonClicked:t})}})}("Land Uses",function(){return S(!1)})}},b),i&&I&&s.default.createElement(u.default,{open:i,title:"Land Uses",onClose:function(){return S(!1)},hasFixedHeader:!0},b))};t.default=b},LVWs:function(e,t,n){},"Li+L":function(e,t,n){},LlW6:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("q5Uo")).default;t.default=r,e.exports=t.default},LnYm:function(e,t,n){},Lp1m:function(e,t,n){},Luu8:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.renderHaveWeMetDialog)return o.default.createElement(u.default,e);var t=(0,h.getRiftImpressionsKey)("AAQ_CONTACT_INFO_DIALOG",e);e.showBDXExperience?d.default.trackImpression(d.default.impressions.ASK_BDX_CONTACT_INFO_DIALOG):c.default.trackImpressionWithDefaults(c.default.impressions[t],{phone_prefilled:!1});return o.default.createElement("div",{className:"aaq-name-and-contact-stage"},o.default.createElement("div",{className:"aaq-name-and-contact-stage-title"},e.inlineHeader),e.headlineError&&o.default.createElement(f.default,{className:"full-width",title:"It looks like there is an error.",type:"error"},e.headlineError),o.default.createElement(i.default,{formName:e.formName,className:"aaq-name-and-contact-stage-form"},function(e,t){return o.default.createElement("div",{className:"aaq-name-input-fields"},o.default.createElement(s.default,(0,r.default)({className:"aaq-name-and-contact-form-text leftField",type:"text",onFocus:function(){return(0,h.trackOnFirstNameFocus)(t,e)}},e.fields.firstName)),o.default.createElement(s.default,(0,r.default)({className:"aaq-name-and-contact-form-text rightField",type:"text",onFocus:function(){return(0,h.trackOnLastNameFocus)(t,e)}},e.fields.lastName)))}(e,t),function(e,t){return o.default.createElement("div",{className:"aaq-contact-input-fields"},o.default.createElement(s.default,(0,r.default)({className:"aaq-name-and-contact-form-text leftField",type:"email",onFocus:function(){return(0,h.trackOnEmailFocus)(t,e)}},e.fields.email)),function(e,t){if(e.showBDXExperience)return o.default.createElement(s.default,(0,r.default)({className:"aaq-name-and-contact-form-text rightField",type:"tel",onFocus:function(){return d.default.trackClick(d.default.clicks.ASK_BDX_PHONE_FIELD_CLICK)}},e.fields.optionalPhoneNumber));return o.default.createElement(s.default,(0,r.default)({className:"aaq-name-and-contact-form-text rightField",type:"tel",onFocus:function(){return(0,h.trackOnPhoneFocus)(t,e)}},e.fields.phoneNumber))}(e,t))}(e,t),e.showBDXExperience&&function(e){return o.default.createElement("div",{className:"aaq-contact-input-fields"},o.default.createElement(s.default,(0,r.default)({className:"aaq-name-and-contact-form-text leftField",type:"zip",onFocus:function(){return d.default.trackClick(d.default.clicks.ASK_BDX_POSTCODE_FIELD_CLICK)}},e.fields.zipCode)))}(e),(0,m.isPartnerPreferredContactMethodsEligible)(e.isPartnerAgent)&&o.default.createElement(p.default,e),o.default.createElement(l.default,{className:"aaq-name-and-contact-form-button",type:"primary",formSubmit:!0,onClick:function(){return(0,h.trackSubmitButtonClick)(t,e)},disabled:e.shouldDisableSubmit},e.bundledIncentiveVariant?"Submit":"Send Question"),o.default.createElement("div",{className:"aaq-name-and-contact-terms-of-service"},"You are creating a Redfin account and agree to our ",o.default.createElement("a",{href:"/about/terms-of-use",onClick:function(){return c.default.trackClickWithDefaults(c.default.clicks.AAQ_TERMS_LINK_CLICK,null,e.isOpendoor)},target:"_blank"},"Terms of Use")," and ",o.default.createElement("a",{href:"/about/privacy-policy",onClick:function(){return c.default.trackClickWithDefaults(c.default.clicks.AAQ_PRIVACY_POLICY_LINK_CLICK,null,e.isOpendoor)},target:"_blank"},"Privacy Policy")),e.isOpendoor&&o.default.createElement("div",{className:"aaq-name-and-contact-terms-of-service"},"Your message and contact details will be shared with Opendoor so that they can respond to your inquiry."),e.showBDXExperience&&o.default.createElement("div",{className:"aaq-name-and-contact-terms-of-service"},"Your message and contact details will be shared with ",e.builderName," so that they can respond to your inquiry.")))};var r=a(n("pVnL")),o=a(n("mXGw")),i=a(n("t/kO")),s=a(n("Xecl")),l=a(n("ma35")),u=a(n("An05")),c=a(n("YqrK")),d=a(n("DT4l")),f=a(n("2Xwv")),p=a(n("snvJ")),m=n("haQS"),h=n("2tHw");n("oDev"),e.exports=t.default},Lv69:function(e,t,n){},LyB4:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("QkVN")),o=a(n("LDFp")),i=a(n("pBXq"));o.default.ensure(n("tTYd"));var s=(0,r.default)(new i.default,{name:"ClimateRiskRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!1,impressions:{FLOOD_MODAL:{section:"climate_risk",target:"flood_modal"},CLIMATECHECK_MODAL:{section:"climate_risk",target:"climatecheck_modal",unique:"risk"}},clicks:{FLOOD_CARD_EXPAND:{section:"climate_risk",target:"flood_card_expand"},STORM_CARD_EXPAND:{section:"climate_risk",target:"storm_card_expand"},DROUGHT_CARD_EXPAND:{section:"climate_risk",target:"drought_card_expand"},HEAT_CARD_EXPAND:{section:"climate_risk",target:"heat_card_expand"},FIRE_CARD_EXPAND:{section:"climate_risk",target:"fire_card_expand"},MW_MODAL_STORM_TAB:{section:"climate_risk",target:"climatecheck_modal_storm_tab"},MW_MODAL_DROUGHT_TAB:{section:"climate_risk",target:"climatecheck_modal_drought_tab"},MW_MODAL_HEAT_TAB:{section:"climate_risk",target:"climatecheck_modal_heat_tab"},MW_MODAL_FIRE_TAB:{section:"climate_risk",target:"climatecheck_modal_fire_tab"},FLOOD_CARD_COLLAPSE:{section:"climate_risk",target:"flood_card_collapse"},STORM_CARD_COLLAPSE:{section:"climate_risk",target:"storm_card_collapse"},DROUGHT_CARD_COLLAPSE:{section:"climate_risk",target:"drought_card_collapse"},HEAT_CARD_COLLAPSE:{section:"climate_risk",target:"heat_card_collapse"},FIRE_CARD_COLLAPSE:{section:"climate_risk",target:"fire_card_collapse"},STORM_CC_LINK:{section:"climate_risk",target:"climatecheck_storm_cc_link"},DROUGHT_CC_LINK:{section:"climate_risk",target:"climatecheck_drought_cc_link"},HEAT_CC_LINK:{section:"climate_risk",target:"climatecheck_heat_cc_link"},FIRE_CC_LINK:{section:"climate_risk",target:"climatecheck_fire_cc_link"},FIRST_STREET_UNDERLINE_FLYOUT:{section:"climate_risk",target:"first_street_underline_flyout"},CLIMATECHECK_UNDERLINE_FLYOUT:{section:"climate_risk",target:"climatecheck_underline_flyout"}}});t.default=s,e.exports=t.default},LyPA:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("PJYZ")),u=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=a(n("ZDp4")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=w(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),m=a(n("17x9")),h=a(n("J2jn")),g=a(n("JX1m")),_=a(n("oB6A")),v=a(n("1IRx")),y=a(n("I1mr")),E=a(n("aXMr")),S=a(n("Pkf5")),I=a(n("DMa7")),T=a(n("3llZ")),C=a(n("mbDB")),b=a(n("94Bj")),k=a(n("/+pK")),R=a(n("UrhC")),O=a(n("PbOf")),N=a(n("t/n8")),A=a(n("c79o")),P=a(n("qpT2")),D=a(n("ebVc"));function w(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(w=function(e){return e?n:t})(e)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}n("icVD");var M=function(){g.default.exitQuickMapFullScreen()},x=function(){g.default.homeMapLoaded()},F=function(e){g.default.homeMapRendered(e)},B=function(e){return(0,f.default)(e),p.default.createElement("span",null,"Please ",p.default.createElement("span",{className:"link"},"verify your email")," to map this home")},H=function(e){return(0,f.default)(e),p.default.createElement("span",null,"Please ",p.default.createElement("span",{className:"link"},"sign in")," to see the location of this home.")},U=p.default.createElement("span",null,"Sorry, we are unable to map this address."),j=p.default.createElement("span",null,"Sorry, the exact location of this home is undisclosed."),q=function(e){(0,u.default)(n,e);var t=L(n);function n(e){var a;return(0,i.default)(this,n),(a=t.call(this,e))._onStreetViewClick=a._onStreetViewClick.bind((0,l.default)(a)),a._onFloodViewClick=a._onFloodViewClick.bind((0,l.default)(a)),a._onDirectionsClick=a._onDirectionsClick.bind((0,l.default)(a)),a._onMapNearbyClick=a._onMapNearbyClick.bind((0,l.default)(a)),a._onExpandClick=a._onExpandClick.bind((0,l.default)(a)),a.state={showQuickmap:!1,showQuickmapStreetview:!1},a.inFloodDataVariant="VARIANT"===b.default.getVariant(C.default)&&!k.default.get(g_dbBackedConfigKeys.FLOOD_DATA_BLOCKLIST_PROPERTIES).includes(a.props.propertyId),a}return(0,s.default)(n,[{key:"render",value:function(){var e=this.props.addressSectionInfo,t=this.props.propertyParcelInfo;return e?this.props.isGhostTown?this._returnGhostTown({msg:U}):t&&t.mapLocationDisplayLevel&&!g_displayLevel.idToObj[t.mapLocationDisplayLevel].isVisible?this._checkPermisson(t.mapLocationDisplayLevel,this.props.dataSourceId):p.default.createElement("div",{className:"LdpMiniMap lmm",id:"ldpMiniMap","data-rf-test-id":"ldpMiniMap"},this._returnHomeMap(),this.props.miniMapStore.showQuickMap&&this._showQuickmap()):null}},{key:"_checkPermisson",value:function(e,t){switch(e){case 3:return this._returnGhostTown({msg:p.default.createElement(H,null),showLogin:!0,dataSourceId:t});case 4:return this._returnGhostTown({msg:p.default.createElement(B,null),showVerify:!0,dataSourceId:t});case 5:default:return this._returnGhostTown({msg:j})}}},{key:"_returnHomeMap",value:function(){var e=this,t=null;this.props.addressSectionInfo.latLong&&(t=p.default.createElement(T.default,{onClick:this._onDirectionsClick}));var n=k.default.get(g_dbBackedConfigKeys.FLOOD_DATA_SCROLL_HEIGHT);return p.default.createElement("div",null,p.default.createElement("div",{className:"mapButtons"},this.inFloodDataVariant&&p.default.createElement(N.default,{onEnterViewport:function(){R.default.populateFloodData(e.props.propertyParcelInfo,e.props.addressSectionInfo,e.props.propertyId)},uniqueKey:"desktop-floodDataIcon",offset:n},this.props.floodStore&&this.props.floodStore.floodData&&this.props.floodStore.floodData.floodFactor?p.default.createElement(A.default,{floodFactorNumber:this.props.floodStore.floodData.floodFactor,onClick:this._onFloodViewClick}):p.default.createElement("div",null)),p.default.createElement(I.default,{onClick:this._onStreetViewClick}),t,p.default.createElement("a",{onClick:this._onExpandClick},p.default.createElement(S.default,{sizeVal:"size-small"}))),p.default.createElement(v.default,(0,o.default)({mapStore:this.props.miniMapStore},this.props,{mapCreateOptions:{mapTypeControlOptions:{position:1},zoomControlOptions:{position:9},fullscreenControl:!1,styles:[{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{hue:"#ffa200"},{saturation:-20},{visibility:"on"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}]},height:280,onMapLoad:x,onMapRender:F})))}},{key:"_returnStaticMap",value:function(){return this.props.pageType===g_detailsPageType.OFF_MARKET?p.default.createElement(h.default,{height:"100%",once:!0},p.default.createElement("a",{onClick:this._onExpandClick},p.default.createElement(_.default,null),p.default.createElement(y.default,this.props))):p.default.createElement("a",{onClick:this._onExpandClick},p.default.createElement(_.default,null),p.default.createElement(y.default,this.props))}},{key:"_getMapNearbyLink",value:function(){return this.props.mainHouseInfo.mapNearbyHomesUrl?p.default.createElement("span",{onClick:this._onMapNearbyClick,rel:"nofollow",className:"left"},"Map Nearby Homes For Sale"):p.default.createElement("span",{className:"left"})}},{key:"_getDirectionLink",value:function(){return this.props.addressSectionInfo.latLong?p.default.createElement("span",{onClick:this._onDirectionsClick,className:"right"},"Directions"):null}},{key:"_returnGhostTown",value:function(e){return p.default.createElement(O.default,{showLogin:e.showLogin,showVerify:e.showVerify,dataSourceId:e.dataSourceId},e.msg)}},{key:"_showQuickmap",value:function(){return p.default.createElement(E.default,{showStreetView:this.state.showQuickmapStreetview,open:this._onExpandClick,close:M,addressSectionInfo:this.props.addressSectionInfo,propertyParcelInfo:this.props.propertyParcelInfo,personalizationInfo:this.props.personalizationInfo,mapStore:this.props.quickMapStore,propertyId:this.props.propertyId,parcelStream:this.props.parcelStream,deviceConfig:this.props.deviceConfig,mapNearbyHomesUrl:this.props.mainHouseInfo&&this.props.mainHouseInfo.mapNearbyHomesUrl,floodStore:this.props.floodStore})}},{key:"_onExpandClick",value:function(){g.default.openQuickMapFullScreen(),R.default.hideFloodDataOnMap(),this.setState({showQuickmapStreetview:!1}),this.props.onExpandMap&&this.props.onExpandMap()}},{key:"_onStreetViewClick",value:function(){g.default.openQuickMapFullScreen(P.default.mediaType),R.default.hideFloodDataOnMap(),this.setState({showQuickmapStreetview:!0}),this.props.onStreetViewClick&&this.props.onStreetViewClick()}},{key:"_onFloodViewClick",value:function(){if(g.default.openQuickMapFullScreen(D.default.mediaType),R.default.showFloodDataOnMap(),this.setState({showQuickmapStreetview:!1}),this.props.onFloodDataClick){var e=this.props.floodStore&&this.props.floodStore.floodData&&this.props.floodStore.floodData.fsid;this.props.onFloodDataClick(e)}}},{key:"_onDirectionsClick",value:function(){this.props.onDirectionsClick&&this.props.onDirectionsClick(),window.open("/stingray/do/google-directions?property_id="+this.props.propertyId+"&useLatLong=true","_blank")}},{key:"_onMapNearbyClick",value:function(){this.props.onMapNearbyClick&&this.props.onMapNearbyClick(),window.location.href=this.props.mainHouseInfo.mapNearbyHomesUrl}}],[{key:"displayName",get:function(){return"LdpMiniMap"}},{key:"propTypes",get:function(){return{addressSectionInfo:m.default.object,propertyParcelInfo:m.default.object,personalizationInfo:m.default.object,mainHouseInfo:m.default.object,miniMapStore:m.default.object,quickMapStore:m.default.object,parcelStream:m.default.object,propertyId:m.default.number,commuteInfo:m.default.object,dataSourceId:m.default.number,onExpandMap:m.default.func,onStreetViewClick:m.default.func,onDirectionsClick:m.default.func,onMapNearbyClick:m.default.func,onFloodDataClick:m.default.func,width:m.default.number,widthStyleOverride:m.default.string,height:m.default.number,expanded:m.default.bool,showCommute:m.default.bool}}},{key:"defaultProps",get:function(){return{expanded:!0}}}]),n}(p.Component);t.default=q,e.exports=t.default},"M/T6":function(e,t,n){},MACF:function(e,t,n){},MBzk:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n("TlVh").createStoreFactory)({init:function(e){var t=e||{},n=t.internetProvidersData,a=t.speedSummary;this.setState({speedSummary:a,internetProvidersData:n})}});t.default=a,e.exports=t.default},MMTE:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("7W2i")),s=a(n("a1gu")),l=a(n("Nsbk")),u=a(n("17x9")),c=n("mXGw"),d=a(n("94Bj")),f=n("+xFC"),p=a(n("WqrT")),m=a(n("eYhh")),h=n("G4xM"),g=a(n("1AMb")),_=a(n("zQwK"));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var y=function(e){(0,i.default)(n,e);var t=v(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"getLastListed",value:function(){return React.createElement(p.default,{term:"Last List Price",definition:"Redfin couldn't find a public record of the final sale price of this home. This is the last price at which the home was listed for sale.",definitionLink:"https://support.redfin.com/hc/en-us/articles/360001432472-Search-for-Sold-Homes"},"last listed")}},{key:"getMessage",value:function(){var e=this.props.locked,t=this.props.priceInfo,n=this.props.soldDate;if(!e&&t&&t.amount||n)return!e&&t&&t.amount?!e&&t&&t.amount&&!n?"Last List Price"!==t.label?"This home last sold for $"+(0,f.formatNumber)(t.amount)+".":React.createElement("span",null,"This home was ",this.getLastListed()," for $",(0,f.formatNumber)(t.amount),"."):"Last List Price"!==t.label?"This home last sold for $"+(0,f.formatNumber)(t.amount)+" on "+n+".":React.createElement("span",null,"This home was ",this.getLastListed()," for $",(0,f.formatNumber)(t.amount)," on ",n,"."):"This home last sold on "+n+"."}},{key:"render",value:function(){if((0,h.getConfigValueForKey)(h.DP_GLOBAL_CONFIG_KEYS.pageType)!==g_detailsPageType.OFF_MARKET||"VARIANT"===d.default.getVariant(m.default))return null;var e={title:"Off Market",message:this.getMessage(),className:"default",isPhone:this.props.isPhone};return React.createElement(g.default,{name:"OffMarketBannerSection"},React.createElement("div",{className:"sectionContainer"},React.createElement(_.default,e)))}}],[{key:"propTypes",get:function(){return{soldDate:u.default.string,priceInfo:u.default.object}}}]),n}(c.Component);t.default=y,e.exports=t.default},MMXu:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("lSNA")),s=a(n("lwsE")),l=a(n("W8MJ")),u=a(n("PJYZ")),c=a(n("7W2i")),d=a(n("a1gu")),f=a(n("Nsbk")),p=a(n("17x9")),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),h=a(n("nbo3")),g=a(n("UT8e")),_=a(n("ma35")),v=a(n("Czz3")),y=a(n("qF8C")),E=a(n("yPuu")),S=a(n("EQKR")),I=a(n("9To1"));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}n("VjAe");var b=function(e){(0,c.default)(n,e);var t=C(n);function n(e){var a;return(0,s.default)(this,n),(a=t.call(this,e))._directOfferButtonClick=a._directOfferButtonClick.bind((0,u.default)(a)),a}return(0,l.default)(n,[{key:"componentDidMount",value:function(){var e=this;this._store=new E.default({isRedfin:this.props.isRedfin,isOpendoor:this.props.isOpendoor,deviceConfig:this.props.deviceConfig,listingId:this.props.listingId,propertyId:this.props.propertyId,isPartner:this.props.isPartner}),this._store.listen(function(){return e.forceUpdate()}),this.clickActionUnlistener=v.default.clickDirectAccessStartOffer.listen(this._directOfferButtonClick)}},{key:"componentWillUnmount",value:function(){this._store.destroy(),this.clickActionUnlistener&&this.clickActionUnlistener()}},{key:"render",value:function(){var e=this,t="This home is available for self tours from 8am—8pm daily.";this.props.isOpendoor&&(t="This home is available for self tours from 6am—9pm daily.");var n=this._renderDirectOfferButton();return m.default.createElement(g.default,{section:this._getRiftSection(),target:null,eventDetails:{listing_id:this.props.listingId,property_id:this.props.propertyId}},m.default.createElement("div",{className:"DirectAccessCTA"},this.props.isOpenHouseExperimentVariant?null:m.default.createElement("h3",{className:"selfTourTitle font-weight-roman font-size-medium"},"Self Tour This Home"),m.default.createElement("div",{className:"selfTourDescription"},t),m.default.createElement(_.default,{className:"primary",title:"Self Tour",onClick:function(){return e._handleSelfTourClick(e.props.listingId,e.props.propertyId)}},m.default.createElement("span",{className:"lightning fill-white"},m.default.createElement(y.default,{className:"size-small"})),m.default.createElement("span",null,"Self Tour")),this._renderDialog(),this.props.isServiced&&m.default.createElement(_.default,{className:"text tourWithAgent",href:"#",saving:this._store&&this._store.state.showLoadingIndicator,onClick:function(t){t.preventDefault(),e._redirectToScheduleTour(e.props.listingId,e.props.propertyId)}},"Tour with an agent instead"),n))}},{key:"_redirectToScheduleTour",value:function(e,t){var n,a=(n={},(0,i.default)(n,h.default.TRACKGA,!0),(0,i.default)(n,"listing_id",e),(0,i.default)(n,"property_id",t),n),r=h.default.trackClick(this._getRiftSection(),"tour_with_agent_link",a);S.default.redirectForTourWithAgent(e,r)}},{key:"_handleSelfTourClick",value:function(e,t){var n,a=(n={},(0,i.default)(n,h.default.TRACKGA,!0),(0,i.default)(n,"listing_id",e),(0,i.default)(n,"property_id",t),n);h.default.trackClick(this._getRiftSection(),"self_tour_button",a),S.default.showDirectAccessDialog(g_inquirySource.LDP_DIRECT_ACCESS_WIDGET_SELF_TOUR)}},{key:"_renderDialog",value:function(){return this._store&&this._store.state.isShowingDialog?m.default.createElement(I.default,(0,o.default)({isRedfin:this.props.isRedfin,isOpendoor:this.props.isOpendoor,deviceConfig:this.props.deviceConfig,onCloseDialog:S.default.closeDirectAccessDialog,isServiced:this.props.isServiced},this._store.state)):null}},{key:"_getRiftSection",value:function(){return this.props.isRedfin?"direct_access_widget":"ext_direct_access_widget"}},{key:"_renderDirectOfferButton",value:function(){var e=this;if(!this.props.isDirectOffer)return null;var t={className:"directOfferButton",children:"Start an offer",onClick:function(){return e._directOfferButtonClick("contact_box",g_inquirySource.LDP_CONTACT_BOX_OFFER_WIZARD)},rfTestId:"offer"},n=(0,i.default)({listing_id:this.props.listingId,redfin_direct:!0},h.default.TRACKGA,!0);return m.default.createElement(g.default,{section:"contact_box",eventDetails:n,target:"start_an_offer"},m.default.createElement("div",{className:"directOfferButtonContainer"},m.default.createElement(_.default,t)))}},{key:"_directOfferButtonClick",value:function(e,t){h.default.trackClick(e,"start_an_offer",(0,i.default)({listing_id:this.props.listingId,redfin_direct:!0},h.default.TRACKGA,!0)),h.default.flushRiftEvents(),window.location="/buy-a-home/two-ways?listingId=".concat(this.props.listingId,"&inquirySource=").concat(t)}}],[{key:"propTypes",get:function(){return{isRedfin:p.default.bool,isOpendoor:p.default.bool,isDirectOffer:p.default.bool,deviceConfig:p.default.number,listingId:p.default.number,propertyId:p.default.number,isPartner:p.default.bool,isServiced:p.default.bool,isOpenHouseExperimentVariant:p.default.bool}}},{key:"getComponentDependencies",value:function(){return{dependencies:["contactBoxInfo","pageType","listingId"]}}}]),n}(m.Component);t.default=b,e.exports=t.default},MNrX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n("+xFC");t.default=function(e,t){return e?t?"Redfin will list this home, so you can buy it online without an agent. This will save the seller\n      ".concat((0,a.formatPrice)(t)," and make your offer stand out. Otherwise, a Redfin Agent can represent you."):"Redfin will list this home, so you can buy it online without an agent. You call the shots and negotiate\n        with the seller. Otherwise, a Redfin Agent can represent you.":t?"Redfin listed this home, so you can buy it online without an agent. This saves the seller\n      ".concat((0,a.formatPrice)(t)," and makes your offer stand out. Otherwise, a Redfin Agent can represent you."):"Redfin listed this home, so you can buy it online without an agent. You call the shots and negotiate with\n        the seller. Otherwise, a Redfin Agent can represent you."},e.exports=t.default},MXtV:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=a(n("mXGw")),o=a(n("WqrT")),i=n("+xFC"),s=a(n("p2mD")),l=a(n("wYmU"));n("1UPE"),c.displayName="BuyAndSellComparisonsSection";var u={position:"above",alignment:"center",term:"Real Estate Fees",definition:"Listings fees vary by agent and can impact how much you make from your sale. Many agents charge a listing fee of 2.5% or 3%, while Redfin only changes you 1% when you both buy and sell with us within a year (365 days). We charge a 1.5% listing fee, then send you a check for the 0.5% difference after you buy your next home with us. Buyer's agent fee not included.\\nFees are subject to change and market-based minimum commissions. Listing fee is increased by 1% of the sale price if you buy unrepresented.",definitionLink:"/disclaimer",moreInfoText:"Learn more",openLinkInNewTab:!0,onClickDefinitionLink:function(){l.default.trackClick(l.default.clicks.CALC_COMPARISON_FEE_DISCLAIMER)}};function c(e){var t=(0,i.formatPrice)(e.estimatedHomeEquity),n=e.currentSection,a=(n=void 0===n?{}:n).riftSection;return r.default.createElement("div",{className:"BuyAndSellComparisonsSection"},r.default.createElement("div",null,"This isn't a commitment. We’ll deduct ",r.default.createElement(o.default,u,"real estate fees")," from your",r.default.createElement("span",{className:"font-weight-bold"}," ",t)," equity."),r.default.createElement(s.default,{onSelectComparisonOption:e.actions.onSelectComparisonOption,selectedOption:e.selectedOption,eligibleOptions:e.eligibleOptions,estimatedHomeEquity:t,listingPrice:e.listingPrice,redfinRefund:(0,i.formatPrice)(e.redfinRefund),riftSection:a}))}e.exports=t.default},MYdA:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.convertFromEnum=function(e){var t;e===g_commuteType.CAR_NO_RUSH_HOUR?t="DRIVING":e===g_commuteType.CAR_RUSH_HOUR?t="DRIVING":e===g_commuteType.PUBLIC_TRANSPORTATION?t="TRANSIT":e===g_commuteType.BIKING?t="BICYCLING":e===g_commuteType.WALKING&&(t="WALKING");return{commuteType:t}},t.convertToEnum=u,t.getCommuteFormName=function(e){return e?"CommuteForm".concat(e):"CommuteForm"},t.getCommuteTypesForUI=function(){return[{value:"DRIVING",icon:o.default},{value:"BICYCLING",icon:i.default},{value:"TRANSIT",icon:s.default},{value:"WALKING",icon:l.default}]},t.getTransitOptionsForCommuteType=function(e,t){if(e===g_commuteType.PUBLIC_TRANSPORTATION)return{departureTime:c(t)};return null},t.getUICommuteType=function(e){switch(u(e)){case g_commuteType.PUBLIC_TRANSPORTATION:return s.default;case g_commuteType.BIKING:return i.default;case g_commuteType.WALKING:return l.default;default:return o.default}};var r=a(n("pKkH")),o=a(n("02GA")),i=a(n("1qM7")),s=a(n("GJ6T")),l=a(n("JGID"));function u(e){return"DRIVING"===e?g_commuteType.CAR_NO_RUSH_HOUR:"TRANSIT"===e?g_commuteType.PUBLIC_TRANSPORTATION:"BICYCLING"===e?g_commuteType.BIKING:"WALKING"===e?g_commuteType.WALKING:void 0}function c(e){var t=r.default.tz(e),n=r.default.tz(e).isoWeekday(3).hours(8).minutes(0).seconds(0).milliseconds(0);(n.isBefore(t)||n.isSame(t))&&(n=t.add(1,"weeks").isoWeekday(3).hours(8).minutes(0).seconds(0).milliseconds(0));var a=n.utc();return new Date(a)}},Mba0:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.agent,n=e.isMobile,a=e.isPartnerAgent,m=e.isPartnerAssigned,h=e.showBDXExperience,g=e.partnerAAQConfirmVariant,_=e.showPartnerAAQConfirmRevamp;h?l.default.trackImpression(l.default.impressions.ASK_BDX_FORM_SUCCESS):a&&d.default.trackImpressionWithDefaults(d.default.impressions.PARTNER_AAQ_CONFIRMATION_VIEWED);var v=a?r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"aaq-confirmation-stage-sub-text detailedSubText"},"We're connecting you with a local Redfin Partner Agent. They will be in touch with you in ",r.default.createElement(u.default,{businessMarketId:t._businessMarketId,percentile:(0,c.getPartnerConnectionTimePercentile)()}),"."),r.default.createElement("div",{className:"learnMoreLink"},r.default.createElement("a",{onClick:p,href:"/real-estate-agents/redfin-partner-agents"},"Learn more about Redfin Partner Agents"))):r.default.createElement("div",{className:"aaq-confirmation-stage-sub-text"},"We'll get in touch soon."),y=t?r.default.createElement("div",{className:"aaq-confirmation-agent-info"},r.default.createElement("div",{className:"aaq-confirmation-agent-card-heading"},"Your Partner Agent"),r.default.createElement("div",{className:"aaq-confirmation-agent-card"},r.default.createElement(f.default,{clientDisplayablePhoneNumber:t._phone,firstNameLastName:t._fullName,email:t._email,photoUrl120x120:t._photoUrl120x120,profileUrl:t._profileUrl,showIcons:!0}))):null;return _?function(e,t){var n="VerticalProgress"===e,a=t&&!n,o=r.default.createElement("span",{className:"learnMoreLink"},r.default.createElement("a",{onClick:p,href:"/real-estate-agents/redfin-partner-agents"},"Learn More")),l=r.default.createElement("div",{className:"partner-revamp-whats-next-section margin-bottom-large"},r.default.createElement("div",{className:"font-weight-bold"},"WHAT'S NEXT"),r.default.createElement("div",{style:{width:"80%"}},r.default.createElement(i.default,{className:"labels-below alignment-vertical",steps:[{name:"Question received",summary:"We're working on finding the best local agent to answer your question."},{name:"Partner Agent confirmed",summary:"Once matched, your agent will reach out to you."},{name:"Completed",summary:"Your agent will guide you and answer any questions. Afterwards, they can help you decide next steps."}],currentStep:1})));return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"aaq-confirmation-stage-partner-revamp"},n&&l,r.default.createElement("div",{className:"aaq-confirmation-stage-partner-revamp-quote"},r.default.createElement("div",{className:"aaq-confirmation-partner-icon-container"},r.default.createElement("img",{src:"".concat(g_imageServerUrl,"/images/merch/emailIllustrations/illust-shared-search-comments.png"),alt:"quote"})),r.default.createElement("div",{className:"aaq-confirmation-partner-text-container"},r.default.createElement("div",{className:"aaq-confirmation-partner-title"},"Our Partner Agents are here to help!"),r.default.createElement("div",{className:"aaq-confirmation-partner-quote"},'"My Partner Agent was fabulous. All their advice, suggestions and response to my questions were knowledgeable and thorough of the local real estate trends, policies, & inventory."',"   ",o)))),a&&r.default.createElement(s.default,null))}(g,n):r.default.createElement("div",{className:"aaq-confirmation-stage"},r.default.createElement("div",{className:"aaq-confirmation-stage-content"},r.default.createElement("div",{className:"aaq-confirmation-stage-header"},r.default.createElement("div",{className:"aaq-confirmation-icon-text"},r.default.createElement("div",{className:"aaq-confirmation-icon-container"},r.default.createElement(o.default,{className:"aaq-confirmation-icon"})),r.default.createElement("div",{className:"aaq-confirmation-stage-main-text"},"Question Submitted!")),v),m?y:null))};var r=a(n("mXGw")),o=a(n("Nm66")),i=a(n("jYFz")),s=a(n("I3Fs")),l=a(n("DT4l")),u=a(n("Brmu")),c=n("3shQ"),d=a(n("YqrK")),f=a(n("ovDw"));function p(){d.default.trackClickWithDefaults(d.default.clicks.PARTNER_AAQ_CONFIRMATION_LEARNMORE_CLICKED)}n("ipUu"),e.exports=t.default},"N+oO":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("cDf5")),o=n("TlVh"),i=a(n("Fu4x")),s=a(n("GFPZ")),l=a(n("I+M3")),u=n("MYdA"),c=a(n("KtT9")),d=(0,o.createStoreFactory)({init:function(e){var t=this;this.listenTo(l.default.createNewCommute,this.onCreateNewCommute),this.listenTo(l.default.deleteCommute,this.onDeleteCommute),this.listenTo(l.default.openForm,this.onOpenForm),this.listenTo(l.default.updateCommute,this.onUpdateCommute),this.listenTo(c.default.autoCompleteServicesSetup,this.onAutoCompleteServicesSetup),this.listenTo(l.default.autoCompleteSetupDone,this.onAutoCompleteSetupDone),this.commutes=new i.default,e&&e.activeCommutes&&Array.isArray(e.activeCommutes)&&e.activeCommutes.length>0?(e.activeCommutes.forEach(function(e){t.commutes.push(new s.default({commuteData:e}))}),this.commutes.size()<6&&this.commutes.push(new s.default({linkOnly:!0}))):this.commutes.push(new s.default({linkOnly:!1})),this.setState({commutes:this.commutes})},onCreateNewCommute:function(e){if(!Array.isArray(e))throw new Error("commuteData should be an array not of type ".concat((0,r.default)(e)));var t={};e.forEach(function(e){return t[e.id]=e});for(var n=0;n<this.commutes.size();){var a=this.commutes.get(n),o=t[a.state.id];if(o){if(o.address!==a.state.address||(0,u.convertFromEnum)(o.commuteType).commuteType!==a.state.commuteType){this._popCommute(n);var i=new s.default({commuteData:o});i.setUpDirections(this.state.initialDirectionsData),this.commutes.pushAtIndex(i,n)}delete t[a.state.id],n++}else this._popCommute(n)}for(var l=0,c=Object.values(t);l<c.length;l++){var d=c[l],f=new s.default({commuteData:d});f.setUpDirections(this.state.initialDirectionsData),this.commutes.push(f)}this.commutes.size()<6&&this.commutes.push(new s.default({linkOnly:!0})),this.setState({commutes:this.commutes})},onUpdateCommute:function(e){for(var t=0;t<this.commutes.size();++t)if(t>e.length-1)this._popCommute(t);else if(this.commutes.get(t).state.id!==e[t].id){this._popCommute(t);break}this.commutes.size()<6&&this.commutes.get(this.commutes.size()-1).state.id&&this.commutes.push(new s.default({linkOnly:!0}))},onDeleteCommute:function(e){this.commutes.remove(e),this.commutes.get(this.commutes.size()-1).state.id&&this.commutes.push(new s.default({linkOnly:!0})),1===this.commutes.size()&&this.commutes.get(0).setState({linkOnly:!1})},onOpenForm:function(e){this.commutes.forEach(function(t){t!==e&&(t.state.showForm||t.state.showRegPrompt)&&t.setState({showForm:!1,showRegPrompt:!1})})},_popCommute:function(e){this.commutes.get(e).state.showRoute&&this.commutes.get(e).onToggleRoute(),this.commutes.removeByIndex(e)},onAutoCompleteServicesSetup:function(e){this.setState({autoCompleteServices:e})},onAutoCompleteSetupDone:function(e){this.setState({initialDirectionsData:e})}});t.default=d,e.exports=t.default},N9LJ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("lSNA")),l=a(n("cXUB")),u=a(n("7pHz")),c=n("cMqt"),d=n("osI4"),f=a(n("FprU")),p=a(n("zAF+")),m=n("H/w5"),h=c.RequestLocalStorage.getNamespace(),g=(r={},(0,s.default)(r,f.default.ACTIVE.id,"ADP"),(0,s.default)(r,f.default.ACTIVE_PENDING.id,"APDP"),(0,s.default)(r,f.default.OFF_MARKET.id,"OMDP"),(0,s.default)(r,f.default.RECENTLY_SOLD.id,"RSDP"),(0,s.default)(r,f.default.RENTAL.id,"RDP"),(0,s.default)(r,f.default.NO_VACANCY_RENTAL.id,"RDP"),(0,s.default)(r,f.default.LNP_INACTIVE_RENTAL.id,"RDP"),r),_=[f.default.RENTAL.id,f.default.NO_VACANCY_RENTAL.id,f.default.LNP_INACTIVE_RENTAL.id],v=function(){function e(){(0,o.default)(this,e)}return(0,i.default)(e,[{key:"setConfigValues",value:function(){return{statsdSampleRate:.01,disableCOP:!0,refreshAfterLogin:!0,allowSignInByEmail:"map"}}},{key:"handleRoute",value:function(){var e=this,t=this.getRequest(),n=(0,m.createHomeDetailsInitialStoreFromRequest)(t),a=l.default.defer();return p.default.disableForRoute("HomeDetails"),l.default.all([n.when("urlData"),n.when("rentalUrlData")]).then(function(){var t,r=n.state,o=r.urlData,i=r.rentalUrlData;if(null!=i&&i.pageType&&_.includes(i.pageType)&&(o=i),null!==(t=o)&&void 0!==t&&t.redirectUrl)return a.resolve({code:o.responseCode,location:o.redirectUrl});if(o&&o.responseCode!==u.default.OK)return a.resolve({code:o.responseCode});if(void 0===o||!o.pageType)return a.resolve({code:u.default.INTERNAL_SERVER_ERROR});var s=e._buildRouteName(o);h().detailsInitialPageStore=n,a.resolve({routeName:s})}).catch(function(){a.resolve({code:u.default.INTERNAL_SERVER_ERROR})}),a.promise}},{key:"_isPhoneOrTablet",value:function(e){return e.deviceConfig!==g_deviceConfiguration.DESKTOP}},{key:"_buildRouteName",value:function(e){var t="IE"===(0,d.getBrowserInfoJson)().family,n=this._isPhoneOrTablet(e),a=e.pageType;return"".concat(g[a]).concat(n?"Phone":"Desktop").concat(!n&&t?"IE":"")}}],[{key:"getInitialDataStore",value:function(){return h().detailsInitialPageStore}}]),e}();t.default=v,e.exports=t.default},NFCW:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=b;var r=a(n("pVnL")),o=(a(n("17x9")),a(n("mXGw"))),i=a(n("nar/")),s=a(n("t/kO")),l=a(n("vH3W")),u=a(n("ma35")),c=a(n("nbo3")),d=a(n("8zKa")),f=n("nOk1"),p=a(n("8Jek")),m=a(n("94Bj")),h=a(n("e2+T")),g=a(n("Brmu")),_=n("3shQ"),v=a(n("YqrK")),y=a(n("DT4l")),E=a(n("dXiY")),S=a(n("UT8e")),I=a(n("LDFp")),T=n("haQS"),C=a(n("a/3M"));function b(e){(0,T.isPartnerSuggestedMessagesEligible)(e)&&v.default.trackImpression(v.default.impressions.PARTNER_AAQ_SUGGESTED_MESSAGE_ELIGIBLE),!e.isInlineForm&&e.showBDXExperience&&y.default.trackImpression(y.default.impressions.ASK_BDX_COMMENT_DIALOG);var t=o.default.createElement("div",{className:"aaq-question-stage"},function(e){var t=e.isPartnerAgent,n=(0,p.default)({aaqLongTitle:(0,T.isPartnerSuggestedMessagesEligible)(e)&&!t,"aaq-question-stage-title":!t,"aaq-question-stage-title-display-partner-connection-time":t});return o.default.createElement("div",{className:n},e.inlineHeader)}(e),!e.showBDXExperience&&(!e.isMobile||e.isInlineForm||e.isOpendoor||(0,T.isPartnerSuggestedMessagesEligible)(e))&&function(e){if(e.isOpendoor)return function(e){var t=e.listingAgent.agentInfo.agentName,n=e.agentPicture?o.default.createElement("img",{className:"agent-picture",alt:"Listing Agent ".concat(t),src:e.agentPicture,loading:"lazy"}):o.default.createElement(d.default,null);return o.default.createElement("div",{className:"aaq-question-stage-agent-info-container listing-agent"},o.default.createElement("div",{className:"agent-avatar"},n),o.default.createElement("div",{className:"aaq-question-stage-agent-info"},o.default.createElement("div",{className:"agent-name listing-agent"},t),o.default.createElement("div",{"data-rf-test-name":"external-brokerage-name"},e.listingAgent.brokerName)))}(e);if(e.isTourConfirmation)return function(e){return o.default.createElement("div",{className:"aaq-question-stage-agent-info-container tour-agent"},o.default.createElement("div",{className:"agent-avatar"},o.default.createElement("img",{className:"agent-picture",alt:"Buyer's Agent ".concat(e.agent.displayName),src:e.agentPicture,loading:"lazy"})),o.default.createElement("div",{className:"aaq-question-stage-agent-info"},o.default.createElement("div",{className:"agent-name tour-agent"},e.agent.displayName),o.default.createElement("div",{"data-rf-test-name":"brokerage-name"},"Redfin Buyer's Agent")))}(e);var t=e.contactServiceType===C.default.id&&e.agent._servesListings?"Listing ":"",n=e.isPartnerAgent?" Redfin Partner Agent ":" Redfin ".concat(t,"Agent "),a=e.responseTimeMinutes&&e.agent.getFirstName()?e.agent.getFirstName()+" typically replies in about ":"Responds in ",r=o.default.createElement("div",{"data-rf-test-name":"response-info"},a,k(e)),i=e.listingAddress?e.listingAddress.city:null,s=e.isAgentAssignedOrPending?"Your":e.agent._licenseClassTitle||i||e.agent.getBusinessMarket();e.isPartnerAgent&&e.isMobile||(s+=n);var l=s+e.agent.getFullName(),u=e.agent._profileUrl,c=(0,p.default)("agent-avatar",{"col-4":e.isMobile}),f=(0,p.default)("aaq-question-stage-agent-info",{"col-8":e.isMobile}),h=m.default.isOn(m.default.feature.PARTNER_DETER_BOGUS_AAQ)&&"Control"!==m.default.getVariant(m.default.feature.PARTNER_DETER_BOGUS_AAQ)&&e.isPartnerAgent?o.default.createElement("div",{className:f},e.isPartnerAgent&&o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"questionText"},"Have a question about this listing?"),o.default.createElement("div",{className:"canHelpText"},"A local agent can help!")),!e.shouldHideResponseTime&&o.default.createElement("div",{"data-rf-test-name":"response-info",className:"margin-top-medium"},a,k(e))):o.default.createElement("div",{className:f},o.default.createElement("span",{className:"agent-name",onClick:function(){return t=e.isPartnerAgent,n=e.isOpendoor,a=u,void(t?A(v.default.clicks.PARTNER_AAQ_AGENT_NAME_CLICK,null,a):A(v.default.clicks.AAQ_AGENT_NAME_CLICK,n,a));var t,n,a}},e.agent.getFullName()),o.default.createElement("div",{"data-rf-test-name":"agent-business-market"},s),e.isPartnerAgent&&e.isMobile&&o.default.createElement("div",{className:"agentType"},n),e.isPartnerAgent&&o.default.createElement("div",{"data-rf-test-name":"partner-brokerage-name"},e.brokerageName),!e.shouldHideResponseTime&&r);return o.default.createElement("div",{className:"aaq-question-stage-agent-info-container clearfix"},o.default.createElement("div",{className:c},o.default.createElement("span",{onClick:function(){return t=e.isPartnerAgent,n=e.isOpendoor,a=u,void(t?A(v.default.clicks.PARTNER_AAQ_AGENT_PHOTO_CLICK,null,a):A(v.default.clicks.AAQ_AGENT_PHOTO_CLICK,n,a));var t,n,a}},o.default.createElement("img",{className:"agent-picture",alt:l,src:e.agentPicture,loading:"lazy"}))),h)}(e),e.bundledIncentiveVariant?function(e){var t=e.isMobile?(0,p.default)({"aaq-question-form-button":!0}):(0,p.default)({"aaq-question-form-button-bundled-incentive":!0}),n=o.default.createElement(u.default,{className:t,type:"primary",formSubmit:!0,onClick:function(){return D(e.showBDXExperience,e.isInlineForm,e.isOpendoor,e.isPartnerAgent)},disabled:e.shouldDisableSubmit},"Request information");if(e.isMobile)return o.default.createElement(s.default,{formName:e.formName,className:"aaq-question-stage-form"},(0,T.isPartnerSuggestedMessagesEligible)(e)?w(e):L(e),!e.showBDXExperience&&!e.isInlineForm&&e.isMobile&&!(0,T.isPartnerSuggestedMessagesEligible)(e)&&R(e),n,O(e)&&N(e));return o.default.createElement(s.default,{formName:e.formName,className:"aaq-question-stage-form justify-end"},(0,T.isPartnerSuggestedMessagesEligible)(e)?w(e):L(e),!e.showBDXExperience&&!e.isInlineForm&&e.isMobile&&!(0,T.isPartnerSuggestedMessagesEligible)(e)&&R(e),O(e)&&N(e),n)}(e):function(e){var t=!e.isInlineForm&&e.isMobile&&!(0,T.isPartnerSuggestedMessagesEligible)(e)||e.isOpendoor||e.fromRightRail?"Next":"Ask a question";m.default.isOn(m.default.feature.PARTNER_DETER_BOGUS_AAQ)&&"Control"!==m.default.getVariant(m.default.feature.PARTNER_DETER_BOGUS_AAQ)&&"Ask a question"===t&&(t="Submit question");var n=e.isInlineForm||!e.isMobile||(0,T.isPartnerSuggestedMessagesEligible)(e)?"teritiary":"primary",a=(0,p.default)({"aaq-question-form-button":!0});return o.default.createElement(s.default,{formName:e.formName,className:"aaq-question-stage-form"},(0,T.isPartnerSuggestedMessagesEligible)(e)?w(e):L(e),!e.showBDXExperience&&!e.isInlineForm&&e.isMobile&&!(0,T.isPartnerSuggestedMessagesEligible)(e)&&R(e),o.default.createElement(u.default,{className:a,type:n,formSubmit:!0,onClick:function(){return D(e.showBDXExperience,e.isInlineForm,e.isOpendoor,e.isPartnerAgent)},disabled:e.shouldDisableSubmit},t),O(e)&&N(e))}(e),function(e){return e.isPartnerAgent&&e.isMobile&&m.default.isOn(m.default.feature.PARTNER_AGENT_RECRUITMENT_CTA)}(e)&&function(e){var t={device_category:e.isMobile?"mobile":"desktop"};return e.isPartnerAgent?o.default.createElement(S.default,{section:"ask_a_question",target:"partner_recruitment_cta",eventDetails:t},o.default.createElement(E.default,{partnerPageSrc:"inline_ask_question",onLinkClick:function(){v.default.trackClickWithDefaults(v.default.clicks.AAQ_PARTNER_RECRUITMENT_CTA_CLICK,t,!1),c.default.flushRiftEvents()}})):null}(e));return e.isPartnerAgent?o.default.createElement(S.default,{eventDetails:{business_market_id:e.agent.getBusinessMarketId()},section:e.isInlineForm?"partner_ask_a_question_inline":"partner_ask_a_question_modal",target:""},t):t}function k(e){var t=e.agent,n=e.isPartnerAgent,a=e.responseTimeMinutes;return n?o.default.createElement(g.default,{businessMarketId:t.getBusinessMarketId(),percentile:(0,_.getPartnerConnectionTimePercentile)()}):o.default.createElement("span",{"data-rf-test-name":"response-time"},a?(0,f.pluralizeCount)(a,"minute"):"4 business hours")}function R(e){var t=e.responseTimeMinutes?(0,f.pluralizeCount)(e.responseTimeMinutes,"minute"):"4 business hours";return o.default.createElement("div",{className:"aaq-question-form-response"},e.responseTimeMinutes?"Typical response time is about ":"Responds in 4 business hours.",e.responseTimeMinutes&&o.default.createElement("span",null,t))}function O(e){return!e.showBDXExperience&&(!e.isPartnerAgent||e.detailsPageContext===i.default.id)&&e.phoneNumber&&(e.isInlineForm||!e.isMobile)}function N(e){var t=!e.isMobile&&e.bundledIncentiveVariant?"aaq-question-form-contact-bundled-incentive":"aaq-question-form-contact";return e.phoneNumber?o.default.createElement("div",{className:t},"Text or call ",o.default.createElement("span",{className:"phone-link","data-rf-test-name":"phone-link",onClick:function(){return A(v.default.clicks.AAQ_PHONE_NUMBER_CLICK,e.isOpendoor,"tel:".concat(e.phoneNumber))}},e.phoneNumber)):null}function A(e,t,n){v.default.trackClickWithDefaults(e,null,t),c.default.flushRiftEvents(),window.location.href=n}function P(e,t,n,a){e?t?y.default.trackClick(y.default.clicks.ASK_BDX_QUESTION_FIELD_CLICK):y.default.trackClick(y.default.clicks.ASK_BDX_COMMENT_DIALOG_COMMENT_CLICK):a?t?v.default.trackClick(v.default.clicks.PARTNER_AAQ_QUESTION_FIELD_CLICK):v.default.trackClick(v.default.clicks.PARTNER_AAQ_QUESTION_FIELD_MODAL_CLICK):v.default.trackClickWithDefaults(v.default.clicks.AAQ_QUESTION_FIELD_CLICK,null,n)}function D(e,t,n,a){e?t?y.default.trackClick(y.default.clicks.ASK_BDX_QUESTION_BUTTON_CLICK):y.default.trackClick(y.default.clicks.ASK_BDX_COMMENT_DIALOG_NEXT_CLICK):n?v.default.trackClickWithDefaults(v.default.clicks.AAQ_QUESTION_NEXT_CLICK,null,!0):a?t?v.default.trackClick(v.default.clicks.PARTNER_AAQ_QUESTION_BUTTON_CLICK):v.default.trackClick(v.default.clicks.PARTNER_AAQ_QUESTION_BUTTON_MODAL_CLICK):v.default.trackClickWithDefaults(v.default.clicks.AAQ_QUESTION_BUTTON_CLICK,null,!1)}function w(e){return o.default.createElement(h.default,{className:"aaq-question-form-text-area",type:"text",formName:e.formName,questionName:"questionText",suggestedMessages:(0,T.generateSuggestedMessages)(e),questionText:e.fields.questionText,showBDXExperience:e.showBDXExperience,isInlineForm:e.isInlineForm,isOpendoor:e.isOpendoor,isPartnerAgent:e.isPartnerAgent,textAreaOnFocus:P})}function L(e){return o.default.createElement(l.default,(0,r.default)({className:"aaq-question-form-text-area",type:"text",rows:3,maxRows:4},e.fields.questionText,{onFocus:function(){return P(e.showBDXExperience,e.isInlineForm,e.isOpendoor,e.isPartnerAgent)}}))}n("mrPQ"),I.default.ensure(n("TmV8"),n("/fuz")),b.propTypes={},e.exports=t.default},NGQd:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("JPWT")),o=function(e){var t=e.clickThroughSectionStore;return t&&React.createElement(r.default,t)};o.displayName="ClickThroughSection",o.getComponentDependencies=function(){return{dependencies:["clickThroughSectionStore"]}};var i=o;t.default=i,e.exports=t.default},NLK8:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5"),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=(a(n("17x9")),a(n("ajZI"))),d=n("osI4"),f=n("jDxM"),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("xe6j"));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var g=n("YAhj"),_=n("1AMb"),v=n("pXdz");n("Sx8y");var y=function(e){(0,s.default)(n,e);var t=h(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.domNode&&(0,p.isXdpZoneomicsEnabled)()&&v.trackImpression(v.impressions.PUBLIC_RECORDS,null,this.domNode)}},{key:"render",value:function(){var e=this;if((0,p.isXdpZoneomicsEnabled)())return g.createElement(p.default,this.props);var t=this.props.publicRecordsInfo;if(!t||!t.basicInfo&&!t.taxInfo)return null;var n="phone"===(0,d.getCurrentDeviceType)(),a=t&&t.addressInfo&&t.addressInfo.street,r=(0,f.calculateHeaderText)({sectionTitle:"Public Facts",streetAddress:a,isMobile:n});return g.createElement(_,{name:"PublicRecordsInfoPanel",id:"public-records-scroll",addTopRule:!0},g.createElement(c.default,{sectionName:r,previewText:"Home details from public county records",section:"publicRecords",enabled:this.props.isCollapsible,initiallyExpanded:this.props.initiallyExpanded,rfTestId:"public-records-expandable-preview"},g.createElement("div",{className:"sectionContainer","data-rf-test-id":"publicRecords",ref:function(t){return e.domNode=t}},g.createElement(p.PublicFactsContent,this.props))))}}]),n}(g.Component);y.getComponentDependencies=function(){return{dependencies:["publicRecordsInfo","zoningDataInfo","ownerVerificationStore","mainHouseInfo"]}},y.displayName="PublicRecordsInfoPanel",y.propTypes={},e.exports=y},NSws:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),i=n("wTjA"),s=a(n("hqHB"));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}n("cV3J");var u=function(e){var t=e.listingStatusBannerStore,n=(t=void 0===t?{}:t).statusColor,a=t.segments,r=void 0===a?[]:a,l=t.actions,u=void 0===l?{}:l,c=t.EXPERIMENT_VARIANT,d=void 0===c?"CONTROL":c;return(0,o.useEffect)(function(){"CONTROL"!==d&&(0,i.isFunction)(u.whenListingStatusBannerIsMounted)&&u.whenListingStatusBannerIsMounted()},[]),"CONTROL"===d?null:r.length?o.default.createElement("div",{className:"ListingStatusBannerSection"},!!n&&o.default.createElement("div",{className:"ListingStatusBannerSection--statusDot",style:{backgroundColor:n}}),r.reduce(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=s.default[t.type];return n?e.concat(o.default.createElement(n,{segment:t,actions:u})):e},[])):null};u.getComponentDependencies=function(){return{dependencies:["listingStatusBannerStore"]}};var c=u;t.default=c,e.exports=t.default},Nb0P:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n("17x9"));var r=a(n("h/Yt")),o=a(n("BLuP")),i=a(n("IgEu")),s=n("+Ciq"),l=a(n("sy14"));n("TrNj");var u=function(e){var t,n,a,u,c,d=e.lastUpdatedDate,f=e.lastCheckedDate,p=e.deviceConfig,m=e.pageType,h=function(){o.default.trackClick(o.default.clicks.WHY_REDFIN)};f?(t=r.default.elapsed(f).toLowerCase(),u=null===(c=a=r.default.getDateStringAndStructuredData(f))||void 0===c?void 0:c.dateString):(t="over 7 days ago",a=null,u=null);t=React.createElement("a",{href:"/about/data-quality-on-redfin",onClick:h},t);var g,_=null;d&&(n=null===(g=_=r.default.getDateStringAndStructuredData(d))||void 0===g?void 0:g.dateString);var v,y,E=(0,s.getPageTypeAcronym)(m);return p===g_deviceConfiguration.PHONE?n&&"OMDP"!==E?React.createElement("div",{className:"data-quality font-size-small inline-block h4"},"Redfin checked:"," ",React.createElement("a",{href:"/about/data-quality-on-redfin",target:"_blank",onClick:h},t),a?" (".concat(u,"  at ").concat(a.time,") "):null,React.createElement(l.default,null)):_?React.createElement("div",{className:"data-quality font-size-small inline-block h4"},"Redfin checked:"," ",React.createElement("a",{href:"/about/data-quality-on-redfin",target:"_blank",onClick:h},t),a?" (".concat(u,"  at ").concat(null===(v=a)||void 0===v?void 0:v.time,")"):null,React.createElement(l.default,null)):React.createElement("div",{className:"data-quality font-size-small inline-block h4"},_&&React.createElement(i.default,{key:"data-quality",blob:_.structuredData})):n&&"OMDP"!==E?React.createElement("div",{className:"data-quality"},"Redfin checked:"," ",React.createElement("a",{href:"/about/data-quality-on-redfin",target:"_blank",onClick:h},t),a?" (".concat(u," at ").concat(a.time,") "):null):_?React.createElement("div",{className:"data-quality"},"Redfin checked:"," ",React.createElement("a",{href:"/about/data-quality-on-redfin",target:"_blank",onClick:h},t),a?" (".concat(u,"  at ").concat(null===(y=a)||void 0===y?void 0:y.time,")"):null):React.createElement("div",{className:"data-quality"},_&&React.createElement(i.default,{key:"data-quality",blob:_.structuredData}))};u.displayName="DataQualitySection",u.propTypes={};var c=u;t.default=c,e.exports=t.default},NcWF:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.fields.phoneNumber&&""!==e.fields.phoneNumber.value,n=(0,f.getRiftImpressionsKey)("AAQ_PHONE_DIALOG",e);e.showBDXExperience?c.default.trackImpression(c.default.impressions.ASK_BDX_CONTACT_INFO_DIALOG):u.default.trackImpressionWithDefaults(u.default.impressions[n],{phone_prefilled:t},e.isOpendoor);return o.default.createElement("div",{className:"aaq-phone-only-stage"},o.default.createElement("div",{className:"aaq-phone-only-stage-title"},e.inlineHeader),e.headlineError&&o.default.createElement(d.default,{className:"full-width",title:"It looks like there is an error.",type:"error"},e.headlineError),o.default.createElement(i.default,{formName:e.formName,className:"aaq-phone-only-stage-form"},function(e,t,n){if(e.showBDXExperience)return o.default.createElement(s.default,(0,r.default)({className:"aaq-phone-only-form-text",type:"tel"},e.fields.optionalPhoneNumber,{autofocus:e.isMobile,onFocus:function(){return c.default.trackClick(c.default.clicks.ASK_BDX_PHONE_FIELD_CLICK)}}));return o.default.createElement(s.default,(0,r.default)({className:"aaq-phone-only-form-text",type:"tel"},e.fields.phoneNumber,{autofocus:e.isMobile,onFocus:function(){return(0,f.trackOnPhoneFocus)(n,e,t)}}))}(e,t,n),e.showBDXExperience&&function(e){return o.default.createElement("div",{className:"aaq-contact-input-fields"},o.default.createElement(s.default,(0,r.default)({className:"aaq-name-and-contact-form-text leftField",type:"zip",onFocus:function(){return c.default.trackClick(c.default.clicks.ASK_BDX_POSTCODE_FIELD_CLICK)}},e.fields.zipCode)))}(e),o.default.createElement(l.default,{className:"aaq-phone-only-form-button",type:"primary",formSubmit:!0,onClick:function(){return(0,f.trackSubmitButtonClick)(n,e,!1)},disabled:e.shouldDisableSubmit},e.bundledIncentiveVariant?"Submit":"Send Question"),e.isOpendoor&&o.default.createElement("div",{className:"aaq-name-and-contact-terms-of-service"},"Your message and contact details will be shared with Opendoor so that they can respond to your inquiry."),e.showBDXExperience&&o.default.createElement("div",{className:"aaq-name-and-contact-terms-of-service"},"Your message and contact details will be shared with ",e.builderName," so that they can respond to your inquiry.")))};var r=a(n("pVnL")),o=a(n("mXGw")),i=a(n("t/kO")),s=a(n("Xecl")),l=a(n("ma35")),u=a(n("YqrK")),c=a(n("DT4l")),d=a(n("2Xwv")),f=n("2tHw");n("liRG"),e.exports=t.default},Nh9I:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("TlVh"),o=a(n("5BUB")),i=a(n("x3Yk")),s=a(n("nbo3")),l=a(n("ZpgJ")),u=a(n("/4Do")),c=a(n("8Llx")),d=a(n("8wdY")),f=a(n("b2XU")),p=a(n("wNRX")),m=n("Q+Iq"),h=n("RxnA"),g=a(n("iDTg")),_=n("R8lb"),v=n("haQS"),y=a(n("zG9a")),E=a(n("94Bj")),S=a(n("LDFp")),I=a(n("XuLQ")),T=a(n("4UMV"));S.default.ensure(n("zEQG"),n("/fuz"),n("/ZZF"));var C=(0,r.createStoreFactory)({mixins:[o.default],formName:"MultistageAAQForm",fields:{questionText:{rules:[{test:p.default.rules.required()}]},firstName:{label:"First Name",placeholder:"First Name",rules:[{test:p.default.rules.required()}]},lastName:{label:"Last Name",placeholder:"Last Name",rules:[{test:p.default.rules.required()}]},email:{label:"Email",placeholder:"Email",rules:[{test:p.default.rules.required()},{test:p.default.rules.email()}]},phoneNumber:{label:"Phone",placeholder:"(  )  -",rules:[{test:p.default.rules.required()},{test:p.default.rules.phoneNumber()}]},zipCode:{label:"Zip Code",placeholder:"Zip Code",rules:[{test:p.default.rules.required()},{test:p.default.rules.zipCode()}]},optionalPhoneNumber:{label:"Phone (optional)",placeholder:"(  )  -",rules:[{test:p.default.rules.phoneNumber()}]}},init:function(e){var t=e.submittedQuestion,n=e.isMobile,a=e.isInlineForm,r=e.contactBoxInfo,o=e.listingId,i=e.propertyId,s=e.streetAddress,p=e.inquiryChannel,_=e.inquirySource,y=e.trackRegistrationAttempt,S=e.listingAddress,I=e.isOpendoor,C=e.fromRightRail,b=e.listingAgent,k=e.showBDXExperience,R=e.builderName,O=e.isTourConfirmation,N=e.bundledIncentiveVariant,A=e.onBackToPreviousDialog;if(this.listenToMany(g.default),r||I||O||k){var P=l.default.getJsonLogin()||null!==u.default.getCurrentInstance()&&u.default.getCurrentInstance().state.userData.jsonLogin,D=c.default.isLoggedIn(),w=e.agent||r&&r.recommendedAgent,L=!I&&!O&&g_agentType.CONNECT===(w&&w.getAgentType()),M=I||O?null:r.experienceData&&(0,m.doObjectGraph)()(r.experienceData.refundMessagingData),x=(0,h.agentIsAssignedOrPending)(r),F=M?M.phoneNumber:null,B=(0,v.isInPartnerSubsequentAAQVariant)(),H=!I&&(r&&(r.customerAgentStatus===g_customerAgentStatus.AGENT_PENDING||r.customerAgentStatus===g_customerAgentStatus.AGENT_ASSIGNED)&&!(L&&B)&&!r.isSoldProperty||!!O),U=!(!I&&!O)||(r.customerAgentStatus===g_customerAgentStatus.AGENT_PENDING||r.customerAgentStatus===g_customerAgentStatus.AGENT_ASSIGNED),j=O?w.small_square_photo_url_secure:I?b.agentInfo&&b.agentInfo.agentPhotoUrl:w?(0,h.generateAgentPictureUrl)(L,w):null;this.setState({agent:I?{}:w,isAgentAssignedOrPending:x,phoneNumber:F,responseTimeMinutes:I||O?null:w&&w.get("agentAverageResponseMinutes"),isPartnerAgent:L,brokerageName:O?null:I?b.brokerName:w&&w.get("brokerageName"),inlineFormSubmittedQuestion:t,agentPicture:j,formName:"".concat(this.formName,".").concat(d.default.randomShortString()),isLoggedIn:D,user:P,isMobile:n,isInlineForm:a,sectionWidth:607,shouldUseGIF:H,shouldHideResponseTime:U,stageHistory:[],nextPendingStage:null,mlsId:r&&r.mlsId,listingId:o,propertyId:i,streetAddress:s,shouldDisableSubmit:!1,failingFields:[],preferredContactMethods:(0,v.isPartnerPreferredContactMethodsEligible)(L)?{Call:!1,Text:!1,Email:!1}:null,inquiryChannel:p,inquirySource:_,headlineError:null,requestInFlight:!1,listingAddress:S,isOpendoor:I,fromRightRail:C,showBDXExperience:k,builderName:k&&R,listingAgent:I&&b,isTourConfirmation:O,detailsPageContext:r&&r.detailsPageContext,contactServiceType:r&&r.contactServiceType,isPartnerAssigned:r&&r.customerAgentStatus===g_customerAgentStatus.AGENT_ASSIGNED,partnerAAQConfirmVariant:L&&E.default.getVariant(E.default.feature.PROMOTE_AGENT_VALUE_AAQ_CONF),showBackButton:_===T.default.id,bundledIncentiveVariant:N,onBackToPreviousDialog:A}),P&&P.firstName&&(this.setFields({phoneNumber:P.phoneNumber||""}),this.removeFields(["firstName","lastName","email"]),O&&this.removeFields(["phoneNumber"])),k?this.removeFields(["phoneNumber"]):this.removeFields(["optionalPhoneNumber","zipCode"]),this.getNextStageAndHandleResponse(),this.state.fields.questionText.value=this.generateValue(L,r&&r.contactServiceType,s),this.state.fields.questionText.placeholder="Write a message...",this.listenTo(f.default.submit,this.onSubmit),this.listenTo(f.default.fieldChange,this.onFieldChange),this.listenTo(f.default.fieldBlur,this.onFieldBlur),this.trackRegistrationAttempt=!0,!1===y&&(this.trackRegistrationAttempt=!1)}},generateValue:function(e,t,n){var a=this.state.inlineFormSubmittedQuestion||"";return this.isPartnerSuggestedMessagesEligible(e,t)?a:"I'd like to know more about ".concat(n||"this home",".")},isPartnerSuggestedMessagesEligible:function(e,t){return(e||this.state.isPartnerAgent)&&(t===I.default.BUY_SIDE.id||this.state.contactServiceType===I.default.BUY_SIDE.id)},setRiftEntrypointRiftContext:function(e){this.entrypointRiftContext=e},storeSubmitButtonRiftClick:function(e){this.setRiftEntrypointRiftContext(e),this.trackRegistrationAttempt&&(0,_.trackRegistrationConversionAttempt)(e,g_registrationReason.CONTACT_AGENT,g_registrationAuthority.REDFIN)},getCurrentStageTitle:function(){if(this.state.isMobile&&!this.state.showPartnerAAQConfirmRevamp)return null;switch(this.state.currentStage){case g_askAQuestionStage.QUESTION:return this.getQuestionStageExpandedHeaderText();case g_askAQuestionStage.NAME_WITH_CONTACT:return this.state.isOpendoor?"How can Listing Agent ".concat(this._getAgentFirstName(this.state.listingAgent.agentInfo.agentName)," get back to you?"):this.state.showBDXExperience?"How can the builder get back to you?":"How can we get back to you?";case g_askAQuestionStage.PHONE_ONLY:return this.state.showBDXExperience?"How can we get back to you?":null;case g_askAQuestionStage.CONFIRMATION:return this.state.showPartnerAAQConfirmRevamp?React.createElement(y.default,{partnerAAQConfirmVariant:this.state.partnerAAQConfirmVariant,agent:this.state.agent}):null;default:return null}},getStageInlineHeader:function(e){switch(e){case g_askAQuestionStage.QUESTION:return this.shouldShowInlineHeaderInQuestionStage()?this.state.showBDXExperience||this.state.isMobile&&!this.state.isOpendoor&&!this.isPartnerSuggestedMessagesEligible()?"How can we help you?":this.getQuestionStageExpandedHeaderText():null;case g_askAQuestionStage.NAME:return"What's your name?";case g_askAQuestionStage.CONTACT:case g_askAQuestionStage.PHONE_ONLY:return this.state.isOpendoor?"How can Listing Agent ".concat(this._getAgentFirstName(this.state.listingAgent.agentInfo.agentName)," get back to you?"):this.state.showBDXExperience?null:"How can we get back to you?";default:return null}},shouldShowInlineHeaderInQuestionStage:function(){return this.state.isMobile&&!this.state.isInlineForm||!this.state.isMobile&&this.state.isInlineForm},getQuestionStageExpandedHeaderText:function(){if(this.state.isTourConfirmation)return null;if(this.state.showBDXExperience)return"How can we help you?";if(this.state.isOpendoor)return"Contact Listing Agent ".concat(this._getAgentFirstName(this.state.listingAgent.agentInfo.agentName));if(E.default.isOn(E.default.feature.PARTNER_DETER_BOGUS_AAQ)&&this.state.isPartnerAgent){if("BuyersAgent"===E.default.getVariant(E.default.feature.PARTNER_DETER_BOGUS_AAQ))return React.createElement("div",{className:"buyer-agent-div",onMouseEnter:function(){return s.default.trackImpression("partner_ask_a_question_modal","buyers_agent_name")},"aria-hidden":"true"},"Ask a Buyer's Agent a Question");if("Agent"===E.default.getVariant(E.default.feature.PARTNER_DETER_BOGUS_AAQ))return"Ask an Agent a Question";if("LocalAgent"===E.default.getVariant(E.default.feature.PARTNER_DETER_BOGUS_AAQ))return"Ask a Local Agent a Question"}return"Ask Redfin ".concat(this.state.isPartnerAgent?"Partner Agent":"Agent"," ").concat(this.state.agent&&this.state.agent.get("firstName")," a Question")},preferredContactMethodChange:function(e){var t=this.state.preferredContactMethods[e];this.produceState(function(n){n.preferredContactMethods[e]=!t})},onFieldChange:function(e){var t=e.name,n=e.value;if(e.formName===this.state.formName){this.produceState(function(e){e.fields[t].value=n,e.fields[t].feedback=null});var a=this.validateCurrentStage(!1);this.setState({shouldDisableSubmit:!a})}},onFieldBlur:function(e){var t=e.name,n=e.value;e.formName===this.state.formName&&this.validateAndSetField(t,n)},disableFormInteractions:function(){this.setState({shouldDisableSubmit:!0})},enableFormInteractions:function(){this.setState({shouldDisableSubmit:!1})},isFieldValid:function(e){return p.default.validateField(this.fields[e].label,this.state.fields[e].value,this.fields[e].rules,{feedbackMode:p.default.feedbackModes.ERROR_ONLY}).valid},getFieldsInStage:function(e){var t=[];switch(e){case g_askAQuestionStage.QUESTION:t.push("questionText");break;case g_askAQuestionStage.NAME:t.push("firstName"),t.push("lastName");break;case g_askAQuestionStage.CONTACT:this.state.isLoggedIn||t.push("email"),this.state.showBDXExperience?(t.push("zipCode"),t.push("optionalPhoneNumber")):t.push("phoneNumber");break;case g_askAQuestionStage.NAME_WITH_CONTACT:t.push("firstName"),t.push("lastName"),t.push("email"),this.state.showBDXExperience?(t.push("zipCode"),t.push("optionalPhoneNumber")):t.push("phoneNumber");break;case g_askAQuestionStage.PHONE_ONLY:this.state.showBDXExperience?(t.push("zipCode"),t.push("optionalPhoneNumber")):t.push("phoneNumber");break;default:t.push.apply(["questionText","phoneNumber","lastName","email","phoneNumber"])}return t},validateStage:function(e,t){var n=this,a=this.getFieldsInStage(e);return t?this.validateArrayOfFields(a):!a.filter(function(e){return!n.isFieldValid(e)}).length},validateCurrentStage:function(e){return this.validateStage(this.state.currentStage,e)},shouldInitiallyDisableSubmitForStage:function(e){return!(e===g_askAQuestionStage.QUESTION||this.validateStage(e,!1))},transitionToStage:function(e){var t=this;this.state.currentStage&&this.produceState(function(e){e.stageHistory.push(t.state.currentStage)}),this.setState({currentStage:e,shouldDisableSubmit:this.shouldInitiallyDisableSubmitForStage(e),inlineHeader:this.getStageInlineHeader(e),showPartnerAAQConfirmRevamp:e===g_askAQuestionStage.CONFIRMATION&&!!this.state.partnerAAQConfirmVariant&&"Control"!==this.state.partnerAAQConfirmVariant&&!this.state.isPartnerAssigned})},navigateBack:function(){var e=this;this.state.stageHistory&&this.state.stageHistory.length>0?this.produceState(function(t){var n=t.stageHistory.pop();t.shouldDisableSubmit=e.shouldInitiallyDisableSubmitForStage(n),t.currentStage=n,t.inlineHeader=e.getStageInlineHeader(n)}):this.state.onBackToPreviousDialog()},handleNextStageResponse:function(e){if(this.setState({errorFetchingNextStage:!1}),e===g_askAQuestionStage.CONFIRMATION)return this.setState({nextPendingStage:g_askAQuestionStage.CONFIRMATION,showBackButton:!1}),void this.submitForm();this.transitionToStage(e)},getNextStageAndHandleResponse:function(){var e=this;(0,m.getEndpoint)("/stingray/ask-a-question/stage/get",{currentStage:this.state.currentStage,isMobile:this.state.isMobile,isInlineForm:this.state.isInlineForm}).then(function(t){e.enableFormInteractions(),e.handleNextStageResponse(t)}).catch(function(){e.setState({errorFetchingNextStage:!0})})},onSubmit:function(e){e.formName===this.state.formName&&this.validateCurrentStage(!0)&&(this.disableFormInteractions(),this.state.isTourConfirmation?(this.setState({nextPendingStage:g_askAQuestionStage.CONFIRMATION}),this.submitForm()):this.getNextStageAndHandleResponse())},handleSubmitResponseBody:function(e){e.resultCode===g_apiResultCode.NO_ERROR?(e.payload.justRegistered&&((0,_.trackRegistrationConversionSuccess)(this.entrypointRiftContext,g_registrationReason.CONTACT_AGENT,g_registrationAuthority.REDFIN),this.setState({justRegistered:!0})),this.transitionToStage(this.state.nextPendingStage),this.setState({nextPendingStage:null})):e.resultCode===g_apiResultCode.EMAIL_IN_USE?this.setState({renderHaveWeMetDialog:!0}):e.resultCode===g_apiResultCode.PENDING_AGENT_REQUEST?(this.setState({shouldUseGIF:!0}),this.submitForm()):"The email is invalid."===e.errorMessage?(this.state.fields.email.feedback={type:"error",text:"The email is invalid."},this.trigger(this.state)):this.setState({headlineError:"Please try again."})},convertPreferredContactMethodsToArray:function(){if(!this.state.preferredContactMethods)return null;var e=this.state.preferredContactMethods;return[e.Call,e.Text,e.Email]},submitForm:function(){var e,t=this,n=this.state.showBDXExperience?"/stingray/bdx-lead-post/submit":this.state.isOpendoor?"/stingray/redbird-agent-request/submit":this.state.shouldUseGIF?"/stingray/do/general-inquiry-form/submit":"/myredfin/agent-request/submit",a=this.state.agent;this.disableFormInteractions(),this.setState({requestInFlight:!0}),e=this.state.showBDXExperience?{firstName:this.state.fields.firstName?this.state.fields.firstName.value:this.state.user&&this.state.user.firstName?this.state.user.firstName:null,lastName:this.state.fields.lastName?this.state.fields.lastName.value:this.state.user&&this.state.user.lastName?this.state.user.lastName:null,emailAddress:this.state.fields.email?this.state.fields.email.value:this.state.user&&this.state.user.email?this.state.user.email:null,phoneNumber:this.state.fields.optionalPhoneNumber?this.state.fields.optionalPhoneNumber.value:null,postalCode:this.state.fields.zipCode?this.state.fields.zipCode.value:null,notesForAgent:this.state.inlineFormSubmittedQuestion||this.state.fields.questionText.value,inquiryChannel:this.state.inquiryChannel,inquirySource:this.state.inquirySource,listingId:this.state.listingId}:this.state.isOpendoor?{firstName:this.state.fields.firstName?this.state.fields.firstName.value:null,lastName:this.state.fields.lastName?this.state.fields.lastName.value:null,emailAddress:this.state.fields.email?this.state.fields.email.value:null,phoneNumber:this.state.fields.phoneNumber?this.state.fields.phoneNumber.value:null,notesForAgent:this.state.inlineFormSubmittedQuestion||this.state.fields.questionText.value,inquiryChannel:this.state.inquiryChannel,inquirySource:this.state.inquirySource,listingId:this.state.listingId}:this.state.shouldUseGIF?{phoneNumber:this.state.isTourConfirmation?this.state.phoneNumber:this.state.fields.phoneNumber.value,notesForAgent:this.state.inlineFormSubmittedQuestion||this.state.fields.questionText.value,propertyId:this.state.propertyId,inquirySource:this.state.inquirySource,agentId:this.state.isTourConfirmation?this.state.agent.id:this.state.agent.get("id")}:{firstName:this.state.fields.firstName?this.state.fields.firstName.value:null,lastName:this.state.fields.lastName?this.state.fields.lastName.value:null,emailAddress:this.state.fields.email?this.state.fields.email.value:null,phoneNumber:this.state.fields.phoneNumber?this.state.fields.phoneNumber.value:null,notesForAgent:this.state.inlineFormSubmittedQuestion||this.state.fields.questionText.value,"requestType-buying":!this.state.contactServiceType||this.state.contactServiceType===I.default.BUY_SIDE.id,"requestType-selling":!!this.state.contactServiceType&&this.state.contactServiceType===I.default.SELL_SIDE.id,agent:a.get("cmsSlug"),agentServiceType:g_agentServiceType.HOME_BUYING,inquiryChannel:this.state.inquiryChannel,inquirySource:this.state.inquirySource,listing_id:this.state.listingId,propertyId:this.state.propertyId,mlsId:this.state.mlsId,preferredContactMethods:this.convertPreferredContactMethodsToArray()},(0,i.default)(n,{method:"POST",body:e,headers:{"Content-Type":"form"}}).then(function(e){t.setState({requestInFlight:!1}),e.ok&&t.handleSubmitResponseBody(e.body)},function(){t.setState({errorFetchingNextStage:!0})})},hideHaveWeMetDialog:function(){this.setState({renderHaveWeMetDialog:!1})},onLoginSuccess:function(e){e.newRegistration?(0,_.trackRegistrationConversionSuccess)(this.entrypointRiftContext,g_registrationReason.CONTACT_AGENT,g_registrationAuthority.REDFIN):(0,_.trackSignInConversionSuccess)(this.entrypointRiftContext,g_registrationReason.CONTACT_AGENT,g_registrationAuthority.REDFIN),this.setState({renderHaveWeMetDialog:!1,isLoggedIn:c.default.isLoggedIn()}),this.submitForm()},_getAgentFirstName:function(e){var t=e.replace(/ .*/,"");return-1!==["the","mr","mrs"," "].indexOf(t.toLowerCase())?null:d.default.capitalizeFirst(t.toLowerCase())}});t.default=C,e.exports=t.default},Nusb:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.StickyTourFooterDesktopMB=function(e){var t=e.className,n=e.hideContactCTA,a=void 0!==n&&n,p=e.isBuilding,m=void 0!==p&&p,h=e.addressSectionInfo,g=(0,o.default)(e,f),_=a?null:React.createElement(u.default,(0,r.default)({isStickyFooter:!0},g,{isListviewMB:!0})),v=React.createElement(d.default,null),y=h&&(0,c.getBedsInfo)(h.beds,h.supplementaryBedrooms,v),E=h&&(0,c.getBathsInfo)(h.baths,h.numFullBaths,h.numPartialBaths),S=E?E.numBaths?"".concat(E.numBaths," ").concat(E.label):"- baths":null,I=y&&y.totalBeds&&"".concat(y.bedsDisplay," ").concat(1===y.totalBeds?"Bed":"Beds"),T=m?React.createElement("div",{className:"MeetAgentButton"},React.createElement(s.default,{rfTestId:"meet-agent-button",type:"primary",className:"v3 unpadded",onClick:function(){return window.location.href="/meet-redfin-agent?src=".concat(g_inquirySource.LISTVIEW_MEDIA_BROWSER_MEET_REDFIN_AGENT)}},React.createElement("div",{className:"buttonText"},React.createElement("div",{className:"heading text-base"},"Meet a Redfin Agent")))):React.createElement(l.default,g);return React.createElement(i.default,{className:t},React.createElement("div",{className:"bed-bath-info ".concat(S||I||"hidden")},React.createElement("div",{className:"bed-info"}," ",I," "),React.createElement("div",{className:"bath-info"}," ",S," ")),_,T)},t.shouldShowStickyTourFooter=void 0;var r=a(n("pVnL")),o=a(n("QILm")),i=a(n("qDYr")),s=a(n("ma35")),l=a(n("7Wtv")),u=a(n("bJVg")),c=n("WPTq"),d=a(n("e7fk"));n("izwi");var f=["className","hideContactCTA","isBuilding","addressSectionInfo"];t.shouldShowStickyTourFooter=function(e){return e&&e.canShowStickyTour}},Nxri:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("lSNA")),d=a(n("17x9")),f=n("YAhj"),p=a(n("8Jek")),m=a(n("1AMb")),h=a(n("VE4r"));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("riRT");var _=function(e){(0,s.default)(n,e);var t=g(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).hasFAQSection=a.hasFAQSection.bind((0,i.default)(a)),a}return(0,o.default)(n,[{key:"faqSectionHeader",value:function(){return!this.props.isMobile&&this.props.descriptiveParagraphInfo&&this.props.descriptiveParagraphInfo.streetAddress?"Frequently Asked Questions for "+this.props.descriptiveParagraphInfo.streetAddress:"Frequently Asked Questions"}},{key:"render",value:function(){if(this.hasFAQSection()){var e={"padding-top-larger":this.props.isMobile,"inline-block":this.props.isMobile,"heading-medium":!0};return React.createElement(m.default,{name:"FAQSection",addTopRule:!0},React.createElement("h2",{className:(0,p.default)(e)},this.faqSectionHeader()),React.createElement("div",{className:"sectionContainer"},React.createElement("div",{className:"main-content"},React.createElement(h.default,this.props))))}return null}},{key:"hasFAQSection",value:function(){return this.props.descriptiveParagraphInfo||this.props.rentalEstimateSectionInfo||this.props.avmInfo||this.props.sharedRegionInfo}}],[{key:"propTypes",get:function(){return{descriptiveParagraphInfo:d.default.object}}},{key:"getComponentDependencies",value:function(){return{dependencies:["descriptiveParagraphInfo","addressSectionInfo","rentalEstimateSectionInfo","sharedRegionInfo","mediaBrowserInfo","marketId"]}}},{key:"getPageLayoutClassName",value:function(){return"dp-col-sm-12 dp-col-md-12"}}]),n}(f.Component);t.default=_,(0,c.default)(_,"displayName","DescriptiveParagraphSection"),e.exports=t.default},"O/nS":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=a(n("mXGw")),o=(a(n("17x9")),a(n("Xecl"))),i=a(n("AGmm"));function s(e){var t=e.homeSalePrice,n=e.onBlur;return r.default.createElement("div",{className:"HomeSalePriceInput"},r.default.createElement(o.default,{testName:"mc-homeSalePrice",value:null!=t&&i.default.formatToPrecision(t),placeholder:"$0",label:"Home Sale Price",type:"currency",alwaysShowInput:!0,onBlur:n,onKeyDown:i.default.onKeyDown,notifyStoreOnChange:!1}))}s.propTypes={},s.displayName="HomeSalePriceInput",e.exports=t.default},OCqI:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("3OWR")),o=a(n("mXGw")),i=a(n("D0ds")),s={views:{title:"Redfin Views",content:"The number of views the current MLS listing has had on the Redfin website since it was imported from the MLS."},favorites:{title:"Redfin Favorites",content:"The number of times this home has been favorited on Redfin for the current MLS listing."},xOuts:{title:"Redfin X-Outs",content:"The number of times this home has been X'd-out on Redfin for the current MLS listing."},tours:{title:"Redfin Tours",content:"The number of times we've taken our customers to see this home for the current MLS listing."},totalViews:{title:"All-Time Redfin Views",content:"The total number of views this home has had across all MLS listings."},totalFavorites:{title:"All-Time Redfin Favorites",content:"The total number of times this home has been favorited across all MLS listings."},totalXOuts:{title:"All-Time Redfin X-Outs",content:"The total number of times this home has been X'd-out across all MLS listings."},totalTours:{title:"All-Time Redfin Tours",content:"The total number of times we've taken our customers to see this home across all MLS listings."}},l=function(e){var t=e.activityInfo,n=(0,r.default)({},t),a=(0,r.default)({},s);return void 0!==n.viewCount&&void 0!==n.favoritesCount&&void 0!==n.xOutCount||(void 0===n.totalViewCount&&(n.totalViewCount=n.viewCount),n.viewCount=n.totalViewCount,n.favoritesCount=n.totalFavoritesCount,n.xOutCount=n.totalXOutCount,n.tourCount=n.totalTourCount,a.views=s.totalViews,a.favorites=s.totalFavorites,a.xOuts=s.totalXOuts,a.tours=s.totalTours),o.default.createElement("div",{className:"activityPanelContainer","data-rf-test-id":"activitySection"},o.default.createElement("table",{className:"activityStatsTable"},o.default.createElement("tbody",null,o.default.createElement("tr",null,o.default.createElement(i.default,{section:"views",countLabel:"Views",countLabelSingular:"View",count:n.viewCount,totalCount:n.totalViewCountnull,upperLabelFlyoutTexts:a.views,lowerLabelFlyoutTexts:a.totalViews}),o.default.createElement(i.default,{section:"favorites",countLabel:"Favorites",countLabelSingular:"Favorite",count:n.favoritesCount,totalCount:n.totalFavoritesCount,upperLabelFlyoutTexts:a.favorites,lowerLabelFlyoutTexts:a.totalFavorites}),o.default.createElement(i.default,{section:"xOuts",countLabel:"X-Outs",countLabelSingular:"X-Out",count:n.xOutCount,totalCount:n.totalXOutCount,upperLabelFlyoutTexts:a.xOuts,lowerLabelFlyoutTexts:a.totalXOuts}),o.default.createElement(i.default,{section:"tours",countLabel:"Redfin Tours",countLabelSingular:"Redfin Tour",count:n.tourCount,totalCount:n.totalTourCount,upperLabelFlyoutTexts:a.tours,lowerLabelFlyoutTexts:a.totalTours})))))};t.default=l,e.exports=t.default},OE72:function(e,t,n){},OIk9:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("J4zp")),i=a(n("pVnL")),s=a(n("lwsE")),l=a(n("W8MJ")),u=a(n("PJYZ")),c=a(n("7W2i")),d=a(n("a1gu")),f=a(n("Nsbk")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),m=a(n("17x9")),h=a(n("8Jek")),g=a(n("1AMb")),_=a(n("qqKJ")),v=a(n("WqrT")),y=a(n("4ppV")),E=a(n("DlpU")),S=n("osI4"),I=n("lA8L"),T=a(n("UT8e")),C=a(n("pEKV")),b=a(n("UrhC")),k=n("5sHw"),R=a(n("D7GA"));n("L7jq");var O=a(n("9j+1")),N=a(n("ajZI")),A=a(n("94Bj"));function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var w=function(e){(0,c.default)(n,e);var t=D(n);function n(e){var a;return(0,s.default)(this,n),(a=t.call(this,e)).renderSegments=a.renderSegments.bind((0,u.default)(a)),a.useMobileStyles="phone"===(0,S.getCurrentDeviceType)()||"tablet"===(0,S.getCurrentDeviceType)()&&(e.pageType===g_detailsPageType.ACTIVE||e.pageType===g_detailsPageType.ACTIVE_PENDING)||a.props.floodOnMap,a}return(0,l.default)(n,[{key:"render",value:function(){if(A.default.isOn(R.default)&&!this.props.renderSegmentsOnly&&!this.props.floodOnMap)return null;var e=this.props.floodStore&&this.props.floodStore.floodData;if(!e||!e.floodFactor){if((0,k.isPropertyEligibleForFloodData)(this.props.propertyId)){var t=this.props.addressSectionInfo&&this.props.addressSectionInfo.latLong,n={locid:this.props.propertyParcelInfo?this.props.propertyParcelInfo.locId:null,lat:t?this.props.addressSectionInfo.latLong.latitude:null,lng:t?this.props.addressSectionInfo.latLong.longitude:null};e?O.default.trackImpression(O.default.impressions.FLOOD_RISK_MISSING_FF,n):O.default.trackImpression(O.default.impressions.FLOOD_RISK_MISSING,n)}return p.default.createElement("div",null)}if(this.props.renderSegmentsOnly)return p.default.createElement("div",{className:"FloodDataSection"},this.renderSegments());var a=(0,h.default)({h2:!0,"inline-block":!0,"heading-medium":!0,"padding-bottom-medium":!0});if(this.props.floodOnMap&&e)return p.default.createElement(T.default,{section:"full_screen_minimap_flood_full_section",eventDetails:{fsid:e.fsid}},p.default.createElement("div",{className:"FloodDataSection"},p.default.createElement(y.default,{className:"FloodDataSection floodOnMapDialog",fullScreenOnMobile:!0,title:"Flood Risk",close:this.closeFullFloodDialogMobile.bind(this)},this.renderSegments())));var r=p.default.createElement(E.default,(0,i.default)({section:"floodRisk",sectionId:"flood-scroll",numSegmentsToDisplayWhenCollapsed:0,expandText:"See flood risk details",shouldScrollToTopOnCollapse:!1,disableContentSectionClickExpansion:!0,isTable:!1,isExpanded:!1,rfTestId:"floodData",key:"floodRisk-segments"},this.props.deviceConfig===g_deviceConfiguration.DESKTOP&&{isControlledExpanded:this.props.floodStore.expandedFloodData,onClick:function(e){return(e?b.default.expandFloodDataSection:b.default.closeFloodDataSection)()}}),this.renderSegments()),o=[p.default.createElement("h2",{className:a,key:"flood-h2"},"Flood & Climate Risk"),this.renderPreview(),r,this.renderClimateRiskLink()];return this.useMobileStyles&&(o=p.default.createElement(N.default,{sectionName:"Flood Risk",section:"floodRisk",enabled:!0,rfTestId:"floodData",previewText:this.renderPreviewString()},p.default.createElement("h2",{className:a},"Flood Risk"),this.renderPreview(),this.renderSegments())),p.default.createElement(T.default,{section:"flood_risk",eventDetails:this.buildRiftParams()},p.default.createElement(g.default,{name:"FloodDataSection",addTopRule:!0},o))}},{key:"renderSegments",value:function(){return[this.renderFloodFactorSection(),this.renderFemaSection(),this.renderInsuranceSection(),this.renderDisclaimers()]}},{key:"buildRiftParams",value:function(){var e=this.props.floodStore&&this.props.floodStore.floodData;return e?{property_id:this.props.propertyId,listing_id:this.props.listingId,fsid:e.fsid,flood_factor_score:e.floodFactor,fema_zone:e.femaZones[0],environmental_risk:e.environmentalRisk,risk_direction:e.riskDirection,cumulative_0_year_midpoint:e.chance&&e.chance[0]?e.chance[0].mid:null,cumulative_30_year_midpoint:e.cumulative&&e.cumulative[e.cumulative.length-1]?e.cumulative[e.cumulative.length-1].mid:null}:null}},{key:"renderPreviewString",value:function(){var e=this.props.floodStore&&this.props.floodStore.floodData,t="Unmapped FEMA Zone";return e.femaZones&&e.femaZones.length>0&&(t=this.useMobileStyles?"Est.":"Estimated",t+=" FEMA Zone: "+e.femaZones[0]),"Flood Factor: "+(0,k.getScoreLevelForFlood)(e)+" ("+e.floodFactor+"/10) • "+t}},{key:"renderPreview",value:function(){var e=p.default.createElement(v.default,{position:"above",alignment:"center",term:"FEMA",definition:this.renderFemaDef(),onClickDefinitionLink:function(){O.default.trackClick(O.default.clicks.ABOUT_FEMA_LINK)}},"FEMA"),t=p.default.createElement(v.default,{position:"above",alignment:"center",term:"Flood Factor",definition:this.renderFloodFactorDef(),onShowDefinitionFlyout:function(){O.default.trackClick(O.default.clicks.ABOUT_FF_LINK)}},"Flood Factor"),n=this.useMobileStyles?"About flood risk":this.renderPreviewString();return p.default.createElement("div",{className:"floodPreview",key:"flood-preview"},p.default.createElement("h3",{className:"padding-bottom-smaller"},n),"Most homes have some risk of flooding. Learn more in these two independent assessments, ",t," and ",e,".")}},{key:"renderFloodFactorSection",value:function(){var e,t=this.props.floodStore&&this.props.floodStore.floodData,n=t.floodFactor,a=t.riskDirection,r=t.environmentalRisk,o=(0,k.getRiskBlurbForFlood)({score:n,riskDirection:a,envRisk:r}),i=this.props.addressSectionInfo;n>1&&i&&i.propertyType&&(i.propertyType===g_propertyType.CONDO_COOP||i.propertyType===g_propertyType.TOWNHOUSE)&&(o+=" This assessment is based on the likelihood of water reaching the overall building footprint, and not necessarily an individual unit."),1!==n&&(e=this.renderFloodRiskChart());var s=(0,k.getRiskFactorPropertyLink)(t.fsid),l=(1===n?"Learn more":"See all flood data")+" on ".concat((0,k.getRiskFactorHostName)()),u=1===n?"padding-bottom-smaller":"padding-bottom-large",c=(0,k.isInFloodFactorRebrand)()?"floodFactorRebrandedImage".concat(n):"floodFactorImage".concat(n);return p.default.createElement("div",{className:"floodFactorSection padding-bottom-large padding-top-large",key:"flood-ff"},p.default.createElement("div",{className:"subtitleWithIcon"},p.default.createElement("h3",{className:"padding-bottom-smaller"},"Flood Factor"),p.default.createElement(v.default,{alignment:"center",term:"Flood Factor",definition:this.renderFloodFactorDef(),infoIcon:!0,onShowDefinitionFlyout:function(){O.default.trackClick(O.default.clicks.FF_HEADING_I_BUTTON)}})),p.default.createElement("div",{className:"".concat((0,k.isInFloodFactorRebrand)()?"floodImageRebranded":"floodImage"," margin-bottom-large ").concat(c)}),p.default.createElement("p",{className:u},o),e,p.default.createElement("a",{href:s,onClick:function(){O.default.trackClick(O.default.clicks.LEARN_MORE_FF_LINK)},target:"_blank",rel:"noopener"},l))}},{key:"renderFloodRiskChart",value:function(){var e=this.props.floodStore&&this.props.floodStore.floodData||{},t=e.cumulative,n=e.chance,a=void 0===n?[]:n,r=(0,o.default)(a,1)[0],i=[].concat(void 0===r?[]:r).concat(t),s=i.map(function(e){return 100*e.mid}),l=i.map(function(e){return(100*e.mid).toFixed(0)+"%"}),u=i.map(function(e){return e.year-2020==0?"1y":e.year-2020+"y"}),c=this.useMobileStyles?80:87;return p.default.createElement("div",{className:"floodRiskChart"},p.default.createElement("div",{className:"subtitleWithIcon"},p.default.createElement("b",{className:"font-size-base padding-bottom-smaller"},"Flood likelihood over time"),p.default.createElement(v.default,{alignment:"center",term:"Flood Risk",definition:"Risk is calculated to the largest building or center of an empty lot. Raised or elevated buildings may not be as vulnerable as ground-level buildings or buildings with basements.",infoIcon:!0,onShowDefinitionFlyout:function(){O.default.trackClick(O.default.clicks.FLOOD_LIKELIHOOD_I_BUTTON)}})),p.default.createElement(_.default,{classNames:"padding-bottom-small",topLabels:l,bottomLabels:u,values:s,barHeight:c,maxValue:100}))}},{key:"renderFemaSection",value:function(){var e,t,n=this.props.floodStore&&this.props.floodStore.floodData,a="";return n.femaZones&&n.femaZones.length>0?(a=""+n.femaZones[0],e=this.useMobileStyles?"Estimated ":"About ",e+="FEMA Zone"+(this.useMobileStyles?": ":" ")+a,-1!==(0,I.arrayFindIndex)(["B","C","X","A","V"],function(e){return e===a[0]})?(t="FEMA designates Zone "+a+" as a ",["B","C","X"].includes(a[0])?t+="low-to-moderate flood area. In this zone, the risk of flooding is reduced, but not completely removed.":t+="high-risk flood area."):"D"===a[0]&&(t="FEMA uses the designation of Zone D for areas where there are possible but undetermined flood hazards as no analysis has been conducted."),p.default.createElement("div",{className:"femaSection padding-bottom-large",key:"flood-fema"},p.default.createElement("div",{className:"subtitleWithIcon"},this.useMobileStyles?p.default.createElement("h3",{className:"padding-bottom-smaller"},"FEMA"):p.default.createElement("h3",{className:"padding-bottom-smaller"},e),p.default.createElement(v.default,{position:"below",alignment:"center",term:"FEMA",definition:this.renderFemaDef(),infoIcon:!0,onShowDefinitionFlyout:function(){O.default.trackClick(O.default.clicks.FEMA_HEADING_I_BUTTON)}})),this.useMobileStyles?p.default.createElement("h3",{className:"padding-bottom-smaller"},e):null,p.default.createElement("p",{className:"padding-bottom-smaller"},t),p.default.createElement("p",null,p.default.createElement("a",{href:"https://www.floodsmart.gov/flood-map-zone/find-yours",onClick:function(){O.default.trackClick(O.default.clicks.LEARN_MORE_FEMA_LINK)},target:"_blank",rel:"noopener"},"Learn more on floodsmart.gov")))):null}},{key:"renderInsuranceSection",value:function(){var e,t=this.props.floodStore&&this.props.floodStore.floodData,n=""+t.femaZones[0],a=this.props.addressSectionInfo,r=(null==a?void 0:null===(e=a.streetAddress)||void 0===e?void 0:e.assembledAddress)||"",o="";-1!==(0,I.arrayFindIndex)(["B","C","X","A","V"],function(e){return e===n[0]})&&(o="Based on your estimated FEMA zone, flood insurance is ",-1!==(0,I.arrayFindIndex)(["B","C","X"],function(e){return e===n[0]})?o+="not required. However, FEMA always recommends considering insurance.":o=p.default.createElement("span",null,o," ",p.default.createElement("b",null,"required")," to obtain a mortgage from a federally regulated or insured lender."));var i=(0,k.getFloodInsuranceLink)(t),s="";t.lowInsurancePrice&&t.highInsurancePrice&&t.numberOfProviders&&r&&(s+="Insurance for ".concat(r," ranges from $").concat(t.lowInsurancePrice," to $").concat(t.highInsurancePrice," per year, based on information from ").concat(t.numberOfProviders," providers."));var l=s?"padding-bottom-large":"padding-bottom-smaller",u=s?"Compare quotes":"Get an instant quote";return p.default.createElement("div",{className:"insuranceSection padding-bottom-large",key:"flood-insurance"},p.default.createElement("div",{className:"subtitleWithIcon"},p.default.createElement("h3",{className:"padding-bottom-smaller"},"Flood Insurance"),p.default.createElement(v.default,{position:"above",alignment:"center",term:"Flood Insurance",definition:"To help you understand what it costs to protect this home with flood insurance we've partnered with ".concat((0,k.getFloodInsuranceProviderName)(),". Redfin may receive a commission if you purchase a policy through this link. There may be other flood insurance providers in your area."),infoIcon:!0,onShowDefinitionFlyout:function(){O.default.trackClick(O.default.clicks.INSURANCE_HEADING_I_BUTTON)}})),p.default.createElement("p",{className:l},o),s&&p.default.createElement("p",{className:"padding-bottom-smaller"},s),i&&p.default.createElement("a",{href:i,onClick:function(){O.default.trackClick(O.default.clicks.GET_QUOTE)},target:"_blank",rel:"noopener"},u))}},{key:"renderDisclaimers",value:function(){var e=(0,k.getRiskFactorAttributionName)(!0),t=p.default.createElement("a",{href:"https://".concat((0,k.getRiskFactorHostName)(),"/"),onClick:function(){O.default.trackClick(O.default.clicks.FOOTER_FF_LINK)},target:"_blank",rel:"noopener"},e),n=p.default.createElement("a",{href:"https://firststreet.org/",onClick:function(){O.default.trackClick(O.default.clicks.FOOTER_FSF_LINK)},target:"_blank",rel:"noopener"},"First Street Foundation®");return p.default.createElement("div",{className:"disclaimerSection font-size-smaller",key:"flood-disc"},p.default.createElement("p",{className:"padding-bottom-smaller"},"Flood risk data is provided for informational purposes only by"," ",t,", a peer-reviewed scientific model from the nonprofit ",n,"."),p.default.createElement("p",{className:"padding-bottom-smaller"},"Redfin is not affiliated with ",t," and does not endorse nor guarantee this information. By providing this information, Redfin and its agents are not providing advice or guidance on flood risk or flood insurance. Redfin strongly recommends that consumers independently investigate the property’s flood risk to their own personal satisfaction."),p.default.createElement("p",null,"Questions or feedback about this data? Get help at"," ",p.default.createElement("a",{href:"https://help.".concat((0,k.getRiskFactorHostName)(),"/").concat((0,k.isInFloodFactorRebrand)()?"hc/en-us":""),onClick:function(){O.default.trackClick(O.default.clicks.FOOTER_QUESTIONS_FEED_BACK_LINK)},target:"_blank",rel:"noopener"},(0,k.getRiskFactorHostName)())))}},{key:"renderFemaDef",value:function(){return p.default.createElement("div",null,(0,k.isInFloodFactorRebrand)()&&p.default.createElement("p",null,"The FEMA flood zone shown is the most probable estimated zone."),p.default.createElement("p",null,"The Federal Emergency Management Agency (FEMA) is a government agency that maps flood zones in communities across the US, identifying areas of varying flood risk on Flood Insurance Rate Maps (FIRMs). FEMA creates FIRMs to inform flood insurance pricing in the National Flood Insurance Program (NFIP) and to guide floodplain management regulations for NFIP-participating communities."),p.default.createElement("a",{className:"moreLink",href:"https://www.floodsmart.gov/flood-map-zone/about",onClick:function(){O.default.trackClick(O.default.clicks.FEMA_MODAL_LEARN_MORE_LINK)},target:"_blank",rel:"noopener"},"Learn more on floodsmart.gov"),!(0,k.isInFloodFactorRebrand)()&&p.default.createElement("p",{class:"femaDisclaimer"},"The FEMA flood zone shown is the most probable zone as estimated by"," ",p.default.createElement("a",{href:"https://www.massivecert.com",target:"_blank",rel:"noopener"},"MassiveCert, Inc.")))}},{key:"renderFloodFactorDef",value:function(){return p.default.createElement("div",null,p.default.createElement("p",null,"Flood Factor is a tool created by the nonprofit First Street Foundation®. It uses the First Street Foundation Flood Model, a nationwide, probabilistic flood model that shows a location’s risk of flooding from rain, rivers, tides, and storm surge. It builds off of decades of peer-reviewed research and forecasts how flood risks will change over time due to changes in the environment. Flood Factor is not intended to include all possible risks of flood."),p.default.createElement("p",null,p.default.createElement("b",null,"The Score")),p.default.createElement("div",{className:"font-size-small"},"A property's Flood Factor® is an indicator of its comprehensive flood risk, ranging from 1 (minimal) to 10 (extreme). Properties with higher Flood Factors are more likely to have flooded in the past, and are more likely to flood in the future. Learn more about the Flood Factor methodology."),p.default.createElement("a",{className:"moreLink",href:"https://".concat((0,k.getRiskFactorHostName)(),"/"),onClick:function(){O.default.trackClick(O.default.clicks.FF_MODAL_LEARN_MORE_LINK)},target:"_blank",rel:"noopener"},"Learn more on ",(0,k.getRiskFactorHostName)()))}},{key:"renderClimateRiskLink",value:function(){var e=this.props.homeDetailsPageHeaderInfo||{},t=e.cityUrl,n=e.cityName;return t&&n?p.default.createElement("a",{href:"".concat(t,"/housing-market#climate"),className:"climateRiskLink",key:"climate-risk-link",onClick:function(){O.default.trackClick(O.default.clicks.CLIMATE_RISK_LINK)}},"Explore climate risks like storms, fires, droughts, and heat in ".concat(n)):null}},{key:"closeFullFloodDialogMobile",value:function(){O.default.trackClick(O.default.clicks.FLOOD_ON_MAP_FULL_DETAILS_CLOSE),C.default.hideFullFloodDialog()}}],[{key:"displayName",get:function(){return"FloodDataSection"}},{key:"propTypes",get:function(){return{floodStore:m.default.object,propertyId:m.default.number,deviceConfig:m.default.number,addressSectionInfo:m.default.object}}},{key:"getComponentDependencies",value:function(){return{dependencies:["propertyParcelInfo","addressSectionInfo","homeDetailsPageHeaderInfo","pageType","floodStore"]}}}]),n}(p.Component);t.default=w,e.exports=t.default},ORHH:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("cXUB")),o=a(n("pKkH")),i=a(n("m7qm")),s=a(n("lcmt")),l=n("QP4D"),u=a(n("/BzH")),c=a(n("8wdY")),d=n("R8lb"),f=n("G4xM"),p=i.default.createStoreFactory({listenables:u.default,init:function(e){this.setState(e),e.promise?(0,r.default)(e.promise).then(this._processData.bind(this)):this._processData(e)},_processData:function(e){if(e&&e.offerDeadlineDate&&e.timezone&&e.startAnOfferRelativeUrl){var t={};t.offerDeadlineDate=e.offerDeadlineDate,t.timezone=e.timezone,t.actionTitle="Start an Offer",t.startAnOfferRelativeUrl=e.startAnOfferRelativeUrl,t.addressInfo=e.addressInfo,t.message=(0,o.default)(e.offerDeadlineDate).tz(e.timezone).calendar(null,{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[yesterday at] LT",lastWeek:"[last] dddd",sameElse:"MMM Do [at] LT"}),!this.state.timeRemainingInterval&&(0,l.isBrowser)()&&(t.timeRemainingInterval=window.setInterval(this._updateTimeRemaining,6e4)),this.setState(t),this._updateTimeRemaining()}},_updateTimeRemaining:function(e){if(this.state.offerDeadlineDate){var t=e||new Date,n=new Date(this.state.offerDeadlineDate),a=s.default.elapsedHours(n,t),r=s.default.elapsedMinutes(n,t)%60,o=(0,f.getConfigValueForKey)(f.DP_GLOBAL_CONFIG_KEYS.deviceConfig);a>0||r>0?this.setState({title:"Reviewing offers in "+this._formatTime(a,r,o===g_deviceConfiguration.PHONE)}):(this.setState({offerDeadlineDate:null}),this._removeIntervalTimer())}},_removeIntervalTimer:function(){this.state.timeRemainingInterval&&(window.clearInterval(this.state.timeRemainingInterval),this.setState({timeRemainingInterval:null}))},_formatTime:function(e,t,n){if(e>=72){var a=Math.floor(e/24);return"".concat(c.default.formatPlural("day",a,""))}return n?"".concat(e," hr ").concat(t," min"):"".concat(c.default.formatPlural("hour",e,"")," and ").concat(c.default.formatPlural("minute",t,""))},onRedirectToOfferWizard:function(e){var t=(0,d.serializeConversionRiftEntrypoint)(e),n="".concat(this.state.startAnOfferRelativeUrl,"&epc=").concat(t);window.location=n},onUnmountStore:function(){this._removeIntervalTimer()}});e.exports=p},OXnH:function(e,t,n){"use strict";var a=n("RBnj");e.exports=(0,a.createActions)(["toggleFloodRiskDetails","toggleStormRiskDetails","toggleFireRiskDetails","toggleDroughtRiskDetails","toggleHeatRiskDetails","closeMobileDialog","expandFloodRiskDetails"])},Ohq3:function(e,t,n){},Okjl:function(e,t,n){},OnkM:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),d=a(n("8Jek")),f=a(n("1AMb")),p=a(n("IKWH")),m=a(n("Wdx1")),h=a(n("ajZI")),g=a(n("2XvZ")),_=n("CrDX");function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("1mOg");var E=function(e){(0,s.default)(n,e);var t=y(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=this.props.schoolsAndDistrictsInfo;if(this.domNode&&e&&e.schoolsToShowOnDP){var t=e.schoolsToShowOnDP,n=t.length,a=!!t&&t.map(function(e){return e.id});g.default.trackImpression(g.default.impressions.SCHOOLS,{num_schools:n,schools_list:a,rentalId:this.props.rentalId,propertyId:this.props.propertyId,rental:this.props.isRental},this.domNode)}}},{key:"createSectionDisclaimer",value:function(){return c.default.createElement("div",{className:"subtext school-section-disclaimer"},c.default.createElement("span",{className:"school-disclaimer-subparagraph"},"School data is provided by GreatSchools",", a nonprofit organization. Redfin recommends buyers and renters use GreatSchools information and ratings as a"," first step, and conduct their own investigation to determine their desired schools or school districts,"," including by contacting and visiting the schools themselves. "),c.default.createElement("span",{className:"school-disclaimer-subparagraph"},"Redfin does not endorse or guarantee this information."," School service boundaries are intended to be used as a reference only; they may change and are not"," guaranteed to be accurate. To verify school enrollment eligibility, contact the school district directly."))}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.schoolsAndDistrictsInfo,r=n.schoolsDrawerStore,o=n.addressSectionInfo,i=n.deviceConfig,s=n.isCollapsible,l=n.queryParams,u=n.isDesktop,g=n.isRental,v=n.rentalId,y=n.rentalPropertyName,E=n.propertyId;if(!a||a.shouldHideSection)return null;var S=(null===(e=a.schoolsToShowOnDP)||void 0===e?void 0:e.length)>0,I=a.sectionPreviewText,T=S?c.default.createElement(p.default,{schoolResults:a,city:null==o?void 0:o.city,mobile:i===g_deviceConfiguration.PHONE,schoolsDrawerStore:r,isDesktop:u,isRental:g,rentalId:v,propertyId:E}):c.default.createElement(m.default,{sprite:"sprite-schools-ghost",content:"We couldn't find any schools that service this home or are within 5 miles of this home."}),C=(0,d.default)({"main-content":!0,mobile:i===g_deviceConfiguration.PHONE}),b=g&&y?"Schools Near ".concat(y):"Schools";return c.default.createElement(f.default,{name:"SchoolsSection",id:"schools-scroll",addTopRule:!0},c.default.createElement("div",{className:"sectionContainer nearby-schools","data-rf-test-id":"schoolSection",ref:function(e){return t.domNode=e}},c.default.createElement(h.default,{sectionName:b,section:"schools",enabled:s,rfTestId:"schools-expandable-preview",previewText:I,initiallyExpanded:(0,_.isAgentMobile)(l)},c.default.createElement("div",{className:C},T),this.createSectionDisclaimer())))}}],[{key:"displayName",get:function(){return"SchoolsSection"}},{key:"getComponentDependencies",value:function(){return{dependencies:["schoolsAndDistrictsInfo","addressSectionInfo","queryParams","schoolsDrawerStore"]}}}]),n}(c.Component);t.default=E,e.exports=t.default},Oydl:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lSNA")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),f=a(n("17x9")),p=a(n("8Jek")),m=a(n("TRKi")),h=a(n("4ppV")),g=a(n("ma35")),_=a(n("ausu")),v=a(n("Zfvn")),y=a(n("zCAw")),E=a(n("Hk2m")),S=a(n("x9nn")),I=a(n("4KIY")),T=n("GoxZ");function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}n("0fNM");var k=function(e){(0,l.default)(n,e);var t=b(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"renderHeader",value:function(){return this.props.agentsOnline?d.default.createElement("div",{className:"liveChatDialogHeader"},d.default.createElement(g.default,{className:"minimizeButton icon unpadded",onClick:I.default.minimizeChatDialogClick,svgAsset:E.default,ariaLabel:"Minimize chat"}),this.props.hasSupportAgentOwnedChat&&!this.props.hasUserEndedChat&&d.default.createElement(g.default,{className:"closeButton icon unpadded",onClick:I.default.closeChatDialogClick,svgAsset:y.default,ariaLabel:"Close chat"})):d.default.createElement("div",{className:"liveChatDialogHeader"},d.default.createElement("div",{className:"title"},"Talk to Redfin"),(0,T.isOnMobileWeb)()&&d.default.createElement(g.default,{className:"closeButton icon unpadded",onClick:I.default.toggleChatDialog,svgAsset:y.default,ariaLabel:"Close chat"}))}},{key:"renderEndChatDialog",value:function(){return this.props.showEndChatDialog?d.default.createElement("div",{className:"liveChatEndChatDialogContainer"},d.default.createElement("div",{className:"DialogUnderlay","aria-hidden":!0}),d.default.createElement("div",{className:"liveChatEndChatDialog"},d.default.createElement(g.default,{className:"closeButton icon unpadded",onClick:I.default.closeEndChatDialogClick,svgAsset:y.default,ariaLabel:"Close"}),d.default.createElement("div",{className:"contents"},d.default.createElement("h1",{className:"title"},"Are you sure you want to",d.default.createElement("br",null),"end this chat?"),d.default.createElement("div",{className:"buttons"},d.default.createElement(g.default,{className:"cancelButton",onClick:I.default.cancelEndChatDialogClick},"Cancel"),d.default.createElement(g.default,(0,o.default)({className:"endChatButton",onClick:I.default.endChatEndChatDialogClick},"className","primary"),"End Chat"))))):null}},{key:"renderRateAndReviewChatDialog",value:function(){var e;if(!this.props.showRateAndReviewChatDialog)return null;var t="How was your chat".concat(this.props.supportAgentOwnerName&&""!==this.props.supportAgentOwnerName?" with ".concat(this.props.supportAgentOwnerName):"","?");return d.default.createElement("div",{className:"liveChatRateAndReviewChatDialogContainer"},d.default.createElement("div",{className:"liveChatRateAndReviewChatDialog"},d.default.createElement(g.default,{className:"closeButton icon unpadded",onClick:I.default.closeRateAndReviewChatDialogClick,svgAsset:y.default,ariaLabel:"Close"}),d.default.createElement("div",{className:"contents"},d.default.createElement("h1",{className:"title"},t),d.default.createElement(_.default,{className:"starRating",scale:5,onStarClick:I.default.ratingStarClick}),d.default.createElement(v.default,{className:"comments",fieldData:this.props.fieldData,onChange:I.default.reviewInputChange,label:"Comments (Optional)",placeholder:"Please add anything else that could help improve our chat service.",expanding:!1,maxLength:500}),d.default.createElement(g.default,(e={className:"submitButton",onClick:I.default.submitRateAndReviewChatDialogClick},(0,o.default)(e,"className","submitButton primary"),(0,o.default)(e,"formSubmit",!0),(0,o.default)(e,"disabled",!this.props.selectedStarNum),(0,o.default)(e,"saving",this.props.ratingAndReviewSubmissionInFlight),e),"Submit"))))}},{key:"renderConversation",value:function(){return m.default.createRootElement(this.props.conversationStore,d.default.createElement(S.default,{agentsOnline:this.props.agentsOnline,contactInfoStore:this.props.contactInfoStore,typingMemberIds:this.props.typingMemberIds,focusedTextFields:this.props.focusedTextFields,contactingTeam:this.props.contactingTeam,suggestedMessages:this.props.suggestedMessages,hideSuggestedMessagesMobile:this.props.hideSuggestedMessagesMobile,shouldPrompt:this.props.shouldPrompt,preChatMessage:this.props.preChatMessage,isExistingChat:this.props.isExistingChat}))}},{key:"render",value:function(){var e=[this.renderHeader(),this.renderEndChatDialog(),this.renderRateAndReviewChatDialog(),this.renderConversation()],t=(0,p.default)(this.props.dialogClasses,{offline:!this.props.agentsOnline,stickyFooterPresent:this.props.isStickyFooter});return(0,T.isOnMobileWeb)()?d.default.createElement(h.default,{className:t,fullScreenOnMobile:!0},e):d.default.createElement("div",{className:t},e)}}],[{key:"propTypes",get:function(){return{conversationStore:f.default.object,contactInfoStore:f.default.object,shouldPrompt:f.default.bool}}}]),n}(d.Component);t.default=k,e.exports=t.default},PGes:function(e,t,n){},PbOf:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.showLogin,n=e.showVerify,a=e.dataSourceId,r=e.children,o=null;(t||n)&&(o=function(){return i(a)});return React.createElement("div",{className:"lmm",id:"ldpMiniMap","data-rf-test-id":"ldpMiniMap"},React.createElement("div",{onClick:o,className:"unmappable-container"+(o?" clickable":"")},React.createElement("div",{className:"dp-subtext unmappable-msg"},r)))};var r=n("f2dk"),o=a(n("kxWP")),i=function(e){var t=o.default.trackClick(o.default.clicks.GHOST_TOWN);(0,r.showLoginLightboxIfNeeded)({registrationReason:g_registrationReason.UNLOCK_LISTING_CONTENT,registrationEntrypointRiftContext:t,dataSourceId:e})};e.exports=t.default},Pkf5:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("YAhj")),o=a(n("qGOG"));n("iqsf");var i=function(e){var t=e.sizeVal;return r.default.createElement("div",{className:"SvgMaximizeVariant bg-color-white"},r.default.createElement(o.default,{className:"fill-link-black ".concat(t)}))};t.default=i,e.exports=t.default},QRyt:function(e,t,n){},QY1S:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.shouldRenderClimateRisk=t.default=void 0;var o=a(n("RIqP")),i=a(n("lSNA")),s=a(n("lwsE")),l=a(n("W8MJ")),u=a(n("PJYZ")),c=a(n("7W2i")),d=a(n("a1gu")),f=a(n("Nsbk")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=j(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),m=a(n("17x9")),h=n("osI4"),g=a(n("1AMb")),_=a(n("VO8G")),v=a(n("7gQI")),y=a(n("f+73")),E=a(n("SCw5")),S=a(n("Lsjp")),I=a(n("mQuN")),T=n("5sHw"),C=a(n("FprU")),b=a(n("OIk9")),k=a(n("ajZI")),R=a(n("8K3Q")),O=a(n("dLpc")),N=a(n("3zPH")),A=a(n("W0u/")),P=a(n("WqrT")),D=a(n("LDFp")),w=a(n("94Bj")),L=a(n("UT8e")),M=a(n("LyB4")),x=a(n("OXnH")),F=a(n("/+pK")),B=a(n("VIuD"));n("RUIC");var H=a(n("UrhC")),U=a(n("nc5n"));function j(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(j=function(e){return e?n:t})(e)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){(0,i.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}D.default.ensure(n("D7GA"));var G=[{label:"Storm",index:0,riskName:"Storm Risk",riftClickKey:M.default.clicks.MW_MODAL_STORM_TAB},{label:"Drought",index:1,riskName:"Drought Risk",riftClickKey:M.default.clicks.MW_MODAL_DROUGHT_TAB},{label:"Heat",index:2,riskName:"Heat Risk",riftClickKey:M.default.clicks.MW_MODAL_HEAT_TAB},{label:"Fire",index:3,riskName:"Fire Risk",riftClickKey:M.default.clicks.MW_MODAL_FIRE_TAB}];t.shouldRenderClimateRisk=function(){return w.default.isOn(B.default)};var K=function(e,t,n){return p.default.createElement("div",{className:"".concat(!e&&"flex-inline"," padding-bottom-small")},p.default.createElement("div",{className:"font-weight-bold font-size-base h3"},t),!e&&p.default.createElement("p",null," "),p.default.createElement("span",{className:"font-size-small font-color-gray-light"},n))},Y=function(e){var t=e.riskScoreLevel,n=e.riskBlurb;return p.default.createElement("span",{className:"font-size-small flex-inline"},p.default.createElement("p",{className:"font-color-gray-light"},p.default.createElement("b",{className:"riskScoreLevel"},t)," - ",n))},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return p.default.createElement(O.default,{riskScore:e.riskScore,riskName:e.riskName,riskScoreLevel:e.riskScoreLevel,attributionIcon:p.default.createElement("img",{className:"climateCheckImage",alt:"Climate Check logo",src:"".concat(g_imageServerUrl,"/images/search/details/climate_check_gray.png"),loading:"lazy"}),historicalParagraph:(0,T.getHistoricalImpactBlurb)({riskInfo:e,addressSectionInfo:t}),futureImpactParagraph:(0,T.getProjectedImpactBlurb)({riskInfo:e}),aboutThisSectionParagraph:(0,T.getAboutRisk)({riskInfo:e}),barGraphData:(0,T.getBarGraphMetadata)({riskInfo:e}),riskDenominator:100})},X=function(){return w.default.isOn(w.default.feature.XDP_CLIMATE_RISKS)&&"VARIANT_1"===w.default.getVariant(w.default.feature.XDP_CLIMATE_RISKS)?G.filter(function(e){return"Storm"!==e.label}).map(function(e,t){return e.index=t,e}):w.default.isOn(w.default.feature.XDP_CLIMATE_RISKS)&&"VARIANT_2"===w.default.getVariant(w.default.feature.XDP_CLIMATE_RISKS)?G.filter(function(e){return"Drought"!==e.label}).map(function(e,t){return e.index=t,e}):w.default.isOn(w.default.feature.XDP_CLIMATE_RISKS)&&"VARIANT_3"===w.default.getVariant(w.default.feature.XDP_CLIMATE_RISKS)?G.filter(function(e){return"Fire"!==e.label}).map(function(e,t){return e.index=t,e}):w.default.isOn(w.default.feature.XDP_CLIMATE_RISKS)&&"VARIANT_4"===w.default.getVariant(w.default.feature.XDP_CLIMATE_RISKS)?G.filter(function(e){return"Heat"!==e.label}).map(function(e,t){return e.index=t,e}):G},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return p.default.createElement("a",{href:e,target:"_blank",rel:"noopener"},t)},J=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,T.isInFloodFactorRebrand)()?(0,T.getRiskFactorHostName)():(0,T.getRiskFactorAttributionName)(!0),n=function(){return p.default.createElement("p",null,"Climate risk data is provided for informational purposes only. If you have questions or feedback about this data, get help at ",Q("https://".concat(t),p.default.createElement("tspan",null,t))," and ",Q("https://climatecheck.com",p.default.createElement("tspan",null,"climatecheck.com")),".")},a=function(){return p.default.createElement("p",null,"Climate risk data is provided for informational purposes only by ",Q("https://floodfactor.com",p.default.createElement("tspan",null,"Flood Factor™"))," and ",Q("https://climatecheck.com",p.default.createElement("tspan",null,"ClimateCheck®")),".")},r=function(){return p.default.createElement("p",null,"Questions or feedback about this data? Get help at ",Q("https://".concat(t),p.default.createElement("tspan",null,t))," and ",Q("https://climatecheck.com",p.default.createElement("tspan",null,"climatecheck.com")))};return p.default.createElement("p",{className:"font-size-smaller legalDisclaimer ".concat(e?"margin-bottom-larger":"margin-bottom-largest")},(0,T.isInFloodFactorRebrand)()?n():a(),p.default.createElement("br",null),"Redfin does not endorse nor guarantee this information. By providing this information, Redfin and its agents are not providing advice or guidance on flood risk, flood insurance, or other climate risks. Redfin strongly recommends that consumers independently investigate the property’s climate risks to their own personal satisfaction.",p.default.createElement("br",null),p.default.createElement("br",null),!(0,T.isInFloodFactorRebrand)()&&r())},Z=function(e,t,n){return p.default.createElement("div",{className:"padding-bottom-medium"},p.default.createElement("p",{className:"padding-bottom-medium"},e),p.default.createElement("a",{href:n,target:"_blank",rel:"noopener"},t))},$=function(e){(0,c.default)(n,e);var t=V(n);function n(e){var a;return(0,s.default)(this,n),(a=t.call(this,e))._handleTabSelection=a._handleTabSelection.bind((0,u.default)(a)),a.height=F.default.get(g_dbBackedConfigKeys.FLOOD_DATA_SCROLL_HEIGHT),a.TABS=X(),a.state={selectedTab:a.TABS[0]},a.useMobileStyles="phone"===(0,h.getCurrentDeviceType)()||"tablet"===(0,h.getCurrentDeviceType)()&&(e.pageType===C.default.ACTIVE.id||e.pageType===C.default.ACTIVE_PENDING.id),a}return(0,l.default)(n,[{key:"_handleTabSelection",value:function(e){this.state.selectedTab.index!==e.index&&(M.default.trackClick(e.riftClickKey),this.setState({selectedTab:e}))}},{key:"render",value:function(){var e=this;if(!w.default.isOn(w.default.feature.XDP_CLIMATE_RISKS))return null;var t=(0,T.getRiskFactorHostName)(),n=this.props.floodStore&&this.props.floodStore.floodData,a=this.props.climateStore&&this.props.climateStore.climateRiskData,r=this.props.climateStore&&this.props.climateStore.expandedFloodRisk,i=this.props.climateStore&&this.props.climateStore.expandedHeatRisk,s=this.props.climateStore&&this.props.climateStore.expandedFireRisk,l=this.props.climateStore&&this.props.climateStore.expandedStormRisk,u=this.props.climateStore&&this.props.climateStore.expandedDroughtRisk,c=(0,T.isPropertyEligibleForFloodData)(this.props.propertyId),d=(0,T.isPropertyInFloodDataBlocklist)(this.props.propertyId),f=(0,T.isPropertyInClimateRiskBlocklist)(this.props.propertyId),m=a||{},h=m.droughtRiskInfo,C=m.stormRiskInfo,O=m.heatRiskInfo,D=m.fireRiskInfo,F=null,B=null,j=function(){return p.default.createElement(N.default,{classNames:"padding-bottom-large",iconLeft:p.default.createElement(_.default,{className:"size-small"}),title:"Flood Factor",isExpanded:!1,shouldServerRenderForGoogle:!1,seoTitleH3:!0,summary:p.default.createElement("p",null,"We’re working on getting current and accurate flood risk information.")})},q=w.default.isOn(w.default.feature.XDP_CLIMATE_RISKS)&&"VARIANT_1"!==w.default.getVariant(w.default.feature.XDP_CLIMATE_RISKS),V=w.default.isOn(w.default.feature.XDP_CLIMATE_RISKS)&&"VARIANT_2"!==w.default.getVariant(w.default.feature.XDP_CLIMATE_RISKS),X=w.default.isOn(w.default.feature.XDP_CLIMATE_RISKS)&&"VARIANT_3"!==w.default.getVariant(w.default.feature.XDP_CLIMATE_RISKS),Q=w.default.isOn(w.default.feature.XDP_CLIMATE_RISKS)&&"VARIANT_4"!==w.default.getVariant(w.default.feature.XDP_CLIMATE_RISKS),$=W(W({},C),{},{isExpanded:l&&!this.useMobileStyles,onClickAction:x.default.toggleStormRiskDetails,icon:v.default,expandRiftEventKey:M.default.clicks.STORM_CARD_EXPAND,collapseRiftEventKey:M.default.clicks.STORM_CARD_COLLAPSE,riftTarget:"storm_card"}),ee=W(W({},h),{},{isExpanded:u&&!this.useMobileStyles,onClickAction:x.default.toggleDroughtRiskDetails,icon:y.default,expandRiftEventKey:M.default.clicks.DROUGHT_CARD_EXPAND,collapseRiftEventKey:M.default.clicks.DROUGHT_CARD_COLLAPSE,riftTarget:"drought_card"}),te=W(W({},O),{},{isExpanded:i&&!this.useMobileStyles,onClickAction:x.default.toggleHeatRiskDetails,icon:E.default,expandRiftEventKey:M.default.clicks.HEAT_CARD_EXPAND,collapseRiftEventKey:M.default.clicks.HEAT_CARD_COLLAPSE,riftTarget:"heat_card"}),ne=W(W({},D),{},{isExpanded:s&&!this.useMobileStyles,onClickAction:x.default.toggleFireRiskDetails,icon:S.default,expandRiftEventKey:M.default.clicks.FIRE_CARD_EXPAND,collapseRiftEventKey:M.default.clicks.FIRE_CARD_COLLAPSE,riftTarget:"fire_card"}),ae=[q&&!!C&&$,V&&!!h&&ee,Q&&!!O&&te,X&&!!D&&ne],re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=arguments.length>3?arguments[3]:void 0;return e.map(function(r,o){if(!r)return null;var i=r.icon,s=n.bind(null,G[o]),l=e.length-1===o;return p.default.createElement(L.default,{section:"climate_risk",target:r.riftTarget,eventDetails:{score:r.riskScore,blurb:r.riskSummary,property_id:a}},p.default.createElement(N.default,{onClick:function(){r.isExpanded?M.default.trackClick(r.collapseRiftEventKey,{score:r.riskScore,blurb:r.riskSummary}):M.default.trackClick(r.expandRiftEventKey,{score:r.riskScore,blurb:r.riskSummary}),r.onClickAction(),s()},classNames:"".concat(l?"padding-bottom-large":"padding-bottom-medium"),key:"".concat(r.riskName,"--climateRiskInfo"),iconLeft:p.default.createElement(i,{className:"size-small"}),title:r.riskName,summary:Y({riskScoreLevel:r.riskScoreLevel,riskBlurb:r.riskSummary}),chevronComponent:p.default.createElement(I.default,{className:"size-small"}),isExpanded:r.isExpanded,section:"climateRiskSection",shouldServerRenderForGoogle:!1,seoTitleH3:!0},z(r,t)))})}(ae,this.props.addressSectionInfo,this.useMobileStyles?this._handleTabSelection:function(){},this.props.propertyId);if(n&&c){var oe=n.floodFactor,ie=n.riskDirection,se=n.environmentalRisk;if(void 0!==oe){F=(0,T.getRiskBlurbForFlood)({score:oe,riskDirection:ie,envRisk:se}),B=(0,T.getScoreLevelForFlood)(n);var le={score:oe,blurb:F};j=function(){return p.default.createElement(L.default,{section:"climate_risk",target:"flood_card",eventDetails:{score:oe,blurb:F,property_id:e.props.propertyId}},p.default.createElement(N.default,{classNames:"padding-bottom-large",summary:Y({riskScoreLevel:B,riskBlurb:F}),iconLeft:p.default.createElement(_.default,{className:"size-small"}),chevronComponent:p.default.createElement(I.default,{className:"size-small"}),shouldServerRenderForGoogle:!1,onClick:function(){r?M.default.trackClick(M.default.clicks.FLOOD_CARD_COLLAPSE,le):M.default.trackClick(M.default.clicks.FLOOD_CARD_EXPAND,le),x.default.toggleFloodRiskDetails()},title:"Flood Factor",isExpanded:r&&!e.useMobileStyles},p.default.createElement(b.default,{renderSegmentsOnly:!0,floodStore:e.props.floodStore,addressSectionInfo:e.props.addressSectionInfo})))}}}var ue={};ae.forEach(function(t){ue[t.riskName]=z(t,e.props.addressSectionInfo)});var ce={position:"right",term:(0,T.getRiskFactorFlyoutTerm)(),definition:p.default.createElement("div",null,p.default.createElement("p",null,"Flood risk data is provided by ",(0,T.getRiskFactorAttributionName)(!0),", a product of the nonprofit First Street Foundation®, which builds off decades of peer-reviewed research to model a property’s flood risk over time."),p.default.createElement("br",null),p.default.createElement("a",{href:"https://www.redfin.com/guides/climate-change-housing-impact/methodology"},"Learn more about ",(0,T.getRiskFactorAttributionName)())),onClickDefinitionLink:function(){return M.default.trackClick(M.default.clicks.FIRST_STREET_UNDERLINE_FLYOUT)}},de={position:"right",term:"ClimateCheck",definition:p.default.createElement("div",null,p.default.createElement("p",null,"Drought, heat, storm, and fire risk data is provided by ClimateCheck®, which predicts a property’s environmental risks using the latest modeling and data from climate scientists, universities, and federal agencies."),p.default.createElement("br",null),p.default.createElement("a",{href:"https://www.redfin.com/guides/climate-change-housing-impact/methodology"},"Learn more about ClimateCheck")),onClickDefinitionLink:function(){return M.default.trackClick(M.default.clicks.CLIMATECHECK_UNDERLINE_FLYOUT)}},fe=[p.default.createElement("h2",{className:"h2 inline-block heading-medium padding-bottom-medium"},"Climate Risk"),[p.default.createElement("p",{className:"font-size-base font-weight-bold padding-bottom-smaller"},"About Climate Risk"),p.default.createElement("p",{className:"padding-bottom-medium"},"Most homes have some risk of natural disasters, and may be impacted by climate change due to rising temperatures and sea levels.")],p.default.createElement("div",{id:"flood-display-scroll"},K(this.useMobileStyles,"Flood Risk",p.default.createElement("span",null,"Provided by ",p.default.createElement(P.default,ce,(0,T.getRiskFactorFlyoutTerm)(!0))))),d?Z("Flood risk information has been removed from this home.","View risk details on ".concat(t),"https://".concat(t)):p.default.createElement(U.default,{uniqueKey:"floodRiskInfoCard",placeHolder:j(),offset:e.height,onEnterViewport:function(){return H.default.populateFloodData(e.props.propertyParcelInfo,e.props.addressSectionInfo,e.props.propertyId)}},j()),K(this.useMobileStyles,"Environmental Risks",p.default.createElement("span",null,"Provided by ",p.default.createElement(P.default,de,"ClimateCheck"))),a||f?null:p.default.createElement("p",{className:"padding-bottom-larger"},"Environmental risk information is not available for this home at this time."),f?Z("Environmental risk information has been removed from this home.","View risk details on climatecheck.com","https://climatecheck.com"):null].concat((0,o.default)(re),[J(this.useMobileStyles),e.useMobileStyles?p.default.createElement(A.default,{className:"ClimateRiskInfo-drawer",open:r||l||u||i||s,title:r?"Flood Factor":e.state.selectedTab.riskName,onClose:x.default.closeMobileDialog,onOpen:function(){M.default.trackImpression(r?M.default.impressions.FLOOD_MODAL:M.default.impressions.CLIMATECHECK_MODAL,r?null:{risk:e.state.selectedTab.riskName})}},r?p.default.createElement(b.default,{renderSegmentsOnly:!0,floodStore:e.props.floodStore,addressSectionInfo:e.props.addressSectionInfo}):[p.default.createElement(R.default,{tabs:e.TABS,selectedTab:e.state.selectedTab.index,onTabClick:function(t){var n=t.tab;return e._handleTabSelection(n)},mode:"flexible"}),ue[e.state.selectedTab.riskName]]):null]);return this.useMobileStyles&&(fe=p.default.createElement(k.default,{sectionName:"Climate Risk",section:"climateRiskDataSection",enabled:!0,rfTestId:"climateData",previewText:"Flood, Storm, Drought, Heat, Fire"},fe)),p.default.createElement(L.default,{section:"climate_risk",eventDetails:{property_id:this.props.propertyId}},p.default.createElement(g.default,{name:"ClimateRiskDataSection",addTopRule:!0},fe))}}],[{key:"displayName",get:function(){return"ClimateRiskSection"}},{key:"propTypes",get:function(){return{floodStore:m.default.object,propertyId:m.default.number,deviceConfig:m.default.number,climateStore:m.default.object}}},{key:"getComponentDependencies",value:function(){return{dependencies:["climateStore","addressSectionInfo","propertyParcelInfo","floodStore"]}}}]),n}(p.Component);t.default=$},Qqzb:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("TlVh"),o=a(n("QizQ")),i=a(n("6WaX")),s=a(n("iXF3")),l=n("SdOs"),u=n("vrcu"),c=n("1O0j"),d=a(n("cXUB")),f=n("cMqt").logging.getLogger({owningTeam:"SELL_SIDE_CUSTOMER_GROWTH",name:"corvair.sites.customer-pages.pages.homeDetails.components.saleProceeds.SaleProceedsCalculatorStore",color:{server:133,client:"rgb(127,42,127)"}}),p=(0,r.createStoreFactory)({listenables:[i.default,s.default],init:function(e){var t=this,n=e.businessMarketID,a=e.estimatedSalePrice,r=void 0===a?0:a,i=e.lastSalePrice,s=void 0===i?r:i,l=e.lastSaleDate,p=(0,u.guessMortgageBalance)({lastSalePrice:s,lastSaleDate:l}),m=new o.default({name:"saleProceedsHomePrice",value:r.toFixed()}),h=.8*r,g=1.2*r,_=new o.default({name:"saleProceedsMortgageBalance",value:p});(0,d.default)((0,u.getMarketMinimum)(n)).then(function(e){t.setState({marketMinimum:e}),t.updateCalculatedValues()}).catch(function(e){f.error("Error retrieving any market minimum",e)}).done(),this.setState({businessMarketID:n,homePriceField:m,homePriceSliderProps:this.getSliderPropsForInitialValue(r,h,g),mortgageBalanceField:_,mortgageBalanceSliderProps:this.getSliderPropsForInitialValue(p,0,g),collapsedSubsections:{services:!0,fees:!0},feesAreNational:!(0,u.hasDataForBusinessMarket)(n),listingFeeMsgType:(0,c.getListingFeeMessagingType)(n)}),this.updateCalculatedValues()},getSliderPropsForInitialValue:function(e,t,n){if(e){var a=e>99999?1e3:100,r=function(e){return(e/a).toFixed()*a};return{minValue:r(t),maxValue:r(n),sliderIncrement:a,slideOnPercent:!1}}},updateCalculatedValues:function(e,t){var n=this.state,a=n.businessMarketID,r=n.homePriceField.value,o=n.mortgageBalanceField.value,i=n.marketMinimum;"saleProceedsHomePrice"===e?r=t:"saleProceedsMortgageBalance"===e&&(o=t),this.setState((0,u.calculateHomeSaleProceeds)({location:a,homePrice:r,mortgageBalance:o,marketMinimum:i}))},onValuesUpdated:function(e){var t=e.name,n=e.value;"saleProceedsHomePrice"!==t&&"saleProceedsMortgageBalance"!==t||this.updateCalculatedValues(t,n)},onToggleCollapsibleSubsection:function(e){var t=e.name,n=this.state.collapsedSubsections;n[t]=!n[t],this.setState({collapsedSubsections:n});var a=n[t]?"COLLAPSE":"EXPAND",r=t.toUpperCase()+"_"+a;(0,l.trackClickTarget)(l.clickTargets[r])}});t.default=p,e.exports=t.default},QvAd:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),d=a(n("17x9")),f=a(n("1AMb")),p=a(n("94Bj")),m=a(n("AaS/")),h=a(n("BBRs"));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var v=function(e){(0,s.default)(n,e);var t=_(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e,t,n,a,r,o,i,s,l="VARIANT"===p.default.getVariant(m.default)&&p.default.isOn(h.default),u=this.props,d=u.mainHouseInfo,g=u.addressSectionInfo,_=3===this.props.deviceConfig;return l?c.default.createElement(f.default,{name:"CordlessAdsAdditionalSection",addTopRule:_},c.default.createElement("div",{dangerouslySetInnerHTML:{__html:' <div id="cmasw"> </div> '}}),c.default.createElement("script",{type:"text/javascript",dangerouslySetInnerHTML:{__html:"\n            (function (w, d, s, o, f, js, fjs) {\n              w['CM-ASWidget'] = o; w[o] = w[o] || function () { (w[o].q = w[o].q || []).push(arguments) };\n              js = d.createElement(s), fjs = d.getElementsByTagName(s)[0];\n              js.id = o; js.src = f; js.async = 1; fjs.parentNode.insertBefore(js, fjs);\n          }(window, document, 'script', 'asw', 'https://cdn.cordlessmedia.com/additional-services/v2/widget.js'));\n          asw('message', {\n              pid: \"90021\",\n              zip: \"".concat(null==d?void 0:null===(e=d.propertyAddress)||void 0===e?void 0:e.postalCode,'",\n              address: "').concat(null==d?void 0:null===(t=d.propertyAddress)||void 0===t?void 0:t.streetNumber," ").concat(null==d?void 0:null===(n=d.propertyAddress)||void 0===n?void 0:n.streetName," ").concat(null==d?void 0:null===(a=d.propertyAddress)||void 0===a?void 0:a.streetType,'",\n              city: "').concat(null==d?void 0:null===(r=d.propertyAddress)||void 0===r?void 0:r.city,'",\n              state: "').concat(null==d?void 0:null===(o=d.propertyAddress)||void 0===o?void 0:o.stateOrProvinceCode,'",\n              price: "').concat(null==g?void 0:null===(i=g.priceInfo)||void 0===i?void 0:i.amount,'",\n              apt: "').concat(null==d?void 0:null===(s=d.propertyAddress)||void 0===s?void 0:s.unitValue,'",\n              linkColor: "#10666F"\n          });')}})):null}}],[{key:"displayName",get:function(){return"CordlessAdsAdditionalSection"}},{key:"propTypes",get:function(){return{mainHouseInfo:d.default.object,addressSectionInfo:d.default.object,deviceConfig:d.default.number}}}]),n}(c.Component);t.default=v,v.getComponentDependencies=function(){return{dependencies:["mainHouseInfo","addressSectionInfo","deviceConfig"]}},e.exports=v},RDeN:function(e,t,n){},RMYU:function(e,t,n){},RUIC:function(e,t,n){},RXRX:function(e,t,n){},RYnR:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={getExtendableToursForCurrentListing:(0,n("RBnj").createAction)()};t.default=a,e.exports=t.default},RZul:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("6qam")),d=a(n("3WF5")),f=a(n("17x9")),p=n("mXGw"),m=a(n("McMD")),h=T(n("t/n8")),g=a(n("ed/o")),_=T(n("Hl/W")),v=a(n("Zsqh")),y=a(n("8Jek")),E=a(n("94Bj")),S=a(n("Eua3"));function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}function T(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("TsXr");var b=function(e){(0,s.default)(n,e);var t=C(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props,t=e.isFetchingMortgageLenders,n=e.mortgageLenders,a=e.selectedMortgageLenderIndex,r=e.userSessionId,o=e.globalSliderIndex,i=e.inline,s=e.inBankrateVariant,l=e.transactionId,u=e.lendersCount,c=e.demandChannel,d=e.showOutageGhostTown,f=e.downPayment,p=e.listingPrice,m=t?React.createElement(N,null):React.createElement(k,{mortgageLenders:n,selectedMortgageLenderIndex:a,userSessionId:r,inBankrateVariant:s,inline:i,globalSliderIndex:o,transactionId:l,lendersCount:u,demandChannel:c,showOutageGhostTown:d,downPayment:f,listingPrice:p}),g=(0,y.default)({mortgageLendersDisplay:!0,isVariant:s,isPaymentCalculatorVariant:!0});return React.createElement("div",{className:g},i?React.createElement(h.default,{key:"mortgage-lenders-row",offset:300,uniqueKey:"mortgage-lenders-row-".concat("e82d7cbb-0d87-4c42-a866-b28787d798a6"),placeHolder:React.createElement(N,null)},m):m)}}],[{key:"propTypes",get:function(){return{mortgageLenders:f.default.array,selectedMortgageLenderIndex:f.default.number,userSessionId:f.default.string,inline:f.default.bool,inBankrateVariant:f.default.bool,transactionId:f.default.string,lendersCount:f.default.number,demandChannel:f.default.number,showOutageGhostTown:f.default.bool,downPayment:f.default.object,listingPrice:f.default.number}}}]),n}(p.PureComponent);t.default=b;var k=function(e){(0,s.default)(n,e);var t=C(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"componentDidMount",value:function(){g.default.requestMortgageLenders(),this.lendersCarouselNode&&A(this.lendersCarouselNode,this.props.inline)}},{key:"render",value:function(){var e=this,t=this.props,n=t.mortgageLenders,a=void 0===n?[]:n,r=t.selectedMortgageLenderIndex,o=t.userSessionId,i=void 0===o?"":o,s=t.inBankrateVariant,l=t.inline,u=t.transactionId,f=t.lendersCount,p=t.demandChannel,m=t.showOutageGhostTown,h=t.downPayment,y=t.listingPrice;if(0===a.length)return React.createElement(O,{showOutageGhostTown:m,inline:l});var I=(0,d.default)(a,function(e,t){return React.createElement(_.default,{mortgageLenderInfo:e,key:"".concat(e.lenderId,"-").concat(t),isSelected:t===r,onClick:function(){return g.default.selectMortgageLenderAtIndex(t,l)},index:t,userSessionId:i,inline:l,inBankrateVariant:s,transactionId:u,lendersCount:f,context:p,downPaymentAmount:null==h?void 0:h.amount,homePrice:y})}),T=(0,c.default)(r)?null:a[r].contactUrl;return React.createElement("div",{className:"mortgageLendersCarouselAndBtnContainer",ref:function(t){return e.lendersCarouselNode=t}},React.createElement(v.default,{index:r},I),!s&&React.createElement(R,{contactUrl:T,index:r,userSessionId:i}),!E.default.isOn(S.default)&&React.createElement("div",{className:"font-size-small disclaimer"},React.createElement("sup",null,"*"),"Estimated payment does not include taxes and insurance."))}}]),n}(p.Component),R=function(e){var t=e.contactUrl,n=e.index,a=e.userSessionId;return React.createElement("div",{className:"mobileOnlyLenderContactButton"},React.createElement(_.LenderContactButton,{isSelected:!0,contactUrl:t,index:n,userSessionId:a}))},O=function(e){(0,s.default)(n,e);var t=C(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"componentDidMount",value:function(){A(this.ghostTownNode,this.props.inline)}},{key:"render",value:function(){var e=this,t=!!this.props.showOutageGhostTown,n=t?"Sorry, mortgage rates are temporarily unavailable. Please check back later.":"Try a different loan type or down payment.";return React.createElement("div",{className:"mortgageLendersGhostTownContainer",ref:function(t){return e.ghostTownNode=t}},React.createElement("div",{className:"ghostTownText"},!t&&React.createElement("div",{className:"small-heading"},"No mortgage offers found."),React.createElement("div",null,n)))}}]),n}(p.Component),N=function(){return React.createElement("div",{className:"mortgageLendersLoadingIndicatorContainer"},React.createElement(m.default,{text:"Searching for mortgage offers.",size:"small",layout:"row",centerPosition:"horiz",className:"mortgageLendersLoadingIndicator"}))},A=function(e,t){(0,h.trackNode)({domNode:e,nodeId:"mortgageLendersCarousel",onEnterViewCallback:function(){return g.default.fireCarouselImpression(t)},bufferValue:0,canOverrideExistingEntry:!0})};e.exports=t.default},Rerk:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("mXGw")),i=a(n("+tVG")),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("/eTI")),l=a(n("21MB")),u=n("iXF3"),c=n("SdOs"),d=n("+xFC");function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){var t=e.label,n=e.amount,a=e.definition,r=e.labelClickTarget;if(!n)return null;var i=(0,d.formatPrice)(n);return o.default.createElement(s.default,{label:t,definition:a,redfin:i,trad:i,labelClickTarget:r})}n("8/6A");var m=function(e){var t=e.address,n=e.homePriceField,a=e.homePriceSliderProps,r=e.mortgageBalanceField,f=e.mortgageBalanceSliderProps,m=e.traditionalProceeds,h=e.redfinProceeds,g=e.redfinSavings,_=e.sellAgentAmt,v=e.sellAgentAmtRedfin,y=e.usingRedfinMinFee,E=e.sellAgentPctRedfin,S=e.sellAgentPct,I=e.buyAgentAmt,T=e.buyAgentPct,C=e.exciseTax,b=e.title,k=e.escrow,R=e.otherFees,O=e.feesAreNational,N=e.listingFeeMsgType,A=e.collapsedSubsections,P=t&&t.city?"the ".concat(t.city," area"):"this location";return o.default.createElement("div",{className:"SaleProceedsCalculatorV2"},o.default.createElement("div",{className:"content"},o.default.createElement(i.default,{name:n.name,value:+n.value,label:"Home Sale Price",ariaLabel:"Home Sale Price Slider",definitionProps:{definition:"Enter the price you'd like to sell your home for. By default, we show the Redfin Estimate of what this home is worth.",onShowDefinitionFlyout:function(){(0,c.trackClickTarget)(c.clickTargets.HOME_PRICE_INFO)}},type:"currency",sliderProps:a,alwaysShowInput:!0,onTextClick:function(){(0,c.trackClickTarget)(c.clickTargets.HOME_PRICE_TEXT)},onSliderMouseUp:function(){(0,c.trackClickTarget)(c.clickTargets.HOME_PRICE_SLIDER)}}),o.default.createElement(i.default,{name:r.name,value:+r.value,label:"Outstanding Mortgage",ariaLabel:"Outstanding Mortgage Slider",definitionProps:{definition:"Enter the amount of money you still owe on your mortgage. We've provided an estimated value based on when this home was last sold and average interest rates assuming a 20% down payment.",onShowDefinitionFlyout:function(){(0,c.trackClickTarget)(c.clickTargets.MORTGAGE_BALANCE_INFO)}},type:"currency",sliderProps:f,alwaysShowInput:!0,onTextClick:function(){(0,c.trackClickTarget)(c.clickTargets.MORTGAGE_BALANCE_TEXT)},onSliderMouseUp:function(){(0,c.trackClickTarget)(c.clickTargets.MORTGAGE_BALANCE_SLIDER)}}),o.default.createElement("div",{className:"columnHeaders"},o.default.createElement("span",{className:"valueContainer"},o.default.createElement("span",{className:"value"},"Selling with Traditional Agent")),o.default.createElement("span",{className:"valueContainer"},o.default.createElement("span",{className:"value"},"Selling with Redfin Agent"))),o.default.createElement("div",{className:"topDivider"}),o.default.createElement("div",{className:"proceeds subsection"},o.default.createElement("div",{className:"redfinSavings"},g?o.default.createElement("span",{className:"value"},"+",(0,d.formatPrice)(g)):null),o.default.createElement(s.default,{className:"proceeds",label:"Your Total Sale Proceeds",definition:"Based on your estimated sale price, outstanding mortgage balance, and real estate fees and taxes, this is the estimated amount you’ll walk away with when you sell your home.",redfin:(0,d.formatPrice)(h),trad:(0,d.formatPrice)(m),onShowDefinitionFlyout:function(){(0,c.trackClickTarget)(c.clickTargets.labels.PROCEEDS)}}),o.default.createElement(s.default,{label:"Seller Agent Commission",definition:"When you sell with a Redfin Agent,"+" you pay ".concat(N.inlineDescription," of your home's sale price in commission").concat(N.inlineDescriptionSentenceEnd,".")+" If you list with a non-Redfin agent in ".concat(P,",")+" you'll typically pay ".concat(S,"% of your home's sale price.")+"\\nMinimum commissions apply. Buyer’s agent commission not included.",extraFlyoutProps:{definitionLink:"/disclaimer",moreInfoText:"See full terms and conditions."},redfin:o.default.createElement("span",{className:"commission"},y?(0,d.formatPrice)(v):"".concat(E,"% (").concat((0,d.formatPrice)(v),")")),trad:o.default.createElement("span",{className:"commission"},"".concat(S,"% (").concat((0,d.formatPrice)(_),")")),onShowDefinitionFlyout:function(){(0,c.trackClickTarget)(c.clickTargets.labels.COMMISSION)}})),o.default.createElement(l.default,{name:"services",header:"Compare Agent Services",isCollapsed:A.services,onClick:function(){(0,u.toggleCollapsibleSubsection)({name:"services"})}},o.default.createElement(s.FullServiceAgentComparison,{onShowDefinitionFlyout:function(){(0,c.trackClickTarget)(c.clickTargets.labels.FULL_SERVICE)}}),o.default.createElement(s.PremiumPlacementComparison,{onShowDefinitionFlyout:function(){(0,c.trackClickTarget)(c.clickTargets.labels.PREMIUM_PLACEMENT)}}),o.default.createElement(s.ProfessionalPhotosComparison,{onShowDefinitionFlyout:function(){(0,c.trackClickTarget)(c.clickTargets.labels.PRO_PHOTOS)}}),o.default.createElement(s.WalkthroughComparison,{onShowDefinitionFlyout:function(){(0,c.trackClickTarget)(c.clickTargets.labels.WALKTHROUGH)}})),o.default.createElement(l.default,{name:"fees",header:"Show Taxes and Fees",isCollapsed:A.fees,onClick:function(){(0,u.toggleCollapsibleSubsection)({name:"fees"})}},o.default.createElement(p,{label:"Buyer Agent Commission",amount:I,definition:"As a seller, you are responsible for paying the buyer's agent commission,"+" which is usually ".concat(T,"% of your home's sale price in ").concat(P,".")}),o.default.createElement(p,{label:"Excise Tax",amount:C,definition:"Excise Tax is a flat tax your local government places on real estate transactions."}),o.default.createElement(p,{label:"Title Insurance",amount:b,definition:"Some states require sellers to pay for their buyer's title insurance policy, which insures the buyer against claims on the home other than their own."}),o.default.createElement(p,{label:"Escrow Fee",amount:k,definition:"These fees cover the costs of holding and transferring funds in a real estate transaction."}),o.default.createElement(p,{label:"Misc. Fees",amount:R,definition:"Other fees involved in selling your home may include a pest inspection, condo association fees, and recording fees."}),O?o.default.createElement("span",{className:"disclaimer"},"Taxes and fees shown are national averages. Consult with a real estate agent for specific fee information in your area."):null)))};t.default=m,e.exports=t.default},RlWI:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("QkVN")),o=a(n("LDFp")),i=a(n("pBXq"));o.default.ensure(n("tTYd"));var s=(0,r.default)(new i.default,{name:"DownPaymentAssistanceRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!1,impressions:{DOWN_PAYMENT_ASSISTANCE_PLACEHOLDER:{section:"down_payment_assistance",target:"dpa_box_placeholder"},DOWN_PAYMENT_ASSISTANCE_PLACEHOLDER_NO_PROGRAMS:{section:"down_payment_assistance",target:"dpa_placeholder_no_programs"},DOWN_PAYMENT_ASSISTANCE_PLACEHOLDER_ERROR:{section:"down_payment_assistance",target:"dpa_placeholder_error"},DOWN_PAYMENT_ASSISTANCE_PROGRAMS_AVAILABLE:{section:"down_payment_assistance",target:"dpa_box_programs_available"},DOWN_PAYMENT_ASSISTANCE_PREVIOUS_RESPONSE_AVAILABLE:{section:"down_payment_assistance",target:"dpa_box_previous_response_available"},DOWN_PAYMENT_ASSISTANCE_PREVIOUS_RESPONSE_UNAVAILABLE:{section:"down_payment_assistance",target:"dpa_box_previous_response_unavailable"},DPA_MODAL_PRE:{section:"dpa_modal",target:"pre_available_programs"},DPA_MODAL_FORM:{section:"dpa_modal",target:"user_form"},DPA_MODAL_POST:{section:"dpa_modal",target:"post_available_programs"},DPA_MODAL_GHOST_TOWN:{section:"dpa_modal",target:"post_available_programs_ghost_town"},DPA_MODAL_API_ERROR:{section:"dpa_modal",target:"post_available_programs_api_error"}},clicks:{INFO_FLYOUT:{section:"down_payment_assistance",target:"info_flyout"},LEARN_MORE_LINK:{section:"down_payment_assistance",target:"learn_more_link"},SEE_PROGRAMS:{section:"down_payment_assistance",target:"see_programs"},EDIT_RESPONSES:{section:"down_payment_assistance",target:"edit_responses"},LEARN_MORE:{section:"down_payment_assistance",target:"learn_more"},PRE_AVAILABLE_PROGRAMS_CLOSE:{section:"dpa_modal",target:"pre_available_programs_close"},GET_STARTED_CTA:{section:"dpa_modal",target:"get_started_cta"},CLEAR_CTA:{section:"dpa_modal",target:"clear_cta"},NEXT_CTA:{section:"dpa_modal",target:"next_cta"},PROGRAM_FORM_CLOSE:{section:"dpa_modal",target:"program_form_close"},EDIT_CTA:{section:"dpa_modal",target:"edit_cta"},DONE_CTA:{section:"dpa_modal",target:"done_cta"},PROGRAM_LINK:{section:"dpa_modal",target:"program_link"},POST_AVAILABLE_PROGRAMS_CLOSE:{section:"dpa_modal",target:"post_available_programs_close"}}});t.default=s,e.exports=t.default},RxnA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.agentIsAssignedOrPending=void 0,t.generateAgentPictureUrl=function(e,t){var n=t.getPhotoUrl150x150();e||(n=t.getPhotoUrl()||t.getPhotoUrl270x360());return n||g_imageServerUrl+a},t.getScreenWidth=void 0;var a="/images/serviceProvider/person-270x360.jpg";t.getScreenWidth=function(){return"undefined"!=typeof document&&document&&document.documentElement.clientWidth||"undefined"!=typeof window&&window&&window.innerWidth||0};t.agentIsAssignedOrPending=function(e){return e.customerAgentStatus===g_customerAgentStatus.AGENT_PENDING||e.customerAgentStatus===g_customerAgentStatus.AGENT_ASSIGNED}},"S/yd":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL"));n("U2Pl");var o=a(n("NTM/")),i=function(e){var t=e.locationStore,n=e.personalizationInfo,a=e.polygonColor,i=e.addressSectionInfo;return React.createElement("div",{className:"DesktopLocationSection"},React.createElement(o.default,(0,r.default)({},t,{personalizationInfo:n,polygonColor:a,addressSectionInfo:i})))};i.getComponentDependencies=function(){return{dependencies:["locationStore","personalizationInfo","addressSectionInfo"]}},i.getDisplayName=function(){return"LocationDialogSection"};var s=i;t.default=s,e.exports=t.default},S8Ax:function(e,t,n){},SFER:function(e,t,n){},SJ3U:function(e,t,n){},SJyO:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;a(n("17x9"));var r=a(n("mXGw")),o=a(n("8Jek"));function i(e){var t=e.deviceConfig,n=e.isLive,a=e.showNewPill,i=n&&t===g_deviceConfiguration.PHONE?"Video Open House":"Live Video Open House",s=(0,o.default)("title","font-weight-bold",{"font-size-medium":t!==g_deviceConfiguration.PHONE});return r.default.createElement("div",{className:"VideoOpenHouseHeader"},a&&r.default.createElement("div",{className:"newIndicator font-weight-bold font-color-white"},"NEW"),r.default.createElement("h1",{className:s},i),n&&r.default.createElement("div",{className:"liveIndicator font-weight-bold font-color-redfin-red"},r.default.createElement("span",{className:"liveDot"}),"LIVE NOW"))}i.propTypes={},e.exports=t.default},SQRV:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.determineCustomerExperience=function(e){var t=e.addressSectionInfo,n=e.contactBoxInfo,a=e.deviceConfig,r=e.mainHouseInfo,o=e.redfinNowHomeMomentInfoStore,i=e.opendoorPurchaseEstimateStore,s=e.cashOfferPlacementStore;if(E(r)&&!v(n))return d.default.CONTACT_BUILDER;if(h(o)||I(i)||T(s))return d.default.CASH_OFFER;var l=(n||{}).experienceType;if(l===d.default.BLOCKED_BOX.id)return d.default.BLOCKED_BOX;if(l===d.default.VIRTUAL_CMA.id)return d.default.VIRTUAL_CMA;if(l===d.default.SALE_PRICE_RANGE.id)return d.default.SALE_PRICE_RANGE;if(l===d.default.REDFIN_DIRECT.id)return d.default.REDFIN_DIRECT;if(l===d.default.REDFIN_BROKERAGE_POST_TOUR.id)return d.default.REDFIN_BROKERAGE_POST_TOUR;if(l===d.default.REDFIN_BROKERAGE_DATEPICKER.id)return d.default.REDFIN_BROKERAGE_DATEPICKER;if(l===d.default.DIRECT_ACCESS.id)return d.default.DIRECT_ACCESS;if(l===d.default.PARTNER_DATEPICKER.id)return d.default.PARTNER_DATEPICKER;if(l===d.default.NON_REDFIN_PRE_MARKET_MLS.id)return d.default.NON_REDFIN_PRE_MARKET_MLS;if(y(a,t,n,o,r,i))return d.default.HOME_OWNER_TOOLS},t.getAgentName=function(e){return e._name?e._name:e._fullName?e._fullName:e._firstName+" "+e._lastName},t.getClaimHomeCopy=function(e,t){switch(e){case"CONTROL":return{claimHomeTitle:"I'm the owner",claimHomeDescription:"Claim this home to track its value and nearby sales activity"};case"VARIANT1":var n="I own ".concat(t);return{claimHomeTitle:n=n.length>30?"I'm the owner":n,claimHomeDescription:"Track this home’s value and nearby sales activity"};case"VARIANT2":return{claimHomeTitle:"Claim this home",claimHomeDescription:"Edit your home facts and upload new photos"};case"VARIANT3":return{claimHomeTitle:"View homeowner tools",claimHomeDescription:"Track your home’s value and update facts and photos"};case"VARIANT4":return{claimHomeTitle:"Track my home",claimHomeDescription:"Get monthly updates on this home’s estimated value"};default:return{claimHomeTitle:"I'm the owner",claimHomeDescription:"Claim this home to track its value and nearby sales activity"}}},t.inCompleteSellingSolutionHvaBusinessMarkets=function(e){return(i.default.get(g_dbBackedConfigKeys.COMPLETE_SELLING_SOLUTION_VIRTUAL_CMA_PILOT_MARKETS)||[]).indexOf(e)>=0},t.isAgentAssignedOrPending=v,t.isAgentRequestAssigned=_,t.isAgentRequestPending=g,t.isBDXEligible=E,t.isBrowserBigEnoughToFloatRefund=function(){return(0,o.default)("screen-size")>o.default.screenSizes.MEDIUM&&window.innerHeight>=630},t.isEligibleForProminentStartAnOffer=function(e,t){return!e&&!t},t.isHomeValuationAnalysisEligible=m,t.isHomeownerToolsPrimaryCta=function(e){return e&&e.claimCount<=0},t.isHomeownerToolsShown=y,t.propertyIsActivish=S,t.shouldShowAgentInfo=function(e,t,n,a){return a&&n&&n.isServicedByRedfinAgent&&n.customerAgentStatus!==s.default.id&&!e&&!t},t.shouldShowOMDPCMAMerch=p,t.shouldShowOMDPCashOfferActiveOrExpiredMerch=T,t.shouldShowOMDPCashOfferMerch=h,t.shouldShowOpendoorMerch=I,t.shouldShowPartnerAgentInfo=function(e,t){return t&&e.hasActivePartnerAgents&&!e.isServicedByRedfinAgent&&e.customerAgentStatus===u.AGENT_ASSIGNED.id},t.showRefundMessaging=function(e,t){if(t)return!1;var n=e&&e.experienceData&&(0,c.doObjectGraph)()(e.experienceData.refundMessagingData);return Boolean(n)};var o=a(n("luvc")),i=a(n("/+pK")),s=a(n("L34J")),l=a(n("BQCM")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("P78k")),c=n("Q+Iq"),d=a(n("f+7f"));a(n("fWCb")),a(n("d1N4"));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return m(e)&&!h(t)&&!I(n)}function m(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).experienceType===l.default.id}function h(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).shouldShowMoment}function g(e){return e&&e.customerAgentStatus===u.default.AGENT_PENDING.id}function _(e){return e&&e.customerAgentStatus===u.default.AGENT_ASSIGNED.id}function v(e){return g(e)||_(e)}function y(e,t,n,a,r,o){return e!==g_deviceConfiguration.PHONE&&t&&!S(r)&&!p(n,a,o)}function E(e){return e.isBDXEligible}function S(e){return e&&e.propertyIsActivish}function I(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).isOpendoorEligible}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.isCashOfferMerchandisingEnabled&&!e.hasSignedListingAgreement&&(e.isActiveOffer||e.isExpiredOffer)}},ScUM:function(e,t,n){},SdOs:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("3OWR")),o=a(n("LDFp")),i=a(n("pBXq")),s=a(n("7SUW")),l=a(n("1RMg"));o.default.ensure(n("51Vz")),o.default.ensure(n("tTYd")),o.default.ensure(n("O6Q4"));var u=(0,r.default)(new i.default,{name:"SaleProceedsRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{NATIONAL_EXPERIMENT_START:{section:"net_proceeds_calculator_national_experiment_start"},ASSIGNED_AGENT_OFF_MARKET_DP_EXPERIMENT_START:{section:"eligible_for_assigned_agent_off_market_dp_experiment"},SECTION:{section:"net_proceeds_calculator",expectedParams:["sales_price"]}},clickTargets:{HOME_PRICE_TEXT:"sales_price_field",HOME_PRICE_SLIDER:"sales_price_slider",HOME_PRICE_INFO:"sale_price_info_icon",MORTGAGE_BALANCE_TEXT:"outstanding_loan_field",MORTGAGE_BALANCE_SLIDER:"outstanding_loan_slider",MORTGAGE_BALANCE_INFO:"outstanding_loan_info",SERVICES_EXPAND:"expand_services_details",SERVICES_COLLAPSE:"collapse_services_details",FEES_EXPAND:"expand_taxes_fees",FEES_COLLAPSE:"collapse_taxes_fees",TALK_TO_REDFIN:"talk_to_redfin_about_selling_cta",labels:{PROCEEDS:"proceeds_label",COMMISSION:"commission_label",FULL_SERVICE:"full_service_label",PREMIUM_PLACEMENT:"premium_placement_label",PRO_PHOTOS:"pro_photos_label",WALKTHROUGH:"3d_walkthrough_label"}},extraDetails:{},initializeNationalExperiment:function(e){this.trackImpressionWithDefaults(this.impressions.NATIONAL_EXPERIMENT_START,null,e,this.initializeNationalGAExperiment)},initializeAssignedAgentOffMarketDPExperiment:function(e){this.trackImpressionWithDefaults(this.impressions.ASSIGNED_AGENT_OFF_MARKET_DP_EXPERIMENT_START,null,e,null)},initializeNationalGAExperiment:function(){(0,s.default)().initialize({experimentId:l.default.feature.SDP_PDP_PROCEEDS_CALCULATOR_IN_REMAINING_MARKETS,gaExperimentId:"eEG5ChuiRaKqYihs0UCXJA"})},initializeUpdateGAExperiment:function(){(0,s.default)().initialize({experimentId:l.default.feature.SDP_PDP_PROCEEDS_CALCULATOR_UPDATE,gaExperimentId:"3HxC1KxpR5eBhWfzpeMmqA"})},setHasMarketSpecificFees:function(e){this.extraDetails.has_market_specific_fees=e?"true":"false"},trackImpressionWithDefaults:function(e,t,n,a){var o=(0,r.default)(t||{},this.extraDetails);this.trackImpression(e,o,n,a)}});u.trackClickTarget=function(e){return u.trackClick({section:"net_proceeds_calculator",target:e},u.extraDetails)};var c=u;t.default=c,e.exports=t.default},SflC:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=n("mXGw"),f=a(n("17x9")),p=a(n("zCAw")),m=a(n("4Ot/")),h=a(n("RIHJ")),g=a(n("4ppV")),_=a(n("McMD")),v=n("MYdA"),y=a(n("FZzt")),E=a(n("dkUW")),S=a(n("+bKw")),I=n("osI4");function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}n("qL1Y");function C(e){var t=e.editMode,n=e.onClick,a=e.formKeyDown;return t?React.createElement("button",{className:"button",onClick:n,"data-rf-test-name":"submitCommute"},"Update Commute"):React.createElement("button",{className:"button",tabIndex:"0",onKeyDown:a,onClick:n,"data-rf-test-name":"submitCommute"},"Calculate Commute")}C.propTypes={},C.defaultProps={editMode:!1,onClick:function(){}};var b=function(e){(0,l.default)(n,e);var t=T(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).onSelectCommuteType=a.onSelectCommuteType.bind((0,s.default)(a)),a.onInputClick=a.onInputClick.bind((0,s.default)(a)),a.onRushHourChange=a.onRushHourChange.bind((0,s.default)(a)),a.onCommuteButtonClick=a.onCommuteButtonClick.bind((0,s.default)(a)),a.onCloseForm=a.onCloseForm.bind((0,s.default)(a)),a.formKeyDown=a.formKeyDown.bind((0,s.default)(a)),a.state={shouldTrackInputClick:!0},a}return(0,i.default)(n,[{key:"formKeyDown",value:function(e){switch(e.which){case 13:case 32:e.preventDefault(),e.stopPropagation(),this.onCommuteButtonClick()}}},{key:"componentDidMount",value:function(){var e={device_category:(0,I.getCurrentDeviceType)(),rental_id:this.props.rentalId,property_id:this.props.propertyId};E.default.trackImpression(E.default.impressions.COMMUTE_FORM,e)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){!1===e.showForm&&this.setState({shouldTrackInputClick:!0})}},{key:"componentDidUpdate",value:function(e){!e.errorMessage&&this.props.errorMessage&&E.default.trackImpression(E.default.impressions.ERROR_DIALOG)}},{key:"render",value:function(){if(this.props.requestInFlight)return React.createElement("div",{className:"cf loading"},React.createElement(_.default,null));var e,t=React.createElement(S.default,{value:this.props.autoCompleteAddress,placeholder:"Type a location or address",miniMapStore:this.props.miniMapStore,formName:this.formName,onAutoCompletePlaceChanged:this.props.actions.autoCompletePlaceChanged,onClick:this.props.actions.autoCompleteBoxClicked,onKeyDownNotEnter:this.props.actions.autoCompleteBoxClicked,feedback:this.props.feedback,biasCenter:this.props.origin,setValueFromProps:!0,autoCompleteService:this.props.autoCompleteService,placesService:this.props.placesService,autoCompleteToken:this.props.autoCompleteToken,onAutoCompleteError:this.props.actions.setFormFeedback});return this.props.autoCompleteBoxClicked&&(t=React.createElement(S.default,{placeholder:"Type a location or address",miniMapStore:this.props.miniMapStore,formName:this.formName,onAutoCompletePlaceChanged:this.props.actions.autoCompletePlaceChanged,onClick:this.props.actions.autoCompleteBoxClicked,feedback:this.props.feedback,biasCenter:this.props.origin,setValueFromProps:!1,autoCompleteService:this.props.autoCompleteService,placesService:this.props.placesService,autoCompleteToken:this.props.autoCompleteToken,onAutoCompleteError:this.props.actions.setFormFeedback})),[React.createElement(m.default,{key:1,className:"cf",formName:(0,v.getCommuteFormName)(this.props.id)},React.createElement("div",{className:"font-size-medium"},(e=this.props.editMode,e?"Edit Destination":"Add a Destination")),React.createElement("div",{className:"address"},t),React.createElement("div",{className:"commuteType"},React.createElement(y.default,{options:(0,v.getCommuteTypesForUI)(),value:this.props.fields.commuteType.value,onSelect:this.onSelectCommuteType})),React.createElement(C,{formKeyDown:this.formKeyDown,editMode:this.props.editMode,onClick:this.onCommuteButtonClick}),this.props.editMode?React.createElement("button",{className:"button text",onClick:this.props.onDeleteCommute},"Delete this destination"):null,React.createElement("button",{className:"close button text",onClick:this.onCloseForm},React.createElement(p.default,{tabindex:"0"}))),this.props.errorMessage?React.createElement(g.default,{key:2,title:"Sorry",close:this.props.actions.closeErrorDialog},this.props.errorMessage):null]}},{key:"onSelectCommuteType",value:function(e){var t=E.default.clicks.EDIT_COMMUTE_TYPE;E.default.trackClick((0,r.default)({},t,{target:"".concat(t.target,"_").concat(e.toLowerCase())}),{rental_id:this.props.rentalId}),h.default.fieldChange({name:"commuteType",value:e,formName:(0,v.getCommuteFormName)(this.props.id)})}},{key:"onInputClick",value:function(){this.state.shouldTrackInputClick&&(E.default.trackClick(E.default.clicks.EDIT_DESTINATION,{rental_id:this.props.rentalId}),this.setState({shouldTrackInputClick:!1}))}},{key:"onRushHourChange",value:function(){E.default.trackClick(E.default.clicks.EDIT_RUSH_HOUR,{rental_id:this.props.rentalId})}},{key:"onCommuteButtonClick",value:function(){E.default.trackClick(E.default.clicks.CALCULATE_COMMUTE,{rental_id:this.props.rentalId,commute_mode:this.props.fields.commuteType.value.toLowerCase()}),this.props.editMode?this.props.actions.updateCommute():this.props.actions.createCommute()}},{key:"onCloseForm",value:function(){E.default.trackClick(E.default.clicks.CLOSE_COMMUTE_FORM,{rental_id:this.props.rentalId}),this.props.actions.closeForm()}}],[{key:"propTypes",get:function(){return{id:f.default.number,requestInFlight:f.default.bool,errorMessage:f.default.string,rentalId:f.default.string,propertyId:f.default.number}}},{key:"defaultProps",get:function(){return{id:null,requestInFlight:!1,errorMessage:null,rentalId:null,propertyId:null}}}]),n}(d.Component);t.default=b,e.exports=t.default},Slvb:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mXGw")),o=(a(n("17x9")),n("VzMp")),i=n("G4xM"),s=a(n("4eMn")),l=a(n("h1Tg")),u=function(e,t,n){for(var a=t.amenityName,i=void 0===a?null:a,s=t.displayLevel,l=t.amenityValues,u=void 0===l?[]:l,c=[],d=0;d<u.length;++d){var f=u[d];e&&(0,o.isValidNumber)(f)&&(f="<a href='tel:"+f+"'>"+f+"</a>"),c.push(f)}var p=c.join(", ");return r.default.createElement("li",{key:n,className:"entryItem "+(s===g_displayLevel.AGENT_ACCESSIBLE?"agent-only":"")},r.default.createElement("span",{className:"entryItemContent"},i?"".concat(i,": "):null,r.default.createElement("span",{dangerouslySetInnerHTML:{__html:p}})))};function c(e){var t=e.rowTitle,n=e.entries,a=void 0===n?[]:n,o=e.extension,c=(0,i.getConfigValueForKey)(i.DP_GLOBAL_CONFIG_KEYS.deviceConfig)===g_deviceConfiguration.PHONE,d=a.map(u.bind(null,c));return t===s.default.AMENITY_GROUP_TYPE_VIRTUAL_TOUR.displayName&&a.forEach(function(e){e.amenityValues.forEach(function(e){var t=e.indexOf("href="),n=t>0&&e.indexOf(" ",t),a=n>0&&e.substring(t+6,n-1);a&&l.default.trackImpression(l.default.impressions.EXPOSED_VIRTUAL_TOUR_URL,{url:a})})}),r.default.createElement("div",{className:"amenity-group"},r.default.createElement("ul",null,r.default.createElement("div",{className:"no-break-inside"},r.default.createElement("div",{className:"title font-color-gray-dark font-weight-bold propertyDetailsHeader h3"},t),!!o&&r.default.createElement("li",{key:"amenity-extension",className:"entryItem"},o),d.slice(0,2)),d.slice(2)))}c.propTypes={};var d=r.default.memo(c);t.default=d,e.exports=t.default},Sx8y:function(e,t,n){},T2BR:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("Z8pZ")),o=a(n("q5MC")),i=a(n("vAjO")),s=a(n("qWyH")),l=a(n("filF")),u=n("2nT6"),c=a(n("IU4J")),d=a(n("1e4Q")),f=a(n("xMRC")),p=a(n("BMUa")),m=a(n("TFvR")),h=a(n("xBZ3")),g=a(n("NLK8")),_=a(n("dsSj")),v=a(n("OnkM")),y=a(n("oVNe")),E=a(n("xxXX")),S=a(n("rnms")),I=a(n("DSc9")),T=a(n("q9xE")),C=a(n("GO4b")),b=a(n("r255")),k=a(n("AcH2")),R=a(n("Coxz")),O=a(n("S/yd")),N=a(n("QY1S")),A=a(n("5Gto")),P=a(n("pI4a")),D=a(n("QvAd")),w=n("+Ciq"),L=a(n("WGqi")),M=a(n("7vIQ"));t.computeComponents=function(e){var t=e.displayAdsIsVariant,n=e.isRentalEstimateEligible,a=e.isInFullScreenMapRevamp,x=e.shouldSeePaymentCalcSaleProceedsRevamp,F=e.inSchoolsUpdateForUS,B=e.isREBGV,H=e.isCRMLS;return[C.default,S.default,{component:s.default,shouldRender:!H},b.default,I.default,f.default,{component:l.default,shouldRender:!H},{component:l.default,shouldRender:H,additionalDependencies:["priceDropInfo","popularityInfo","hotMarketInfo","rareFindInfo","datePickerInfo"],additionalProps:{shouldRenderUrgency:!0}},R.default,{component:k.default,additionalDependencies:["commuteInfo"]},{component:O.default,shouldRender:a},{component:h.default,additionalProps:{avmEdition:!1},shouldRender:!B},{component:P.default,shouldRender:x&&(0,w.shouldRenderDisplayAds)()&&t,additionalProps:{adUnitDivId:(0,w.getDetailsPageDisplayAdIds)("top",!0)}},{component:P.default,shouldRender:(0,w.shouldRenderDisplayAds)()&&!t,additionalProps:{adUnitDivId:(0,w.getDetailsPageDisplayAdIds)("top",!1)}},{component:p.default,shouldRender:x},{component:L.default,shouldRender:x},{component:D.default,shouldRender:x},E.default,{component:P.default,shouldRender:!x&&(0,w.shouldRenderDisplayAds)()&&t,additionalProps:{adUnitDivId:(0,w.getDetailsPageDisplayAdIds)("top",!0)}},{component:P.default,shouldRender:(0,w.shouldRenderDisplayAds)()&&!t,additionalProps:{adUnitDivId:(0,w.getDetailsPageDisplayAdIds)("middle",!1)}},{component:p.default,shouldRender:!x},{component:L.default,shouldRender:!x},M.default,{component:D.default,shouldRender:!x},{component:P.default,shouldRender:(0,w.shouldRenderDisplayAds)()&&t,additionalProps:{adUnitDivId:(0,w.getDetailsPageDisplayAdIds)("middle",!0)}},o.default,{component:P.default,shouldRender:(0,w.shouldRenderDisplayAds)()&&!t,additionalProps:{adUnitDivId:(0,w.getDetailsPageDisplayAdIds)("bottom",!1)}},{component:h.default,additionalProps:{avmEdition:!1},shouldRender:!!B},{component:u.PropertyHistory,additionalProps:{propertyHistoryMediaBrowser:c.default,isActivish:!0}},{component:d.default,additionalProps:{isMobile:!1}},{component:_.default,shouldRender:!F},{component:v.default,additionalProps:{isDesktop:!0},shouldRender:F},A.default,m.default,r.default,g.default,N.default,i.default,{component:T.default,shouldRender:n},y.default]}},T5KL:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("J4zp")),o=a(n("lSNA")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("lSCD")),u=a(n("k4Da")),c=a(n("3WF5")),d=(a(n("UfWW")),a(n("LDFp"))),f=a(n("BEQQ")),p=a(n("RPzR")),m=a(n("N9LJ")),h=n("fRrM"),g=a(n("cXUB")),_=a(n("fnAH")),v=a(n("8Llx")),y=a(n("94Bj")),E=a(n("QyVa")),S=n("cMqt"),I=n("UHaK"),T=a(n("ZpgJ")),C=a(n("7kw5")),b=n("BBj3"),k=n("I5FW"),R=n("w3Q5"),O=n("JMoV"),N=n("Zq6W"),A=n("bDBP"),P=n("DW2W"),D=n("654m"),w=n("J4mS"),L=n("1bZv"),M=a(n("yFtP")),x=a(n("/4Do")),F=a(n("KSYk")),B=a(n("zAF+")),H=a(n("EFxy")),U=a(n("0XUH")),j=a(n("jbRb")),q=a(n("xoOV")),W=a(n("7AK6")),V=a(n("Aswq")),G=a(n("THX5")),K=a(n("dQ1x")),Y=a(n("YrdL")),z=a(n("tXIs")),X=a(n("tIvH")),Q=a(n("oBVS")),J=a(n("oJpM")),Z=n("mRY2");function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n("YDLl"),n("uzmD"),d.default.ensure(n("g752"),n("gsk5"),n("Cmlf"),n("oHq4"));var te=function(){function e(){(0,i.default)(this,e)}return(0,s.default)(e,[{key:"setConfigValues",value:function(){return(0,P.addUserSurveyIdToLoad)(217350),(0,P.addUserSurveyIdToLoad)(217415),(0,o.default)({xdpHeaderMinWidth:!0,statsdSampleRate:.01,refreshAfterLogin:!0},h.ONE_TAP_PAGE_NAME_KEY,(0,D.getGoogleOneTapConfigForXDP)(!1))}},{key:"handleRoute",value:function(e){var t=this,n=this.getRequest().getQuery(),a=n.referrer;"featured-listing"===a&&Y.default.setRiftParams({referrer:a}),B.default.setBundleName(this.getBundleName()),J.default.setFirstMeaningfulPaintId("img-card"),this.getDelayLoadedBundleName&&B.default.addHeadStylesheetForChunk({bundleName:this.getDelayLoadedBundleName()}),this._initialStore=m.default.getInitialDataStore(),this._pageStoreDeferred=g.default.defer();var r=g.default.defer();return this._initialStore.when("urlData").then(function(){var e=t._initialStore.state.urlData;e?(T.default.setRiftPageType(e.riftPageType),C.default.addTag(e.riftPageType),Q.default.addPrefetchForBundle(e.deviceConfig===g_deviceConfiguration.DESKTOP?"AsyncDesktopMediaDialog":"AsyncMobileMediaDialog",["BUNDLE_CSS","BUNDLE_JS"]),(0,b.setBusinessMarketCookies)({marketName:e.marketName,businessMarketIds:e.businessMarkets}),r.resolve({code:e.returnCode,jsBelowTheFold:!0})):_.default.log("Unable to resolve return code")}),g.default.all([U.default.whenReady(),this._initialStore.when("urlData"),this._initialStore.when("primaryRegionInfo")]).then(function(){var a=t._initialStore.state,r=a.urlData,o=a.primaryRegionInfo,i=void 0===o?{}:o;if(r){r.pageExperimentInfo&&r.pageExperimentInfo.displayAdsExperimentEligibility&&(r.pageExperimentInfo.displayAdsExperimentEligibility.isEligible?C.default.addTag("display_ads_isOn"):C.default.addTag("display_ads_isOff")),t.isEligibleForSimilarsCarousel=y.default.isOn(y.default.feature.LDP_FB_LANDINGS_MOBILE_CAROUSEL)&&"1"===n[O.FB_SIMILAR]&&(r.pageType===g_detailsPageType.ACTIVE||r.pageType===g_detailsPageType.ACTIVE_PENDING)&&r.deviceConfig===g_deviceConfiguration.PHONE;var s=y.default.isOn(y.default.feature.XDP_PRELOAD_IMAGE)||n.hasOwnProperty("force_preloadImage");r.preloadImageUrls&&r.preloadImageUrls.length&&r.preloadImageUrls.length>0&&s&&t._initialStore.when("bouncyHouseFlags").then(function(e){var t=(0,e.bouncyHouseFlags)("DP_USE_SRCSET"),n=r.preloadImageUrls[0];r.preloadImageUrls.length>1&&(n=r.preloadImageUrls[1],y.default.isOn(p.default)&&(n=(0,I.getWebpImageUrl)(n))),(t.on&&"VARIANT"!==t.cohort||!t.on)&&H.default.setImageUrl(n)}),t._initialStore.when("bouncyHouseFlags").then(function(e){var n=(0,e.bouncyHouseFlags)("DISPLAY_ADS_2022_DP_V2_REDEPLOY");E.default.startExperiment(n),n.on&&"VARIANT"===n.cohort?t._initialStore.state.urlData.displayAdsIsVariant=!0:t._initialStore.state.urlData.displayAdsIsVariant=!1});var l={listingId:r.listingId,propertyId:r.propertyId,dataSourceId:r.dataSourceId,accessLevel:v.default.accessLevel(),searchBoxStoreName:"XDPHeaderSearchBox",marketId:r.marketId,pageExperimentInfo:r.pageExperimentInfo||{},deviceConfig:r.deviceConfig,queryParams:n,businessMarkets:r.businessMarkets||[],primaryRegionInfo:{regionTableId:i.tableId||null,regionTypeId:i.regionType||null,mapPageTypeId:g_mapPageType.ROOT},pageType:r.pageType,isLandingSession:r.isLandingSession,mlsId:r.mlsId,promisedBouncyHouseFlags:t._initialStore.when("bouncyHouseFlags").then(function(e){return e.bouncyHouseFlags})};y.default.isOn(f.default)&&(t._stateStore={navMenuStore:new F.default({canonicalUrl:"/property/"+r.propertyId})},z.default.setNavMenuStore(t._stateStore.navMenuStore));var u=g_deviceConfiguration.idToObj[r.deviceConfig].displayName;C.default.addTag(u);var c=t.getPageStore();t._pageStore=new c(l),t._pageStoreDeferred.resolve(t._pageStore),t._searchBoxStore=new M.default({userData:x.default.getCurrentUserData(),name:l.searchBoxStoreName,page:t.getRequest().getUrl(),isLoggedIn:v.default.isLoggedIn(),pageType:t.isMobile()?"m":"d"}),j.default.setExtraParams({property_id:r.propertyId,listing_id:r.listingId});var d=t._pageStore._endpointPromises.getHomeDetailsPageHeaderInfo.then(function(e){return(0,Z.setLastDpRegionUrl)(e.cityUrl),(0,Z.setLastDpRegionName)(e.cityName),(0,w.setLocalizedNavLastRegionUrl)(e.cityUrl),(0,w.setLocalizedNavLastRegionName)(e.cityName),e}),m=function(){z.default.setBackButtonVariantProps((0,Z.getLinkToPage)(parseInt((0,Z.getLastNavCookie)(),10),{searchUrl:"#",defaultSearchUrl:d.then(function(e){return e.cityUrl}),shouldRerenderWithSearchUrl:!0}))};if(t.isEligibleForSimilarsCarousel){var h=t._pageStore._endpointPromises.getSimilarsCarouselInfo,g=function(e){return!!e&&e.listings.homes.length>=3};z.default.setBackButtonVariantProps({showMobileLandingVariant:!!h&&h.then(g),backButtonName:d.then(function(e){return oe(e.cityName)}),backButtonUrl:d.then(function(e){return e.cityUrl}),searchBox:{show:!!h&&h.then(function(e){return!g(e)})}})}else r&&r.isLandingSession?z.default.setBackButtonVariantProps({backButtonName:"Search",backButtonUrl:d.then(function(e){return e.cityUrl})}):"myredfin"===n.utm_source&&"email"===n.utm_medium?y.default.resolve(["MWEB_BACK_TO_FEED_FROM_EMAIL_LANDINGS"]).then(function(e){var t=e("MWEB_BACK_TO_FEED_FROM_EMAIL_LANDINGS");E.default.startExperiment(t),"VARIANT"===t.cohort?z.default.setBackButtonVariantProps({backButtonName:"Feed",backButtonUrl:"/feed"}):m()}):m();z.default.setTurnOnNavMenuFeedIconWithCount(),t._pageStore.when("addressSectionInfo").then(function(e){var t=e.addressSectionInfo,n=t.beds,a=t.zip,r=t.priceInfo.amount,o=t.city,i=ee(ee({},l.primaryRegionInfo),{},{beds:n,zip:a,amount:r,city:(0,L.formatSentenceCase)(o)||""});W.default.setWidgetContextData("SaveSearchBannerWidget",i),W.default.setWidgetContextData("SaveSearchDrawerWidget",i)}),W.default.setWidgetContextData("AskAgentVideoTourUploadFormWidget",{propertyId:l.propertyId,listingId:l.listingId}),W.default.setWidgetContextData("ExternalVideoTourUploadBannerWidget",{propertyId:l.propertyId});var S={propertyId:l.propertyId};W.default.setWidgetContextData("AppInstallDrawerWidget",{deepLinkParams:S}),X.default.setWidgetContextData({deepLinkParams:S}),z.default.setSearchBoxStore(t._searchBoxStore),t._pageStore.when("personalizationInfo").then(function(e){var t=e.personalizationInfo,n={property_id:l.propertyId};null!==t.isXout&&(n.x_out=t.isXout),null!==l.listingId&&(n.listing_id=l.listingId),l.mlsId&&(n.mls_id=l.mlsId),l.dataSourceId&&(n.data_source_id=l.dataSourceId),void 0!==Y.default&&Y.default.setRiftParams&&Y.default.setRiftParams(n)}),G.default.setDisclaimers(t._pageStore.when("amenitiesInfo").then(function(){var e=t._pageStore.state.amenitiesInfo,n=[];return[g_countryCode.UNITED_STATES].indexOf((0,k.getCurrentCountryCode)())>=0&&n.push(K.default.GREAT_SCHOOLS_ATTRIBUTION()),e&&e.mlsDisclaimerInfo&&e.mlsDisclaimerInfo.showDisclaimerInFooter&&n.push(K.default.MLS_DISCLAIMER(e.mlsDisclaimerInfo)),n})),V.default.optInPageZoom(),e(),t.beforeRouteResolution&&t.beforeRouteResolution()}else _.default.log("something went wrong")}.bind(this)).catch(function(e){_.default.log("Something went really wrong - ".concat(e))}),(0,A.clobberReactServerHistoryNavigationStackFrame)(),r.promise}},{key:"getElements",value:function(){var e=this.getCommonDependencies(),t=this.extractAndRenderBundleSplittingMetadata(),n=this.renderComponents(e,"Header"),a=this.renderComponents(e,"AboveTheRail"),r=this.renderComponents(e,"AlongTheRail"),o=this.renderComponents(e,"Rail"),i=this.renderComponents(e,"BelowTheRail");return[React.createElement(I.JSDetectionScript,null),t,n,React.createElement(S.RootContainer,{className:"aboveBelowTheRail"},React.createElement(S.RootContainer,{className:"aboveTheRail criticalComponents pageComponentsContainer",key:"above",id:"overview-scroll"},a),React.createElement(S.RootContainer,{className:"alongTheRail",key:"along"},r),React.createElement(S.RootContainer,{className:"theRail",key:"theRail"},o)),React.createElement(S.RootContainer,{className:"belowTheRail",key:"below"},i)]}},{key:"extractAndRenderBundleSplittingMetadata",value:function(){var e=0,t=0,n=0,a=0,r=[],o=window?window._dpBundleSplittingMetadata:{},i=o.numAlongTheRailEntries;e=void 0===i?0:i;var s=o.numRailEntries;t=void 0===s?0:s;var l=o.numBelowTheRailEntries;n=void 0===l?0:l;var u=o.indexOfTheFold;a=void 0===u?0:u;var c=o.delayLoadedEntryNames;r=void 0===c?[]:c,this.bundleSplittingMetadata={numAlongTheRailEntries:e,numRailEntries:t,numBelowTheRailEntries:n,indexOfTheFold:a,delayLoadedEntryNames:r};var d="window._dpBundleSplittingMetadata=".concat(JSON.stringify(this.bundleSplittingMetadata),";");return React.createElement("script",{type:"text/javascript",dangerouslySetInnerHTML:{__html:d}})}},{key:"renderComponents",value:function(e,t){for(var n=[],a=this["get".concat(t,"Components")]?this["get".concat(t,"Components")]():[],r=0;r<a.length;++r){var o=a[r],i=this.renderCriticalComponentEntry(o,e,r);i&&n.push(i)}return n}},{key:"renderCriticalComponentEntry",value:function(e,t,n){var a=e.component,r=e.additionalProps,o=e.additionalDependencies,i=e.pageLayoutClassNameOverride;if(!a)return console.error("INVALID COMPONENT SPECIFIED FOR renderCriticalComponentEntry"),null;var s=(0,I.determineComponentDependencies)(a,t,o),l=s.dependencies,u=s.clientDependencies,c=(0,I.determineComponentPageLayoutClassName)(a,i,this.getComponentOrderingConfigs()),d="cc-".concat(n);return React.createElement(S.RootElement,{listen:this._pageStore.whenEmitter(l,u),className:c,key:d},React.createElement(a,r))}},{key:"getCommonDependencies",value:function(){return["experimentStore","listingId","propertyId","dataSourceId","deviceConfig","queryParams"]}},{key:"getAboveTheRailComponents",value:function(){if(this.getAboveTheRailComponentsCalculator){var e=this.getAboveTheRailComponentsCalculator();return this.computeEntries(e)}console.error("Tried to call HomeDetailsBasePage's getAboveTheRailComponents with no import! This is NOT supported!")}},{key:"getHeaderComponents",value:function(){return this.computeEntries(this.getHeaderComponentsOrderingCalculator())}},{key:"getAlongTheRailComponents",value:function(){return this.computeEntries(this.getAlongTheRailComponentsOrderingCalculator())}},{key:"getRailComponents",value:function(){return this.computeEntries(this.getRailComponentsOrderingCalculator())}},{key:"getBelowTheRailComponents",value:function(){return this.computeEntries(this.getBelowTheRailComponentsOrderingCalculator())}},{key:"computeEntries",value:function(e){var t=this.getComponentOrderingConfigs(),n=e.computeComponents(t);return ne(n)}},{key:"getTitle",value:function(){var e=this;return this._initialStore.when("pageTagsInfo").then(function(){var t=e._initialStore.state.pageTagsInfo;return t?t.pageTitle:""})}},{key:"getMetaTags",value:function(){var e=this;return this._initialStore.when("pageTagsInfo").then(function(){var t=e._initialStore.state.pageTagsInfo;return t?t.metaTags:[]})}},{key:"getLinkTags",value:function(){var e=this;return this._initialStore.when("pageTagsInfo").then(function(){var t=e._initialStore.state.pageTagsInfo;return t?t.linkTags:[]})}},{key:"getBodyClasses",value:function(){var e=this;return g.default.all([this._initialStore.when("urlData"),this._pageStoreDeferred.promise]).then(function(t){var n=(0,r.default)(t,1)[0].urlData,a=["HomeDetailsPage"];return a.push(e.isMobile()?"mobileDP":"desktopDP"),a.push(re(n)?"phoneForTablet":""),a.push(n.deviceConfig===g_deviceConfiguration.TABLET?"tablet":""),(0,N.setContentColumnWidth)(728),a})}},{key:"isMobile",value:function(){return this._initialStore.state.urlData.deviceConfig!==g_deviceConfiguration.DESKTOP}},{key:"getComponentOrderingConfigs",value:function(){var e=this._initialStore.state.urlData,t=(0,k.getCurrentCountryCode)()===g_countryCode.UNITED_STATES;return{displayAdsIsVariant:e.displayAdsIsVariant,inSchoolsUpdateForUS:t,hasAvm:e&&e.hasAvm,isPropertyPage:e&&!e.listingId,deviceConfig:e&&e.deviceConfig,isRentalEstimateEligible:e&&(0,R.isRentalEstimateEligible)(e.marketId),useScrollStateControllerForSideRail:!1,isREBGV:e&&256===e.dataSourceId,isCRMLS:e&&45===e.dataSourceId}}}],[{key:"middleware",value:function(){return[H.default,q.default,Q.default]}}]),e}();t.default=te;var ne=function(e){var t=(0,c.default)(e,ae);return(0,u.default)(t,function(e){return e.shouldRender})},ae=function(e){(0,l.default)(e)&&(e={component:e});var t=e,n=t.component,a=t.additionalProps,r=void 0===a?{}:a,o=t.additionalDependencies,i=void 0===o?[]:o,s=t.shouldRender,u=void 0===s||s,c=t.pageLayoutClassNameOverride;return{component:n,additionalProps:r,additionalDependencies:i,shouldRender:u,pageLayoutClassNameOverride:void 0===c?null:c}},re=function(e){return!!(e&&e.pageExperimentInfo&&e.pageExperimentInfo.eligibleForADPTabletRefresh)},oe=function(e){var t=!e||e.length>28;return"More ".concat(t?"Nearby":e," Homes")};e.exports=t.default},T7PP:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("QILm")),i=(a(n("17x9")),a(n("mXGw"))),s=a(n("8Jek")),l=a(n("sy14")),u=["agentInfo","brokerName","license","licenseLabel","heading","showAgentText","hideRedfinAgentPhoneNumber"],c=["agentInfo","brokerName","license","licenseLabel","heading","showAgentText","hideRedfinAgentPhoneNumber"],d=function(e){var t=e.shouldAppendDot,n=void 0!==t&&t,a=e.license,r=e.licenseLabel;return a||r?i.default.createElement("span",{className:"agentLicenseDisplay"},n&&i.default.createElement(l.default,null),r,a):null};d.propTypes={};var f=function(e){var t=e.agentInfo,n=null;if(t&&t.agentId){var a="/tools/listing-agents/"+t.agentId;n=i.default.createElement("a",{target:"_blank",href:a,className:"agent-only-link"},"View in Agent Tools")}return n},p=function(e){var t=e.agentInfo;return t.isRedfinAgent?i.default.createElement("a",{href:t.agentUrl,target:"_top"},t.agentName):i.default.createElement("span",null,t.agentName)},m=function(e){var t=e.agentPhoneNumber,n=e.brokerPhoneNumber,a=e.agentEmailAddress,r=e.brokerEmailAddress,o=e.hideRedfinAgentPhoneNumber,l=e.showAgentText;if(t||n){var u=null,c=t&&(t.displayLevel===g_displayLevel.AGENT_ACCESSIBLE||o&&l)?"agent-only-link":"agent-info-link";if(t&&t.phoneNumber){var d=(0,s.default)({"phone-number-entry":!0,"agent-only":t.displayLevel===g_displayLevel.AGENT_ACCESSIBLE||o&&l});u=i.default.createElement("span",{className:d,"data-rf-test-id":"agentInfoItem-agentPhoneNumber"},i.default.createElement("a",{className:c,href:"tel:".concat(t.phoneNumber)},t.phoneNumber)," (agent)")}var f=null,p=null,m=n&&(n.displayLevel===g_displayLevel.AGENT_ACCESSIBLE||o&&l)?"agent-only-link":"agent-info-link";if(n&&n.phoneNumber){var h=(0,s.default)({"phone-number-entry":!0,"agent-only":n.displayLevel===g_displayLevel.AGENT_ACCESSIBLE||o&&l});f=i.default.createElement("span",{className:h,"data-rf-test-id":"agentInfoItem-brokerPhoneNumber"},i.default.createElement("a",{className:m,href:"tel:".concat(n.phoneNumber)},n.phoneNumber)," (broker)"),p=r?i.default.createElement("p",null,i.default.createElement("a",{target:"_blank",href:"mailto:".concat(r),className:h},i.default.createElement("span",{className:m},r," (broker)"))):null}var g=(0,s.default)({"phone-number-entry":!0,"agent-only":n&&n.displayLevel===g_displayLevel.AGENT_ACCESSIBLE||t&&t.displayLevel===g_displayLevel.AGENT_ACCESSIBLE||o&&l}),_=a?i.default.createElement("p",null,i.default.createElement("a",{target:"_blank",href:"mailto:".concat(a),className:g},i.default.createElement("span",{className:c},a," (agent)"))):null,v=(0,s.default)({"agent-extra-info":!0,"agent-info-visibility":o&&!l});return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:v},i.default.createElement("p",{className:"phone-numbers"},u),_),i.default.createElement("div",{className:v},i.default.createElement("p",{className:"phone-numbers"},f),p))}return null};m.propTypes={};var h=function(e){var t=e.agentInfo,n=e.brokerName,a=e.license,s=e.licenseLabel,l=e.heading,c=e.showAgentText,h=e.hideRedfinAgentPhoneNumber,g=(0,o.default)(e,u),_=t?!t.isAgentNameBlank&&i.default.createElement(p,{agentInfo:t}):null,v=_&&c&&t.agentId&&[i.default.createElement("br",null),i.default.createElement(f,{agentInfo:t,mobile:!0})],y=a||s,E=_||n||y;return i.default.createElement("div",{className:"agent-info-item listingSource font-size-small","data-rf-test-id":"agentInfoItem-agentDisplay"},i.default.createElement("div",{className:"agent-basic-details"},E&&l,Boolean(_)&&_,Boolean(_)&&y&&", ",Boolean(v)&&[v,i.default.createElement("br",null)],i.default.createElement(d,{shouldAppendDot:!1,license:a,licenseLabel:s}),Boolean(n)&&(Boolean(_)||y)&&", ",Boolean(n)&&n),i.default.createElement(m,(0,r.default)({agentInfo:t,hideRedfinAgentPhoneNumber:h,showAgentText:c},g)))},g=function(e){var t=e.agentInfo,n=e.brokerName,a=e.license,s=e.licenseLabel,u=e.heading,h=e.showAgentText,g=e.hideRedfinAgentPhoneNumber,_=(0,o.default)(e,c),v=t&&!t.isAgentNameBlank&&i.default.createElement(p,{agentInfo:t}),y=n&&(v&&!t.isAgentNameBlank?i.default.createElement("span",null," ",i.default.createElement(l.default,null)," ",n," "):i.default.createElement("span",null,n));return i.default.createElement("div",{className:"agent-info-item","data-rf-test-id":t&&t.isRedfinAgent?"agentInfoItem-redfinAgentDisplay":"agentInfoItem-agentDisplay"},i.default.createElement("div",{className:"agent-basic-details font-color-gray-dark"},i.default.createElement("span",null,!!u&&u,!t.isAgentNameBlank&&[v," "],!t.isAgentNameBlank&&h&&[i.default.createElement(f,{agentInfo:t})," "],i.default.createElement(d,{shouldAppendDot:!0,licenseLabel:s,license:a}),y)),i.default.createElement(m,(0,r.default)({agentInfo:t,hideRedfinAgentPhoneNumber:g,showAgentText:h},_)))};g.propTypes={};var _=function(e){var t=e.deviceConfig,n=e.accessLevel===g_accessLevel.REDFIN_AGENT;return t===g_deviceConfiguration.PHONE?i.default.createElement(h,(0,r.default)({},e,{showAgentText:n})):i.default.createElement(g,(0,r.default)({},e,{showAgentText:n}))};_.propTypes={};var v=_;t.default=v,e.exports=t.default},TFvR:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n("17x9"));var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("YAhj")),i=a(n("gOpR")),s=a(n("Lo1E")),l=a(n("TtS1")),u=a(n("Ipvh")),c=a(n("ajZI")),d=n("osI4"),f=n("jDxM"),p=a(n("1AMb")),m=a(n("D4D0")),h=a(n("Irq/"));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n("XNIy");var _=function(e){var t=e.tourInsightsInfo,n=e.mainHouseInfo,a=e.accessLevel,r=e.isCollapsible,g=e.propertyId,_=e.listingId,v=e.deviceConfig,y=(0,o.useRef)();(0,o.useEffect)(function(){if(t&&y.current){var e=null;switch(t.displayLevel){case s.default.SIGN_IN.id:e="login_censored";break;case s.default.VOW_UP.id:e="vow_cesored";break;case s.default.CENSORED.id:e="email_only";break;default:e="visible"}var n={num_current_insights:T(),num_previous_insights:C(),visibility:e},a=l.default[t.displayLevel];!a.isVisible&&a.isReachable&&(n.is_censored=!0),h.default.trackImpression(h.default.impressions.TOUR_INSIGHTS,n,y.current)}},[]);var E,S,I,T=function(){return t&&t.tourInsights?t.tourInsights.length:0},C=function(){return t&&t.previousTourInsights?t.previousTourInsights.length:0};if(t&&(t.tourInsights||a===i.default.id||t&&t.insightCreationPermission&&t.insightCreationPermission!==u.default.NONE.id))try{return I={num_current_insights:T(),num_previous_insights:C()},o.default.createElement(p.default,{name:"TourInsightsSection",id:"agent-insights-scroll",addTopRule:!0},o.default.createElement(c.default,{sectionName:(E="phone"===(0,d.getCurrentDeviceType)(),S=t&&t.addressInfo&&t.addressInfo.street,(0,f.calculateHeaderText)({sectionTitle:"Tour Insights",streetAddress:S,isMobile:E})),previewText:t.sectionPreviewText,section:"tourInsights",enabled:r,rfTestId:"tour-insights-expandable-preview",additionalRiftClickEventDetails:I},o.default.createElement("div",{id:"agent-insights-scroll",className:"sectionContainer ai","data-rf-test-id":"tourInsights",ref:y},function(){if(!t)return null;var e=t.displayLevel;if("number"!=typeof e||e===s.default.UNKNOWN.id)return null;var a=n&&n.source?n.source.dataSourceId:null;return o.default.createElement(m.default,{tourInsightsInfo:t,propertyId:g,listingId:_,dataSourceId:a,deviceConfig:v})}())))}catch(e){console.error("TourInsightsSection error: ".concat(e))}return null};_.displayName="TourInsightsSection",_.propTypes={},_.getComponentDependencies=function(){return{dependencies:["tourInsightsInfo","mainHouseInfo","accessLevel"]}};var v=_;t.default=v,e.exports=t.default},TLDH:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=a(n("pVnL")),s=a(n("lSNA")),l=C(n("mXGw")),u=n("Nusb"),c=a(n("92dU")),d=a(n("ma35")),f=n("f+7f"),p=a(n("9AFO")),m=C(n("7Wtv")),h=a(n("UT8e")),g=a(n("mqtc")),_=n("KKEr"),v=n("8FbS"),y=a(n("9PPi")),E=n("wTjA"),S=n("FprU"),I=a(n("sppR"));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function C(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}n("SFER");var k=(o={},(0,s.default)(o,f.SALE_PRICE_RANGE.id,["Schedule selling consultation",function(e){return"".concat(e?"partner":"brokerage","_cta_button")}]),(0,s.default)(o,f.REDFIN_DIRECT.id,["See Buying Options",function(){return"start_an_offer"}]),(0,s.default)(o,f.REDFIN_BROKERAGE_DATEPICKER.id,["Start an Offer",function(){return"start_an_offer"}]),(0,s.default)(o,f.PARTNER_DATEPICKER.id,["Start an Offer",function(){return"start_an_offer"}]),(0,s.default)(o,f.CASH_OFFER.id,["Schedule selling consultation",function(e){return"".concat(e?"partner":"brokerage","_cta_button")}]),(0,s.default)(o,f.DIRECT_ACCESS.id,["Start an Offer",function(){return"start_an_offer"}]),(0,s.default)(o,f.VIRTUAL_CMA.id,["Request a free analysis",function(){return"request_cma_button"}]),o),R=function(e){var t=e.mediaDialogStore,n=e.redfinNowHomeMomentInfoStore,a=e.personalizationInfo,r=e.mediaBrowserInfo,o=e.mainHouseInfo,T=e.contactBoxInfo,C=e.datePickerInfo,R=e.addressSectionInfo,O=e.propertyId,N=e.listingId,A=e.dataSourceId,P=e.deviceConfig,D=e.pageType,w=e.sideBarStore,L=e.inLightboxV2,M=e.opendoorPurchaseEstimateStore,x=(0,l.useMemo)(function(){return t.actions.ContactCTA||{}},[t.actions]),F=(0,l.useMemo)(function(){return!!(o&&R&&T&&C)},[o,R,T,C]),B=(0,l.useMemo)(function(){return!!(a&&n&&T&&[S.OFF_MARKET.id,S.RECENTLY_SOLD.id].includes(D))},[a,n,T,D]),H=(0,l.useMemo)(function(){return(0,_.getButtonType)({personalizationInfo:a,redfinNowHomeMomentInfoStore:n,contactBoxInfo:T,opendoorPurchaseEstimateStore:M})},[a,n,T,M]),U=(0,l.useMemo)(function(){var e=T&&(T.agentRequestAgent||T.recommendedAgent);return e&&e.getAgentType()===g_agentType.CONNECT},[T]),j=I.default.isPossiblyUnavailable(C),q=r.mlsId,W=r.brokerName,V=r.dataSourceLogo;return l.default.createElement(c.default,{mediaDialogStore:t,personalizationInfo:a,mlsId:q,brokerName:W,dataSourceLogo:V,renderInLineTourCTA:function(){if(!F||!(0,u.shouldShowStickyTourFooter)(C)||(0,m.isBDX)({contactBoxInfo:T,mainHouseInfo:o}))return null;if(j)return null;var e={listing_id:N,property_id:O,time_tile_displayed:C&&C.nextTourDisplayTimes&&C.nextTourDisplayTimes.length},t=T.agentRequestAgent||T.recommendedAgent;return l.default.createElement(p.default,(0,i.default)({touringAgent:t,listingId:N,riftParams:e,isPartnerTour:U,tourTimeZone:C.timeZoneStringId,isDesktop:!0},C))},renderFullScreenPhotoTourCTA:function(){var e=T.experienceData&&T.experienceData.isDirectOffer,t=T.experienceData&&T.experienceData.isDirectAccess,r=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,s.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({is_partner:U,redfin_direct:e},H&&(0,v.getStandardStickyOmdpFooterEventDetails)(H)),i=function(){return l.default.createElement(h.default,{section:"full_screen_media_browser_photo",target:k[w.customerExperience.id][1](U),eventDetails:r},l.default.createElement(d.default,{className:"OfferButton",onClick:x.whenSecondaryCTAButtonClicked},k[w.customerExperience.id][0]))},c=!!(L&&(0,E.isFunction)(x.whenSecondaryCTAButtonClicked)&&w.customerExperience&&k[w.customerExperience.id]);if(B){var p=!a.hasClaim||w.customerExperience===f.CASH_OFFER;return l.default.createElement(h.default,{section:"full_screen_media_browser_photo",target:a.hasClaim?"sell_cta":"owner_cta",eventDetails:r},l.default.createElement("div",{className:"SinglePhotoStickyFooter".concat(p&&c?" withOfferButton":"")},l.default.createElement(g.default,{className:"photoDialogstickyFooter StickyTourFooter",buttonType:H,personalizationInfo:a,redfinNowHomeMomentInfoStore:n,contactBoxInfo:T,listingId:N,propertyId:O,inquirySourceId:y.default.id}),p&&c&&l.default.createElement(i,null)))}return F&&(0,u.shouldShowStickyTourFooter)(C)?l.default.createElement(h.default,{section:"full_screen_media_browser_photo",target:t?"self_tour_button":"schedule_tour_button",eventDetails:r},l.default.createElement("div",{className:"SinglePhotoStickyFooter".concat(c?" withOfferButton":"")},l.default.createElement(m.default,{isRenderedOnMB:!1,className:"SinglePhotoStickyButton",isRenderedOnSinglePhoto:!0,deviceConfig:P,mainHouseInfo:o,addressSectionInfo:R,contactBoxInfo:T,datePickerInfo:C,listingId:N,dataSourceId:A,redfinDirect:e,isPartnerTour:U}),c&&l.default.createElement(i,null))):null},isDP:!0})};R.displayName="MediaDialogWithTourCTA",R.getComponentDependencies=function(){return{dependencies:["mediaDialogStore","personalizationInfo","mediaBrowserInfo","mainHouseInfo","contactBoxInfo","datePickerInfo","addressSectionInfo","pageType","redfinNowHomeMomentInfoStore","sideBarStore","inLightboxV2","opendoorPurchaseEstimateStore"]}};var O=R;t.default=O,e.exports=t.default},TTqj:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),d=a(n("17x9")),f=a(n("+f8N"));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var h=function(e){(0,s.default)(n,e);var t=m(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"renderHeader",value:function(){return c.default.createElement("div",{className:"minimizedHeader contactBoxHTML"},c.default.createElement("span",{className:"numAgentsForMinimizedHeader"},this.props.currentAgentIndex," of ",this.props.totalAgentCount," ",!this.props.isOnlyPartners&&"Redfin"," ",this.props.isOnlyPartners&&"Partner"," Agents in this area"))}},{key:"render",value:function(){return this.props.lazy?c.default.createElement(f.default,{height:"100%",once:!0},c.default.createElement("div",{className:"ContactBoxAgentChoiceHeader"},this.renderHeader())):c.default.createElement("div",{className:"ContactBoxAgentChoiceHeader"},this.renderHeader())}}],[{key:"displayName",get:function(){return"ContactBoxAgentChoiceHeader"}},{key:"propTypes",get:function(){return{lazy:d.default.bool,totalAgentCount:d.default.number,currentAgentIndex:d.default.number,isOnlyPartners:d.default.bool}}}]),n}(c.Component);t.default=h,e.exports=t.default},TrIJ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=_;var r=a(n("pVnL")),o=a(n("QILm")),i=a(n("mXGw")),s=a(n("8Jek")),l=(a(n("17x9")),a(n("VMur"))),u=a(n("Oydl")),c=a(n("jLLd")),d=a(n("zCAw")),f=a(n("MUw3")),p=a(n("4KIY")),m=a(n("6YqF")),h=a(n("UT8e")),g=["showChatInterface","getConversationStore","getContactInfoStore","isLoading","buttonLabelText","buttonClassNames","buttonInquirySource","shouldFadeMessageFlyout","mostRecentUnreadMessageContent","shortenButton","elongateButton","hideWidget","isFloatingWidget","promptUser","showPromptBadge","hasShownChatInterface","totalPromptedLdps","promptOnStickyFooter","inEndAndRateChatExperience"];function _(e){var t=e.showChatInterface,n=e.getConversationStore,a=e.getContactInfoStore,_=e.isLoading,v=e.buttonLabelText,y=e.buttonClassNames,E=e.buttonInquirySource,S=e.shouldFadeMessageFlyout,I=e.mostRecentUnreadMessageContent,T=e.shortenButton,C=e.elongateButton,b=e.hideWidget,k=e.isFloatingWidget,R=e.promptUser,O=e.showPromptBadge,N=e.hasShownChatInterface,A=e.totalPromptedLdps,P=e.promptOnStickyFooter,D=e.inEndAndRateChatExperience,w=(0,o.default)(e,g),L=R||P,M=t?i.default.createElement(u.default,(0,r.default)({conversationStore:n(),contactInfoStore:a(),shouldPrompt:L},w)):null,x=S?" fadeOut ":"",F=k?"floatingWidget":"fixedWidget",B="liveChat ".concat(L?"autoPrompt":"unreadMessage"," preview ").concat(F," ").concat(x),H=i.default.createElement("div",{className:"promptWrapper",onClick:function(){!function(e,t){m.default.trackClickWithDefaults(m.default.clicks.LIVE_CHAT_FLYOUT_BUTTON_CLICKED,{LDP_prompts:t}),p.default.toggleChatDialog(e)}(E,A)}},i.default.createElement("div",{className:"messageIcon"},i.default.createElement(f.default,null)),i.default.createElement("div",{className:"promptText"}," ",I," ")),U=i.default.createElement(d.default,{className:"liveChatButtonIcon",onClick:function(){p.default.closeFlyout(event)}}),j=i.default.createElement(l.default,{show:!!I,alignment:k?"center":"left",position:k?"left":"above",className:B,animateOnAppear:!0},I),q=i.default.createElement(l.default,{show:!!I,alignment:"left",position:"above",className:B,animateOnAppear:!0},i.default.createElement(h.default,{section:"sticky_footer",target:"chat_flyout",eventDetails:{LDP_prompts:A}},H),U),W=(0,s.default)({shortenButton:T,elongateButton:C,inEndAndRateChatExperience:D}),V="".concat(W," ").concat(y),G=(0,s.default)("liveChatWidget",{hideWidget:b});return i.default.createElement("div",{className:G},M,i.default.createElement(c.default,{isLoading:_,buttonLabelText:v,className:V,showChatInterface:t,mostRecentUnreadMessageContent:I,buttonInquirySource:E,showPromptBadge:O,shouldPrompt:L,hasShownChatInterface:N},L?q:j))}n("bDK4"),_.propTypes={},_.defaultProps={buttonClassNames:""},e.exports=t.default},TrNj:function(e,t,n){},TsXr:function(e,t,n){},"Tvr+":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("J4zp")),o=a(n("mXGw")),i=(a(n("17x9")),a(n("94Bj"))),s=a(n("z7Ey")),l=a(n("lcmt")),u=a(n("bW6B")),c=n("oJgL"),d=a(n("5gQI")),f=a(n("sppR")),p=a(n("4UNP")),m=function(e){var t=e.listingId,n=e.tourStartTime,a=e.timeZone,m=e.hasMultipleTours,h=o.default.useState(!1),g=(0,r.default)(h,2),_=g[0],v=g[1];if((0,s.default)(u.default.listingAddedToTour,function(e){e===t&&v(!0)}),_){var y=f.default.getPendingSectionTitle(!1,!0,!1);return o.default.createElement(d.default,{className:"AddToTourButton",description:o.default.createElement("p",{className:"font-weight-bold font-size-small"},y),button:{href:"/myredfin/tours",target:"_blank",rel:"noopener nofollow",className:"primary",children:"View Tour Details"}})}if(m)return o.default.createElement(d.default,{className:"AddToTourButton",button:{onClick:function(){return u.default.scrollToDatePicker(c.DATEPICKER_SCROLL_ID)},children:"Add Home to Upcoming Tour",className:"primary"}});if(!n||!a)return null;var E=l.default.format(n,a,"ddd, MM/D"),S=l.default.format(new Date(n),a,"h:mm A");return o.default.createElement(d.default,{className:"AddToTourButton",button:{className:"primary",onClick:i.default.isOn(p.default)&&"Variant"===i.default.getVariant(p.default)?function(){return u.default.scrollToDatePicker(c.DATEPICKER_SCROLL_ID)}:u.default.openAddToExistingTourDialog,children:o.default.createElement(o.default.Fragment,null,o.default.createElement("div",{className:"addHomeToTour font-weight-normal"},"Add Home to Tour"),o.default.createElement("div",{className:"upcomingTourTime margin-top-smallest font-size-smaller font-weight-normal"},"Your Upcoming Tour: ",E," at ",S))}})};m.propTypes={};var h=m;t.default=h,e.exports=t.default},UHaK:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.HomeDetailsPageComponentWrapper=t.DelayLoadedComponentWrapper=void 0,t.HomeDetailsTailScript=function(){return m.default.createElement("script",{type:"text/javascript",dangerouslySetInnerHTML:{__html:"window._HDPTailRendered=true;if(window._HDPTailRenderedCB){window._HDPTailRenderedCB();}"}})},t.determineComponentPageLayoutClassName=t.determineComponentDependencies=t.JSDetectionScript=void 0,t.getWebpImageUrl=function(e){return e.slice(0,-4)+".webp"};var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("lSNA")),f=a(n("JZM8")),p=a(n("17x9")),m=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw"));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var v=function(e){(0,l.default)(n,e);var t=_(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).onListenEmit=a.onListenEmit.bind((0,s.default)(a)),a.state={propsFromStore:e.initialPropsFromStore},a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=this.props.storeEmitter;this.unsubscribe=e(this.onListenEmit)}},{key:"componentWillUnmount",value:function(){this.unsubscribe()}},{key:"render",value:function(){var e=this.props,t=e.pageLayoutClassName,n=void 0===t?null:t,a=e.id,r=e.children,o=this.state.propsFromStore,i=m.default.cloneElement(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){(0,d.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},o));return m.default.createElement("div",{className:"pageComponentsContainer",id:a},m.default.createElement("div",{className:null!=n?n:"dp-col-sm-12 dp-col-md-8"},i))}},{key:"onListenEmit",value:function(e){this.setState({propsFromStore:e})}}]),n}(m.Component);t.HomeDetailsPageComponentWrapper=v,(0,d.default)(v,"defaultProps",{initialPropsFromStore:{}}),v.propTypes={};var y=function(e){(0,l.default)(n,e);var t=_(n);function n(e){var a;(0,o.default)(this,n),(a=t.call(this,e)).onListenEmit=a.onListenEmit.bind((0,s.default)(a));var r=a.props,i=r.pageStore,l=r.dependencies,u=r.clientDependencies;return a.state={childrenProps:(0,f.default)(i.state,l.concat(u))},a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.pageStore,n=e.dependencies,a=e.clientDependencies;t.whenEmitter(n,a)(this.onListenEmit)}},{key:"render",value:function(){var e=m.default.cloneElement(this.props.children,this.state.childrenProps);return m.default.createElement("div",{className:"delayLoadedComponentWrapper pageComponentsContainer"},m.default.createElement("div",{className:this.props.pageLayoutClassName},e))}},{key:"onListenEmit",value:function(e){this.setState({childrenProps:e})}}],[{key:"propTypes",get:function(){return{pageStore:p.default.object.isRequired,dependencies:p.default.array,clientDependencies:p.default.array,pageLayoutClassName:p.default.string.isRequired}}}]),n}(m.Component);t.DelayLoadedComponentWrapper=y;t.JSDetectionScript=function(){return m.default.createElement("script",{key:"script",type:"text/javascript",dangerouslySetInnerHTML:{__html:'if(typeof document !== "undefined"){document.getElementById("content").className+=" has-js";}'}})};t.determineComponentDependencies=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=e.getComponentDependencies?e.getComponentDependencies():{},r=a.dependencies,o=void 0===r?[]:r,i=a.clientDependencies,s=void 0===i?[]:i;return{dependencies:t.concat(o,n),clientDependencies:s}};t.determineComponentPageLayoutClassName=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t||(e.getPageLayoutClassName?e.getPageLayoutClassName(n):"dp-col-sm-12 dp-col-md-8")}},UItQ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("ebVc")),o=n("JYaN"),i=a(n("qpT2")),s=[o.LocationPaneSale,r.default,i.default];t.default=s,e.exports=t.default},URif:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("LDFp"));o.default.ensure(n("tTYd"));var i=n("BQxr"),s=(0,r.default)(new i,{name:"ComingSoonSectionRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{COMING_SOON_RIFT_TRACKER:{section:"coming_soon_banner",target:"",expectedParams:["type","days_until_list"]}},clicks:{UPDATES_LINK:{section:"coming_soon_banner",target:"updates_link",expectedParams:["type","days_until_list"]},UPDATES_CANCEL_LINK:{section:"coming_soon_banner",target:"updates_cancel_link",expectedParams:["type","days_until_list"]},UPDATES_LINK_V2:{section:"address_banner_secondary",target:"updates_link",expectedParams:["type","days_until_list"]},UPDATES_CANCEL_LINK_V2:{section:"address_banner_secondary",target:"updates_cancel_link",expectedParams:["type","days_until_list"]},SCHEDULE_EARLY_TOUR_LINK:{section:"coming_soon_banner",target:"schedule_early_tour_link",expectedParams:["type","days_until_list"]}}});e.exports=s},UbZX:function(e,t,n){"use strict";var a=n("TqRt")(n("luvc")),r=n("cXUB"),o=n("m7qm"),i=n("eoGF"),s=n("chdG"),l=n("56UE"),u=o.createStoreFactory({mixins:[s],init:function(e){if(!e||!e.propertyId)throw new Error("propertyId not defined");this.setState({propertyId:e.propertyId,listingId:e.listingId,accessLevel:e.accessLevel,endpoint:e.endpoint})},getMomentProperties:function(){return r(i.get(this.state.endpoint)).then(function(e){if(e.resultCode!==g_apiResultCode.NO_ERROR)throw new Error({apiErr:e});var t=e.payload,n=t.shouldShowMoment;n&&this.setState({shouldShowMoment:n,momentMessage:t.message,momentTitle:t.title,momentActionTitle:t.actionTitle,momentImagePath:t.imagePath,numPrevPrompts:t.momentDisplayCounter,isMobile:(0,a.default)("screen-size")<a.default.screenSizes.MEDIUM})}.bind(this),function(e){throw new Error({xhrErr:e})})},listenables:l,onShouldShowTourHomeMoment:function(){this.getMomentProperties()}});e.exports=u},UkSt:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.KeyDetails=t.ExpandableKeyDetails=void 0;var r=a(n("lSNA")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("RIqP")),f=a(n("pVnL")),p=a(n("17x9")),m=n("mXGw"),h=a(n("8Jek")),g=a(n("KLmJ")),_=a(n("DlpU")),v=a(n("WqrT")),y=n("ss/Q"),E=n("osI4"),S=a(n("1RMg")),I=a(n("OFlL")),T=a(n("adRd")),C=a(n("ne2F")),b=a(n("Eo6n")),k=n("Irkk"),R=a(n("aVrQ")),O=a(n("bo1D"));function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}n("LnYm");var D=function(e,t){var n,a,r,o,i,s=e.content,l="phone"===(0,E.getCurrentDeviceType)(),u=null,c=(0,h.default)("keyDetail","font-weight-roman","font-size-base",{"agent-only":e.displayLevel===g_displayLevel.AGENT_ACCESSIBLE});if(e.statusInfo){var d=e.statusInfo;if(d.definition){var p=d.hasOwnProperty("longerDefinitionToken")&&d.longerDefinitionToken?"/definition/"+d.longerDefinitionToken:"";u=React.createElement(v.default,{term:d.displayValue,position:"below",alignment:"left",definition:d.definition,definitionLink:p,onClickDefinitionLink:function(){b.default.trackClick(b.default.clicks.STATUS_FLYOUT_LINK,{status:d.displayValue})}},d.displayValue)}else u=d.displayValue;return React.createElement("div",{className:c,key:"".concat(t,"-").concat(e.hidden)},React.createElement("span",{className:"header font-color-gray-light inline-block"},e.header),React.createElement("span",{className:"content text-right"},u))}if(e.shouldShowInfoFlyout){if(!l)return u=React.createElement("div",{className:"isDesktop inline-block"},(n="Buyer's Agent Commission",a=s,React.createElement(v.default,{position:T.default.position,alignment:T.default.alignment,term:T.default.term,definition:T.default.getPercentageDefinition(a),definitionLink:T.default.definitionLink,moreInfoText:T.default.moreInfoText,onClickDefinitionLink:function(){b.default.trackClick(b.default.clicks.BUYERS_COMMISSION_FLYOUT)}},n))),React.createElement("div",{className:c,key:"".concat(t,"-").concat(e.hidden)},React.createElement("span",{className:"header font-color-gray-light inline-block"},u),React.createElement("span",{className:"content text-right"},s));u=React.createElement(v.default,(0,f.default)({},T.default,{definition:T.default.getPercentageDefinition(s)}))}if(e.shouldShowTimeOnRedfinFlyout)return e.address&&e.mls?(r=e.address,o=e.mls,u=React.createElement("div",{className:"inline-block"},function(e,t,n,a){return React.createElement(v.default,{position:C.default.position,alignment:C.default.alignment,term:C.default.term,definition:C.default.getAllValues(t,n,a),moreInfoText:C.default.moreInfoText},e)}("Time on Redfin",r,s,o))):(i={position:"below",alignment:"left",definition:"This listing has been advertised as on-market on Redfin for ".concat(s)},u=React.createElement(v.default,i,"Time on Redfin")),React.createElement("div",{className:c,key:"".concat(t,"-").concat(e.hidden)},React.createElement("span",{className:"header font-color-gray-light inline-block"},u),React.createElement("span",{className:"content text-right"},s));if(e.showAVMFlyout){var m={position:"below",alignment:"left",definition:React.createElement(I.default,{riftTracker:b.default})};return u=React.createElement(v.default,(0,f.default)({},m,{onClickDefinitionLink:function(){b.default.trackClick(b.default.clicks.FLYOUT_LINK)}}),"Redfin Estimate"),React.createElement("div",{className:c,key:"".concat(t,"-").concat(e.hidden),"data-rf-test-id":"key-detail-estimate"},React.createElement("span",{className:"header font-color-gray-light inline-block"},u),React.createElement("span",{className:"content text-right"},s))}if(e.showLastPropertyFlyout){var _={position:"below",alignment:"left",definition:"The owner for this home paid "+e.amount+" in property taxes"+(e.currentYear?" in "+e.currentYear:"")+(e.percentChange?", "+e.percentChange+(e.increase?" more":" less")+" compared to "+e.previousYear+".":"."),term:"Last Property Tax",moreInfoText:"See tax history",definitionLink:"#property-history"};return u=React.createElement(v.default,(0,f.default)({},_,{onClickDefinitionLink:function(){b.default.trackClick(b.default.clicks.LAST_PROPERTY_TAX)},handleMoreInfoTextClick:function(){b.default.trackClick(b.default.clicks.LAST_PROPERTY_TAX_HISTORY_LINK)}}),"Last Property Tax"),React.createElement("div",{className:c,key:"".concat(t,"-").concat(e.hidden)},React.createElement("span",{className:"header font-color-gray-light inline-block"},u),React.createElement("span",{className:"content text-right"},s))}return s=e.url?"Building"===e.header?React.createElement("a",{href:e.url,target:"_top",className:"key-facts-link",onClick:w},s):React.createElement("a",{href:e.url,target:"_top",className:"key-facts-link"},s):g.default.checkHtml(s),React.createElement("div",{className:c,key:"".concat(t,"-").concat(e.hidden)},React.createElement("span",{className:"header font-color-gray-light inline-block"},e.header,u),React.createElement("span",{className:"content text-right"},s))};function w(){O.default.trackClick(O.default.clicks.KEY_DETAILS)}var L=function(e){var t=e.selectedAmenities,n=e.buildingInfo;if(!t||0===t.length)return null;var a=(0,d.default)(t);if(n&&Object.keys(n).length>0){var r={header:"Building"};r.content=n.buildingName,r.url=n.buildingUrl,a.push(r)}var o=a.filter(function(e){return e.category===y.CATEGORIES.PRICE_INSIGHTS}).map(D),i=a.filter(function(e){return e.category===y.CATEGORIES.HOME_FACTS}).map(D),s=o.length>0&&React.createElement("div",{className:"keyDetails--PriceInsights header font-weight-bold font-size-base"},"Price Insights"),l=i.length>0&&React.createElement("div",{className:"keyDetails--HomeFacts header font-weight-bold font-size-base"},"Home Facts");if(S.default.isOn(R.default)&&"VARIANT"===S.default.getVariant(R.default))return null;var u=[s,React.createElement("div",{className:"keyDetailsList"},o)],c=[l,React.createElement("div",{className:"keyDetailsList"},i)];return(0,k.getShouldSeePaymentCalcSaleProceedsRevamp)()?c.concat(u):u.concat(c)};t.KeyDetails=L,L.propTypes={};var M=function(e){(0,l.default)(n,e);var t=P(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).renderSegments=a.renderSegments.bind((0,s.default)(a)),a}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props&&this.props.isExpanded;return React.createElement(_.default,{section:"exposedKeyFacts",renderWrapper:React.createElement("div",{className:"keyDetailsList"}),numSegmentsToDisplayWhenCollapsed:8,expandText:"See More Facts",initiallyExpanded:e},this.renderSegments())}},{key:"renderSegments",value:function(){var e=this.props.selectedAmenities||[],t=e.filter(function(e){return e.category===y.CATEGORIES.PRICE_INSIGHTS}).map(D),n=e.filter(function(e){return e.category===y.CATEGORIES.HOME_FACTS}).map(D),a=React.createElement("div",{className:"keyDetails--PriceInsights header font-weight-bold font-size-base"},"Price Insights"),r=React.createElement("div",{className:"keyDetails--HomeFacts header font-weight-bold font-size-base"},"Home Facts"),o=t.length>0?[a].concat(t):[],i=n.length>0?[r].concat(n):[];return o.concat(i)}}],[{key:"propTypes",get:function(){return A(A({},L.propTypes),{},{isExpanded:p.default.boolean})}},{key:"defaultProps",get:function(){return{selectedAmenities:[],isExpanded:!1}}}]),n}(m.PureComponent);t.ExpandableKeyDetails=M},UrhC:function(e,t,n){"use strict";var a=n("RBnj");e.exports=(0,a.createActions)(["populateFloodData","showFloodDataOnMap","hideFloodDataOnMap","expandFloodDataSection","closeFloodDataSection"])},UxXj:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n("17x9"));var r=a(n("sy14")),o=a(n("gOpR")),i=function(e){var t=e.warningText,n=e.accessLevel;return t?React.createElement("div",{className:"MultipleListingsWarning","data-rf-test-id":"mainHouseInfo-warningStrip"},React.createElement(r.default,null),React.createElement("div",{"data-rf-test-id":"multipleListings",className:n===o.default.id?"agent-only":"",dangerouslySetInnerHTML:{__html:t}})):null};i.propTypes={},i.displayName="MultipleListingsWarning";var s=i;t.default=s,e.exports=t.default},V1Tj:function(e,t,n){},"V5+8":function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lSNA")),o=a(n("pVnL")),i=a(n("bG8c")),s=a(n("LDFp")),l=a(n("17x9")),u=n("cMqt"),c=a(n("nbo3")),d=a(n("M58V")),f=a(n("aBkE")),p=a(n("gnbf")),m=a(n("UT8e")),h=a(n("bW6B")),g=n("osI4"),_=a(n("8Llx")),v=a(n("cJUL")),y=n("1O0j"),E=n("huYw"),S=n("bKKb"),I=a(n("XucT")),T=a(n("yyJ6")),C=a(n("1gIN")),b=a(n("DOn3")),k=a(n("f+7f")),R=a(n("XAqm")),O=a(n("MMXu")),N=a(n("kdsQ")),A=a(n("dXiY")),P=n("SQRV"),D=n("Q+Iq"),w=a(n("xsdy")),L=a(n("7DXF")),M=a(n("SU4H")),x=a(n("POva")),F=n("CrDX"),B=a(n("cYqr")),H=n("oJgL"),U=a(n("RYnR")),j=a(n("sppR")),q=a(n("GiNY")),W=a(n("YSua")),V=a(n("aGe4")),G=a(n("ON6Z")),K=a(n("4UNP")),Y=n("10Vo"),z=n("P78k"),X=a(n("meQx"));function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}s.default.ensure(n("kzow"),n("MXNu"),n("TmV8"),n("QJ4A"),n("i9Je"),n("bG8c"));var J=n("YAhj"),Z=n("0VMN"),$=n("8Jek"),ee=n("Md6j"),te=n("1RMg"),ne=n("QP4D").isBrowser,ae=n("cMoY"),re=n("iv1k").default,oe=n("9QPH"),ie=n("ovDw"),se=n("ivAr"),le=n("1AMb"),ue=n("diFG"),ce=n("YPLX"),de=n("JBtx"),fe=n("4KIY"),pe=n("Luot"),me=n("wHB4"),he=n("k5w8"),ge=n("uuMR"),_e=n("Pg5S"),ve=n("T/5n"),ye=n("emCP"),Ee=n("r99K"),Se=n("7SUW"),Ie=u.logging.getLogger({name:"corvair.sites.customer-pages.pages.homeDetails.components.mainHouseInfoPanel.sidebar.SideBarContent",color:{server:227,client:"rgb(212,212,42)"}});n("Lv69");var Te=Z({displayName:"SideBarContent",mixins:[ee],propTypes:{addressSectionInfo:l.default.object,contactBoxInfo:l.default.object,datePickerInfo:l.default.object,dashboardUrl:l.default.string,mainHouseInfo:l.default.object,listingId:l.default.number,propertyId:l.default.number,tourHomeMomentInfoStore:l.default.object,opendoorPurchaseEstimateStore:l.default.object,pageLoadComplete:l.default.bool,sideBarStore:l.default.object,redfinNowHomeMomentInfoStore:l.default.object,cashOfferPlacementStore:l.default.shape({offerPrice:l.default.number,offerStatus:l.default.object,offerType:l.default.object,isActiveOffer:l.default.bool,isExpiredOffer:l.default.bool,isCashOfferMerchandisingEnabled:l.default.bool,hasRequestedRefreshedOffer:l.default.bool,hasSignedListingAgreement:l.default.bool,isPartnerForBrokerage:l.default.bool,offerPresentationLink:l.default.string,offerRangeLow:l.default.number,offerRangeHigh:l.default.number,offerRefreshLink:l.default.string,address:l.default.string,propertyId:l.default.number,storePromise:l.default.bool}),pageType:l.default.number,isiFramed:l.default.bool,queryParams:l.default.object,binnableToursStore:l.default.shape({loaded:l.default.bool,extendableTourIds:l.default.arrayOf(l.default.number),error:l.default.string})},datePickerTitleAnchorNode:null,getDefaultProps:function(){return{sideBarStore:{},openHouseStore:{}}},getInitialState:function(){return{showSellerConsultForm:!1,showAAQDialog:!1,hideStartAnOfferButton:!1}},UNSAFE_componentWillMount:function(){var e=this.isEligibleForAssignedAgentOffMarketDPExperiment(this.props),t=this.isInStandardizeAgentCTAsExperiment(this.props),n=this.props.claimedHomeSellerDataStore&&this.props.claimedHomeSellerDataStore.businessMarketId,a=(0,y.getListingFeeMessagingType)(n),r=j.default.shouldRequestExistingToursData(this.props.datePickerInfo),o=this.props.contactBoxInfo||{},i=k.default.REDFIN_DIRECT.id===o.experienceType,s=k.default.PARTNER_DATEPICKER.id===o.experienceType;this.setState({isEligibleForAssignedAgentOffMarketDPExperiment:e,isInStandardizeAgentCTAsExperiment:t,listingFeeMessagingType:a,showDatepickerExperimentSpinnerOnLoad:r,isPartnerServiced:s,isInRedfinDirectMarket:i})},componentDidMount:function(){if(this.props.contactBoxInfo){var e=(0,P.propertyIsActivish)(this.props.mainHouseInfo);ue.receivedContactBoxInfo.trigger(this.props.contactBoxInfo,e,this.props.listingId),this._initializeCustomerConversionInfoExperiment()}j.default.isEligibleForPossiblyUnavailableExperiment(this.props.datePickerInfo)&&W.default.trackImpression(W.default.impressions.POSSIBLY_UNAVAILABLE_LISTING),!j.default.shouldRequestExistingToursData(this.props.datePickerInfo)||this.props.binnableToursStore&&this.props.binnableToursStore.loaded||U.default.getExtendableToursForCurrentListing(this.props.datePickerInfo.existingTours),this.state.isEligibleForAssignedAgentOffMarketDPExperiment&&w.default.trackImpression(w.default.impressions.ASSIGNED_AGENT_OFF_MARKET_DP_EXPERIMENT_START),(0,Y.isEligibleBinSetExpectations)()&&c.default.trackImpression("bin_set_expectations_eligible"),this._logPartnerContactBoxMountMetric(),this._fireContactBoxLoadedAction(),this.unsubscribeScrollToDatePicker=h.default.scrollToDatePicker.listen(this.scrollToDatePickerTitle)},componentWillUnmount:function(){this.unsubscribeScrollToDatePicker&&this.unsubscribeScrollToDatePicker()},render:function(){var e="VARIANT_2"===te.getVariant(d.default),t=this.props.cashOfferPlacementStore,n=void 0===t?{}:t,a=$("bg-color-white",{"side-bar-content":this.props.deviceConfig===g_deviceConfiguration.DESKTOP,"tablet-side-bar-content":this.props.deviceConfig===g_deviceConfiguration.TABLET,"open-house-addition":e,"v2 noHover":e&&this.props.deviceConfig===g_deviceConfiguration.DESKTOP});if((0,F.isAgentMobile)(this.props.queryParams))return null;var r={zIndex:2};if((0,P.isBDXEligible)(this.props.mainHouseInfo)&&!(0,P.isAgentAssignedOrPending)(this.props.contactBoxInfo))return this.renderBuilderContact(a,r);if(!n.storePromise&&n.isCashOfferMerchandisingEnabled)return null;var i=this.renderCashOfferCTA(),s=null,l=null;if(!i){var u={isPrimaryCta:!(0,P.isHomeownerToolsPrimaryCta)(this.props.personalizationInfo)};s=this.renderCustomerConversionSection(u)}i||s||!(0,P.isHomeownerToolsShown)(this.props.deviceConfig,this.props.addressSectionInfo,this.props.contactBoxInfo,this.props.redfinNowHomeMomentInfoStore,this.props.mainHouseInfo,this.props.opendoorPurchaseEstimateStore)||(l=this.renderHomeOwnerTools());var c=this.props.deviceConfig===g_deviceConfiguration.PHONE?{addTopRule:!0,className:e?"":"padding-bottom-larger"}:null;return i||s||l||this.state.showSellerConsultForm||this.state.showAAQDialog?J.createElement(le,(0,o.default)({name:"SideBarContent"},c),J.createElement("div",{className:"sectionContainer",ref:"container"},J.createElement("div",{className:"side-bar-container"},J.createElement("div",{id:"sideBarContent",ref:"sideBarContent",className:a,style:r},l,s,i,this.state.showSellerConsultForm?this.renderSellerConsultFormDialog():null,this.state.showAAQDialog&&this.renderAAQDialog())))):null},renderBuilderContact:function(e,t){return J.createElement(le,{name:"SideBarContent"},J.createElement("div",{className:"sectionContainer",ref:"container"},J.createElement("div",{className:"side-bar-container"},J.createElement("div",{id:"sideBarContent",ref:"sideBarContent",className:e,style:t},J.createElement(N.default,(0,o.default)({datePickerInfo:this.props.datePickerInfo,contactBoxInfo:this.props.contactBoxInfo,propertyId:this.props.propertyId,listingId:this.props.listingId,deviceConfig:this.props.deviceConfig,mainHouseInfo:this.props.mainHouseInfo},(0,P.getClaimHomeCopy)(te.getVariant(X.default),this.props.addressSectionInfo.streetAddress.assembledAddress)))))))},renderCashOfferCTA:function(){var e=this.props.cashOfferPlacementStore,t=void 0===e?{}:e,n=this.props.opendoorPurchaseEstimateStore,a=void 0===n?{}:n,r=t.isPartnerForBrokerage,i=this.getPriceRangeRetreiver();if(i){var s=(0,P.shouldShowOMDPCashOfferActiveOrExpiredMerch)(t)?Number.MAX_SAFE_INTEGER:this.props.personalizationInfo&&this.props.personalizationInfo.claimCount||0,l=!!(0,P.shouldShowOMDPCashOfferActiveOrExpiredMerch)(t)||this.props.personalizationInfo&&this.props.personalizationInfo.hasClaim;return J.createElement(he,(0,o.default)({propertyId:this.props.propertyId,claimCount:s,hasClaim:l,consultMessaging:"Meet with a ".concat(r?"local agent":"Redfin Agent"," & discuss selling options"),activeCashOffer:t.isActiveOffer,expiredCashOffer:t.isExpiredOffer&&!t.hasSignedListingAgreement,isOpendoorOffer:t.offerType===G.default.OPENDOOR.id,renderPriceRange:i},(0,P.getClaimHomeCopy)(te.getVariant(X.default),this.props.addressSectionInfo.streetAddress.assembledAddress)))}return(0,P.shouldShowOpendoorMerch)(a)?this.renderOpendoorCTA():null},getPriceRangeRetreiver:function(){var e=this,t=this.props.redfinNowHomeMomentInfoStore,n=void 0===t?{}:t,a=n.estimate,r=void 0===a?{}:a,o=this.props.cashOfferPlacementStore,i=void 0===o?{}:o;if((0,P.shouldShowOMDPCashOfferActiveOrExpiredMerch)(i)){if(i.isActiveOffer)return function(t){var n=t.buttonType,a=t.riftDetails;return J.createElement(ve,{propertyId:e.props.propertyId,buttonType:n,buttonUrl:i.offerPresentationLink,isOpendoor:i.offerType===G.default.OPENDOOR.id,riftDetails:a,showCashOffer:Boolean(i.offerPrice),offerPrice:i.offerPrice})};if(i.isExpiredOffer)return function(t){var n=t.buttonType,a=t.riftDetails;return J.createElement(ye,{propertyId:e.props.propertyId,buttonType:n,buttonUrl:i.offerRefreshLink,actions:i.actions,disableButton:i.hasRequestedRefreshedOffer,isOpendoor:i.offerType===G.default.OPENDOOR.id,riftDetails:a,offerPresentationUrl:i.offerPresentationLink,showSalePriceEstimate:Boolean(i.offerRangeLow&&i.offerRangeHigh),minSalePriceRange:i.offerRangeLow,maxSalePriceRange:i.offerRangeHigh})}}return(0,P.shouldShowOMDPCashOfferMerch)(n)?function(t){var n=t.buttonType,a=t.riftDetails;return J.createElement(_e,{propertyId:e.props.propertyId,buttonType:n,riftDetails:a,showSalePriceEstimate:Boolean(r.offerRangeLow&&r.offerRangeHigh),minSalePriceRange:r.offerRangeLow,maxSalePriceRange:r.offerRangeHigh})}:null},renderOpendoorCTA:function(){var e=this,t=this.props.opendoorPurchaseEstimateStore,n=void 0===t?{}:t;return J.createElement(he,(0,o.default)({claimedHomeMerchTitle:"Thinking about selling this home?",propertyId:this.props.propertyId,claimCount:this.props.personalizationInfo&&this.props.personalizationInfo.claimCount||0,hasClaim:this.props.personalizationInfo&&this.props.personalizationInfo.hasClaim},(0,P.getClaimHomeCopy)(te.getVariant(X.default),this.props.addressSectionInfo.streetAddress.assembledAddress),{renderPriceRange:function(t){var a=t.buttonType,r=t.riftDetails;return J.createElement(Ee,{propertyId:e.props.propertyId,buttonType:a,riftDetails:r,opendoorEstimateValue:n.opendoorPurchaseEstimateValue})}}))},renderContactLinks:function(e,t){if(this._shouldHideContactLinks(t))return null;var n=j.default.isPossiblyUnavailable(this.props.datePickerInfo),a=this.props.contactBoxInfo,r=a.experienceData&&(0,D.doObjectGraph)()(a.experienceData.refundMessagingData);return J.createElement(se,(0,o.default)({liveChatWidgetAction:fe,riftParams:this.getRefundMessagingRiftParams(e),listingId:this.props.listingId,propertyId:this.props.propertyId,streetAddress:this.props.mainHouseInfo.streetAddress,deviceConfig:this.props.deviceConfig,contactBoxInfo:a,showAAQDialogCallback:this.showAAQDialogCallback},r,{showPartnerStartAnOffer:w.default.shouldShowPartnerStartAnOffer(a),renderAsAAQButton:t||n,onStartAnOfferClick:this.onStartAnOfferClick,onCtaClick:this.onContactLinkCtaClick,showPhoneLink:!t,showStartOfferLink:n&&!t,isPartnerServiced:this.state.isPartnerServiced,isInRedfinDirectMarket:this.props.isInRedfinDirectMarket,businessMarketId:this.props.datePickerInfo&&this.props.datePickerInfo.businessMarketId}))},renderStartOfferButton:function(e){var t=this.props.contactBoxInfo.recommendedAgent&&this.props.contactBoxInfo.recommendedAgent.getId&&this.props.contactBoxInfo.recommendedAgent.getId();return J.createElement("div",{className:"standaloneStartOffer padding-top-medium"},J.createElement(q.default,{isPartnerServiced:this.props.isPartnerServiced,listingId:this.props.listingId,isInRedfinDirectMarket:e,agentId:t,businessMarketId:this.props.businessMarketId,onClick:this.onStartAnOfferClick,renderAsLink:!0}))},onStartAnOfferClick:function(){j.default.isPossiblyUnavailable(this.props.datePickerInfo)&&W.default.trackClick(W.default.clicks.START_AN_OFFER,{listingId:this.props.listingId,underContractType:W.default.getUnderContractType(this.props.datePickerInfo)})},onContactLinkCtaClick:function(){j.default.isPossiblyUnavailable(this.props.datePickerInfo)&&W.default.trackClick(W.default.clicks.CTA_BUTTON,{listingId:this.props.listingId,underContractType:W.default.getUnderContractType(this.props.datePickerInfo)})},renderAgentInfo:function(){var e=this.props.contactBoxInfo.recommendedAgent,t=(0,P.getAgentName)(e);return w.default.trackImpression(w.default.impressions.AGENT_INFO_CARD_IMPRESSION),J.createElement("div",{className:"agentInfoWrapper margin-top-large"},J.createElement(ie,{firstNameLastName:t,cardHeading:"Your Redfin Agent",email:e._email,photoUrl120x120:e._photoUrl120x120,clientDisplayablePhoneNumber:e._clientDisplayablePhoneNumber,profileUrl:e._profileUrl,showIcons:!1}))},renderPartnerAgentInfo:function(){var e=this.props.contactBoxInfo.recommendedAgent,t=(0,P.getAgentName)(e);return J.createElement("div",{className:"partnerAgentInfo"},J.createElement(ie,{firstNameLastName:t,cardHeading:"Your Partner Agent",email:e._email,photoUrl120x120:e._photoUrl120x120,clientDisplayablePhoneNumber:e._clientDisplayablePhoneNumber,profileUrl:e._profileUrl,showIcons:!0}))},getRefundMessagingRiftParams:function(e){var t=this.props.contactBoxInfo.experienceData&&(0,D.doObjectGraph)()(this.props.contactBoxInfo.experienceData.refundMessagingData),n=this.props.contactBoxInfo.recommendedAgent,a=t&&t.refund,o=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({includes_refund:Boolean(a),has_refund:Boolean(a),has_phone_number:Boolean(a)},!!n&&{agent_id:n.getId(),star_rating:n.getAverageRating(),num_reviews:n.getNumReviews(),num_closed_deals:n.getHomesClosed(),is_partner:n.isPartner()});return void 0!==e&&(o.redfin_direct=e),o},renderRefund:function(e){if(this._shouldHideRefund())return null;var t=this.state.isPartnerServiced?{}:(0,D.doObjectGraph)()(this.props.contactBoxInfo.experienceData.refundMessagingData);return J.createElement(oe,{refund:t.refund,renderAsStartAnOfferLink:this.state.isPartnerServiced,listingId:this.props.listingId,agent:this.props.contactBoxInfo.recommendedAgent,deviceConfig:this.props.deviceConfig,riftParams:this.getRefundMessagingRiftParams(e),isAgentAssignedOrPending:(0,P.isAgentAssignedOrPending)(this.props.contactBoxInfo),isInRedfinDirectMarket:e,isPartnerServiced:this.state.isPartnerServiced,businessMarketId:this.props.datePickerInfo&&this.props.datePickerInfo.businessMarketId})},renderCustomerConversionSection:function(e){var t=e.isPrimaryCta,n=this.props.contactBoxInfo||{};if(!n.experienceType)return null;switch(n.experienceType){case k.default.BLOCKED_BOX.id:w.default.trackImpression(w.default.impressions.BLOCK_BOX);var a=null;return n.experienceData.blockedType===g_blockedContactBoxType.OUT_OF_AREA&&te.isOn(te.feature.PARTNER_AGENT_RECRUITMENT_CTA_OUT_OF_AREA)&&(a=this.renderPartnerProgramAd(!0,w.default.impressions.BLOCKBOX_PARTNER_RECRUITMENT_CTA_IMPRESSION,w.default.clicks.BLOCKBOX_PARTNER_RECRUITMENT_CTA_CLICK)),J.createElement("div",null,J.createElement("div",{className:"blockedContactBox"},J.createElement(R.default,(0,o.default)({},n.experienceData,this.props.mainHouseInfo,{propertyId:this.props.propertyId,isActiveDP:this.props.pageType===g_detailsPageType.ACTIVE,hasClaim:this.props.personalizationInfo&&this.props.personalizationInfo.hasClaim},(0,P.getClaimHomeCopy)(te.getVariant(X.default),this.props.addressSectionInfo.streetAddress.assembledAddress))),a));case k.default.VIRTUAL_CMA.id:return this.renderHomeValuationRequestMerch(n);case k.default.SALE_PRICE_RANGE.id:var r=n.experienceData||{},s=r.estimatedSalePriceRange||{},l=J.createElement(pe,{isPrimaryCta:t&&this.props.deviceConfig!==g_deviceConfiguration.PHONE,propertyId:this.props.propertyId,deviceCategory:this.props.deviceConfig,listingFeeMessagingType:this.state.listingFeeMessagingType,showSalePriceEstimate:r.showSalePriceEstimate,minSalePriceRange:s.minSalePriceRange,maxSalePriceRange:s.maxSalePriceRange,showSpinner:r.showSpinner,isPartner:n.recommendedAgent&&n.recommendedAgent.get("agentType")===g_agentType.CONNECT,inquirySource:g_inquirySource.OMDP_RSDP_LISTINGS_MERCH,disableBreaks:!0});return(0,P.isHomeownerToolsShown)(this.props.deviceConfig,this.props.addressSectionInfo,this.props.contactBoxInfo,this.props.redfinNowHomeMomentInfoStore,this.props.mainHouseInfo,this.props.opendoorPurchaseEstimateStore)?J.createElement(he,(0,o.default)({propertyId:this.props.propertyId,consultMessaging:"Review your analysis and discuss selling strategies",claimCount:this.props.personalizationInfo&&this.props.personalizationInfo.claimCount||0,hasClaim:this.props.personalizationInfo&&this.props.personalizationInfo.hasClaim,allowLinkOption:!1},(0,P.getClaimHomeCopy)(te.getVariant(X.default),this.props.addressSectionInfo.streetAddress.assembledAddress),{renderPriceRange:function(){return l}})):l;case k.default.REDFIN_DIRECT.id:return this.renderLdpTourSideBar(!0);case k.default.REDFIN_BROKERAGE_POST_TOUR.id:case k.default.REDFIN_BROKERAGE_DATEPICKER.id:return this.renderLdpTourSideBar(!1);case k.default.DIRECT_ACCESS.id:return this.renderLdpTourSideBar(n.experienceData.isDirectOffer);case k.default.PARTNER_DATEPICKER.id:var u=te.isOn(i.default)&&"Variant"===te.getVariant(i.default),c=!u&&(0,P.isAgentRequestPending)(this.props.contactBoxInfo)||u&&(0,P.isAgentRequestPending)(this.props.contactBoxInfo)&&this.props.contactBoxInfo.experienceData.hasSubmittedPartnerRequestForListing,d=u&&(0,P.isAgentRequestAssigned)(this.props.contactBoxInfo)&&!this.props.contactBoxInfo.experienceData.isListingInAssignedPartnerAgentServiceRegion,f=u&&this.props.contactBoxInfo.experienceData.hasSubmittedPartnerRequestForListing&&(0,P.isAgentRequestAssigned)(this.props.contactBoxInfo);return!u&&(0,P.isAgentRequestAssigned)(this.props.contactBoxInfo)||f?this.renderContactBoxWithExperienceData(t,!0,!0):c||d?this.renderPartnerAskAQuestion():this.renderLdpTourSideBar(!1);case k.default.NON_REDFIN_PRE_MARKET_MLS.id:return this.renderContactBoxWithExperienceData(t,!1,!1);default:return null}},renderContactBoxWithExperienceData:function(e,t,n){if(!this.props.contactBoxInfo.experienceData)return null;var a=$({"contact-box-container":!0,withDatePicker:t}),r=n&&this.shouldRenderPartnerProgramAd()?this.renderPartnerProgramAd(!1,w.default.impressions.CONTACT_BOX_PARTNER_RECRUITMENT_CTA_IMPRESSION,w.default.clicks.CONTACT_BOX_PARTNER_RECRUITMENT_CTA_CLICK):null;return this._logPartnerContactBoxRenderMetric(),this._logPartnerContactBoxAgentStatsMetrics(),J.createElement("div",{className:a},J.createElement(ae,(0,o.default)({},this.props.contactBoxInfo.experienceData,{isPrimaryCta:e,isDisplayed:!0,isAvmShown:this._isAvmShown(this.props),sideBarStore:this.props.sideBarStore,showSellerConsultDialogCallback:this.showSellerConsultDialogCallback,showAAQDialogCallback:this.showAAQDialogPartnerCallback,generalInquiryActions:ce,generalInquiryDialog:de,liveChatWidgetAction:fe,averageResponseTime:this.props.contactBoxInfo.experienceData.agentAvgResponseMinutes,deviceConfig:this.props.deviceConfig,contactBoxInfo:this.props.contactBoxInfo,isPartnerAgent:n})),r)},renderPartnerAskAQuestion:function(){var e=this.shouldRenderPartnerProgramAd()?this.renderPartnerProgramAd(!1,w.default.impressions.CONTACT_BOX_PARTNER_RECRUITMENT_CTA_IMPRESSION,w.default.clicks.CONTACT_BOX_PARTNER_RECRUITMENT_CTA_CLICK):null,t=this.renderContactLinks(!1,!0),n=this.props.contactBoxInfo.experienceData.agentRequestAgent,a={};return this.props.contactBoxInfo.experienceData.riftImpressionExtraParams&&(a=this.props.contactBoxInfo.experienceData.riftImpressionExtraParams),a.is_partner=!0,a.agent_id=n.getId(),J.createElement(B.default,{isPending:(0,P.isAgentRequestPending)(this.props.contactBoxInfo),isAssigned:(0,P.isAgentRequestAssigned)(this.props.contactBoxInfo),hasSubmittedRequestForListing:this.props.contactBoxInfo.experienceData.hasSubmittedPartnerRequestForListing,isListingInAssignedPartnerAgentServiceRegion:this.props.contactBoxInfo.experienceData.isListingInAssignedPartnerAgentServiceRegion,riftParams:a,agent:n,inquirySource:g_inquirySource.LDP_CB_GEN_INQUIRY_FORM,generalInquiryActions:ce,aaqContactLink:t,partnerProgramAd:e,generalInquiryDialog:de})},renderDatePicker:function(e,t){var n=this;if(!this._isDatePickerShown())return null;var a=e.requestingPartnerAgent?te.isOn(M.default):te.isOn(L.default),r=(0,P.showRefundMessaging)(this.props.contactBoxInfo,j.default.isPossiblyUnavailable(this.props.datePickerInfo));return J.createElement(v.default,(0,o.default)({},e,{pageUrl:this.props.mainHouseInfo.url,isiFramed:this.props.isiFramed,showRefundDescription:!r,sideBarStore:this.props.sideBarStore,showDatepickerExperimentSpinner:this.state.showDatepickerExperimentSpinnerOnLoad&&!e.extendableTourIdsLoaded,recalcSidebarHeight:function(){n.reloadSidebarIfNecessary()},isInRedfinDirectMarket:t,showVideoTourOption:a,isPossiblyUnavailable:j.default.isPossiblyUnavailable(this.props.datePickerInfo),scrollId:H.DATEPICKER_SCROLL_ID,isOpenHouseExperimentVariant:"VARIANT_2"===this.props.openHouseStore.experimentVariant,numUpcomingOpenHouseEvents:this.props.openHouseStore.buttonStores.length,openHouseToggleSelectedTab:this.props.sideBarStore.openHouseToggleSelectedTab,isEligibleBinSetExpectations:(0,Y.isEligibleBinSetExpectations)()}))},renderPendingMessage:function(){var e;return J.createElement(b.default,{scrollId:H.DATEPICKER_SCROLL_ID,isOnExistingUnrepShowing:this.props.datePickerInfo.isListingOnExistingUnrepShowing,isAddedToExistingTour:this.props.datePickerInfo.isListingOnExistingTour,existingConfirmedTourInformation:this.props.datePickerInfo.existingConfirmedTourInformation,isOpenHouseExperimentVariant:"VARIANT_2"===this.props.openHouseStore.experimentVariant,timeZone:null===(e=this.props.mainHouseInfo)||void 0===e?void 0:e.timezone})},renderDirectAccess:function(){if(!this._isDirectAccessShown())return null;var e=this.props.contactBoxInfo&&this.props.contactBoxInfo.experienceData||{};return J.createElement(O.default,{isRedfin:e.isRedfin,isOpendoor:e.isOpendoor,isDirectOffer:e.isDirectOffer,deviceConfig:this.props.deviceConfig,listingId:this.props.listingId,propertyId:this.props.propertyId,isPartner:this.props.datePickerInfo&&this.props.datePickerInfo.isRequestingPartnerAgent,isServiced:this.props.datePickerInfo&&this.props.datePickerInfo.isDatepickerShown,isOpenHouseExperimentVariant:"VARIANT_2"===this.props.openHouseStore.experimentVariant})},renderAAQDialog:function(){var e=this;return J.createElement(I.default,(0,o.default)({onClose:function(){return e.setState({showAAQDialog:!1})},isMobile:this.props.deviceConfig===g_deviceConfiguration.PHONE,isInlineForm:!1,contactBoxInfo:this.props.contactBoxInfo,listingId:this.props.listingId,propertyId:this.props.propertyId},(0,P.getClaimHomeCopy)(te.getVariant(X.default),this.props.addressSectionInfo.streetAddress.assembledAddress),{inquiryChannel:g_inquiryChannel.ASK_A_QUESTION,inquirySource:g_inquirySource.LDP_CONTACT_BOX_AR_PAGE,sideBarStore:this.props.sideBarStore,entrypointRiftContext:this.state.entrypointRiftContext,listingAddress:this.props.mainHouseInfo.propertyAddress,agent:this.state.aaqAgent,isOpendoor:!1,listingAgent:!1}))},reloadSidebarIfNecessary:function(){this.refs.floatingContainer&&this.state.floatingContainerHeight!==this.refs.floatingContainer.scrollHeight&&this.setState({floatingContainerHeight:this.refs.floatingContainer.scrollHeight})},renderPartnerLdpTourSideBarComponents:function(){w.default.trackImpression(w.default.impressions.PARTNER_CONTACT_BOX);var e=_.default.isLoggedIn(),t=(0,P.shouldShowPartnerAgentInfo)(this.props.contactBoxInfo,e),n=this.props.contactBoxInfo.customerAgentStatus!==z.AGENT_PENDING.id&&this.props.contactBoxInfo.customerAgentStatus!==z.AGENT_ASSIGNED.id,a=te.isOn(i.default)&&"Variant"===te.getVariant(i.default);return J.createElement("div",{className:"sideBarComponents","data-rf-test-name":"partnerLdpTourSideBarComponents"},J.createElement(T.default,null),J.createElement("div",null,J.createElement("div",null,this.renderPartnerAskAQuestion(),t&&a?this.renderPartnerAgentInfo():null),J.createElement("div",null,n?this.renderRefund():null)))},renderSideBarComponents:function(e){var t=_.default.isLoggedIn(),n=this._isDirectAccessShown(),a=(0,P.shouldShowAgentInfo)(e,n,this.props.contactBoxInfo,t),r=!this.state.hideStartAnOfferButton,o=this.renderContactLinks(e,!1),i=r&&this.renderRefund(e),s=r&&this._shouldHideContactLinks(!1)&&this._shouldHideRefund()&&j.default.isPossiblyUnavailable(this.props.datePickerInfo)&&this.renderStartOfferButton(e);return J.createElement("div",{className:$("sideBarComponents",{"padding-bottom-large":"VARIANT_2"===this.props.openHouseStore.experimentVariant&&!o})},this.renderDirectAccess(),!e&&r&&J.createElement(T.default,null),i,s,a&&this.renderAgentInfo(),o)},renderLdpTourSideBar:function(e){var t=this;if(!this._isTouringCTAShown())return null;var n=this.props,a=n.datePickerInfo,r=n.binnableToursStore,o=n.sideBarStore,i=n.openHouseStore,s=this.props.contactBoxInfo||{},l=r||{},u=l.extendableTourIds,c=l.loaded,f={days:a.tourDays,existingTours:a.existingTours,isListingOnExistingTour:a.isListingOnExistingTour,existingConfirmedTourInformation:a.existingConfirmedTourInformation,isListingOnExistingUnrepShowing:a.isListingOnExistingUnrepShowing,firstTimeTourerWithUnconfirmedTour:a.isFirstTimeTourerWithUnconfirmedTour,listingId:this.props.listingId,listingAddress:a.listingAddress,requestingPartnerAgent:a.isRequestingPartnerAgent,serviceRegionId:a.serviceRegionId,city:this.props.addressSectionInfo.city,stateCode:this.props.addressSectionInfo.state,timeZone:this.props.mainHouseInfo.timezone,mlsId:this.props.mainHouseInfo.mlsId,dataSourceId:this.props.mainHouseInfo.source?this.props.mainHouseInfo.source.dataSourceId:null,tourHomeMomentInfoStore:this.props.tourHomeMomentInfoStore,isHotHome:this.props.addressSectionInfo.isHot,agent:s.recommendedAgent,refund:s.experienceData&&s.experienceData.refund,businessMarketId:a.businessMarketId,isInPersonTourDisabled:a.isInPersonTourDisabled,nextAvailableTourTime:a.nextAvailableTourTime,isAgentAssignedOrPending:(0,P.isAgentAssignedOrPending)(s),isFirstTourSubmitted:a.isFirstTourSubmitted,isListingRecentlyMarkedSold:j.default.isInPossiblyUnavailableVariant()&&a.isListingRecentlyMarkedSold,isListingUnderContract:j.default.isInPossiblyUnavailableVariant()&&a.isListingUnderContract,extendableTourIds:u,extendableTourIdsLoaded:c,numCompletedTours:a.numCompletedTours,isInFirstTourerMultipleToursExperimentVariant:te.isOn(K.default)&&"Variant"===te.getVariant(K.default)},p="VARIANT_2"===te.getVariant(d.default),m=j.default.showPendingMessage(null,f.isListingOnExistingTour),h=$({"tablet-contact-box-container":this.props.deviceConfig===g_deviceConfiguration.TABLET,"contact-box-container":!0}),g=$({"floating-container":this.props.deviceConfig!==g_deviceConfiguration.TABLET,"tablet-floating-container":this.props.deviceConfig===g_deviceConfiguration.TABLET,"padding-bottom-larger":this.props.deviceConfig!==g_deviceConfiguration.DESKTOP&&"VARIANT_2"===i.experimentVariant});return J.createElement("div",{className:"placeholder-container placeholder-loaded"},J.createElement("div",{className:h},J.createElement("div",{ref:"floatingContainer",className:g},this.renderDatePickerTitle(m,p),this.renderExperimentTabs(),function(){if(o.openHouseToggleSelectedTab===o.OPEN_HOUSE_TOGGLE_TABS.OPEN_HOUSES){var n=t.renderContactLinks(e,!1);return[t.renderOpenHouseContent(!!n),n]}return[m?t.renderPendingMessage():t.renderDatePicker(f,e),t.state.isPartnerServiced?t.renderPartnerLdpTourSideBarComponents():t.renderSideBarComponents(e)]}())))},scrollToDatePickerTitle:function(){this.datePickerTitleAnchorNode&&this.datePickerTitleAnchorNode.scrollIntoView({behavior:"smooth"})},renderDatePickerTitle:function(e,t){var n=this;if(!this._isDatePickerShown()&&!t)return null;var a=this.props,r=a.sideBarStore,o=a.openHouseStore,i=$("heading-medium","headingWithAnchor",{"tablet-sectionTitle":r.deviceConfig===g_deviceConfiguration.TABLET,sectionTitle:r.deviceConfig!==g_deviceConfiguration.TABLET,"padding-left-large":r.deviceConfig===g_deviceConfiguration.DESKTOP&&"VARIANT_2"===o.experimentVariant});return J.createElement("div",{className:i},J.createElement("a",{ref:function(e){return n.datePickerTitleAnchorNode=e},"aria-hidden":"true",name:"datePicker",className:"hiddenAnchor"}),this.getDatePickerTitleText(e,t))},getDatePickerTitleText:function(e,t){var n=this.props.datePickerInfo;return e?j.default.getPendingSectionTitle(n.isListingOnExistingUnrepShowing,n.isListingOnExistingTour,n.existingConfirmedTourInformation):j.default.isPossiblyUnavailable(this.props.datePickerInfo)?"This home may not be allowing tours right now":t?"Go see this home":"Go tour this home"},renderHomeOwnerTools:function(){return J.createElement(he,(0,o.default)({propertyId:this.props.propertyId,claimCount:this.props.personalizationInfo&&this.props.personalizationInfo.hasClaim&&this.props.personalizationInfo.claimCount||0,hasClaim:this.props.personalizationInfo&&this.props.personalizationInfo.hasClaim,renderPriceRange:function(){return null},allowLinkOption:!1},(0,P.getClaimHomeCopy)(te.getVariant(X.default),this.props.addressSectionInfo.streetAddress.assembledAddress)))},renderOpenHouseContent:function(e){return J.createElement("div",{className:"desktop"===(0,g.getCurrentDeviceType)()?"padding-horiz-large ".concat(e?"":"padding-bottom-large"):null},J.createElement(V.default,{openHouseStore:this.props.openHouseStore,openHouses:this.props.openHouseStore.openHouses,videoOpenHouses:this.props.openHouseStore.videoOpenHouses,contactBoxInfo:this.props.contactBoxInfo,source:this.props.mainHouseInfo.source,agent:this.props.contactBoxInfo.agentRequestAgent||this.props.contactBoxInfo.recommendedAgent,tourTimeZone:this.props.datePickerInfo.timeZoneStringId,nextAvailableTourTime:this.props.datePickerInfo.nextAvailableTourTime,nextTourDisplayTimes:this.props.datePickerInfo.nextTourDisplayTimes,isNextTourTimeToday:this.props.datePickerInfo.isNextTourTimeToday,timezone:this.props.mainHouseInfo.timezone,isPossiblyUnavailable:j.default.isPossiblyUnavailable(this.props.datePickerInfo)}))},renderSellerConsultFormDialog:function(){var e=function(){this.setState({showSellerConsultForm:!1})}.bind(this),t=this.props.addressSectionInfo.streetAddress.assembledAddress,n=this.props.addressSectionInfo.zip,a=this.props.contactBoxInfo.sellsideThreshold,r=this.props.propertyId,o=(0,P.propertyIsActivish)(this.props.mainHouseInfo)?"L":this.props.listingId?"S":"P",i=this.props.contactBoxInfo.recommendedAgent,s=this.props.claimedHomeSellerDataStore&&this.props.claimedHomeSellerDataStore.businessMarketId,l=(0,y.getListingFeeMessagingType)(s).minPercentage;return J.createElement(re,{onClose:e,housePropertyId:r,houseStreetAddress:t,houseZipCode:n,houseSellsideThreshold:a,inquirySource:g_inquirySource[o+"DP_CONTACT_BOX_SC_DIALOG"],agent:i,percentListingFeeDisplayed:l})},renderHomeValuationRequestMerch:function(e){var t=this,n=e.experienceData||{},a=n.estimatedSalePriceRange||{};return this.props.deviceConfig===g_deviceConfiguration.PHONE?J.createElement(me,{propertyId:this.props.propertyId,city:this.props.addressSectionInfo.city,deviceConfig:this.props.deviceConfig,minSalePriceRange:a.minSalePriceRange,maxSalePriceRange:a.maxSalePriceRange,showSalePriceEstimate:n.showSalePriceEstimate,isPartner:e.recommendedAgent&&e.recommendedAgent.get("agentType")===g_agentType.CONNECT}):J.createElement(he,(0,o.default)({propertyId:this.props.propertyId,consultMessaging:"Review your analysis and discuss selling strategies",claimCount:this.props.personalizationInfo&&this.props.personalizationInfo.claimCount||0,hasClaim:this.props.personalizationInfo&&this.props.personalizationInfo.hasClaim},(0,P.getClaimHomeCopy)(te.getVariant(X.default),this.props.addressSectionInfo.streetAddress.assembledAddress),{renderPriceRange:function(r){var o=r.buttonType,i=r.riftDetails;return J.createElement(ge,{propertyId:t.props.propertyId,city:t.props.addressSectionInfo.city,buttonType:o,riftDetails:i,minSalePriceRange:a.minSalePriceRange,maxSalePriceRange:a.maxSalePriceRange,showSalePriceEstimate:n.showSalePriceEstimate,isPartner:e.recommendedAgent&&e.recommendedAgent.get("agentType")===g_agentType.CONNECT,inCompleteSellingSolutionMarket:t.props.claimedHomeSellerDataStore&&(0,P.inCompleteSellingSolutionHvaBusinessMarkets)(t.props.claimedHomeSellerDataStore.businessMarketId)})}}))},shouldRenderPartnerProgramAd:function(){return te.isOn(te.feature.PARTNER_AGENT_RECRUITMENT_CTA)&&this.props.deviceConfig===g_deviceConfiguration.DESKTOP},renderPartnerProgramAd:function(e,t,n){var a=e?"sidebar_out_of_area":"right_rail_ask_question",r={device_category:this.props.deviceConfig===g_deviceConfiguration.DESKTOP?"desktop":"mobile",url_param:a};return w.default.trackImpression(t,r),J.createElement(A.default,{partnerPageSrc:a,onLinkClick:function(){w.default.trackClick(n,r),c.default.flushRiftEvents()}})},showSellerConsultDialogCallback:function(){this.setState({showSellerConsultForm:!0})},showAAQDialogPartnerCallback:function(e){this.setState({showAAQDialog:!0,aaqAgent:e})},showAAQDialogCallback:function(){this.setState({showAAQDialog:!0})},isEligibleForAssignedAgentOffMarketDPExperiment:function(e){var t=e.experimentStore&&e.experimentStore.offMarketDPExperimentInfo;return t&&t.isEligibleForAssignedAgentOffMarketDPExperiment},isInStandardizeAgentCTAsExperiment:function(e){var t=e.experimentStore&&e.experimentStore.offMarketDPExperimentInfo;return t&&t.shouldStandardizeAgentCTAs},_isAvmShown:function(e){var t=e||this.props;return(0,S.calculateAvmDisplayType)({redfinEstimateInfo:t.avmInfo})===E.AvmDisplayType.AVM},_fireContactBoxLoadedAction:function(){this._isTouringCTAShown()&&ue.dateTimePickerAndContactBoxRendered.trigger()},_isDatePickerShown:function(){return!([k.default.DIRECT_ACCESS.id].indexOf((this.props.contactBoxInfo||{}).experienceType)>=0)&&(this.props.datePickerInfo&&this.props.datePickerInfo.datepickerShown)},_isDirectAccessShown:function(){return(0,P.propertyIsActivish)(this.props.mainHouseInfo)&&this.props.contactBoxInfo&&this.props.contactBoxInfo.experienceType===k.default.DIRECT_ACCESS.id},_isTouringCTAShown:function(){return this._isDatePickerShown()||this._isDirectAccessShown()},_shouldLogPartnerContactBoxMetrics:function(){var e=!!this.props.contactBoxInfo&&!!this.props.contactBoxInfo.experienceData&&this.props.contactBoxInfo.experienceData.agentRequestAgent;return te.isOn(te.feature.LDP_PARTNER_ROUTING_ALGORITHM_V2_WEB)&&!!e&&e.getAgentType()===g_agentType.CONNECT},_logPartnerContactBoxMountMetric:function(){if(ne()&&window.performance&&this._shouldLogPartnerContactBoxMetrics()){var e="partnerRouting".concat(te.getVariant(te.feature.LDP_PARTNER_ROUTING_ALGORITHM_V2_WEB),".fromNavStart.mount");Ie.time(e,x.default.getTimeSinceStart())}},_logPartnerContactBoxRenderMetric:function(){if(ne()&&window.performance&&this._shouldLogPartnerContactBoxMetrics()&&!this.hasLoggedPartnerContactBoxRenderMetric){this.hasLoggedPartnerContactBoxRenderMetric=!0;var e="partnerRouting".concat(te.getVariant(te.feature.LDP_PARTNER_ROUTING_ALGORITHM_V2_WEB),".fromNavStart.render");Ie.time(e,x.default.getTimeSinceStart())}},_logPartnerContactBoxAgentStatsMetrics:function(){if(this._shouldLogPartnerContactBoxMetrics()&&this.props.contactBoxInfo&&this.props.contactBoxInfo.recommendedAgent){var e="partnerRouting".concat(te.getVariant(te.feature.LDP_PARTNER_ROUTING_ALGORITHM_V2_WEB),".starRating");Ie.time(e,this.props.contactBoxInfo.recommendedAgent._averageRatingForCustomerDisplay);var t="partnerRouting".concat(te.getVariant(te.feature.LDP_PARTNER_ROUTING_ALGORITHM_V2_WEB),".reviewCount");Ie.time(t,this.props.contactBoxInfo.recommendedAgent.getNumReviews())}},_initializeCustomerConversionInfoExperiment:function(){var e,t=this.props.contactBoxInfo&&this.props.contactBoxInfo.experimentEligibility;t&&t.isEligible&&(t.feature,(e=null)&&(e(),(new Se).initialize({experimentId:t.feature,gaExperimentId:t.gaExperimentId})))},_shouldHideRefund:function(){return!(0,P.showRefundMessaging)(this.props.contactBoxInfo,j.default.isPossiblyUnavailable(this.props.datePickerInfo))&&!this.state.isPartnerServiced},_shouldHideContactLinks:function(e){var t=j.default.isPossiblyUnavailable(this.props.datePickerInfo);return(!this._isTouringCTAShown()||!(0,P.showRefundMessaging)(this.props.contactBoxInfo,t)&&!t||(0,P.isAgentAssignedOrPending)(this.props.contactBoxInfo))&&!e},renderExperimentTabs:function(){var e,t,n,a=this,r=this.props.sideBarStore.customerExperience,o=void 0===r?{}:r;return"VARIANT_2"===te.getVariant(d.default)&&J.createElement(m.default,{section:"".concat(o.id===f.default.id?"partner_":"","see_this_home")},J.createElement(C.default,{primaryExperienceLabel:[f.default.id,p.default.id].includes(o.id)?"Tours":"Tour with Redfin",numUpcomingOpenHouseEvents:(e=a.props.openHouseStore,t=e.openHouses,n=e.videoOpenHouses,(t?t.length:0)+(n?n.length:0)),openHouseToggleSelectedTab:this.props.sideBarStore.openHouseToggleSelectedTab}))}});Te.getComponentDependencies=function(){return{dependencies:["avmInfo","addressSectionInfo","mainHouseInfo","datePickerInfo","personalizationInfo","tourHomeMomentInfoStore","sideBarStore","contactBoxInfo","pageType","queryParams","redfinNowHomeMomentInfoStore","cashOfferPlacementStore","opendoorPurchaseEstimateStore"],clientDependencies:["promptEligibility"]}},Te.getPageLayoutClassName=function(){return"dp-col-sm-12 force-sideBarRightRail"},e.exports=Te},V5OQ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.createLDPViewsCookie=function(){var e=new Date;e.setTime(e.getTime()+u);null==(0,r.default)(s)&&(0,r.default)(s,JSON.stringify({viewsData:{},expiration:e,totalPromptedLdps:0}),{expires:e,path:"/"})},t.getPromptedLDPCount=function(){if(null!=(0,r.default)(s)){var e=JSON.parse((0,r.default)(s));return e.totalPromptedLdps}return 0},t.getTotalLdpCounts=function(){if((0,r.default)(s)){var e=JSON.parse((0,r.default)(s));return null!=e?e.totalPromptedLdps:0}},t.updateNumViewsOnLDP=function(e,t){if(!(0,r.default)(s))return;var n=(0,o.default)().format("MM-DD-YYYY"),a=(0,o.default)().startOf("day"),i=JSON.parse((0,r.default)(s)),l=i.viewsData,u=i.expiration;if(Object.keys(l).forEach(function(e){a.diff((0,o.default)(e,"MM-DD-YYYY"),"days")>7&&delete l[e]}),!t)if(0===l.size||null==l[n]){var c={};c[e]=1,l[n]=c}else if(null==l[n][e])l[n][e]=1;else{var d=l[n];d[e]+=1}(0,r.default)(s,JSON.stringify({viewsData:l,expiration:new Date(u),totalPromptedLdps:i.totalPromptedLdps}),{expires:new Date(u),path:"/"})},t.updateTotalPromptCount=function(e){if(i.offMarketChatInquirySources.includes(e))return function(){(0,r.default)(l)||function(){if(!(0,r.default)(l)){var e=new Date;e.setTime(e.getTime()+u),(0,r.default)(l,JSON.stringify({expiration:e}),{expires:e,path:"/"})}}();var e=JSON.parse((0,r.default)(l)),t=e.promptedOMDPCount||1;return(0,r.default)(l,JSON.stringify({promptedOMDPCount:t,expiration:e.expiration}),{expires:new Date(e.expiration),path:"/"}),t}();if(null!=(0,r.default)(s)){var t=JSON.parse((0,r.default)(s)),n=t.viewsData;return(0,r.default)(s,JSON.stringify({viewsData:n,expiration:new Date(t.expiration),totalPromptedLdps:t.totalPromptedLdps+1}),{expires:new Date(t.expiration),path:"/"}),t.totalPromptedLdps+1}};var r=a(n("72T9")),o=a(n("TiKg")),i=n("GoxZ"),s="RF_LDP_VIEWS_FOR_PROMPT",l="RF_OMDP_PROMPTED_COUNT",u=63072e6},VE4r:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.questionsText=t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),d=a(n("eTJ6")),f=n("hlkP"),p=n("+xFC"),m=a(n("IaBH")),h=a(n("RYkQ")),g=a(n("WZ0X")),_=a(n("re7x")),v=a(n("IgEu"));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("qiMi");var S={general_home_info:"What is ",photos_available:"How many photos are available for this home?",home_value:"How much is this home worth?",home_listed:"How long has this home been listed on Redfin?",home_built_last_sold:"When was this home built and last sold?",rental_estimate:"What is the rental estimate for this home?",market_competitive:"How competitive is the market for this home?",amenities:"What amenities are near this home?",comparable_homes:"What comparable homes are near this home?",full_address:"What’s the full address of this home?"};t.questionsText=S;var I=function(e){(0,s.default)(n,e);var t=E(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"faqPageJsonLd",value:function(e){return e?{"@context":"http://schema.org","@type":"FAQPage",mainEntity:e}:null}},{key:"faqQuestionJsonLd",value:function(e,t){return{"@type":"Question",name:_.default.renderToStaticMarkup(e),acceptedAnswer:{"@type":"Answer",text:_.default.renderToStaticMarkup(t)}}}},{key:"renderUIComponent",value:function(e,t,n){var a=c.default.createElement("div",{className:"heading-title font-size-base font-weight-bold margin-bottom-none h3"},e);return this.props.isMobile&&this.props.descriptiveParagraphInfo&&this.props.descriptiveParagraphInfo.isPropertyPage?c.default.createElement("div",{className:"padding-top-medium"},c.default.createElement("div",{className:"font-weight-bold margin-bottom-smaller"},a),c.default.createElement("div",null,t)):c.default.createElement(d.default,{heading:a,onToggleClick:this.onToggleClick.bind(this,n)},t)}},{key:"displayGeneralHomeInfo",value:function(){var e,t=S.general_home_info+(this.props.descriptiveParagraphInfo&&this.props.descriptiveParagraphInfo.streetAddress?this.props.descriptiveParagraphInfo.streetAddress+"?":"this home?");if(this.shouldDisplayCurrentPrice()&&this.shouldDisplayHomeFeatures())e=c.default.createElement(c.Fragment,null,this.props.descriptiveParagraphInfo.homeFeaturesText," "+this.props.descriptiveParagraphInfo.listingPriceText);else{if(!this.shouldDisplayHomeFeatures())return null;var n=this.props.addressSectionInfo&&this.props.addressSectionInfo.countryCode===g_countryCode.CANADA.id?c.default.createElement(c.Fragment,null," This home is currently",c.default.createElement("a",{target:"_self",href:"https://support.redfin.com/hc/en-us/articles/360056895352-What-does-it-mean-to-see-an-Off-Market-property-on-Redfin-ca-"}," off market"),this.props.descriptiveParagraphInfo.offMarketText&&" - ",this.props.descriptiveParagraphInfo.offMarketText):" This home is currently off market"+(this.props.descriptiveParagraphInfo.offMarketText?" - "+this.props.descriptiveParagraphInfo.offMarketText:".");e=c.default.createElement(c.Fragment,null,this.props.descriptiveParagraphInfo.homeFeaturesText,n)}return{questionText:t,answerText:e,uiComponent:this.renderUIComponent(t,e,"general_home_info")}}},{key:"shouldDisplayCurrentPrice",value:function(){return this.props.descriptiveParagraphInfo&&this.props.descriptiveParagraphInfo.listingPriceText}},{key:"shouldDisplayHomeFeatures",value:function(){return this.props.descriptiveParagraphInfo&&this.props.descriptiveParagraphInfo.homeFeaturesText}},{key:"clickOpenWalkthrough",value:function(){h.default.openWalkthrough()}},{key:"displayNumPhotos",value:function(){if(!this.shouldDisplayNumPhotos())return null;var e=S.photos_available,t="",n=this.props.descriptiveParagraphInfo&&this.props.descriptiveParagraphInfo.streetAddress,a=this.props.mediaBrowserInfo,r=n?"Redfin has "+a.photos.length+" photos of "+n+". ":"Redfin has "+a.photos.length+" photos of this home. ";return{questionText:e,answerText:t=a.scans&&a.scans.length>0?c.default.createElement(c.Fragment,null,r,c.default.createElement("span",{className:"link",role:"button",onClick:this.clickOpenWalkthrough},"Experience a 3D walkthrough"),"."):c.default.createElement(c.Fragment,null,"Redfin has "+a.photos.length+" photos of "+n+". "),uiComponent:this.renderUIComponent(e,t,"photos_available")}}},{key:"shouldDisplayNumPhotos",value:function(){return this.props.mediaBrowserInfo&&(this.props.mediaBrowserInfo.photos&&this.props.mediaBrowserInfo.photos.length>0||this.props.mediaBrowserInfo.scans&&this.props.mediaBrowserInfo.scans.length>0&&this.props.descriptiveParagraphInfo&&!this.props.descriptiveParagraphInfo.isPropertyPage)}},{key:"displayRedfinEstimate",value:function(){if(this.shouldDisplayRedfinEstimate()){var e=S.home_value,t=c.default.createElement(c.Fragment,null,this.props.descriptiveParagraphInfo.avmText);return{questionText:e,answerText:t,uiComponent:this.renderUIComponent(e,t,"home_value")}}return null}},{key:"shouldDisplayRedfinEstimate",value:function(){return this.props.descriptiveParagraphInfo&&this.props.descriptiveParagraphInfo.avmText}},{key:"displayHomeListingTime",value:function(){if(this.shouldDisplayHomeListingTime()){var e=S.home_listed,t=c.default.createElement(c.Fragment,null,this.props.descriptiveParagraphInfo.homeListingTimeText);return{questionText:e,answerText:t,uiComponent:this.renderUIComponent(e,t,"home_listed")}}return null}},{key:"shouldDisplayHomeListingTime",value:function(){return this.props.descriptiveParagraphInfo&&this.props.descriptiveParagraphInfo.homeListingTimeText}},{key:"displayBuiltAndSold",value:function(){if(this.shouldDisplayBuiltAndSold()){var e=S.home_built_last_sold,t=c.default.createElement(c.Fragment,null,this.props.descriptiveParagraphInfo.homeLastSoldBuiltText);return{questionText:e,answerText:t,uiComponent:this.renderUIComponent(e,t,"home_built_last_sold")}}return null}},{key:"shouldDisplayBuiltAndSold",value:function(){return this.props.descriptiveParagraphInfo&&this.props.descriptiveParagraphInfo.homeLastSoldBuiltText}},{key:"displayRentalEstimate",value:function(){if(this.shouldDisplayRentalEstimate()){var e=this.props.rentalEstimateSectionInfo,t=e&&e.rentalEstimateInfo,n=S.rental_estimate,a=c.default.createElement(c.Fragment,null,"We estimate that "+this.props.descriptiveParagraphInfo.streetAddress+" would rent for between "+(0,p.formatPrice)(t.predictedValueLow)+" and "+(0,p.formatPrice)(t.predictedValueHigh)+". ");return{questionText:n,answerText:a,uiComponent:this.renderUIComponent(n,a,"rental_estimate")}}return null}},{key:"shouldDisplayRentalEstimate",value:function(){var e=this.props.rentalEstimateSectionInfo,t=e&&e.rentalEstimateInfo,n=this.props.descriptiveParagraphInfo;return!(!(e&&3===e.displayType&&n.canShowRentalEstimate&&t&&t.predictedValueLow&&t.predictedValueHigh)||n.isActivish)}},{key:"displayMarketCompetition",value:function(){if(this.shouldDisplayMarketCompetition()){var e=S.market_competitive,t=c.default.createElement(c.Fragment,null,this.constructMarketCompetitionSentence());return{questionText:e,answerText:t,uiComponent:this.renderUIComponent(e,t,"market_competitive")}}return null}},{key:"constructMarketCompetitionSentence",value:function(){var e=this.props.sharedRegionInfo.competeScoreResponse.scoreAggs[0],t=(0,f.getDescriptionFromScore)(e.score).className,n=(0,f.getSaleToListSentence)(e.saleToList,e.dom);return"Based on Redfin's market data, we calculate that market competition in "+this.props.sharedRegionInfo.regionName+", this home's neighborhood, is "+t+" competitive. Homes "+n}},{key:"shouldDisplayMarketCompetition",value:function(){return this.props.sharedRegionInfo&&this.props.sharedRegionInfo.competeScoreResponse&&this.props.sharedRegionInfo.competeScoreResponse.scoreAggs&&this.props.sharedRegionInfo.competeScoreResponse.scoreAggs[0]&&this.props.sharedRegionInfo.regionName}},{key:"shouldDisplayAmenities",value:function(){return this.props.descriptiveParagraphInfo&&this.props.descriptiveParagraphInfo.walkscoreLocationText}},{key:"displayAmenities",value:function(){if(!this.shouldDisplayAmenities())return null;var e=S.amenities,t=this.props.descriptiveParagraphInfo.walkscoreLocationText;return{questionText:e,answerText:t,uiComponent:this.renderUIComponent(e,t,"amenities")}}},{key:"displayComparableHomes",value:function(){if(!this.shouldDisplayComparableHomes())return null;var e,t=S.comparable_homes,n=this.props.descriptiveParagraphInfo.comparables;return{questionText:t,answerText:e=n.length>=3?c.default.createElement("span",null,"Comparable nearby homes include ",this.makeComparableLink(n[0]),", ",this.makeComparableLink(n[1]),", and ",this.makeComparableLink(n[2]),". "):2===n.length?c.default.createElement("span",null,"Comparable nearby homes include ",this.makeComparableLink(n[0])," and ",this.makeComparableLink(n[1]),". "):c.default.createElement("span",null,"A comparable nearby home is ",this.makeComparableLink(n[0]),". "),uiComponent:this.renderUIComponent(t,e,"comparable_homes")}}},{key:"makeComparableLink",value:function(e){return c.default.createElement("a",{className:"link-text",href:e.url},e.address.assembledAddress)}},{key:"shouldDisplayComparableHomes",value:function(){return this.props.descriptiveParagraphInfo&&this.props.descriptiveParagraphInfo.comparables&&0!==this.props.descriptiveParagraphInfo.comparables.length}},{key:"displayFullAddress",value:function(){if(this.shouldDisplayFullAddress()){var e=S.full_address,t=this.props.descriptiveParagraphInfo.fullAddressText;return{questionText:e,answerText:t,uiComponent:this.renderUIComponent(e,t,"full_address")}}return null}},{key:"shouldDisplayFullAddress",value:function(){return this.props.descriptiveParagraphInfo&&this.props.descriptiveParagraphInfo.fullAddressText}},{key:"onToggleClick",value:function(e){m.default.trackClick(m.default.clicks.FAQ_EXPAND_ITEM,{question:e})}},{key:"componentDidMount",value:function(){m.default.trackImpression(m.default.impressions.FAQ,{},g.default.findDOMNode(this))}},{key:"render",value:function(){var e=this;if(!this.props.descriptiveParagraphInfo)return null;var t=[this.displayGeneralHomeInfo(),this.displayNumPhotos(),this.displayRedfinEstimate(),this.displayHomeListingTime(),this.displayBuiltAndSold(),this.displayRentalEstimate(),this.displayMarketCompetition(),this.displayAmenities(),this.displayComparableHomes(),this.displayFullAddress()].filter(Boolean);if(!t||0===t.length)return null;var n=[],a=[];t.forEach(function(t){var r=t.questionText,o=t.answerText,i=t.uiComponent;n.push(i),a.push(e.faqQuestionJsonLd(r,o))});var r=Math.ceil(n.length/2),o=n.slice(0,r),i=n.slice(r);return this.props.isMobile||1===r?c.default.createElement("div",{className:"faqTable","data-rf-test-id":"faqTable"},n,c.default.createElement(v.default,{key:"faq_ld",blob:this.faqPageJsonLd(a)})):c.default.createElement("div",{className:"faqTable flex justify-between","data-rf-test-id":"faqTable"},c.default.createElement("div",{className:"column"},o),c.default.createElement("div",{className:"column"},i),c.default.createElement(v.default,{key:"faq_ld",blob:this.faqPageJsonLd(a)}))}}],[{key:"displayName",get:function(){return"redfin.homes.details.react.FAQTable"}}]),n}(c.Component);t.default=I},VENG:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("m7qm")),o=n("zOB4"),i=a(n("BxHH")),s=a(n("sMp4")),l=a(n("WxCX")),u=r.default.createStoreFactory({listenables:i.default,init:function(e){this.setState(e)},onUpdateComingSoonListingUpdatesSubscription:function(e,t,n){s.default.updateFavorite({entrypointId:o.PERSONAL_PROPERTY_INFO_FAV_STORE_ID,isFavorite:e,isXout:!1,sender:"ComingSoonInfoStore-ComingSoonBanner",riftContext:t,onSuccessfulFavUpdate:n})},onScheduleEarlyTour:function(e,t){l.default.scheduleTourFromInquirySource({inquirySource:e,riftContext:t})}});e.exports=u},VGar:function(e,t,n){},VjAe:function(e,t,n){},VjhJ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("mXGw"),o=a(n("+xFC")),i=a(n("WqrT")),s=a(n("CtbG")),l=n("osI4");n("pF/U");var u='Taxable value of land and structures on it ("additions") is determined regularly by local assessors and does not affect market price.',c="Total assessed value is determined regularly by local tax assessors and may not match market price.";function d(e){var t=e.taxInfo,n=e.previousTaxesDue,a=null==t.taxableLandValue&&null==t.taxableImprovementValue?null:(t.taxableLandValue||0)+(t.taxableImprovementValue||0),r="desktop"===(0,l.getCurrentDeviceType)()?React.createElement(React.Fragment,null,React.createElement("td",null,f(t.taxableLandValue)),React.createElement("td",null,f(t.taxableImprovementValue))):null;return React.createElement("tr",null,React.createElement("td",null,t.rollYear||""),React.createElement("td",null,f(t.taxesDue),React.createElement(p,{currentTaxesDue:t.taxesDue,previousTaxesDue:n})),r,React.createElement("td",{className:"assessment"},f(a)))}var f=function(e){return null!=e?o.default.formatPrice(e):""};function p(e){var t=e.currentTaxesDue,n=e.previousTaxesDue;if(!t||!n)return null;var a=(t-n)/n;return a<.001&&a>-.001?null:React.createElement("span",{className:"font-size-small ".concat(a>0?"positive":"negative")}," ","(".concat(a>0?"+":"").concat(o.default.formatPercent(a),")"))}var m=function(e){var t=e.allTaxInfo;if((0,r.useEffect)(function(){s.default.trackImpression(s.default.impressions.TAX_HISTORY_TABLE,{num_years_displayed:t?t.length:0})},[t]),!t||!t.length)return null;var n=t.map(function(e,n){var a;return n+1<t.length&&t[n+1]&&(a=t[n+1].taxesDue),React.createElement(d,{taxInfo:e,previousTaxesDue:a})}),a="desktop"===(0,l.getCurrentDeviceType)()?React.createElement(React.Fragment,null,React.createElement("th",null,React.createElement("div",{className:"justify-content"},React.createElement("div",null,"Land"),React.createElement("div",null,"+"))),React.createElement("th",null,React.createElement("div",{className:"justify-content"},React.createElement("div",null,"Additions"),React.createElement("div",null,"=")))):null;return React.createElement("table",{className:"TaxHistoryTable"},React.createElement("tr",null,React.createElement("th",null,"Year"),React.createElement("th",null,"Property Tax"),a,React.createElement("th",{className:"assessment"},React.createElement("span",null,"desktop"===(0,l.getCurrentDeviceType)()?"Assessed Value":"Assessment",React.createElement(i.default,{infoIcon:!0,position:"above",alignment:"center",definition:"desktop"!==(0,l.getCurrentDeviceType)()?c:u,onShowDefinitionFlyout:function(){return s.default.trackClick(s.default.clicks.TAX_INFO_FLYOUT)}})))),n)};t.default=m,e.exports=t.default},VlCb:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=a(n("J2m7")),o=a(n("mXGw")),i=(a(n("17x9")),a(n("ma35"))),s=a(n("fLmK")),l=n("WFin");function u(e){var t,n,a,u=e.actions,c=e.currentSection,d=e.onCloseDialog,f=e.isNextLoading,p=e.nextEnabled,m=e.eligibleOptions,h=e.selectedOption;return o.default.createElement("div",{className:"HomeEquityCalculatorDialogFooter"},o.default.createElement("div",{className:"auxiliary-content-container"},function(e){var t=function(e){var t=e.currentSection,n=e.eligibleOptions,a=e.selectedOption;if(t.name===l.HomeEquityCalculatorSections.BUY_AND_SELL_COMPARISONS.name)return o.default.createElement(s.default,{estimatedHomeEquity:(0,r.default)(n,function(e){var t=e.name;return t===a}).totalEquity});return null}(e);if(t)return o.default.createElement("div",{className:"auxiliary-content-wrapper"},t);return null}({currentSection:c,eligibleOptions:m,selectedOption:h})),o.default.createElement("div",{className:"footer-buttons"},!e.isMobile&&c.previousSection&&(a=function(){return u.onPreviousClick(d)},o.default.createElement(i.default,{className:"button tertiary button-previous",onClick:a},"Back")),c.nextSection&&function(e,t,n){return o.default.createElement(i.default,{className:"button primary button-next",onClick:e,saving:t,disabled:!n},"Next")}(function(){return u.onNextClick(d)},f,p)||(t=function(){return u.onDoneClick(d)},n=c.saveButtonCopy,o.default.createElement(i.default,{className:"button primary button-save",onClick:t},n||"Save"))))}n("mgEQ"),u.displayName="HomeEquityCalculatorDialogFooter",u.propTypes={},e.exports=t.default},"VxV/":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getDateForScheduleTourButton=function(e,t,n){if(t&&n){var a=new Date(t);return r.default.calendar(a,n,function(e){return e?{sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:"dddd",sameElse:"MMM D"}:{sameElse:"MMM D"}}(e))}return null};var r=a(n("lcmt"))},W5nm:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),d=a(n("17x9")),f=a(n("ma35")),p=n("VxV/");n("0Rk+");var m=n("10Vo");function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var _=function(e){(0,s.default)(n,e);var t=g(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"_getBaseProps",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{rfTestId:this.props.rfTestId,className:"scheduleTourButton ".concat(e).trim(),onClick:this.props.onClick,disabled:this.props.disabled}}},{key:"renderPossiblyUnavailableButton",value:function(){return c.default.createElement(f.default,this._getBaseProps("tertiary possiblyUnavailableButton"),"Request tour anyway")}},{key:"renderDefaultButton",value:function(){var e=this.props.isEligibleBinSetExpectations&&(0,m.isInEitherVariantAndEligibleBinSetExpectations)()?"Request tour":"Schedule tour",t=this.props.isFullWidthButton,n=(0,p.getDateForScheduleTourButton)(this.props.isRequestingPartnerAgent,this.props.nextAvailableTourTime,this.props.timeZone);return c.default.createElement(f.default,this._getBaseProps("primary"),c.default.createElement("div",{className:"buttonText"},c.default.createElement("div",{className:"heading"},e),this.props.shouldShowNextAvailableTourMessage&&n&&c.default.createElement("div",{className:"subheading","data-rf-test-id":"next-available-tour-date"},t?"Next available tour: ".concat(n):"Next Available: "+n)))}},{key:"render",value:function(){return this.props.isPossiblyUnavailable?this.renderPossiblyUnavailableButton():this.renderDefaultButton()}}],[{key:"propTypes",get:function(){return{shouldShowNextAvailableTourMessage:d.default.bool,nextAvailableTourTime:d.default.number,isRequestingPartnerAgent:d.default.bool,timeZone:d.default.string,rfTestId:d.default.string,onClick:d.default.func,disabled:d.default.bool,isPossiblyUnavailable:d.default.bool,isFullWidthButton:d.default.bool,isEligibleBinSetExpectations:d.default.bool}}},{key:"defaultProps",get:function(){return{shouldShowNextAvailableTourMessage:!1,isRequestingPartnerAgent:!1,timeZone:"US/Pacific",isPossiblyUnavailable:!1,isFullWidthButton:!1,isEligibleBinSetExpectations:!1}}}]),n}(c.Component);t.default=_,e.exports=t.default},WFin:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.SellingFeeOptions=t.HomeEquityCtaType=t.HomeEquityCalculatorSections=t.BuyAndSellComparisonOptions=t.BuyAndSellCollapsibleItems=void 0;var r=a(n("KLhx")),o=a(n("uUIE")),i=a(n("MXtV")),s=n("wYmU"),l={HOME_EQUITY_FORM:{name:"HOME_EQUITY_FORM",nextSection:"BUY_AND_SELL_COMPARISONS",getTitle:function(e){return e.homeEquityUpdated?"Edit to find out how much your home is worth":"Find out how much your home is worth"},component:(0,r.default)(o.default),riftSection:s.HOME_EQUITY_RIFT_SECTIONS.HOME_SALE_PRICE_CALC_INLINE},BUY_AND_SELL_COMPARISONS:{name:"BUY_AND_SELL_COMPARISONS",previousSection:"HOME_EQUITY_FORM",getTitle:function(){return"Lastly, choose which Buy & Sell option works best for you"},component:(0,r.default)(i.default),riftSection:s.HOME_EQUITY_RIFT_SECTIONS.CALCULATOR_COMPARISON_PAGE}};t.HomeEquityCalculatorSections=l;t.BuyAndSellComparisonOptions={BUY_AND_SELL_WITH_REDFIN:{name:"BUY_AND_SELL_WITH_REDFIN",title:"Buy + Sell with Redfin",listingFeePercent:1,savingsPercent:2,canIncludeRedfinRefund:!0},BUY_WITH_REDFIN:{name:"BUY_WITH_REDFIN",title:"Buy with Redfin, sell with someone else",listingFeePercent:3,savingsPercent:0,canIncludeRedfinRefund:!0},BUY_AND_SELL_WITH_TRADITIONAL_BROKERAGE:{name:"BUY_AND_SELL_WITH_TRADITIONAL_BROKERAGE",title:"Buy + Sell with a traditional brokerage",listingFeePercent:3,savingsPercent:0}};t.HomeEquityCtaType={SCF_ADDRESS_PAGE:"SCF_ADDRESS_PAGE",AGENT_PROFILE_PAGE:"AGENT_PROFILE_PAGE",SCF_PAGE:"SCF_PAGE"};t.BuyAndSellCollapsibleItems={REDFIN_REFUND:"REDFIN_REFUND",LISTING_FEE:"LISTING_FEE"};t.SellingFeeOptions=[{label:"1% - Sell & buy with Redfin",value:1,brokerageRequired:!0},{label:"3% - Sell with a traditional agent",value:3,brokerageRequired:!1}]},WGqi:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("lSNA")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),p=a(n("17x9")),m=a(n("vBPG")),h=a(n("njXE")),g=a(n("cksC")),_=n("osI4"),v=a(n("Ubz+")),y=a(n("WqrT")),E=a(n("4ppV")),S=a(n("RlWI")),I=a(n("t/n8")),T=a(n("UT8e"));n("6ePl");var C=n("+xFC"),b=n("1o8v");function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var O=function(e){(0,l.default)(n,e);var t=R(n);function n(e){var a;return(0,o.default)(this,n),a=t.call(this,e),(0,d.default)((0,s.default)(a),"showInfoDialog",function(){S.default.trackClick(S.default.clicks.INFO_FLYOUT),a.setState({shouldShowInfoDialog:!0})}),(0,d.default)((0,s.default)(a),"hideInfoDialog",function(){a.setState({shouldShowInfoDialog:!1})}),a.state={shouldShowInfoDialog:!1},a}return(0,i.default)(n,[{key:"render",value:function(){var e,t,n=this,a=null===(e=this.props.addressSectionInfo)||void 0===e?void 0:e.countryCode,r=null===(t=this.props.addressSectionInfo)||void 0===t?void 0:t.propertyType;if(a!==g.default.id||!b.SUPPORTED_PROPERTY_TYPES.includes(r))return null;var o="desktop"!==(0,_.getCurrentDeviceType)(),i=this.props.dpaStore,s=i.withParams,l=i.dpaData,u=i.placeHolder,c=i.runningApi,d=i.apiResultError,p=!l||!l.availablePrograms||l.availablePrograms<1,k=function(){return f.default.createElement("div",null,f.default.createElement("p",{className:"dpaFlyoutTitle"},"Down payment assistance"),f.default.createElement("p",{className:"dpaFlyoutText"},"Down payment assistance is help from a local or state housing authority, a nonprofit or your lender that may reduce the amount you need to save for a down payment."),f.default.createElement("a",{className:"dpaFlyoutText",href:"https://www.redfin.com/guides/down-payment-assistance-programs",onClick:function(){S.default.trackClick(S.default.clicks.LEARN_MORE_LINK)},target:"_blank",rel:"noopener"},"Learn more"))},R=function(e){e&&"see"===e?S.default.trackClick(S.default.clicks.SEE_PROGRAMS):e&&"edit"===e&&S.default.trackClick(S.default.clicks.EDIT_RESPONSES),m.default.showDialog()},O=f.default.createElement("span",{className:"dpaLabelInfoTitle"},o&&f.default.createElement(v.default,{onClick:function(){return n.showInfoDialog()}}),!o&&f.default.createElement(y.default,{infoIcon:!0,onShowDefinitionFlyout:function(){S.default.trackClick(S.default.clicks.INFO_FLYOUT)},definition:k()})),N=function(){return p?f.default.createElement(T.default,{section:d?S.default.impressions.DOWN_PAYMENT_ASSISTANCE_PLACEHOLDER_ERROR.section:S.default.impressions.DOWN_PAYMENT_ASSISTANCE_PLACEHOLDER_NO_PROGRAMS.section,target:d?S.default.impressions.DOWN_PAYMENT_ASSISTANCE_PLACEHOLDER_ERROR.target:S.default.impressions.DOWN_PAYMENT_ASSISTANCE_PLACEHOLDER_NO_PROGRAMS.target},f.default.createElement("span",{className:"dpaBlueBoxContent"},f.default.createElement("p",null,"There may be down payment programs available for this home. ",f.default.createElement("a",{className:"dpaDataCursor",href:"https://www.redfin.com/guides/down-payment-assistance-programs",onClick:function(){S.default.trackClick(S.default.clicks.LEARN_MORE)},target:"_blank",rel:"noopener"},"Learn more")))):f.default.createElement(T.default,{section:S.default.impressions.DOWN_PAYMENT_ASSISTANCE_PROGRAMS_AVAILABLE.section,target:S.default.impressions.DOWN_PAYMENT_ASSISTANCE_PROGRAMS_AVAILABLE.target,eventDetails:{numberOfPrograms:l.availablePrograms,maxAssistanceAmount:l.maxAssistance}},f.default.createElement("p",null,"This home has ",l.availablePrograms," ",l.availablePrograms>1?"programs":"program"," available with up to ",(0,C.formatPrice)(l.maxAssistance)," in assistance. ",f.default.createElement("a",{className:"dpaDataCursor"},f.default.createElement("span",{role:"button",onClick:function(){return R("see")}},"See available programs"))))},A=function(){return p?f.default.createElement(T.default,{section:S.default.impressions.DOWN_PAYMENT_ASSISTANCE_PREVIOUS_RESPONSE_UNAVAILABLE.section,target:S.default.impressions.DOWN_PAYMENT_ASSISTANCE_PREVIOUS_RESPONSE_UNAVAILABLE.target},f.default.createElement("p",null,"Based on your previous responses, there are no down payment assistance programs available for this home. ",f.default.createElement("a",{className:"dpaDataCursor"},f.default.createElement("span",{role:"button",onClick:function(){return R("edit")}},"Edit Responses")))):f.default.createElement(T.default,{section:S.default.impressions.DOWN_PAYMENT_ASSISTANCE_PREVIOUS_RESPONSE_AVAILABLE.section,target:S.default.impressions.DOWN_PAYMENT_ASSISTANCE_PREVIOUS_RESPONSE_AVAILABLE.target,eventDetails:{numberOfPrograms:l.availablePrograms,maxAssistanceAmount:l.maxAssistance}},f.default.createElement("p",null,"Based on your previous responses, ",l.availablePrograms," ",l.availablePrograms>1?"programs":"program"," with up to ",(0,C.formatPrice)(l.maxAssistance)," in down payment assistance may be available to you. ",f.default.createElement("a",{className:"dpaDataCursor"},f.default.createElement("span",{role:"button",onClick:function(){return R("see")}},"See available programs"))))};return f.default.createElement(T.default,{section:S.default.impressions.DOWN_PAYMENT_ASSISTANCE_PLACEHOLDER.section,target:S.default.impressions.DOWN_PAYMENT_ASSISTANCE_PLACEHOLDER.target},f.default.createElement("div",{className:"dpaBlueBoxSession"},f.default.createElement("span",{className:"dpaBlueBoxTitle"},"Down payment assistance"),O,f.default.createElement("span",{className:"dpaBlueBoxContent"},u||c?f.default.createElement("span",{className:"dpaBlueBoxContent"},f.default.createElement("p",null,"There may be down payment programs available for this home. ",f.default.createElement("a",{className:"dpaDataCursor",href:"https://www.redfin.com/guides/down-payment-assistance-programs",onClick:function(){S.default.trackClick(S.default.clicks.LEARN_MORE)},target:"_blank",rel:"noopener"},"Learn more"))):s?A():N()),f.default.createElement(I.default,{onEnterViewport:function(){return m.default.populateDpaData(n.props.addressSectionInfo)}},f.default.createElement(h.default,{dpaStore:this.props.dpaStore,useMobileStyles:o,ghostProgram:p})),this.state.shouldShowInfoDialog&&o&&f.default.createElement(E.default,{className:"dpaMobileFlyout",close:function(){return n.hideInfoDialog()},showCloseButton:!1},k())))}}],[{key:"displayName",get:function(){return"DownPaymentAssistanceSection"}},{key:"propTypes",get:function(){return{addressSectionInfo:p.default.object,dpaStore:p.default.object}}},{key:"getComponentDependencies",value:function(){return{dependencies:["addressSectionInfo","dpaStore"]}}}]),n}(f.Component);t.default=O,e.exports=t.default},Wai5:function(e,t,n){},Wt5P:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("mXGw")),d=a(n("17x9")),f=a(n("94Bj")),p=a(n("WqrT")),m=n("+xFC"),h=a(n("aWzF")),g=a(n("eYhh")),_=a(n("UT8e")),v=a(n("lcmt")),y=a(n("zl5j")),E=a(n("kj8T")),S=a(n("D0QW"));function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("8aW2");var T=function(e){(0,s.default)(n,e);var t=I(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).onUnclaimedBadgeClick=a.onUnclaimedBadgeClick.bind((0,i.default)(a)),a}return(0,o.default)(n,[{key:"getLastListed",value:function(){return c.default.createElement(p.default,{term:"Last List Price",definition:"Redfin couldn't find a public record of the final sale price of this home. This is the last price at which the home was listed for sale.",definitionLink:"https://support.redfin.com/hc/en-us/articles/360001432472-Search-for-Sold-Homes"},"last listed")}},{key:"getOMDPSecondaryInfo",value:function(e){var t=this.props.soldDate&&v.default.format(this.props.soldDate,"US/Pacific","MMM D, YYYY");if(!e&&this.props.priceInfo&&this.props.priceInfo.amount||this.props.soldDate)return!e&&this.props.priceInfo&&this.props.priceInfo.amount?!e&&this.props.priceInfo&&this.props.priceInfo.amount&&!this.props.soldDate?"Last List Price"!==this.props.priceInfo.label?"This home last sold for $"+(0,m.formatNumber)(this.props.priceInfo.amount)+".":c.default.createElement("span",null,"This home was ",this.getLastListed()," for $",(0,m.formatNumber)(this.props.priceInfo.amount),"."):"Last List Price"!==this.props.priceInfo.label?"This home last sold for $"+(0,m.formatNumber)(this.props.priceInfo.amount)+" on "+t+".":c.default.createElement("span",null,"This home was ",this.getLastListed()," for $",(0,m.formatNumber)(this.props.priceInfo.amount)," on ",t,"."):"This home last sold on "+t+"."}},{key:"onUnclaimedBadgeClick",value:function(){h.default.openDialog("unclaimed_badge"),S.default.trackClick(S.default.clicks.UNCLAIMED_BADGE_CLICK)}},{key:"createOffMarketSection",value:function(e){if("VARIANT"===f.default.getVariant(g.default))return null;var t=this.getOMDPSecondaryInfo(e);return c.default.createElement(_.default,{section:"address_banner_secondary",target:"off_market"},c.default.createElement("div",{className:"secondary-stats-bannerV2"},c.default.createElement("div",{className:"label-and-claim-status"},c.default.createElement("div",{className:"primary-label off-market"},"Off Market")),t&&c.default.createElement("div",{className:"secondary-info"},t)))}},{key:"createRecentlySoldSection",value:function(e){if("VARIANT"===f.default.getVariant(g.default))return null;if(!e||!e.displayBannerStore||!e.displayBannerStore.recentlySoldMessage)return c.default.createElement("div",{className:"secondary-stats-bannerV2"},c.default.createElement("div",{className:"primary-label recently-sold"},"Recently Sold"));var t;return t="Last List Price"!==this.props.priceInfo.label?"This home "+e.displayBannerStore.recentlySoldMessage+".":c.default.createElement("span",null,"This home was ",this.getLastListed()," for $",(0,m.formatNumber)(this.props.priceInfo.amount)," and ",e.displayBannerStore.recentlySoldMessage,"."),c.default.createElement(_.default,{section:"address_banner_secondary",target:"recently_sold"},c.default.createElement("div",{className:"secondary-stats-bannerV2"},c.default.createElement("div",{className:"primary-label recently-sold"},"Recently Sold"),c.default.createElement("div",{className:"secondary-info"},t)))}},{key:"createOfferDeadlineSection",value:function(e){return e&&e.displayBannerStore?c.default.createElement(E.default,{offerDeadlineInfoStore:e.displayBannerStore,homePhotosInfo:this.props.photos,contactBoxInfo:e.contactBoxInfo}):null}},{key:"createComingSoonSection",value:function(e){return e&&e.displayBannerStore&&"VARIANT"!==f.default.getVariant(g.default)?c.default.createElement(y.default,{comingSoonInfoStore:e.displayBannerStore,personalizationInfoReceived:this.props.personalizationInfoReceived,isFavorite:this.props.isFavorite}):null}},{key:"getBanner",value:function(){var e=null,t=this.props.addressBarBannerInfoStore;if(this.props.pageType===g_detailsPageType.OFF_MARKET){var n=t.displayBannerType===g_detailsPageBanner.LOCAL_RULES;return e=this.createOffMarketSection(n)}switch(t.displayBannerType){case g_detailsPageBanner.LOCAL_RULES:break;case g_detailsPageBanner.OFFER_DEADLINE:e=this.createOfferDeadlineSection(t);break;case g_detailsPageBanner.COMING_SOON:e=this.createComingSoonSection(t);break;case g_detailsPageBanner.RECENTLY_SOLD:e=this.createRecentlySoldSection(t)}return e}},{key:"render",value:function(){var e=this.getBanner();return e&&c.default.createElement("div",{className:"secondary-stats-banner"},e)}}],[{key:"displayName",get:function(){return"HomeSecondaryStats"}},{key:"propTypes",get:function(){return{addressBarBannerInfoStore:d.default.object,priceInfo:d.default.object,soldDate:d.default.number,soldDateTimeZone:d.default.string,listingType:d.default.number,isActivish:d.default.bool,pageType:d.default.number,localRulesOnly:d.default.bool}}},{key:"defaultProps",get:function(){return{localRulesOnly:!1}}}]),n}(c.default.Component);e.exports=T},Wzxf:function(e,t,n){},"X+RS":function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("YAhj")),o=a(n("0VMN")),i=a(n("8Jek")),s=a(n("kyV4")),l=n("+xFC"),u=a(n("lcmt")),c=a(n("17x9")),d=a(n("mU1b")),f=a(n("KLmJ")),p=a(n("Md6j")),m=n("bR9U");e.exports=(0,o.default)({mixins:[p.default],displayName:"PropertyHistoryEventRow",propTypes:{shortVersion:c.default.bool,historyRow:c.default.object,timeZone:c.default.string,isAdminOnlyView:c.default.bool,showLogoInLists:c.default.bool,definitions:c.default.array,index:c.default.number,deviceConfig:c.default.number},render:function(){var e=(0,i.default)({"agent-only":this.props.isAdminOnlyView||this.props.historyRow.isEventAdminOnly,"sold-row":2===this.props.historyRow.historyEventType});e+=" row PropertyHistoryEventRow";var t=this.props.historyRow.transaction,n=[],a=[];if(t){var o=this.getLenderNodes("Lender 1",t.primaryLender,t.loanValue1,1),s=this.getLenderNodes("Lender 2",t.secondaryLender,t.loanValue2,2),l=this.getLenderNodes("Total loan value","",t.totalLoanValue,3),u=this.getEventNameValueNode("Buyer",t.buyer,4),c=this.getEventNameValueNode("Seller",t.seller,5);n=[r.default.createElement("div",{key:"0",className:"mortgage-item agent-only"},"Mortgage information"),o.event,s.event,l.event,u,c],a=[r.default.createElement("div",{key:"0",className:"mortgage-item agent-only"}," "),o.price,s.price,l.price]}var d=this.props.deviceConfig===g_deviceConfiguration.PHONE,f=d?"col-6":"col-4",p=this._renderColumnOne(d,f,n),m=this._renderColumnTwo(d,f,n),h=this._renderColumnThree(d,f,a);return r.default.createElement("div",{className:e,id:"propertyHistory-"+this.props.index},p,m,h)},_renderColumnOne:function(e,t,n){return e?r.default.createElement("div",{className:t},r.default.createElement("p",{className:"date-value"},this.getDate()),r.default.createElement("div",{className:"description-col"},(0,m.getEventDescription)(this.props.historyRow)),r.default.createElement("div",null,this.getEventSubDescription()),n,r.default.createElement("p",{className:"subtext"},this.getSource())):r.default.createElement("div",{className:t},r.default.createElement("p",null,this.getDate()),r.default.createElement("p",{className:"subtext"},"Date"))},_renderColumnTwo:function(e,t,n){return e?null:r.default.createElement("div",{className:"description-col ".concat(t)},r.default.createElement("div",null,(0,m.getEventDescription)(this.props.historyRow)),r.default.createElement("div",null,this.getEventSubDescription()),n,r.default.createElement("p",{className:"subtext"},this.getSource()))},_renderColumnThree:function(e,t,n){var a=(0,i.default)({"price-col":!0,number:!0,empty:null===this.props.historyRow.price||3===this.props.historyRow.priceDisplayLevel,"agent-only":2===this.props.historyRow.priceDisplayLevel}),o=this.props.historyRow.appreciation,s=(0,i.default)({number:!0,positive:null!==o&&o>0,negative:null!==o&&o<=0,empty:"undefined"==typeof apprecation||!(null!==o)}),l=null;return this.getEventSubDescription()&&(l=r.default.createElement("div",{className:"mortgage-item"}," ")),e?r.default.createElement("div",{className:t},r.default.createElement("p",{className:"date-value"}," "),r.default.createElement("div",{className:a},(0,m.getPrice)(this.props.historyRow),l,n),r.default.createElement("p",{className:"subtext"},"Price")):r.default.createElement("div",{className:t},r.default.createElement("div",{className:a},(0,m.getPrice)(this.props.historyRow),r.default.createElement("span",{className:s}," ",this.getAppreciation()),l,n),r.default.createElement("p",{className:"subtext"},"Price"))},getLenderNodes:function(e,t,n,a){return e&&(t||n)?(n=n?(0,l.formatPrice)(n," "):" ",{event:this.getEventNameValueNode(e,t||" ",a),price:r.default.createElement("div",{key:a,className:"mortgage-item agent-only"},n)}):{event:null,price:null}},getEventNameValueNode:function(e,t,n){return e&&t?r.default.createElement("div",{key:n,className:"mortgage-item agent-only"},r.default.createElement("span",{className:"event-label inline-block"},e,": "),r.default.createElement("span",{className:"event-value"},t||"")):null},getDate:function(){return 2===this.props.historyRow.historyEventType?this.props.historyRow.eventDateString:u.default.format(this.props.historyRow.eventDate,this.props.timeZone,"MMM D, YYYY")},getEventSubDescription:function(){var e=this.props.historyRow.eventSubDescription;if(e){for(var t,n=[],a=/<span\s+slug=([^>\s]+)>([^<]+)<\/span>/g,o=0,i=0;null!==(t=a.exec(e));){n.push(r.default.createElement("span",{key:i++},e.substr(o,t.index-o)));var l=this._findDefinition(t[1]);l&&!(0,s.default)("mobile-enabled")?n.push(r.default.createElement("span",{key:i++},r.default.createElement(d.default,{term:l.term,definition:l.brief,definitionLink:l.link},t[2]))):n.push(r.default.createElement("span",{key:i++},t[2])),o=a.lastIndex}return n.push(r.default.createElement("span",{key:i++},f.default.checkSentenceWithHtml(e.substr(o,e.length-o)))),n}return null},getAppreciation:function(){var e=this.props.historyRow.appreciation;if(null!=e){var t=e>0?"+":"-";e=e>=10?"(>".concat(t,"1,000%/yr)"):e<=-10?"(<".concat(t,"1,000%/yr)"):"(".concat((0,l.formatPercent)(e),"/yr)")}else e="";return e},getSource:function(){var e=this.props.historyRow.source;this.props.historyRow.sourceId&&(e+=" #"+this.props.historyRow.sourceId);var t=this.props.historyRow.url;return t?r.default.createElement("a",{href:t,rel:"nofollow"},e):e},_findDefinition:function(e){if(this.props.definitions)for(var t in this.props.definitions)if(this.props.definitions[t].slug===e)return this.props.definitions[t];return null}})},X0Ra:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("YAhj")),d=a(n("17x9")),f=n("NErW"),p=a(n("qoxJ")),m=a(n("94Bj")),h=a(n("DlpU")),g=a(n("ma35")),_=a(n("UT8e")),v=a(n("nbo3")),y=a(n("ZJ8h")),E=n("uxEU"),S=a(n("hswt"));function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var T=function(e){(0,s.default)(n,e);var t=I(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"shouldRenderSearchCTA",value:function(){return m.default.isOn(p.default)&&"VARIANT"===m.default.getVariant(p.default)&&this.props.regionUrl}},{key:"clickSearchCTA",value:function(e){y.default.trackClick(y.default.clicks.SEARCH_ACTIVE_CTA_CLICK,e),v.default.flushRiftEvents()}},{key:"getControlCards",value:function(){for(var e=[],t=this.props,n=t.homes,a=t.positionsMap,o=t.queryId,i=(0,f.buildMLSLogoInfoFromDataSources)(this.props.dataSources),s=0;s<n.length;s++){var l=n[s],u={mlsLogoInfo:i,homeData:l,showPhotoOnLoad:this.props.showPhoto,tags:this.props.fuzzyPropertyData[l.propertyId],trackingParams:{propertyId:this.props.propertyId,listingId:this.props.listingId,similarPropertyId:l.propertyId,similarListingId:l.listingId,index:(a||{})[l.propertyId],homeCardClickEvent:this.props.homeCardClickEvent,accessLevel:this.props.accessLevel,queryId:o,score:(0,E.getScoreAtPosition)(this.props.scores,(a||{})[l.propertyId])},isDPSimilars:!0,showRemarksOnDPSimilars:this.props.showRemarksOnDPSimilars};e.push(c.default.createElement(S.default,(0,r.default)({},u,{key:s})))}return e}},{key:"getVariantCards",value:function(){for(var e=this,t=[],n=this.props,a=n.homes,o=n.positionsMap,i=n.queryId,s=(0,f.buildMLSLogoInfoFromDataSources)(this.props.dataSources),l=[],u=[],d=[],p=[],m=0;m<a.length;m++){var h=a[m],v={mlsLogoInfo:s,homeData:h,showPhotoOnLoad:this.props.showPhoto,tags:this.props.fuzzyPropertyData[h.propertyId],trackingParams:{propertyId:this.props.propertyId,listingId:this.props.listingId,similarPropertyId:h.propertyId,similarListingId:h.listingId,index:(o||{})[h.propertyId],homeCardClickEvent:this.props.homeCardClickEvent,accessLevel:this.props.accessLevel,queryId:i,score:(0,E.getScoreAtPosition)(this.props.scores,(o||{})[h.propertyId])},isDPSimilars:!0};m<3?l.push(c.default.createElement(S.default,(0,r.default)({},v,{key:m}))):m<6?u.push(c.default.createElement(S.default,(0,r.default)({},v,{key:m}))):m<9?d.push(c.default.createElement(S.default,(0,r.default)({},v,{key:m}))):p.push(c.default.createElement(S.default,(0,r.default)({},v,{key:m})))}return t.push(c.default.createElement("div",{className:"similars-subrow"},l)),t.push(c.default.createElement("div",{className:"similars-subrow"},u)),t.push(c.default.createElement("div",{className:"similars-subrow"},d)),t.push(c.default.createElement("div",{className:"similars-subrow"},p)),this.props.regionUrl&&t.push(c.default.createElement(_.default,{section:"similar_homes",target:"search_active_cta",eventDetails:this.props.searchCTARiftDetails},c.default.createElement(g.default,{className:"tertiary cta",href:this.props.regionUrl,onClick:function(){return clickSearchCTA(e.props.searchCTARiftDetails)}},"View more homes"))),t}},{key:"similarsSeeMoreClick",value:function(){y.default.trackClick(y.default.clicks.NEARBY_SIMILARS_SEE_MORE)}},{key:"render",value:function(){var e=this;if(!this.props.homes)return null;var t=this.props.homes;if("VARIANT"===m.default.getVariant(p.default)&&t.length>6){var n=this.getVariantCards(),a="Show "+(t.length-6)+" more homes";return c.default.createElement("div",{className:"similars"},c.default.createElement(h.default,{shouldScrollToTopOnCollapse:!1,numSegmentsToDisplayWhenCollapsed:2,expandText:a,shouldServerRenderForGoogle:!0,onClick:function(){return e.similarsSeeMoreClick()},disableContentSectionClickExpansion:!0},n))}var r=this.getControlCards();return c.default.createElement("div",{className:"similars"},c.default.createElement("div",{className:"row-type"},r))}}],[{key:"displayName",get:function(){return"redfin.homes.details.similars.react.SimilarHomeCards"}},{key:"propTypes",get:function(){return{homes:d.default.array,dataSources:d.default.array,showPhoto:d.default.bool,fuzzyPropertyData:d.default.object,propertyId:d.default.number,homeCardClickEvent:d.default.object,queryId:d.default.string,scores:d.default.array,positionsMap:d.default.obj}}},{key:"defaultProps",get:function(){return{homes:null,fuzzyPropertyData:{},queryId:null}}}]),n}(c.default.Component);e.exports=T},X6Wo:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("lSNA")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),p=a(n("17x9")),m=a(n("8Jek")),h=n("f2dk"),g=n("8Pth"),_=n("oNBp"),v=a(n("ma35")),y=a(n("SE8B")),E=a(n("Nm66")),S=a(n("W9n9")),I=a(n("hmmP")),T=a(n("d21m")),C=a(n("xu7O")),b=a(n("8Llx"));function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var O=function(e){(0,l.default)(n,e);var t=R(n);function n(e){var a;return(0,o.default)(this,n),a=t.call(this,e),(0,d.default)((0,s.default)(a),"_onAddBtnClick",function(){a._saveOpenHouse()}),(0,d.default)((0,s.default)(a),"_showCalendarDialog",function(){a.getStore().actions.showCalendarDialog()}),(0,d.default)((0,s.default)(a),"_hideCalendarDialog",function(){a.getStore().actions.hideCalendarDialog()}),(0,d.default)((0,s.default)(a),"_showMoreOptionsFlyout",function(){a.getStore().actions.showMoreOptionsFlyout()}),(0,d.default)((0,s.default)(a),"_hideMoreOptionsFlyout",function(){a.getStore().actions.hideMoreOptionsFlyout()}),(0,d.default)((0,s.default)(a),"_onViewOHListClick",function(){I.default.trackClick(I.default.clicks.FLYOUT_VIEW_OPEN_HOUSE)}),(0,d.default)((0,s.default)(a),"_closeAllFlyouts",function(){a.getStore().actions.closeAllFlyouts()}),(0,d.default)((0,s.default)(a),"_saveOpenHouse",function(){if(null!=a.props.id&&!a.getStore().processingRequest){var e={click_result:b.default.isLoggedIn()?"success":"authentication_required",num_upcoming:a.props.numUpcoming},t=a.props.agent&&a.props.agent.getAgentType()===g.CONNECT.id?T.default.trackClick(T.default.clicks.ADD_TO_OPEN_HOUSES_LIST,e):I.default.trackClick(I.default.clicks.SAVE_TO_OPEN_HOUSE,e);(0,h.showLoginLightboxIfNeeded)({registrationReason:_.SAVE_OPEN_HOUSE.id,registrationEntrypointRiftContext:t}).then(function(){a.getStore().actions.saveOpenHouse()})}}),a}return(0,i.default)(n,[{key:"getStore",value:function(){return this.props.openHouseStore.buttonStores[this.props.id]}},{key:"render",value:function(){var e=this,t=this.getStore();if(!t)return null;var n=this.props.openHouseStore.experimentVariant,a=t.isOpenHouseSaved,r=t.processingRequest,o=t.openHouseCalendarInformation,i=null;if(a)i="CONTROL"===n?f.default.createElement("span",null,"Saved to Open House Schedule",f.default.createElement("a",{className:"link",href:"/myredfin/openhouses",onClick:this._onViewOHListClick,"data-rf-test-name":"ohListViewLink"}," (View)")):f.default.createElement("span",null,f.default.createElement("span",{className:"font-weight-normal ".concat(r?"font-color-disabled":"font-color-gray-light")},"Saved • "));else{var s={rfTestName:"buttonNode",rfTestId:"saveToOpenHouseScheduleButton",className:"unpadded",type:"text v3",children:"Save open house",disabled:r,onClick:this._onAddBtnClick,ref:"saveButton"};i=f.default.createElement(v.default,s)}var l=null;t.showSuccessFlyout?l=f.default.createElement("div",{className:"ohFlyoutContent"},f.default.createElement("div",null,"This home was saved to your","CONTROL"===n?f.default.createElement("a",{className:"link",href:"/myredfin/open-houses",onClick:this._onViewOHListClick,"data-rf-test-name":"successLink"}," Open House Schedule"):" Open House Schedule",".","CONTROL"!==n&&[f.default.createElement("a",{className:"link",href:"/myredfin/open-houses",onClick:this._onViewOHListClick}," View here."),f.default.createElement(v.default,{className:"tertiary margin-top-smaller",onClick:function(){e._showCalendarDialog(),e._closeAllFlyouts()}},"Add to calendar")])):t.showTooManyFlyout?l=f.default.createElement("div",{className:"ohFlyoutContent"},f.default.createElement("div",null,"Sorry, you've saved the maximum of 20 homes for this day.  To save this home, delete one from your",f.default.createElement("a",{className:"link",href:"/myredfin/open-houses",onClick:this._onViewOHListClick}," Open House Schedule"),".")):t.showRemovedFlyout?l=f.default.createElement("div",{className:"ohFlyoutContent"},f.default.createElement("div",null,"This open house time does not exist anymore.")):t.showErrorFlyout&&(l=f.default.createElement("div",{className:"ohFlyoutContent"},f.default.createElement("div",null,"Sorry, something went wrong. Please try again.")));var u="CONTROL"!==n&&a&&f.default.createElement("span",{className:r?"font-color-disabled":"link",onClick:function(){r||(e._closeAllFlyouts(),e._showMoreOptionsFlyout())},tabIndex:0,onKeyDown:function(){},role:"link"},"More options"),c=f.default.createElement(y.default,{className:"successFlyout",alignment:"center",position:"below",title:"CONTROL"!==n&&t.showSuccessFlyout?"Saved Open House":"Open House Schedule",onBlur:this._closeAllFlyouts,animateOnAppear:!0,key:"open-house-flyout",show:!!l,showDialogOnSmallScreen:"CONTROL"===n},l),d={openHouseButton:!0,processingRequest:this.getStore().processingRequest,ohListSavedText:a&&"CONTROL"===n};return f.default.createElement("div",{className:(0,m.default)(d)},a&&f.default.createElement(E.default,{className:"ohListSavedIcon"}),f.default.createElement("div",{className:"inline-block align-baseline"},f.default.createElement("span",null,i),c),f.default.createElement("div",{className:"inline-block align-baseline"},u,t.showMoreOptionsFlyout&&f.default.createElement(C.default,{onBlur:this._hideMoreOptionsFlyout,onAddToCalendar:function(){e._hideMoreOptionsFlyout(),e._showCalendarDialog()},onRemoveOpenHouse:function(){t.actions.removeOpenHouse()},onViewSchedule:function(){t.actions.onViewScheduleClick()}})),this.props.commentFlyout,f.default.createElement(S.default,{open:t.showCalendarDialog,dialogData:o,actions:{saveOpenHouseToCalendar:t.actions.saveOpenHouseToCalendar,downloadCalendarFile:t.actions.downloadCalendarFile,onClose:this._hideCalendarDialog}}))}}],[{key:"displayName",get:function(){return"OpenHouseButton"}},{key:"propTypes",get:function(){return{openHouseInfo:p.default.object,commentFlyout:p.default.element}}}]),n}(f.Component);t.default=O,e.exports=t.default},XAd1:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("Q+Iq"),o=n("TlVh"),i=(a(n("/+pK")),(0,o.createStoreFactory)({init:function(e){this.fetchData(e)},fetchData:function(e){var t=this;e.rentalEstimateInfo&&e.rentalEstimateInfo.predictedValue&&(0,r.getEndpoint)("/stingray/api/home/comparable-rentals?rentEstimateLow="+e.rentalEstimateInfo.predictedValue+"&rentEstimateHigh="+e.rentalEstimateInfo.predictedValue+"&latitude="+e.latitude+"&longitude="+e.longitude+"&propertyId="+e.propertyId).then(function(n){if(n&&n.homes&&n.homes.length){t.setState({comparableRentals:n.homes});var a=e.rentalEstimateInfo.predictedValue;(0,r.getEndpoint)("/stingray/api/comparableRentalsUrl?rentalEstimateAvg="+a+"&lat="+e.latitude+"&lng="+e.longitude).then(function(e){e&&e.url&&t.setState({comparableRentalsMapUrl:e.url})},function(e){})}},function(e){})}}));t.default=i,e.exports=t.default},XAqm:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),d=a(n("17x9")),f=a(n("ovDw")),p=a(n("ma35")),m=a(n("fDvs")),h=a(n("7hPi")),g=a(n("+ihc")),_=a(n("rERt")),v=a(n("/+pK")),y=a(n("94Bj")),E=a(n("qDYr")),S=a(n("w6wp")),I=a(n("xsdy")),T=a(n("nbo3")),C=n("osI4");function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("3gA2");var R=function(e){(0,s.default)(n,e);var t=k(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"isInUnservicedHomesVariant",value:function(){return!v.default.get(g_dbBackedConfigKeys.UNSERVICED_HOMES_INFO_BLOCKLIST_PROPERTIES).includes(this.props.propertyId)&&"VARIANT"===y.default.getVariant(_.default)}},{key:"renderContactMessage",value:function(e,t,n){return n&&c.default.createElement("div",{className:"contact"},c.default.createElement("div",{className:"contactPrompt"},"Contact this home’s listing agent:"),c.default.createElement("div",{className:"contactName"},e," "),c.default.createElement("div",{className:"contactBroker"},t),c.default.createElement("div",{className:"contactPhone"},c.default.createElement("a",{href:"tel:"+n},n)))}},{key:"trackListingAgentPhoneClick",value:function(){I.default.trackClick(I.default.clicks.LISTING_AGENT_PHONE_CLICK,{device_category:"desktop"===(0,C.getCurrentDeviceType)()?"desktop":"mobile"}),T.default.flushRiftEvents()}},{key:"trackListingAgentEmailClick",value:function(){I.default.trackClick(I.default.clicks.LISTING_AGENT_EMAIL_CLICK,{device_category:"desktop"===(0,C.getCurrentDeviceType)()?"desktop":"mobile"}),T.default.flushRiftEvents()}},{key:"trackStickyFooterCallClick",value:function(){I.default.trackClick(I.default.clicks.STICKY_FOOTER_CALL_CLICK),T.default.flushRiftEvents()}},{key:"renderUnservicedHomesVariant",value:function(e){var t=this.props.contactInfo,n=t.contactName,a=t.contactBrokerName,r=t.contactPhoneNumber,o=t.contactEmail,i="Contact this home's listing agent:",s=c.default.createElement("div",{className:"heading-medium"},i),l=c.default.createElement("div",{className:"padding-top-medium"},c.default.createElement("div",{className:"font-weight-bold"},n," "),c.default.createElement("div",null,a),r?c.default.createElement("div",null,"Phone:"," ",c.default.createElement("a",{onClick:this.trackListingAgentPhoneClick,href:"tel:"+r},r)):null,o?c.default.createElement("div",null,"Email:"," ",c.default.createElement("a",{onClick:this.trackListingAgentEmailClick,href:"mailto:"+o},o)):null);return c.default.createElement(c.default.Fragment,null,c.default.createElement("div",{className:"primaryBody"},s,l),c.default.createElement("div",{className:"subBody padding-top-large"},e),this.renderStickyFooter(n,r,i))}},{key:"renderStickyFooter",value:function(e,t,n){return t&&"desktop"!==(0,C.getCurrentDeviceType)()?(I.default.trackImpression(I.default.impressions.STICKY_FOOTER_CALL_IMPRESSION),c.default.createElement(E.default,{className:"StickyContactFooter"},c.default.createElement("div",{className:"flex justify-between"},c.default.createElement("div",{className:"font-size-small"},c.default.createElement("div",{className:"font-weight-bold"},n),c.default.createElement("div",null,e)),c.default.createElement(p.default,{type:"tertiary-alt",className:"StickyTourButton",href:"tel:"+t,onClick:this.trackListingAgentPhoneClick},c.default.createElement(S.default,{className:"size-small with-text svg-icon"}),"Call")))):null}},{key:"renderBuyersAgentPrompt",value:function(){return c.default.createElement("span",{className:"agentPrompt"}," We still recommend that you get a buyer’s agent to represent you.",c.default.createElement("a",{href:"https://www.redfin.com/blog/why-you-need-a-real-estate-agent-to-buy-a-home"}," See why."))}},{key:"renderBelowMinPriceBox",value:function(){var e=this.props.contactInfo,t=e.contactName,n=e.contactBrokerName,a=e.contactPhoneNumber,r=c.default.createElement("div",{className:"title"},"How do I see this home?"),o=c.default.createElement("div",{className:"explain"},c.default.createElement("p",null,"Redfin is currently unable to show this property.",this.renderBuyersAgentPrompt())),i=this.renderContactMessage(t,n,a);return c.default.createElement("div",{className:"blockedBox"},r,o,i)}},{key:"renderBelowMinPriceBoxVariant",value:function(){var e=c.default.createElement("div",{className:"font-size-small font-color-subtext"},"At this time, Redfin doesn't have any agents available to help. Availability is subject to change. Please check back soon.");return this.renderUnservicedHomesVariant(e)}},{key:"renderPropertyTypeNotServicedBox",value:function(){var e=this.props.contactInfo,t=e.contactName,n=e.contactBrokerName,a=e.contactPhoneNumber,r=this.props.propertyType===g.default.id?c.default.createElement("span",null,"5+ unit multi-family listings"):c.default.createElement("span",null,"this type of listing"),o=c.default.createElement("div",{className:"title"},"How can I see this home?"),i=c.default.createElement("p",null,"Redfin is currently unable to provide agent service for ",r,".",this.renderBuyersAgentPrompt()),s=c.default.createElement("div",{className:"explain"},i),l=this.renderContactMessage(t,n,a);return c.default.createElement("div",{className:"blockedBox"},o,s,l)}},{key:"renderBankOwnedBox",value:function(){var e=c.default.createElement("div",{className:"title"},"Foreclosed home"),t=c.default.createElement("div",{className:"explain"},c.default.createElement("p",null,"We are sorry, this foreclosed home is currently not for sale."),c.default.createElement("p",null,c.default.createElement("a",{href:"https://www.redfin.com/definition/real-estate-owned-home"},"Learn more about foreclosed homes.")));return c.default.createElement("div",{className:"blockedBox"},e,t)}},{key:"renderFSBOBox",value:function(){var e=c.default.createElement("div",{className:"title"},"For sale by owner"),t=c.default.createElement("div",{className:"explain"},c.default.createElement("p",null,"The seller has listed the home on a for-sale-by-owner site. Redfin does not currently provide agent service for for-sale-by-owner listings."));return c.default.createElement("div",{className:"blockedBox"},e,t)}},{key:"renderConnectAreaRedfinAgentBox",value:function(){var e=c.default.createElement("div",{className:"title"},"Redfin partner service area"),t=this.props,n=t.agentName,a=t.agentPhotoUrl,r=t.agentEmail,o=t.agentPhone,i=t.agentUrl,s=n.split(" ")[0],l=c.default.createElement("div",{className:"explain"},c.default.createElement("p",null,"This listing is outside of our service area, but may be serviced by a partner agent."),c.default.createElement("p",null,"Please contact your agent ",s," directly to learn more about your options.")),u=c.default.createElement("div",{className:"contact"},c.default.createElement("div",{className:"agentCardHeading"},"Your Redfin Agent"),c.default.createElement(f.default,{firstNameLastName:n,photoUrl120x120:a,profileUrl:i,email:r,clientDisplayablePhoneNumber:o,showIcons:!1}));return c.default.createElement("div",{className:"blockedBox"},e,l,u)}},{key:"renderNotForSaleBox",value:function(){var e=this.props.mlsStatusMessage,t=e?"Sale "+e.toLowerCase():"Not for sale";t=c.default.createElement("div",{className:"title"},t);var n=e?"The seller has accepted an offer, and this property is now pending or under contract.":"This property is not for sale.";return n=c.default.createElement("div",{className:"explain"},c.default.createElement("p",null,n)),c.default.createElement("div",{className:"blockedBox"},t,n)}},{key:"renderOutOfServiceBox",value:function(){var e=c.default.createElement("div",{className:"title"},"How can I see this home?"),t=c.default.createElement("div",{className:"explain"},c.default.createElement("p",null,"We're sorry - Redfin doesn't currently have an agent available to help you with this home."),c.default.createElement("p",null,"Please check back often since we expect to be able to help you soon."));return c.default.createElement("div",{className:"blockedBox"},e,t)}},{key:"renderOutOfServiceBoxVariant",value:function(){var e=c.default.createElement("div",{className:"font-size-small font-color-subtext"},"At this time, Redfin doesn't have an agent available to help you with this home.");return this.renderUnservicedHomesVariant(e)}},{key:"renderConnectAreaScheduledTourBox",value:function(){var e=this.props,t=e.teamPhoneNumber,n=e.teamName,a=c.default.createElement("div",{className:"title"},"Partner service area"),r=t&&c.default.createElement("p",null,"Please call the Redfin ",n," team at ",c.default.createElement("a",{href:"tel:"+t}," ",t," "),"to learn more about working with a Redfin partner agent."),o=c.default.createElement("div",{className:"explain"},c.default.createElement("p",null,"This listing is outside of our service area, but may be serviced by a Redfin partner agent."),r);return c.default.createElement("div",{className:"blockedBox"},a,o)}},{key:"getOutOfAreaActiveListing",value:function(){var e=this.props.listingAgents&&this.props.listingAgents.length>0&&this.props.listingAgents[0].agentInfo.agentName,t=this.props.listingAgents&&this.props.listingAgents.length>0&&this.props.listingAgents[0].brokerName,n=this.props.listingAgents&&this.props.listingAgents.length>0&&this.props.listingAgents[0].agentPhoneNumber&&this.props.listingAgents[0].agentPhoneNumber.phoneNumber,a=this.props.listingAgents&&this.props.listingAgents.length>0&&this.props.listingAgents[0].agentEmailAddress,r=c.default.createElement("div",{className:"heading-medium"},"Contact this home's listing agent:"),o=c.default.createElement("div",{className:"padding-top-medium"},c.default.createElement("div",{className:"font-weight-bold"},e," "),c.default.createElement("div",null,t),n?c.default.createElement("div",null,"Phone:"," ",c.default.createElement("a",{onClick:this.trackListingAgentPhoneClick,href:"tel:"+n},n)):null,a?c.default.createElement("div",null,"Email:"," ",c.default.createElement("a",{onClick:this.trackListingAgentEmailClick,href:"mailto:"+a},a)):null);return c.default.createElement("div",{className:"outOfArea"},r,o)}},{key:"renderOutOfAreaBox",value:function(){if(this.props.isActiveDP)return this.getOutOfAreaActiveListing();var e=this.props.hasClaim?c.default.createElement("div",{className:"ownerDashboardSection"},c.default.createElement(p.default,{type:"primary",href:"/myredfin/home-dashboard/property/".concat(this.props.propertyId)},"View Owner Dashboard")):c.default.createElement(m.default,{buttonType:"primary",claimHomeTitle:this.props.claimHomeTitle,claimHomeDescription:this.props.claimHomeDescription});return c.default.createElement("div",{className:"outOfArea"},e,c.default.createElement("div",{className:"agentsSection"},"Sorry, Redfin agents and partners don't yet serve this area",c.default.createElement(p.default,{type:"tertiary",href:"/sitemap"},"See where Redfin has agents")))}},{key:"render",value:function(){switch(this.props.blockedType){case h.default.BELOW_MIN_PRICE.id:return this.isInUnservicedHomesVariant()?this.renderBelowMinPriceBoxVariant():this.renderBelowMinPriceBox();case h.default.PROPERTY_TYPE_NOT_SERVICED.id:return this.getOutOfAreaActiveListing();case h.default.BANK_OWNED.id:return this.renderBankOwnedBox();case h.default.FSBO.id:return this.renderFSBOBox();case h.default.CONNECT_AREA_REDFIN_AGENT.id:return this.renderConnectAreaRedfinAgentBox();case h.default.NOT_FOR_SALE.id:return this.renderNotForSaleBox();case h.default.UNSUPPORTED_SHORT_SALE.id:case h.default.OUT_OF_SERVICE.id:return this.isInUnservicedHomesVariant()?this.renderOutOfServiceBoxVariant():this.renderOutOfServiceBox();case h.default.CONNECT_AREA_SCHEDULED_TOUR.id:return this.renderConnectAreaScheduledTourBox();case h.default.OUT_OF_AREA.id:return this.renderOutOfAreaBox();default:return null}}}],[{key:"displayName",get:function(){return"BlockedContactBox"}},{key:"propTypes",get:function(){return{contactInfo:d.default.object,propertyType:d.default.number,agentUrl:d.default.string,agentName:d.default.string,agentEmail:d.default.string,agentPhone:d.default.string,agentPhotoUrl:d.default.string,mlsStatusMessage:d.default.string,teamPhoneNumber:d.default.string,teamName:d.default.string,isBuySide:d.default.bool,email:d.default.string,zipCode:d.default.string,hasClaim:d.default.bool,propertyId:d.default.number,pageType:d.default.number,isActiveDP:d.default.bool,listingAgents:d.default.array,claimHomeTitle:d.default.string,claimHomeDescription:d.default.string}}}]),n}(c.Component);t.default=R,e.exports=t.default},XNIy:function(e,t,n){},XQqa:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("7W2i")),s=a(n("a1gu")),l=a(n("Nsbk")),u=a(n("17x9")),c=a(n("mXGw")),d=a(n("8Jek")),f=a(n("94Bj")),p=n("ZpgJ"),m=a(n("Nm66")),h=n("+xFC"),g=a(n("ma35")),_=n("SdOs"),v=n("79AG"),y=a(n("AYfZ")),E=a(n("7zAM"));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}n("UoPC"),n("s8FF");var I=n("UT8e"),T=c.default.createElement(m.default,null),C=function(e){(0,i.default)(n,e);var t=S(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).state={formSuccessfullySubmitted:!1,shouldShowPartnerMessaging:!1},a}return(0,o.default)(n,[{key:"renderSellerConsultationForm",value:function(){var e=this,t="VARIANT"===f.default.getVariant(y.default)&&E.default.id===this.props.inquirySource,n=t?"Schedule a consultation":"Schedule selling consultation",a=t?"primary":"tertiary";return c.default.createElement(I,{section:"net_proceeds_calculator",target:"talk_to_redfin_about_selling_cta",eventDetails:{device_category:this.props.deviceConfig===g_deviceConfiguration.PHONE?"mobile":"desktop"}},c.default.createElement("div",{className:"sellerConsultationLink"},c.default.createElement(g.default,{className:"scfButton ".concat(a),onClick:function(){return e.linkSCF()}}," ",n)))}},{key:"linkSCF",value:function(){var e=(0,_.trackClickTarget)(_.clickTargets.TALK_TO_REDFIN);(0,v.redirectToSellerConsultFlow)(this.props.propertyId,this.props.inquirySource,e)}},{key:"renderSellerConsultationSuccess",value:function(){var e=this.state.shouldShowPartnerMessaging?"A local Partner Agent will contact you within four business hours.":"A local Redfin Agent will be in touch within one business hour.";return c.default.createElement("div",{className:"SellerConsultationConfirmation"},c.default.createElement("p",{className:"info"},e," In the meantime, learn more about ",c.default.createElement("a",{href:"/why-sell"},"selling a home with Redfin"),"."))}},{key:"onSuccess",value:function(e){this.setState({formSuccessfullySubmitted:!0,shouldShowPartnerMessaging:e})}},{key:"renderHeader",value:function(){var e=2===this.props.version?c.default.createElement("h4",null,this.props.redfinSavings>0?"Get ".concat((0,h.formatPrice)(this.props.redfinSavings)," More Selling Your Home with a Redfin Agent"):"Talk to a Redfin Agent About Selling Your Home"):c.default.createElement("div",null,c.default.createElement("h4",null,"Contact a Redfin Agent who can:"),c.default.createElement("ul",null,c.default.createElement("li",null,T,c.default.createElement("div",{className:"message"},"Save you money on commissions with a ",this.props.sellAgentPctRedfin,"% listing fee")),c.default.createElement("li",null,T,c.default.createElement("div",{className:"message"},"Sell your home for $4,300 more on average"))));return c.default.createElement("div",{className:"header"},e)}},{key:"render",value:function(){var e={SaleProceedsSellerConsultationForm:!0,v2:2===this.props.version,userLoggedIn:(0,p.getJsonLogin)()};return c.default.createElement("div",{className:(0,d.default)(e)},this.state.formSuccessfullySubmitted?null:this.renderHeader(),this.state.formSuccessfullySubmitted?this.renderSellerConsultationSuccess():this.renderSellerConsultationForm())}}],[{key:"propTypes",get:function(){return{propertyId:u.default.number.isRequired,inquirySource:u.default.number.isRequired,version:u.default.number,sellAgentPctRedfin:u.default.number,redfinSavings:u.default.number}}}]),n}(c.default.Component);t.default=C,e.exports=t.default},XaAO:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.isListening=t.default=void 0;var r=a(n("cXUB")),o=n("cMqt"),i=a(n("m7qm")),s=a(n("WxCX")),l=a(n("bW6B")),u=n("R8lb"),c=a(n("8Llx")),d=n("bqcM"),f=a(n("nbo3")),p=a(n("FApa")),m=n("osI4"),h=a(n("qqNW")),g=a(n("+Zh0")),_=o.logging.getLogger({name:"corvair.sites.customer-pages.pages.homeDetails.components.mainHouseInfoPanel.sidebar.datePicker.DatePickerStoreImpl",color:{server:217,client:"rgb(212,127,127)"}}),v=o.RequestLocalStorage.getNamespace();t.isListening=function(){return v().datePickerStoreListening};var y=i.default.createStoreFactory({init:function(e){s.default.redirectToScheduler.listen(this._redirectToScheduler.bind(this)),s.default.setInquirySourceOverride.listen(function(e){this.setState({inquirySourceOverride:e})}.bind(this)),s.default.redirectForPartnerTour.listen(this._redirectForPartnerTour.bind(this)),s.default.redirectForPartnerOrRedfinTour.listen(this._redirectForPartnerOrRedfinTour.bind(this)),s.default.toggleAddHomesFlyout.listen(this._onToggleLearnMoreFlyout.bind(this)),s.default.setRequestInFlight.listen(this._setRequestInFlight.bind(this)),l.default.updateIsVideoTour.listen(function(t){this.setState({isVideoTour:t&&t.value&&"true"===t.value});var n=e.requestingPartnerAgent?p.default.clicks.PARTNER_TOUR_IN_PERSON:p.default.clicks.TOUR_IN_PERSON,a=e.requestingPartnerAgent?p.default.clicks.PARTNER_TOUR_VIA_VIDEO_CHAT:p.default.clicks.TOUR_VIA_VIDEO_CHAT,r="true"===t.target.value?a:n;p.default.trackClick(r)}.bind(this)),this.setState({requestInFlight:!1,showError:!1,listingId:e.listingId,requestingPartnerAgent:e.requestingPartnerAgent,agent:e.agent,listingAddress:e.listingAddress,city:e.city,stateCode:e.stateCode,timeZone:e.timeZone,dataSourceId:e.dataSourceId,mlsId:e.mlsId,serviceRegionId:e.serviceRegionId,addHomesFlyoutHovered:e.addHomesFlyoutHovered,businessMarketId:e.businessMarketId,isRedirect:e.isRedirect,isAmp:e.isAmp,isVideoTour:e.isInPersonTourDisabled}),v().datePickerStoreListening=!0},_redirectForPartnerOrRedfinTour:function(e){var t=e.inquirySource,n=e.listingId,a=void 0===n?this.state.listingId:n,r=e.riftContext;if(this.state.requestingPartnerAgent){var o={inquirySource:t,listingId:a,agent:this.state.agent,listingAddress:this.state.listingAddress,city:this.state.city,stateCode:this.state.stateCode,timeZone:this.state.timeZone,dataSourceId:this.state.dataSourceId,mlsId:this.state.mlsId,serviceRegionId:this.state.serviceRegionId,riftContext:r,isAmp:this.state.isAmp};this._redirectForPartnerTour(o)}else this._redirectToScheduler({inquirySource:t,listingId:a,riftContext:r})},_redirectToScheduler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.inquirySource,n=void 0===t?g_inquirySource.LDP_DATEPICKER_TOUR_CHECKOUT_PAGE:t,a=e.listingId,r=void 0===a?this.state.listingId:a,o=e.tourDay,i=void 0===o?this.state.day:o,s=e.tourTime,l=void 0===s?this.state.time:s,u=e.isVideoTour,c=void 0===u?this.state.isVideoTour:u,d=e.riftContext,f=e.isAmp,p=void 0!==f&&f;n===h.default.id&&p&&(n=g.default.id),this._navigateToTourCheckout({inquirySource:n,listingId:r,tourDay:i,tourTime:l,isVideoTour:c,riftContext:d})},_navigateToTourCheckout:function(e){var t=this,n=e.inquirySource,a=e.listingId,i=e.tourDay,s=e.tourTime,l=e.isVideoTour,d=e.riftContext,f=Date.now(),p="/tours/checkout/times?listingId="+a+"&date="+i+"&time="+s+"&inquirySource="+n+"&ct="+f+"&hideExistingTours=true";l&&(p+="&vt=true");var m=(0,r.default)();this.state.inquirySourceOverride&&(n=this.state.inquirySourceOverride),c.default.isLoggedIn()||(m=o.ReactServerAgent.post("/stingray/do/tourlist/make-anon-login"),p+="&".concat(u.REGISTRATION_ENTRYPOINT_CONTEXT_URL_PARAM,"=").concat((0,u.serializeConversionRiftEntrypoint)(d)),(0,u.trackRegistrationConversionAttempt)(d,g_registrationReason.TOUR_HOME,g_registrationAuthority.REDFIN)),this.setState({requestInFlight:!0,showError:!1}),m.then(function(){t._redirect(p,"navigateToTourCheckout",f)}).catch(function(e){_.error(e),t.setState({requestInFlight:!1,showError:!0})})},_redirect:function(e,t,n){if(f.default.flushRiftEvents(),t&&n){var a=c.default.isLoggedIn()?"loggedIn":"loggedOut",r=(0,m.getCurrentDeviceType)()||"unknown";_.time("".concat(r,".").concat(a,".redirect.").concat(t),new Date-n)}this.state.isRedirect?window.top.location.replace(e):window.top.location=e},_navigateToScheduler:function(e){var t=this,n=r.default.defer();n.promise.then(function(){window.onpageshow=function(e){e.persisted&&this.setState({requestInFlight:!1,showError:!1})}.bind(t),t._redirect(e)}),document.addEventListener("readystatechange",function(e){"complete"===e.target.readyState&&n.resolve()}),"complete"===document.readyState&&n.resolve(),setTimeout(n.resolve,1e4)},makeAnonLogin:function(){return o.ReactServerAgent.post("/stingray/do/tourlist/make-anon-login")},_redirectForPartnerTour:function(e){var t=e.inquirySource,n=void 0===t?h.default.id:t,a=e.listingId,r=e.dateTime,o=e.agent,i=e.riftContext,s=e.isAmp,l=void 0!==s&&s,c=e.isVideoTour,f=void 0===c?this.state.isVideoTour:c;n===h.default.id&&l&&(n=g.default.id);var p="".concat((0,d.getWebServerUrl)())+(l?"/ampTours/":"/myredfin/")+"tours/checkout?listingId=".concat(a,"&date=").concat(r)+"&inquirySource=".concat(n,"&agentId=").concat(o.getId(),"&").concat(u.REGISTRATION_ENTRYPOINT_CONTEXT_URL_PARAM,"=").concat((0,u.serializeConversionRiftEntrypoint)(i));f&&(p+="&vt=true"),this.state.isRedirect?window.top.location.replace(p):window.top.location=p},_onToggleLearnMoreFlyout:function(e){this.setState({addHomesFlyoutHovered:e})},_setRequestInFlight:function(){this.setState({requestInFlight:!0})}});t.default=y},XucT:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("17x9")),d=a(n("mXGw")),f=a(n("4ppV")),p=a(n("CH+5")),m=a(n("Nh9I")),h=a(n("YqrK")),g=a(n("DT4l")),_=a(n("8Jek")),v=a(n("ma35")),y=a(n("Ncjd"));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var S=function(e){(0,s.default)(n,e);var t=E(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).onCloseDialog=a.onCloseDialog.bind((0,i.default)(a)),a.onBackButton=a.onBackButton.bind((0,i.default)(a)),a}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.setupMultiStageAAQFormStore()}},{key:"setupMultiStageAAQFormStore",value:function(){var e=this;this._multistageAAQFormStore=(0,m.default)({submittedQuestion:this.props.submittedQuestion,isMobile:this.props.isMobile,isInlineForm:this.props.isInlineForm,contactBoxInfo:this.props.contactBoxInfo,listingId:this.props.listingId,propertyId:this.props.propertyId,streetAddress:this.props.streetAddress,inquiryChannel:this.props.inquiryChannel,inquirySource:this.props.inquirySource,sideBarStore:this.props.sideBarStore,onClickNotNowButton:this.props.onClose,trackRegistrationAttempt:!1,listingAddress:this.props.listingAddress,agent:this.props.agent,isOpendoor:this.props.isOpendoor,showBDXExperience:this.props.showBDXExperience,fromRightRail:this.props.fromRightRail,builderName:this.props.builderName,listingAgent:this.props.listingAgent,isTourConfirmation:this.props.isTourConfirmation,onBackToPreviousDialog:this.props.onBackToPreviousDialog,bundledIncentiveVariant:this.props.bundledIncentiveVariant}),this._multistageAAQFormStore.setRiftEntrypointRiftContext(this.props.entrypointRiftContext),this._multistageAAQFormStore.listen(function(){return e.forceUpdate()})}},{key:"componentDidUpdate",value:function(e){e.entrypointRiftContext!==this.props.entrypointRiftContext&&this._multistageAAQFormStore.setRiftEntrypointRiftContext(this.props.entrypointRiftContext)}},{key:"onCloseDialog",value:function(){this.props.showBDXExperience&&g.default.trackClick(g.default.clicks.ASK_BDX_DIALOG_CLOSE_CLICK),this._multistageAAQFormStore&&this._multistageAAQFormStore.state.justRegistered&&window.location.reload(),this.props.onClose()}},{key:"componentWillUnmount",value:function(){this._multistageAAQFormStore.destroy()}},{key:"onBackButton",value:function(){this.props.onBack&&this.props.onBack()}},{key:"render",value:function(){if(!this._multistageAAQFormStore)return null;var e=this._multistageAAQFormStore.state.showPartnerAAQConfirmRevamp,t=this._multistageAAQFormStore.getCurrentStageTitle(),n=(0,_.default)({MultiStepAAQ:!0,mobile:this.props.isMobile,"shaded-dialog-header":e});return this.props.showBDXExperience?g.default.trackImpression(g.default.impressions.ASK_BDX_DIALOG):h.default.trackImpressionWithDefaults(h.default.impressions.AAQ_DIALOG,null,this.props.isOpendoor),d.default.createElement(f.default,{className:n,close:this.onCloseDialog,fullScreenOnMobile:!0,title:t},this._multistageAAQFormStore.state.showBackButton&&d.default.createElement(v.default,{className:"icon unpadded BackButton",svgAsset:y.default,onClick:this.onBackButton}),d.default.createElement(p.default,this._multistageAAQFormStore.state))}}],[{key:"propTypes",get:function(){return{onClose:c.default.func,onBack:c.default.func,entrypointRiftContext:c.default.shape({content:c.default.shape({a:c.default.string,p:c.default.string,t:c.default.string})}),isOpendoor:c.default.bool,showBDXExperience:c.default.bool,fromRightRail:c.default.bool,builderName:c.default.string,listingAgent:c.default.object,onBackToPreviousDialog:c.default.func}}},{key:"defaultProps",get:function(){return{onClose:null,onBack:null,fromRightRail:!1}}}]),n}(d.default.Component);t.default=S,e.exports=t.default},YDLl:function(e,t,n){},YIVr:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=a(n("mXGw")),o=(a(n("17x9")),a(n("VMur")));function i(e){var t=e.shouldShowFlyout,n=e.comment,a=e.dataSourceName,i=e.logoImageFilename,s=e.toggleFlyout;return n?r.default.createElement("div",{className:"flyout-link-section"},r.default.createElement("span",{style:{marginLeft:"4px"}},"- "),r.default.createElement("a",{className:"clickable",onClick:s},"Info"),r.default.createElement(o.default,{title:"Comments",position:"below",alignment:"left",onBlur:s,show:t,animateOnAppear:!0,showDialogOnSmallScreen:!0},r.default.createElement("div",{className:"open-house-comment"},r.default.createElement("div",null,n),a&&r.default.createElement("div",{style:{marginTop:"5px"},className:"source"},r.default.createElement("span",null,"Source: "+a),i&&r.default.createElement("img",{src:g_imageServerUrl+"/images/logos/"+i}))))):null}i.propTypes={},i.displayName="OpenHouseFlyout",e.exports=t.default},YPNX:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("YAhj")),d=a(n("17x9")),f=a(n("2nf7")),p=a(n("eoGF")),m=a(n("I9R/")),h=a(n("dnaq")),g=a(n("bxaD")),_=a(n("jl8C"));function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var y=function(e){(0,s.default)(n,e);var t=v(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e))._emailAgentInsights=a._emailAgentInsights.bind((0,i.default)(a)),a.state={showEmailVerificationDialog:!1},a}return(0,o.default)(n,[{key:"_closeDialog",value:function(){this.setState({showEmailVerificationDialog:!1})}},{key:"_emailAgentInsights",value:function(){var e=this.props.propertyId;if(e)return p.default.get("/stingray/do/api-email-customer-notes?propertyId="+e,{handleAs:"json-squiggly"})}},{key:"_getBody",value:function(){var e={defaultText:"Email Me Tour Insights",successText:"Tour Insights sent! Check your inbox!",onAction:this._emailAgentInsights,registrationReason:g_registrationReason.UNLOCK_LISTING_CONTENT,trackClick:function(){return _.default.trackClick(_.default.clicks.TOUR_INSIGHTS_EMAIL_BUTTON)},loginRequired:!0};return c.default.createElement("div",{className:"body"},c.default.createElement("div",null,"Due to local MLS rules, we can only share our insights by email."),c.default.createElement("div",null,c.default.createElement(h.default,e)),this.state.showEmailVerificationDialog&&c.default.createElement(f.default,{close:this._closeDialog}))}},{key:"render",value:function(){var e=this.props.tourInsightsInfo.noteCount,t="".concat(e," Insight").concat(e>1?"s":""," Available");return c.default.createElement(g.default,{icon:c.default.createElement(m.default,null),header:t,body:this._getBody()})}}],[{key:"propTypes",get:function(){return{tourInsightsInfo:d.default.object.isRequired,propertyId:d.default.number.isRequired}}}]),n}(c.default.Component);t.default=y,e.exports=t.default},YSua:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.UnderContractListingTypes=void 0;var r=a(n("pVnL")),o=a(n("t6Jl")),i=a(n("LDFp")),s=a(n("2r6X"));i.default.ensure(s.default);var l=["listingId","underContractType"],u={MLS:"MLS",INTERNAL:"Internal Data",NONE:"None"};t.UnderContractListingTypes=u;var c=(0,r.default)(new o.default,{name:"UnderContractListingRiftTracker",bouncerFlags:[i.default.LDP_SET_UNDER_CONTRACT_EXPECTATIONS],impressions:{POSSIBLY_UNAVAILABLE_LISTING:{section:"likely_under_contract_home_ldp",target:null},STICKY_FOOTER:{section:"sticky_footer",target:"Learn_More",expectedParams:l}},clicks:{STICKY_FOOTER:{section:"sticky_footer",target:"Learn_More",expectedParams:l},REQUEST_TOUR_ANYWAY:{section:"tour_picker",target:"request_tour_anyway",expectedParams:l},ADD_TO_TOUR_ANYWAY:{section:"existing_tour",target:"add_to_tour_anyway",expectedParams:l},START_AN_OFFER:{section:"contact_box",target:"start_an_offer_underContract",expectedParams:l},CTA_BUTTON:{section:"contact_box",target:"cta_button",expectedParams:l}},getUnderContractType:function(e){var t=e||{},n=t.isListingUnderContract,a=t.isListingRecentlyMarkedSold;return n?u.MLS:a?u.INTERNAL:u.NONE}});t.default=c},YnaG:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCommute=r,t.default=void 0,t.deleteCommute=i,t.getDurationsForCommuteInfoMobile=function(e){var t=e.propertyId,n=e.commute;return a.ReactServerAgent.get("/stingray/mobile/api/v1/home/details/commute/commuteDuration/property/".concat(t,"?commuteTypeId=").concat(n.commuteType,"&destinationLatitude=").concat(n.destinationLatitude,"&destinationLongitude=").concat(n.destinationLongitude))},t.updateCommute=o;var a=n("cMqt");function r(e){var t=e.address,n=e.commuteType,r=e.destinationLatitude,o=e.destinationLongitude;return a.ReactServerAgent.post("/stingray/api/home/details/commute/create",{address:t,commuteType:n,destinationLatitude:r,destinationLongitude:o}).type("form-data")}function o(e){var t=e.commuteId,n=e.address,r=e.commuteType,o=e.destinationLatitude,i=e.destinationLongitude;return a.ReactServerAgent.post("/stingray/api/home/details/commute/edit/".concat(t),{commuteId:t,address:n,commuteType:r,destinationLatitude:o,destinationLongitude:i}).type("form-data")}function i(e){var t=e.commuteId;return a.ReactServerAgent.post("/stingray/api/home/details/commute/delete/".concat(t)).type("form-data")}var s={createCommute:r,updateCommute:o,deleteCommute:i};t.default=s},YqrK:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("uM7l")),o=a(n("QkVN")),i=a(n("LDFp")),s=a(n("pBXq"));i.default.ensure(n("tTYd"));var l="partner_".concat("ask_a_question_name_dialog"),u="partner_".concat("ask_a_question_phone_dialog"),c="partner_".concat("ask_a_question_contact_info_dialog"),d=(0,o.default)(new s.default,{name:"MultistageAskAQuestionRiftTracker",bouncerFlags:[i.default.RIFT_ON_LDP],impressions:{AAQ_EXPERIMENT_ELIGIBLE:{section:"updated_aaq_experiment_eligible",trackGA:!1,expectedParams:["chat_available","device_category"]},LDP_SCROLL_ASK_A_QUESTION:{section:"ask_a_question",trackGA:!0},AAQ_NAME_DIALOG:{section:"ask_a_question_name_dialog",trackGA:!0},AAQ_CONTACT_INFO_DIALOG:{section:"ask_a_question_contact_info_dialog",trackGA:!0,expectedParams:["phone_prefilled"]},AAQ_DIALOG:{section:"ask_a_question_dialog",trackGA:!0},PARTNER_AAQ_SUGGESTED_MESSAGE_ELIGIBLE:{section:"partner_aaq_suggested_messages_eligible"},PARTNER_AAQ_NAME_DIALOG:{section:l,trackGA:!0},PARTNER_AAQ_CONTACT_INFO_DIALOG:{section:c,trackGA:!0},PARTNER_AAQ_PHONE_DIALOG:{section:u,trackGA:!0},PARTNER_AAQ_SUGGESTED_MESSAGE_DETAILS:{section:"partner_ask_a_question",target:"suggested_message_details"},PARTNER_AAQ_SUGGESTED_MESSAGE_INTERESTED:{section:"partner_ask_a_question",target:"suggested_message_interested"},PARTNER_AAQ_SUGGESTED_MESSAGE_AVAILABLE:{section:"partner_ask_a_question",target:"suggested_message_available"},PARTNER_AAQ_CONFIRMATION_VIEWED:{section:"partner_aaq_question_submitted"}},clicks:{AAQ_AGENT_PHOTO_CLICK:{section:"ask_a_question",target:"agent_photo"},AAQ_AGENT_NAME_CLICK:{section:"ask_a_question",target:"agent_name"},AAQ_QUESTION_FIELD_CLICK:{section:"ask_a_question",target:"question_field"},AAQ_QUESTION_BUTTON_CLICK:{section:"ask_a_question",target:"ask_question_button"},AAQ_QUESTION_NEXT_CLICK:{section:"ask_a_question",target:"next_button"},AAQ_PHONE_NUMBER_CLICK:{section:"ask_a_question",target:"phone_number"},AAQ_NAME_DIALOG_FIRST_NAME_FIELD_CLICK:{section:"ask_a_question_name_dialog",target:"first_name_field"},AAQ_NAME_DIALOG_LAST_NAME_FIELD_CLICK:{section:"ask_a_question_name_dialog",target:"last_name_field"},AAQ_NAME_DIALOG_NEXT_BUTTON_CLICK:{section:"ask_a_question_name_dialog",target:"next_button"},AAQ_CONTACT_INFO_DIALOG_FIRST_NAME_FIELD_CLICK:{section:"ask_a_question_contact_info_dialog",target:"first_name_field"},AAQ_CONTACT_INFO_DIALOG_LAST_NAME_FIELD_CLICK:{section:"ask_a_question_contact_info_dialog",target:"last_name_field"},AAQ_CONTACT_INFO_DIALOG_EMAIL_FIELD_CLICK:{section:"ask_a_question_contact_info_dialog",target:"email_field"},AAQ_CONTACT_INFO_DIALOG_PHONE_FIELD_CLICK:{section:"ask_a_question_contact_info_dialog",target:"phone_field",expectedParams:["phone_prefilled"]},AAQ_CONTACT_INFO_DIALOG_NEXT_BUTTON_CLICK:{section:"ask_a_question_contact_info_dialog",target:"next_button"},AAQ_CONTACT_INFO_SUBMIT_BUTTON_CLICK:{section:"ask_a_question_contact_info_dialog",target:"submit_button"},AAQ_PHONE_DIALOG_PHONE_FIELD_CLICK:{section:"ask_a_question_phone_dialog",target:"phone_field",expectedParams:["phone_prefilled"]},AAQ_PHONE_DIALOG_NEXT_BUTTON_CLICK:{section:"ask_a_question_phone_dialog",target:"next_button"},AAQ_TERMS_LINK_CLICK:{section:"ask_a_question_contact_info_dialog",target:"terms_link"},AAQ_PRIVACY_POLICY_LINK_CLICK:{section:"ask_a_question_contact_info_dialog",target:"privacy_policy_link"},AAQ_PARTNER_RECRUITMENT_CTA_CLICK:{section:"ask_a_question",target:"partner_recruitment_cta"},PARTNER_AAQ_AGENT_PHOTO_CLICK:{section:"partner_ask_a_question",target:"agent_photo",trackGA:!0},PARTNER_AAQ_AGENT_NAME_CLICK:{section:"partner_ask_a_question",target:"agent_name",trackGA:!0},PARTNER_AAQ_QUESTION_FIELD_CLICK:{section:"partner_ask_a_question_inline",target:"question_field",trackGA:!0},PARTNER_AAQ_QUESTION_BUTTON_CLICK:{section:"partner_ask_a_question_inline",target:"ask_question_button",trackGA:!0},PARTNER_AAQ_NAME_DIALOG_FIRST_NAME_FIELD_CLICK:{section:l,target:"first_name_field"},PARTNER_AAQ_NAME_DIALOG_LAST_NAME_FIELD_CLICK:{section:l,target:"last_name_field"},PARTNER_AAQ_NAME_DIALOG_NEXT_BUTTON_CLICK:{section:l,target:"next_button"},PARTNER_AAQ_CONTACT_INFO_DIALOG_FIRST_NAME_FIELD_CLICK:{section:c,target:"first_name_field"},PARTNER_AAQ_CONTACT_INFO_DIALOG_LAST_NAME_FIELD_CLICK:{section:c,target:"last_name_field"},PARTNER_AAQ_CONTACT_INFO_DIALOG_EMAIL_FIELD_CLICK:{section:c,target:"email_field"},PARTNER_AAQ_CONTACT_INFO_DIALOG_PHONE_FIELD_CLICK:{section:c,target:"phone_field",expectedParams:["phone_prefilled"]},PARTNER_AAQ_CONTACT_INFO_DIALOG_NEXT_BUTTON_CLICK:{section:c,target:"next_button",trackGA:!0},PARTNER_AAQ_PREFERRED_CONTACT_METHODS_CALL:{section:c,target:"call",expectedParams:["inquiry_source"]},PARTNER_AAQ_PREFERRED_CONTACT_METHODS_TEXT:{section:c,target:"text",expectedParams:["inquiry_source"]},PARTNER_AAQ_PREFERRED_CONTACT_METHODS_EMAIL:{section:c,target:"email",expectedParams:["inquiry_source"]},PARTNER_AAQ_PHONE_DIALOG_PHONE_FIELD_CLICK:{section:u,target:"phone_field",expectedParams:["phone_prefilled"]},PARTNER_AAQ_PHONE_DIALOG_NEXT_BUTTON_CLICK:{section:u,target:"next_button"},PARTNER_AAQ_SUGGESTED_MESSAGE_DETAILS_CLICK:{section:"partner_ask_a_question_inline",target:"suggested_message_details",trackGA:!0},PARTNER_AAQ_SUGGESTED_MESSAGE_INTERESTED_CLICK:{section:"partner_ask_a_question_inline",target:"suggested_message_interested",trackGA:!0},PARTNER_AAQ_SUGGESTED_MESSAGE_AVAILABLE_CLICK:{section:"partner_ask_a_question_inline",target:"suggested_message_available",trackGA:!0},PARTNER_AAQ_QUESTION_FIELD_MODAL_CLICK:{section:"partner_ask_a_question_modal",target:"question_field",trackGA:!0},PARTNER_AAQ_QUESTION_BUTTON_MODAL_CLICK:{section:"partner_ask_a_question_modal",target:"ask_question_button",trackGA:!0},PARTNER_AAQ_SUGGESTED_MESSAGE_DETAILS_MODAL_CLICK:{section:"partner_ask_a_question_modal",target:"suggested_message_details",trackGA:!0},PARTNER_AAQ_SUGGESTED_MESSAGE_INTERESTED_MODAL_CLICK:{section:"partner_ask_a_question_modal",target:"suggested_message_interested",trackGA:!0},PARTNER_AAQ_SUGGESTED_MESSAGE_AVAILABLE_MODAL_CLICK:{section:"partner_ask_a_question_modal",target:"suggested_message_available",trackGA:!0},PARTNER_AAQ_CONFIRMATION_LEARNMORE_CLICKED:{section:"partner_aaq_question_submitted",target:"learn_more_link",trackGA:!0}},trackImpressionWithDefaults:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.trackImpression(n?this._prefixSectionNameWithComingSoon(e):e,t)},trackClickWithDefaults:function(e,t,n){return this.trackClick(n?this._prefixSectionNameWithComingSoon(e):e,(0,o.default)({trackGA:!0},t))},_prefixSectionNameWithComingSoon:function(e){var t=(0,r.default)(e);return t.section="cs_".concat(e.section),t}});t.default=d,e.exports=t.default},"YxE/":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("PJYZ")),u=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=a(n("17x9")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),m=a(n("lcmt")),h=a(n("YIVr")),g=a(n("8/B9")),_=a(n("X6Wo")),v=a(n("INao")),y=a(n("hmmP"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var I=/^(.+)(?:\t\n)?/,T=function(e){(0,u.default)(n,e);var t=S(n);function n(e){var a;return(0,i.default)(this,n),(a=t.call(this,e)).toggleFlyout=a.toggleFlyout.bind((0,l.default)(a)),a.state={flyoutOpen:!1},a}return(0,s.default)(n,[{key:"render",value:function(){var e=this.props,t=e.startTime,n=e.endTime,a=e.timeZone,r=e.dateIncludesTime,i=e.comment,s=e.dataSourceName,l=e.logoImageFilename,u=e.url,c=e.address,d=e.homePrice,f=e.homePhotoUrl,y=e.latLong,E=e.openHouseStore,S=m.default.format(t,a,"".concat(this.props.shortDayDisplay?"":"d","ddd, MMM D")),T=null,C="Open House - "+S;if(r){C="Open House - "+(T=m.default.format(t,a,0===new Date(t).getMinutes()?"hA":"h:mmA")+" - "+m.default.format(n,a,0===new Date(n).getMinutes()?"hA":"h:mmA"))}else{var b=I.exec(i);b&&(C="Open House - "+b[0])}var k=p.default.createElement(h.default,{shouldShowFlyout:this.state.flyoutOpen,comment:i,dataSourceName:s,logoImageFilename:l,toggleFlyout:this.toggleFlyout});return p.default.createElement("div",{className:"open-house-item basic-border-radius inline-block"},p.default.createElement(v.default,{asset:"appointments",className:"VARIANT_2"===E.experimentVariant?"size-small":"size-medium"}),p.default.createElement("div",null,p.default.createElement("div",{className:"open-house-event-snippet"},p.default.createElement(g.default,{eventStartTimeStamp:t,eventEndTimeStamp:n,eventUrl:u,eventLocation:c,eventName:C,eventOffer:d,eventImage:f,latLong:y,eventDisplayDate:S,eventDisplayTime:T})),p.default.createElement(_.default,(0,o.default)({},this.props,{commentFlyout:k}))))}},{key:"toggleFlyout",value:function(){!this.state.flyoutOpen&&y.default.trackClick(y.default.clicks.INFO_LINK,{is_video:!1,property_id:this.props.propertyId,listing_id:this.props.listingId}),this.props.comment&&this.setState({flyoutOpen:!this.state.flyoutOpen})}}],[{key:"propTypes",get:function(){return{startTime:f.default.number,endTime:f.default.number,comment:f.default.string,id:f.default.number,url:f.default.string,timeZone:f.default.string,address:f.default.string,openHouseInfo:f.default.object,numUpcoming:f.default.number,homePrice:f.default.number,homePhotoUrl:f.default.string,latLong:f.default.object,deviceConfig:f.default.number,propertyId:f.default.number,listingId:f.default.number,agent:f.default.object}}}]),n}(p.Component);t.default=T,e.exports=t.default},Z4wH:function(e,t,n){},Z890:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("lSNA")),s=a(n("ma35")),l=a(n("8Jek")),u=a(n("mXGw")),c=(a(n("17x9")),a(n("nbo3"))),d=a(n("UT8e")),f=a(n("WqrT")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("QP4D")),m=n("osI4"),h=a(n("MNrX"));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n("+1nJ");var _=function(e){var t,n=e.sellerSavings,a=e.listingId,r=e.isComingSoon,g=e.buysideCommission,_=(0,m.getBrowserInfoJson)(p.getRequestUserAgent()),v=_&&_.family,y=(t={listing_id:a},(0,i.default)(t,c.default.TRACKGA,!0),(0,i.default)(t,"redfin_direct",!0),t),E=(0,l.default)({firefox:"Firefox"===v,ie:"IE"===v,edge:"Edge"===v},"triangle"),S={term:"Seller Savings",definition:"With no buyer’s agent, the seller will pay up to ".concat(g,"% less in commissions. Actual savings depend on final sales price and offered buy-side commission."),position:"below",alignment:"center"},I=(0,h.default)(r,n);return u.default.createElement(d.default,{section:"redfin_direct_banner",eventDetails:y},u.default.createElement("div",{className:"RedfinDirectBannerSection"},u.default.createElement("div",{className:"redfin-direct-icon"},u.default.createElement("img",{src:"".concat(g_imageServerUrl,"/images/redfinDirect/banner_illustration_desktop.svg")})),u.default.createElement("div",{className:"redfin-direct-description"},u.default.createElement("span",null,I,n&&u.default.createElement(f.default,(0,o.default)({infoIcon:!0},S)))),u.default.createElement("div",{className:"learn-more-cta"},u.default.createElement(s.default,{className:"teritary",onClick:function(){return function(e,t){c.default.trackClick("redfin_direct_banner","find_out_more",e),window.location.href="/buy-a-home/two-ways?listingId=".concat(t,"&inquirySource=").concat(g_inquirySource.LDP_REDFIN_DIRECT_BANNER)}(y,a)}},"Find Out More")),u.default.createElement("div",{className:E},u.default.createElement("img",{src:"".concat(g_imageServerUrl,"/images/redfinDirect/triangle.svg")}))))};_.propTypes={};var v=_;t.default=v,e.exports=t.default},Z8pZ:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),i=(a(n("17x9")),a(n("1RMg"))),s=a(n("rv7f")),l=a(n("eYhh")),u=n("osI4"),c=a(n("1AMb")),d=n("jDxM"),f=a(n("ajZI")),p=a(n("OCqI")),m=a(n("D19o")),h=n("CrDX");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}n("3fOp");var _=function(e){var t=e.activityInfo,n=e.isCollapsible,a=e.queryParams,r=(0,o.useRef)(),g=(0,o.useMemo)(function(){return i.default.isOn(s.default)&&"VARIANT"!==i.default.getVariant(l.default)},[]),_="phone"===(0,u.getCurrentDeviceType)(),v=t&&t.addressInfo&&t.addressInfo.street,y=(0,d.calculateHeaderText)({sectionTitle:"Activity",streetAddress:v,isMobile:_});return(0,o.useEffect)(function(){t&&g&&m.default.trackImpression(m.default.impressions.ACTIVITY_SECTION,{num_views:t.viewCount,num_favorites:t.favoritesCount,num_favorites_all_time:t.totalFavoritesCount,num_x_outs:t.xOutCount,num_x_outs_all_time:t.totalXOutCount,num_tours:t.tourCount,num_tours_all_time:t.totalTourCount},r.current)},[]),t&&g?o.default.createElement(c.default,{name:"ActivitySection",id:"activity-scroll",addTopRule:!0},o.default.createElement("div",{className:"sectionContainer",ref:r},o.default.createElement(f.default,{sectionName:y,section:"activity",enabled:n,rfTestId:"activity-expandable-preview",previewText:t.sectionPreviewText,initiallyExpanded:(0,h.isAgentMobile)(a)},o.default.createElement(p.default,{activityInfo:t})))):null};_.displayName="ActivitySection",_.propTypes={},_.getComponentDependencies=function(){return{dependencies:["activityInfo","queryParams"]}};var v=_;t.default=v,e.exports=t.default},ZJ8h:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("n0XZ")).default;t.default=r,e.exports=t.default},ZLCl:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lSNA")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("YAhj")),d=a(n("17x9")),f=n("cMqt"),p=a(n("LDFp")),m=a(n("8Jek")),h=a(n("94Bj")),g=a(n("FQEs")),_=a(n("qoxJ")),v=a(n("FYsI")),y=a(n("sNcG")),E=n("osI4"),S=a(n("JX1m")),I=a(n("SMSj")),T=a(n("1AMb")),C=a(n("jTef"));n("Ao91");var b=n("G4xM"),k=a(n("nhEb")),R=a(n("smld")),O=a(n("04iL")),N=a(n("l6sp")),A=a(n("ZJ8h"));function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}p.default.ensure(n("1RuZ")),n("yvnT");var w=f.logging.getLogger({name:"corvair.sites.customer-pages.pages.homeDetails.components.similars.SimilarsSection",color:{server:159,client:"rgb(127,212,212)"}}),L=function(e){(0,s.default)(n,e);var t=D(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"componentDidMount",value:function(){if(S.default.similarsSectionRendered(),this.domNode){C.default.addSimilarsNode(this.domNode);var e=(0,b.getConfigValueForKey)(b.DP_GLOBAL_CONFIG_KEYS.pageExperimentInfo).omdpHigherDescriptionExperimentInfo,t=void 0===e?{}:e;A.default.trackImpression(A.default.impressions.SIMILARS,{trackGA:!1,higher_desc_cohort:t.cohort,property_id:this.props.propertyId,listing_id:this.props.listingId},this.domNode)}this._shouldRenderGhostTown()&&A.default.trackImpression(A.default.impressions.GHOST_TOWN),this._isSimilarListingsEmpty()&&A.default.trackImpression(A.default.impressions.ACTIVE_GHOST_TOWN),this._isSimilarSoldsEmpty()&&A.default.trackImpression(A.default.impressions.SOLD_GHOST_TOWN)}},{key:"componentDidUpdate",value:function(){this.domNode&&C.default.addSimilarsNode(this.domNode)}},{key:"render",value:function(){return this.props.similarListingsInfo||this.props.similarSoldsInfo||this.props.nearbyHomesInfo?this._renderSection():null}},{key:"_getNumDepulicatesRecs",value:function(e){var t=this.props.similarListingsInfo&&this.props.similarListingsInfo.homes&&this.props.similarListingsInfo.homes.length,n=this.props.similarListingsInfo&&e&&e.length;return t&&n?t-n:0}},{key:"_renderSection",value:function(){var e,t,n="this home",a=this.props.addressSectionInfo;if(a&&a.streetAddress&&a.streetAddress.addressDisplayLevel){var o=a.streetAddress.addressDisplayLevel.displayLevel;g_displayLevel.idToObj[o].isVisible&&(n=a.streetAddress.assembledAddress)}var i=this._getMlsDisclaimer(),s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},this.props.similarListingsInfo),l="VARIANT"===h.default.getVariant(_.default)?12:6;h.default.isOn(g.default)&&(s.homesWithoutRecommended=this._filterRecommendedHomesOut());var u=this.props.sharedRegionInfo&&this.props.sharedRegionInfo.regionUrl,d={};if(this.props.fuzzyPropertyData)for(var f in this.props.fuzzyPropertyData)if(this.props.fuzzyPropertyData[f]){var p=this.props.fuzzyPropertyData[f];d[f]=p.map(function(e){return{text:e}})}var E=this.props.pageType===g_detailsPageType.OFF_MARKET?h.default.isOn(y.default):h.default.isOn(v.default),S={streetString:n,recommendeds:this.props.recommendedHomesInfo,propertyId:this.props.propertyId,listingId:this.props.listingId,sectionHeader:"Recommended For You",fuzzyPropertyData:d,numberOfCards:6,accessLevel:this.props.accessLevel,numDuplicatesRecs:this._getNumDepulicatesRecs(s.homesWithoutRecommended),showRemarksOnDPSimilars:E},T={streetString:n,similars:s,propertyId:this.props.propertyId,listingId:this.props.listingId,sectionHeader:"Nearby Homes for Sale",fuzzyPropertyData:d,numberOfCards:l,accessLevel:this.props.accessLevel,regionUrl:u,numDuplicatesRecs:this._getNumDepulicatesRecs(s.homesWithoutRecommended),showRemarksOnDPSimilars:E},C={streetString:n,similars:this.props.similarSoldsInfo,propertyId:this.props.propertyId,listingId:this.props.listingId,fuzzyPropertyData:d,numberOfCards:3,accessLevel:this.props.accessLevel,regionUrl:u,showRemarksOnDPSimilars:E},b={nearbyHomes:this.props.nearbyHomesInfo?this.props.nearbyHomesInfo.nearbyHomeDataList:null,maxHomesToRender:21,hasValidResults:this.props.nearbyHomesInfo?this.props.nearbyHomesInfo.hasValidResults:null,showAvmColumn:this.props.nearbyHomesInfo?this.props.nearbyHomesInfo.showAvmColumn:null,propertyId:this.props.propertyId,listingId:this.props.listingId,deviceConfig:this.props.deviceConfig,address:null===(e=this.props.experimentStore.addressSectionInfo)||void 0===e?void 0:null===(t=e.streetAddress)||void 0===t?void 0:t.assembledAddress},k=(0,m.default)({"padding-bottom-large":this.props.deviceConfig!==g_deviceConfiguration.DESKTOP,shortTop:!this._shouldRenderRecommendedHomes()&&this.props.useScrollStateControllerForSideRail,"has-top-rule":this.props.useScrollStateControllerForSideRail||!this.props.useScrollStateControllerForSideRail&&this._shouldRenderRecommendedHomes()}),R=(0,m.default)({"padding-bottom-large":this.props.deviceConfig!==g_deviceConfiguration.DESKTOP,shortTop:this._shouldRenderRecommendedHomes()&&this.props.useScrollStateControllerForSideRail,"has-top-rule":this.props.useScrollStateControllerForSideRail}),O=(0,m.default)({"heading-medium":!0,"padding-bottom-medium":!0,"inline-block":!0,sectionHeaderContainer:!0}),N=(0,m.default)({sectionContainer:!0,similarsPanelLower:!0}),A=(0,m.default)({disclaimers:!0});return c.default.createElement("div",{id:"similar-section-scroll"},this.renderRecommendedHomes({recommendedProps:S,recommendedSectionClasses:R,widenSimilarsClasses:N,headerClasses:O}),this._renderSimilarListings({listingsProps:T,similarSectionClasses:k,widenSimilarsClasses:N,headerClasses:O}),this._renderSimilarSolds({soldsProps:C,similarSectionClasses:k,headerClasses:O,widenSimilarsClasses:N}),this._renderNearbyHomes(b),i?c.default.createElement("div",{className:A},c.default.createElement(I.default,{disclaimer:i,showRuler:!1})):null)}},{key:"renderRecommendedHomes",value:function(e){var t=this,n=e.recommendedProps,a=e.headerClasses,r=e.recommendedSectionClasses,o=e.widenSimilarsClasses;return this._shouldRenderRecommendedHomes()?c.default.createElement(T.default,{name:"RecommendedsSection",id:"recommended-homes-scroll",className:r},c.default.createElement("div",{className:o,id:"recommended-homes","data-rf-test-id":"recommendedsSection",ref:function(e){return t.domNode=e}},c.default.createElement("div",{className:"main-content"},c.default.createElement("div",null,c.default.createElement("h2",{className:a}," Recommended For You "),c.default.createElement(N.default,n))))):(w.info("No recommended homes to show"),null)}},{key:"_renderSimilarListings",value:function(e){var t=this,n=e.listingsProps,a=e.headerClasses,r=e.similarSectionClasses,o=e.widenSimilarsClasses,i="phone"===(0,E.getCurrentDeviceType)(),s="VARIANT"===h.default.getVariant(_.default)&&n&&!i?"Similar Homes For Sale Near "+n.streetString:"Nearby Similar Homes";if(this.props.shouldRenderSimilarsActives&&this.props.similarListingsInfo){var l,u=n&&n.similars&&n.similars.homesWithoutRecommended;return(h.default.isOn(g.default)&&!u||u&&0===u.length)&&w.info("All homes in similars are duplicates of recommendeds"),this._shouldRenderSimilarsGhostTown(u)?(A.default.trackImpression(A.default.impressions.ACTIVE_GHOST_TOWN),l=c.default.createElement(c.default.Fragment,null,c.default.createElement("h2",{className:a}," ",s," "),this._renderGhostTown(!0))):l=c.default.createElement(c.default.Fragment,null,c.default.createElement("h2",{className:a}," ",s," "),c.default.createElement(k.default,n)),c.default.createElement(T.default,{name:"SimilarsSection",id:"similar-homes-scroll",className:r},c.default.createElement("div",{className:o,id:"similar-homes","data-rf-test-id":"similarsSection",ref:this._shouldRenderRecommendedHomes()?null:function(e){return t._setDomNode(e)}},c.default.createElement("div",{className:"main-content"},c.default.createElement("div",null,l))))}return null}},{key:"_setDomNode",value:function(e){this.domNode=e}},{key:"_renderSimilarSolds",value:function(e){var t,n=e.soldsProps,a=e.similarSectionClasses,r=e.widenSimilarsClasses,o=e.headerClasses,i="phone"===(0,E.getCurrentDeviceType)(),s="VARIANT"===h.default.getVariant(_.default)&&n&&!i?"Recently Sold Homes Near "+n.streetString:"Nearby Recently Sold Homes";return this.props.similarSoldsInfo?(t=this._isSimilarSoldsEmpty()?this._renderGhostTown(!1):c.default.createElement(R.default,n),c.default.createElement(T.default,{name:"SimilarSoldsSection",id:"similar-solds-scroll",className:a,addTopRule:!0},c.default.createElement("div",{className:r,id:"similar-sold","data-rf-test-id":"similarSoldsSection"},c.default.createElement("div",{className:"main-content"},c.default.createElement("div",null,c.default.createElement("h2",{className:o}," ",s," "),t))))):null}},{key:"_renderNearbyHomes",value:function(e){return e&&e.hasValidResults?c.default.createElement(T.default,{name:"NearbyHomesSection",addTopRule:!0},c.default.createElement(O.default,e)):null}},{key:"_shouldRenderRecommendedHomes",value:function(){return this.props.recommendedHomesInfo&&this.props.recommendedHomesInfo.homes&&0!==this.props.recommendedHomesInfo.homes.length&&h.default.isOn(g.default)}},{key:"_shouldRenderGhostTown",value:function(){return this._isSimilarListingsEmpty()&this._isSimilarSoldsEmpty()}},{key:"_isSimilarListingsEmpty",value:function(){return!this.props.similarListingsInfo||!this.props.similarListingsInfo.homes||!this.props.similarListingsInfo.homes.length}},{key:"_isSimilarSoldsEmpty",value:function(){return!this.props.similarSoldsInfo||!this.props.similarSoldsInfo.homes||!this.props.similarSoldsInfo.homes.length}},{key:"_filterRecommendedHomesOut",value:function(){if(this._isSimilarListingsEmpty()||!this.props.recommendedHomesInfo||!this.props.recommendedHomesInfo.riftMetadata)return this.props.similarListingsInfo&&this.props.similarListingsInfo.homes;var e=this.props.recommendedHomesInfo.riftMetadata;return this.props.similarListingsInfo.homes.filter(function(t){return!e[t.propertyId]})}},{key:"_shouldRenderSimilarsGhostTown",value:function(e){return this._isSimilarListingsEmpty()||h.default.isOn(g.default)&&(!e||e&&0===e.length)}},{key:"_renderGhostTown",value:function(e){var t=e?" See all homes for sale in ":" See all recently sold homes in ",n=this.props.sharedRegionInfo,a=n&&n.regionUrl,r=n&&n.regionName,o=a&&r?c.default.createElement("span",null,t,c.default.createElement("a",{href:a}," ",r," ")):null;return c.default.createElement("div",{className:"content"},c.default.createElement("p",null,"Sorry, we don't have any nearby similar homes to display.",o," "))}},{key:"_getCustom",value:function(){return this.props.similarListingsInfo&&this.props.similarListingsInfo.custom?this.props.similarListingsInfo.custom:this.props.similarSoldsInfo&&this.props.similarSoldsInfo.custom?this.props.similarSoldsInfo.custom:null}},{key:"_getProtoCustom",value:function(){return this.props.similarListingsInfo?this.props.similarListingsInfo:this.props.similarSoldsInfo}},{key:"_getMlsDisclaimer",value:function(){if(this.props.similarListingsInfo&&this.props.similarListingsInfo.dataSources){var e=this.props.similarListingsInfo.dataSources.filter(function(e){return!!e.disclaimer})[0];return e&&e.disclaimer}return null}}],[{key:"displayName",get:function(){return"redfin.homes.details.react.SimilarsSection"}},{key:"propTypes",get:function(){return{similarListingsInfo:d.default.object,similarSoldsInfo:d.default.object,nearbyHomesInfo:d.default.shape({nearbyHomes:d.default.object,hasValidResults:d.default.bool,showAvmColumn:d.default.bool}),addressSectionInfo:d.default.object,mainHouseInfo:d.default.object,fuzzyPropertyData:d.default.object}}},{key:"defaultProps",get:function(){return{useScrollStateControllerForSideRail:!0,similarListingsInfo:null,similarSoldsInfo:null,nearbyHomesInfo:null,addressSectionInfo:null,mainHouseInfo:null,shouldRenderSimilarsActives:!0,fuzzyPropertyData:{}}}}]),n}(c.default.Component);L.getComponentDependencies=function(){return{dependencies:["addressSectionInfo","similarListingsInfo","similarSoldsInfo","sharedRegionInfo","accessLevel","recommendedHomesInfo","homeDetailsPageHeaderInfo","addressSectionInfo","pageType","marketId"],clientDependencies:["pageLoadComplete"]}},L.getPageLayoutClassName=function(){return"dp-col-sm-12 dp-col-md-12"},e.exports=L},ZMkd:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("o0o1")),o=a(n("yXPU")),i=n("TlVh"),s=(a(n("1RMg")),a(n("LDFp"))),l=a(n("6D3n")),u=a(n("2/9b")),c=a(n("jThD")),d=a(n("UDmR")),f=n("cMqt"),p=a(n("RBnj")),m=a(n("0XUH")),h=a(n("/4Do"));s.default.ensure(n("GUYO"));var g=(0,i.createStoreFactory)({init:function(e){if(!e||!e.propertyId)throw new Error("propertyId not defined");this._fetchMerchandisingInfo(e.propertyId),this._getIsPartnerForBrokerage(e.contactBoxInfo);var t=p.default.createActions(["requestOfferRefresh"]);this.setState({actions:t}),this.listenTo(t.requestOfferRefresh,this.onRequestOfferRefresh.bind(this))},pageTypeIsSupported:function(e){return e.pageType===g_detailsPageType.OFF_MARKET},_fetchMerchandisingInfo:function(e){var t=this;this.isLoggedIn().then(function(n){t._getMerchInfo(e,n)}).catch(function(e){t.setState({isCashOfferMerchandisingEnabled:!1,storePromise:!0}),logger.error("error loading CashOfferMerchandising while checking login",e)})},_getMerchInfo:function(e,t){var n=this,a=t;if(this.setState({isCashOfferMerchandisingEnabled:a}),a){var r={propertyId:e},o=f.ReactServerAgent.get("/stingray/api/merch/get-cash-offer-merchandising",r).then(function(e){return e}).catch(function(e){logger.error("error loading CashOfferMerchandising",e)}).then(function(e){return n._parseCashOfferMerchInfoResponse(e)}),i=o.then(function(e){return e.offerStatus===c.default.id}),s=o.then(function(e){return e.offerStatus===u.default.id||e.offerStatus===l.default.id}),p=o.then(function(e){return"".concat(e.offerPresentationLink,"?viewSource=").concat(d.default.id)});this.setState({isExpiredOffer:i,isActiveOffer:s,offerStatus:o.then(function(e){return e.offerStatus}),offerPresentationLink:p,offerType:o.then(function(e){return e.cashOfferType}),address:o.then(function(e){return e.address}),hasRequestedRefreshedOffer:o.then(function(e){return e.hasRequestedRefreshedOffer}),hasSignedListingAgreement:o.then(function(e){return e.hasSignedListingAgreement}),offerPrice:o.then(function(e){return e.offerPrice}),offerRangeLow:o.then(function(e){return e.offerRangeLow}),offerRangeHigh:o.then(function(e){return e.offerRangeHigh}),propertyId:o.then(function(e){return e.propertyId}),offerRefreshLink:o.then(function(e){return e.offerRefreshLink}),storePromise:!0})}else this.setState({storePromise:!0})},_getIsPartnerForBrokerage:function(e){var t,n=(null==e?void 0:null===(t=e.recommendedAgent)||void 0===t?void 0:t.get("agentType"))===g_agentType.CONNECT;this.setState({isPartnerForBrokerage:n})},_parseCashOfferMerchInfoResponse:function(e){var t;return null!=e&&null!==(t=e.body)&&void 0!==t&&t.payload?e.body.payload:{}},onRequestOfferRefresh:function(){var e=this;f.ReactServerAgent.post(this.state.offerRefreshLink).then(function(){e.setState({hasRequestedRefreshedOffer:!0})}).catch(function(e){logger.error("error requesting a refreshed offer",e)})},isLoggedIn:function(){return(0,o.default)(r.default.mark(function e(){return r.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.default.whenReady();case 2:return e.abrupt("return",h.default.isCurrentlyLoggedIn());case 3:case"end":return e.stop()}},e)}))()}});t.default=g,e.exports=t.default},ZNeB:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;l&&(l.get||l.set)?Object.defineProperty(a,i,l):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),i=a(n("bo1D"));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}n("yvQb");var l=function(){var e=(0,o.useRef)(null);return(0,o.useEffect)(function(){i.default.trackImpression(i.default.impressions.SALE_PENDING_DISCLAIMER,null,e.current)},[]),o.default.createElement("div",{ref:e,className:"PendingBanner blockedBox padding-bottom-medium"},o.default.createElement("div",{className:"title"},"Sale pending"),o.default.createElement("p",{className:"dp-subtext"},"The seller has accepted an offer, and the property is now pending or under contract."))};t.default=l,e.exports=t.default},Zks4:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("lSNA")),f=a(n("YAhj")),p=a(n("17x9")),m=a(n("g/Vz")),h=a(n("ma35")),g=a(n("AGmm")),_=a(n("xZlT")),v=a(n("6phH")),y=a(n("ed/o")),E=a(n("EyRd")),S=n("4Vtq"),I=n("osI4"),T=n("j1NT"),C=n("9T/p"),b=a(n("94Bj")),k=a(n("tU6T"));function R(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}n("Li+L");var O=function(e){(0,l.default)(n,e);var t=R(n);function n(e){var a;return(0,o.default)(this,n),a=t.call(this,e),(0,d.default)((0,s.default)(a),"onFALClickInRevampVariant",function(){var e;E.default.trackClick(E.default.clicks.FIND_A_LENDER);var t=(0,T.getFALButtonOnPaymentCalculatorContext)(),n="phone"===(0,I.getCurrentDeviceType)()?"ldp_payment_calc_mweb":"ldp_payment_calc_desktop";(0,C.startPreQuestionnaireExperimentIfEligible)();var r="Variant"===b.default.getVariant(k.default);if((0,C.shouldCompleteQuestionnaire)(r))e=g.default.getPreQuestionnaireUrl(a.props.mortgageRatesPageLink)||"/pre-questionnaire-start";else if((0,C.alreadyCompletedQuestionnaire)(r)){var o=(0,C.getLocalStorageItems)(),i=o.creditScore,s=o.veteranType;e=g.default.utilizeSavedCreditAndVeteranType(a.props.mortgageRatesPageLink,i,s)}else e=a.props.mortgageRatesPageLink?a.props.mortgageRatesPageLink:"/mortgage-rates";window.open(g.default.appendContextAndAttributionToUrl(e,t,n),"_blank")}),a.getMortgageRatesPageBtn=a.getMortgageRatesPageBtn.bind((0,s.default)(a)),a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){"#mortgage-calculator"===location.hash&&(0,S.autoScroll)({destination:"MortgageCalculator"})}},{key:"onSummaryClick",value:function(e){y.default.summaryClick(e)}},{key:"onMortgageRatesPageLinkClick",value:function(e){y.default.mortgageRatesPageLinkClick(e)}},{key:"getMortgageRatesPageBtn",value:function(){var e=this;if(!this.props.mortgageRatesButtonVisibility)return null;var t=this.props,n=t.defaults.mortgageRatesPageLinkText,a=t.mortgageRatesPageLink,r=t.inBankrateVariant,o=t.advertiserDisclosure,i=(0,T.getLDPPaymentCalculatorContext)(),s="phone"===(0,I.getCurrentDeviceType)()?"ldp_payment_calc_mweb":"ldp_payment_calc_desktop",l=n&&a?f.default.createElement("span",{className:"btn mortgageRatesPageLink"},f.default.createElement(h.default,{type:"text",href:g.default.appendContextAndAttributionToUrl(this.props.mortgageRatesPageLink,i,s),className:"v3 unpadded",onClick:this.onMortgageRatesPageLinkClick,target:"_blank"},n)):null;return f.default.createElement("div",{className:"button-container","data-rf-test-id":"mc-customizeCalculations",ref:function(t){return e.buttonContainerRef=t},style:r?{margin:"12px 0 2rem"}:{}},l,r&&f.default.createElement(m.default,{disclaimerText:o}))}},{key:"render",value:function(){var e=this,t=this.props.defaults.displayLevel,n=null,a=f.default.createElement(_.default,(0,r.default)({},this.props,{showOnlyNonZero:!0,onClick:function(){return e.onSummaryClick()},showTitle:!0,onRevampVariantFALButtonClick:this.onFALClickInRevampVariant,showCustomizeButtonInline:"desktop"!==(0,I.getCurrentDeviceType)()}));if(g_displayLevel.idToObj[t].isVisible){var o=f.default.createElement(v.default,(0,r.default)({inline:!0,adsDisclaimer:f.default.createElement(m.default,{disclaimerText:this.props.advertiserDisclosure}),onRevampVariantFALButtonClick:this.onFALClickInRevampVariant},this.props)),i=this.getMortgageRatesPageBtn();n=f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:"calculatorContentsContainer"},a,o),i)}else!g_displayLevel.idToObj[t].isVisible&&g_displayLevel.idToObj[t].isReachable&&(n=a);return f.default.createElement("div",{className:"MortgageCalculator",id:"MortgageCalculator"},n)}}],[{key:"displayName",get:function(){return"MortgageCalculator"}},{key:"propTypes",get:function(){return{defaults:p.default.shape({displayLevel:p.default.number,listingPrice:p.default.number,downPaymentPercentage:p.default.number,monthlyHoaDues:p.default.number,propertyTaxRate:p.default.number,homeInsuranceRate:p.default.number,mortgageInsuranceRate:p.default.number,loanType:p.default.number,mortgageRateInfo:p.default.shape({fifteenYearFixed:p.default.number,fiveOneArm:p.default.number,thirtyYearFixed:p.default.number})}),propertyId:p.default.number,homeEquityCalculatorStore:p.default.object}}}]),n}(f.default.Component);e.exports=O},ZmJK:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=n("mXGw"),d=a(n("17x9")),f=a(n("VMur")),p=a(n("mSgt"));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("BLuO");var h=function(e){(0,s.default)(n,e);var t=m(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).state={showFlyout:!1},a.onAsteriskClick=a.onAsteriskClick.bind((0,i.default)(a)),a}return(0,o.default)(n,[{key:"render",value:function(){return React.createElement("a",{className:"DisclaimerFlyoutAsterisk",href:this.props.href,onClick:this.onAsteriskClick,"aria-label":this.props.ariaLabel||"disclaimer"},React.createElement(p.default,{className:this.props.asteriskClassName}),this.state.showFlyout&&React.createElement(f.default,{className:"disclaimer-flyout",title:this.props.title,showDialogOnSmallScreen:!0},this.props.disclaimer))}},{key:"onAsteriskClick",value:function(e){if(e.target===e.currentTarget||"A"!==e.target.nodeName&&e.currentTarget.contains(e.target)){e.preventDefault(),e.stopPropagation();var t=!this.state.showFlyout;this.setState({showFlyout:t}),t?this.documentClickHandler||(this.documentClickHandler=this.onDocumentClick.bind(this,e.currentTarget),document.addEventListener("click",this.documentClickHandler)):this.removeDocumentClickHandler()}else"A"!==e.target.nodeName&&(e.preventDefault(),e.stopPropagation());this.props.onClick&&this.props.onClick()}},{key:"onDocumentClick",value:function(e,t){var n=e.parentElement.getElementsByClassName("disclaimer-flyout")[0];if(n){var a=t.target;do{if(a===n)return;a=a.parentElement}while(a)}this.setState({showFlyout:!1}),this.removeDocumentClickHandler()}},{key:"removeDocumentClickHandler",value:function(){this.documentClickHandler&&(document.removeEventListener("click",this.documentClickHandler),delete this.documentClickHandler)}}],[{key:"propTypes",get:function(){return{title:d.default.string,disclaimer:d.default.node,href:d.default.string,ariaLabel:d.default.string,onClick:d.default.func,asteriskClassName:d.default.string}}},{key:"defaultProps",get:function(){return{href:"/disclaimer",asteriskClassName:"size-tiny"}}}]),n}(c.Component);t.default=h,e.exports=t.default},Zsqh:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),i=(a(n("17x9")),a(n("8PhC"))),s=n("osI4"),l=a(n("EyRd"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function c(e){if(!e.children)return console.error("Tried to render MortgageLendersCarousel with no children. This is not supported"),null;var t=(Array.isArray(e.children)?e.children:[e.children]).map(function(e,t){return o.default.createElement(o.Fragment,{key:t},e)}),n=(0,s.getCurrentDeviceType)(),a=2;return"phone"===n?a=1:"tablet"!==n||e.onStandaloneCalculator||(a=3),o.default.createElement(i.default,{className:"MortgageLendersCarousel HalfSpacing-Top ".concat(n),numSlidesToShow:a,numSlidesToSlide:a,initialIndex:e.index>a-1?e.index:0,onChange:function(e){var t=e.clicked,n=e.direction;t&&l.default.trackClick("previous"===n?l.default.clicks.CAROUSEL_LEFT_ARROW:l.default.clicks.CAROUSEL_RIGHT_ARROW)}},t)}n("pK/9"),c.propTypes={},c.defaultProps={children:null,index:0,onStandaloneCalculator:!1};var d=c;t.default=d,e.exports=t.default},a63d:function(e,t,n){},aA4O:function(e,t,n){},aGSB:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("TlVh"),o=n("Q+Iq"),i=a(n("vBPG")),s=a(n("5BUB")),l=a(n("nYv3")),u=a(n("cksC")),c=n("1o8v"),d=(0,r.createStoreFactory)({mixins:[s.default],formName:"DownPaymentAssistanceForm",init:function(e){var t,n,a,r,o,s,l;this.listenTo(i.default.populateDpaData,this.populateDpaData),this.listenTo(i.default.clearDpaResponse,this.clearDpaResponse),this.listenTo(i.default.handleFormEntry,this.handleFormEntry),this.listenTo(i.default.closeFormEntry,this.closeFormEntry),this.listenTo(i.default.submitDpaForm,this.submitDpaForm),this.listenTo(i.default.showDialog,this.showDialog),this.listenTo(i.default.hideDialog,this.hideDialog),this.addressSectionInfo=e,this.setState({placeHolder:!0,shouldShowDialog:!1,showBlueLink:!1,apiResultError:!1,dpaData:null,showForm:!1,formName:"DownPaymentAssistanceForm",withParams:!!(0,c.getLocalStorageItems)("dpaParams"),runningApi:!1,queryParams:{household:null===(t=(0,c.getLocalStorageItems)("dpaParams"))||void 0===t?void 0:t.household,ownership:null===(n=(0,c.getLocalStorageItems)("dpaParams"))||void 0===n?void 0:n.ownership,income:null===(a=(0,c.getLocalStorageItems)("dpaParams"))||void 0===a?void 0:a.income,military:null===(r=(0,c.getLocalStorageItems)("dpaParams"))||void 0===r?void 0:r.military,isNativeAmerican:null===(o=(0,c.getLocalStorageItems)("dpaParams"))||void 0===o?void 0:o.isNativeAmerican,professions:null===(s=(0,c.getLocalStorageItems)("dpaParams"))||void 0===s?void 0:s.professions,isDisability:null===(l=(0,c.getLocalStorageItems)("dpaParams"))||void 0===l?void 0:l.isDisability}})},getDpaData:function(e){var t,n,a=this,r=e.addressSectionInfo,i=null==r?void 0:r.countryCode,s=null==r?void 0:r.propertyType;if(i!==u.default.id||!c.SUPPORTED_PROPERTY_TYPES.includes(s))return null;var d=!1,f=this.convertToOccupations();if((f.length>0||this.state.queryParams.household||this.state.queryParams.income||this.state.queryParams.ownership)&&(d=!0),d){var p=new Date;p.setDate(p.getDate()+14),(0,c.setLocalStorageItems)("dpaParams",this.state.queryParams,p),this.setState({withParams:!0})}else(0,c.removeLocalStorageItems)("dpaParams"),this.setState({withParams:!1});var m=null==r?void 0:null===(t=r.streetAddress)||void 0===t?void 0:t.assembledAddress,h=null==r?void 0:r.zip,g=null!==(null==r?void 0:null===(n=r.latestPriceInfo)||void 0===n?void 0:n.amount)?r.latestPriceInfo.amount:r.priceInfo.amount,_=s===l.default.id?"y":null;return(null==m?void 0:m.length)>0&&(null==h?void 0:h.length)>0?(this.setState({runningApi:!0}),(0,o.postEndpoint)("/stingray/api/home/details/postDpa",{address:m,zipcode:h,householdSize:this.state.queryParams.household,income:this.state.queryParams.income,ownership:this.state.queryParams.ownership,occupations:f,salesPrice:g,isMultiFamily:_}).then(function(e){if(a.setState({runningApi:!1}),"Success"===e.errorMessage||0===e.resultCode)return e.payload;a.setState({apiResultError:!0})})):Promise.resolve(null)},populateDpaData:function(){this.setState({placeHolder:!1,dpaData:this.getDpaData(this)})},submitDpaForm:function(){this.setState({showBlueLink:!0,queryParams:{household:0!==this.state.fields.household.value?this.state.fields.household.value:null,ownership:0!==this.state.fields.ownership.value?this.state.fields.ownership.value:null,income:this.state.fields.income.value,military:this.state.fields.military.value,isNativeAmerican:this.state.fields.isNativeAmerican.value,professions:this.state.fields.professions.value,isDisability:this.state.fields.isDisability.value}}),this.closeFormEntry(),this.populateDpaData()},convertToOccupations:function(){var e=[];if(this.state.queryParams.military){var t=this.state.queryParams.military;(t.active||t.reserve)&&e.push("military"),t.veteran&&e.push("veteran"),t.spouse&&e.push("spouse")}if("true"===this.state.queryParams.isNativeAmerican&&e.push("native"),this.state.queryParams.professions){var n=this.state.queryParams.professions;n.education&&e.push("education"),n.police&&e.push("police"),n.fire&&e.push("fire"),n.healthcare&&e.push("healthcare")}return"true"===this.state.queryParams.isDisability&&e.push("disability"),e},clearDpaResponse:function(){this._setFields({household:0,ownership:0,income:null,military:null,isNativeAmerican:null,professions:null,isDisability:null})},handleFormEntry:function(){var e,t,n,a,r,o,i,s,l;this.setState({showForm:!0}),this._setFields({household:null!==(e=(0,c.getLocalStorageItems)("dpaParams"))&&void 0!==e&&e.household?null===(t=(0,c.getLocalStorageItems)("dpaParams"))||void 0===t?void 0:t.household:0,ownership:null!==(n=(0,c.getLocalStorageItems)("dpaParams"))&&void 0!==n&&n.ownership?null===(a=(0,c.getLocalStorageItems)("dpaParams"))||void 0===a?void 0:a.ownership:0,income:null===(r=(0,c.getLocalStorageItems)("dpaParams"))||void 0===r?void 0:r.income,military:null===(o=(0,c.getLocalStorageItems)("dpaParams"))||void 0===o?void 0:o.military,isNativeAmerican:null===(i=(0,c.getLocalStorageItems)("dpaParams"))||void 0===i?void 0:i.isNativeAmerican,professions:null===(s=(0,c.getLocalStorageItems)("dpaParams"))||void 0===s?void 0:s.professions,isDisability:null===(l=(0,c.getLocalStorageItems)("dpaParams"))||void 0===l?void 0:l.isDisability})},showDialog:function(){this.setState({shouldShowDialog:!0})},hideDialog:function(){this.setState({shouldShowDialog:!1})},closeFormEntry:function(){this.setState({showForm:!1})},fields:{household:{},ownership:{},income:{},military:{},isNativeAmerican:{},professions:{},isDisability:{}}});t.default=d,e.exports=t.default},aGe4:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("RIqP")),s=a(n("lwsE")),l=a(n("W8MJ")),u=a(n("PJYZ")),c=a(n("7W2i")),d=a(n("a1gu")),f=a(n("Nsbk")),p=a(n("XxtW")),m=a(n("MQDO")),h=a(n("M58V")),g=a(n("94Bj")),_=a(n("17x9")),v=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),y=a(n("ma35")),E=a(n("WqrT")),S=a(n("WxCX")),I=a(n("McMD")),T=a(n("INao")),C=a(n("hlq+")),b=a(n("hmmP")),k=a(n("d21m")),R=a(n("YxE/")),O=a(n("6WO4")),N=n("6tFN");n("itxl");var A=a(n("ZQlj")),P=a(n("vGNU")),D=a(n("UT8e")),w=n("wTjA"),L=n("DyY8");function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,f.default)(e);if(t){var r=(0,f.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,d.default)(this,n)}}var F=function(e){(0,c.default)(n,e);var t=x(n);function n(e){var a;return(0,s.default)(this,n),(a=t.call(this,e)).mapToOpenHouseRow=a.mapToOpenHouseRow.bind((0,u.default)(a)),a.mapToVideoOpenHouseRow=a.mapToVideoOpenHouseRow.bind((0,u.default)(a)),a.state={showTourCTALoadingIndicator:!1,isVideoTour:e.isInPersonTourDisabled},a._handleScheduleTourButtonClick=a._handleScheduleTourButtonClick.bind((0,u.default)(a)),a._handleScheduleButtonPartnerClick=a._handleScheduleButtonPartnerClick.bind((0,u.default)(a)),a._handleMoreTourTimesLinkClick=a._handleMoreTourTimesLinkClick.bind((0,u.default)(a)),a._handleMoreTourTimesPartnerLinkClick=a._handleMoreTourTimesPartnerLinkClick.bind((0,u.default)(a)),a._handleTimeTileClick=a._handleTimeTileClick.bind((0,u.default)(a)),a._handleTimeTilePartnerClick=a._handleTimeTilePartnerClick.bind((0,u.default)(a)),a._chooseTourType=a._chooseTourType.bind((0,u.default)(a)),a.LDP_OPEN_HOUSE_SECTION_UPDATED_VARIANT=g.default.isOff(h.default)?"CONTROL":g.default.getVariant(h.default),a}return(0,l.default)(n,[{key:"componentDidMount",value:function(){var e=this.props.videoOpenHouses.length&&(0,N.isOpenHouseCurrentlyLive)(this.props.videoOpenHouses);if(this.domNode){var t={num_upcoming:this.props.openHouses.length,has_live_now:e};this.props.agent&&this.props.agent.getAgentType()===g_agentType.CONNECT?k.default.trackImpression(k.default.impressions.PARTNER_OPEN_HOUSES,t,this.domNode):b.default.trackImpression(b.default.impressions.OPEN_HOUSES,t,this.domNode)}}},{key:"render",value:function(){var e=this.props.openHouseStore,t=(e=void 0===e?{}:e).openHouses,n=void 0===t?[]:t,a=e.videoOpenHouses,r=void 0===a?[]:a,o=!(!n.length&&!r.length)&&this.renderInPersonRows(n,!!r.length),i=!!r.length&&this.renderVideoOpenHouseRows(r);return["VARIANT_1","VARIANT_2"].includes(this.LDP_OPEN_HOUSE_SECTION_UPDATED_VARIANT)?this.renderVariant(o,i):this.renderControl(o,i)}},{key:"_getEarliestOpenHouseStartTime",value:function(){var e=this.props.openHouseStore,t=(e=void 0===e?{}:e).openHouses,n=void 0===t?[]:t,a=e.videoOpenHouses,r=void 0===a?[]:a,o=n.length?Math.min.apply(Math,(0,i.default)(n.map(function(e){return e.startTime}).filter(function(e){return e}))):0,s=r.length?1e3*Math.min.apply(Math,(0,i.default)(r.map(function(e){return e.startTime.seconds}))):0;return o&&s?Math.min(o,s):o}},{key:"_showTourCTAOnTop",value:function(){var e=this.props,t=e.agent,n=e.nextAvailableTourTime,a=this._getEarliestOpenHouseStartTime();return(g.default.isOff(m.default)||"Control"===g.default.getVariant(m.default))&&!!t&&t.getAgentType()===g_agentType.CONNECT||n&&n<a}},{key:"renderControl",value:function(e,t){var n=this,a=this.props,r=a.openHouseStore,o=(r=void 0===r?{}:r).openHouses,i=void 0===o?[]:o,s=r.videoOpenHouses,l=void 0===s?[]:s,u=a.showTourCTA,c=a.agent,d=c&&c.getAgentType()===g_agentType.CONNECT,f=v.default.createElement(D.default,{section:"".concat(d?"partner_":"","open_houses"),target:"ghost_town"},v.default.createElement("div",{className:"ghostTown fill-disabled",key:"ghostTown"},v.default.createElement(T.default,{className:"size-medium"}),v.default.createElement("p",null,"No upcoming open houses"))),p=v.default.createElement("div",{className:"oh","data-rf-test-id":"mainHouseInfo-openHouse",key:"openHouseRows"},e,t),m=u&&this.renderTourCTA(),h=[];return 0===i.length&&0===l.length&&h.push(f),u?this._showTourCTAOnTop()?h.push(m,p):h.push(p,m):h.push(p),v.default.createElement("div",{className:"OpenHouseSection",ref:function(e){return n.domNode=e}},h)}},{key:"renderVariant",value:function(e,t){var n=this,a=this.props,r=a.openHouseStore,o=(r=void 0===r?{}:r).experimentVariant,i=r.openHouses,s=void 0===i?[]:i,l=r.videoOpenHouses,u=void 0===l?[]:l,c=r.actions,d=void 0===c?{}:c,f=a.agent,p=f&&f.getAgentType()===g_agentType.CONNECT,m=!s.length&&v.default.createElement(D.default,{section:"".concat(p?"partner_":"").concat("VARIANT_2"===o?"see_this_home":"open_houses"),target:"ghost_town"},v.default.createElement("div",{className:"ghostTown fill-disabled",key:"ghostTown"},v.default.createElement(T.default,{className:"VARIANT_2"===this.LDP_OPEN_HOUSE_SECTION_UPDATED_VARIANT?"size-small":"size-medium"}),v.default.createElement("p",null,"No upcoming",u.length?" in-person":""," open houses"))),h=("VARIANT_1"===this.LDP_OPEN_HOUSE_SECTION_UPDATED_VARIANT||!s.length&&!u.length)&&!this.props.isPossiblyUnavailable&&this.renderTourCTA();return v.default.createElement("div",{className:"OpenHouseSection ".concat(this.LDP_OPEN_HOUSE_SECTION_UPDATED_VARIANT),ref:function(e){return n.domNode=e}},m,!!s.length&&v.default.createElement("div",{className:"oh","data-rf-test-id":"mainHouseInfo-openHouseInPersonRows",key:"openHouseInPersonRows"},e),!!u.length&&v.default.createElement(P.default,{onEnterViewport:function(){return(0,w.isFunction)(d.onVideoOpenHouseRowsInView)&&d.onVideoOpenHouseRowsInView()}},v.default.createElement("div",{className:"oh","data-rf-test-id":"mainHouseInfo-openHouseVideoRows",key:"openHouseVideoRows"},t)),h)}},{key:"renderInPersonRows",value:function(e,t){var n=e.length?e.map(this.mapToOpenHouseRow):v.default.createElement("div",{className:"inPersonGhostTown fill-disabled",key:"inPersonGhostTown"},v.default.createElement(T.default,{className:"VARIANT_2"===this.LDP_OPEN_HOUSE_SECTION_UPDATED_VARIANT?"size-small":"size-medium"}),v.default.createElement("p",null,"No upcoming open houses"));return v.default.createElement("div",{className:"inPersonOpenHouses"},t&&v.default.createElement("div",{className:"inPersonSubheading font-weight-bold"},"In-person open houses"),v.default.createElement("div",{className:"inPersonRows"+(t?" withSubheading":"")},n))}},{key:"mapToOpenHouseRow",value:function(e,t){var n=this.props.homePhotoInfo&&this.props.homePhotoInfo.homePhoto?this.props.homePhotoInfo.homePhoto:this.props.homePhotoInfo,a=n&&n.photoUrls?n.photoUrls.nonFullScreenPhotoUrl:null;return v.default.createElement(R.default,(0,o.default)({key:t,openHouseInfo:this.props.openHouseInfo,openHouseStore:this.props.openHouseStore,numUpcoming:this.props.openHouses.length,url:this.props.url,timeZone:this.props.timezone,address:this.props.address,dataSourceName:this.props.source?this.props.source.dataSourceName:null,logoImageFilename:this.props.source?this.props.source.dataSourceImage:null,homePrice:this.props.homePrice,homePhotoUrl:a,latLong:this.props.latLong,deviceConfig:this.props.deviceConfig,listingId:this.props.listingId,propertyId:this.props.propertyId,agent:this.props.agent,shortDayDisplay:"CONTROL"!==this.LDP_OPEN_HOUSE_SECTION_UPDATED_VARIANT},e))}},{key:"renderVideoOpenHouseRows",value:function(e){var t=(0,N.isOpenHouseCurrentlyLive)(e);return v.default.createElement("div",{className:"videoOpenHouses"},v.default.createElement("div",{className:"videoSubheading"},v.default.createElement("div",{className:"videoSubheadingText font-weight-bold"},"Live video open houses"),"CONTROL"!==this.LDP_OPEN_HOUSE_SECTION_UPDATED_VARIANT&&v.default.createElement(E.default,{infoIcon:!0,onClickDefinitionLink:function(){return(0,w.isFunction)(L.actions.onVideoOpenHouseFlyoutClick)&&L.actions.onVideoOpenHouseFlyoutClick()},definition:"Join a live video open house to learn more and ask questions about this home."}),t?v.default.createElement("div",{className:"liveIndicator isLive font-weight-bold"},v.default.createElement("span",{className:"liveDot"}),"LIVE NOW"):"CONTROL"!==this.LDP_OPEN_HOUSE_SECTION_UPDATED_VARIANT&&v.default.createElement("div",{className:"liveIndicator font-weight-bold"},v.default.createElement("span",{className:"liveDot"}),"LIVE SOON")),v.default.createElement("div",{className:"videoRows withSubheading"},e.map(this.mapToVideoOpenHouseRow)))}},{key:"mapToVideoOpenHouseRow",value:function(e,t){return v.default.createElement(O.default,{key:e.id||t,startTime:e.startTime,endTime:e.endTime,url:e.url,comment:e.comment,propertyId:this.props.propertyId,listingId:this.props.listingId,timezone:this.props.timezone,dataSourceName:this.props.source?this.props.source.dataSourceName:null,logoImageFilename:this.props.source?this.props.source.dataSourceImage:null,riftEvent:b.default.clicks.VIDEO_JOIN})}},{key:"renderTourCTA",value:function(){var e=this.props.agent,t=!!e&&e.getAgentType()===g_agentType.REDFIN,n=!!e&&(e._licenseClassTitle||e.getBusinessMarket())||this.props.city,a=this._showTourCTAOnTop(),r="Variant"===g.default.getVariant(m.default)?this.renderTourCTAForPartnerVariant(a,n):this.renderTourCTAForPartner();return this.state.showTourCTALoadingIndicator?v.default.createElement("div",{className:"openHouseTourCTASection openHouseLoadingIndicator"},v.default.createElement(I.default,{centerPosition:"horiz",className:"openHouseTourRedirecting",layout:!0})):v.default.createElement("div",{className:"openHouseTourCTASection",key:"tourCTA","data-rf-test-id":"mainHouseInfo-openHouse-tourCTASection"+(a?"-onTop":"-atBottom")},t?this.renderTourCTAForRedfin(a):r)}},{key:"renderTourCTAForRedfin",value:function(e){var t=this,n=this.props.nextAvailableTourTime;return v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{className:"header"},function(){if("CONTROL"!==t.LDP_OPEN_HOUSE_SECTION_UPDATED_VARIANT){var a=t._getEarliestOpenHouseStartTime();return n&&n<a?["See this home sooner",v.default.createElement("div",{className:"font-weight-normal"},"Tour with a Redfin Agent to check out this home before the open house–and other buyers.")]:["Avoid the crowds",v.default.createElement("div",{className:"font-weight-normal"},"Tour with Redfin and one of our agents will be there to answer all your questions.")]}return e?"See the home sooner with Redfin":"Tour on your schedule with Redfin"}()),g.default.isOn(p.default)&&"CONTROL"===this.LDP_OPEN_HOUSE_SECTION_UPDATED_VARIANT?this.renderVideoTourSelector():v.default.createElement("div",{className:"margin-top-medium"}),v.default.createElement("div",{"data-rf-test-id":"mainHouseInfo-openHouse-tourCTASection-nextAvailableTime"},this.props.nextTourDisplayTimes&&this.props.nextTourDisplayTimes.length?v.default.createElement(C.default,{useConciseFormat:"VARIANT_2"===this.LDP_OPEN_HOUSE_SECTION_UPDATED_VARIANT,tourTimes:this.props.nextTourDisplayTimes,tourTimeZone:this.props.tourTimeZone,isNextTourTimeToday:this.props.isNextTourTimeToday,onMoreClick:this._handleMoreTourTimesLinkClick,onTimeLinkClick:this._handleTimeTileClick}):v.default.createElement(y.default,{type:"text",className:"open-house-tour-cta","data-rf-test-id":"mainHouseInfo-openHouse-tourCTAButton",onClick:this._handleScheduleTourButtonClick},"Schedule Tour")))}},{key:"renderTourCTAForPartnerVariant",value:function(e,t){return v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{className:"header"},e?"See the home sooner with a ".concat(t," Redfin Partner Agent"):"Tour on your schedule with a ".concat(t," Redfin Partner Agent")),g.default.isOn(p.default)&&"CONTROL"===this.LDP_OPEN_HOUSE_SECTION_UPDATED_VARIANT?this.renderVideoTourSelector():v.default.createElement("div",{className:"margin-top-medium"}),v.default.createElement("div",{"data-rf-test-id":"mainHouseInfo-openHouse-tourCTASection-nextAvailableTime"},this.props.nextTourDisplayTimes&&this.props.nextTourDisplayTimes.length?v.default.createElement(C.default,{useConciseFormat:"VARIANT_2"===this.LDP_OPEN_HOUSE_SECTION_UPDATED_VARIANT,tourTimes:this.props.nextTourDisplayTimes,tourTimeZone:this.props.tourTimeZone,isNextTourTimeToday:this.props.isNextTourTimeToday,onMoreClick:this._handleMoreTourTimesPartnerLinkClick,onTimeLinkClick:this._handleTimeTilePartnerClick}):v.default.createElement(y.default,{type:"text",className:"open-house-tour-cta","data-rf-test-id":"mainHouseInfo-openHouse-tourCTAButton",onClick:this._handleScheduleButtonPartnerClick},"Schedule Tour")))}},{key:"renderTourCTAForPartner",value:function(){var e=g.default.isOn(g.default.feature.PARTNER_SUBSEQUENT_AAQ)&&g.default.isOn(g.default.feature.PARTNER_SUBSEQUENT_TOURS_AAQ)&&"Variant"===g.default.getVariant(g.default.feature.PARTNER_SUBSEQUENT_TOURS_AAQ);return this.props.contactBoxInfo.experienceData.hasSubmittedPartnerRequestForListing&&e?null:v.default.createElement(v.default.Fragment,null,v.default.createElement("div",{className:"header"},"Tour on your schedule"),v.default.createElement("div",{"data-rf-test-id":"mainHouseInfo-openHouse-tourCTASection-nextAvailableTime"},v.default.createElement(y.default,{type:"text",className:"open-house-tour-cta","data-rf-test-id":"mainHouseInfo-openHouse-tourCTAButton",onClick:this._handleScheduleButtonPartnerClick},"See it with a Redfin Partner Agent")))}},{key:"renderVideoTourSelector",value:function(){return v.default.createElement(A.default,{value:this.state.isVideoTour&&this.state.isVideoTour.toString(),onChange:this._chooseTourType,condensedView:!0,deviceConfig:this.props.deviceConfig,flyoutPosition:"above",isInPersonTourDisabled:this.props.isInPersonTourDisabled})}},{key:"_chooseTourType",value:function(){this.setState({isVideoTour:!this.state.isVideoTour})}},{key:"_handleScheduleTourButtonClick",value:function(){var e=b.default.trackClick(b.default.clicks.OPEN_HOUSE_TOUR_CTA,{num_upcoming:this.props.openHouses.length});this._handleTourRequest(e)}},{key:"_handleScheduleButtonPartnerClick",value:function(e){var t=b.default.trackClick(b.default.clicks.OPEN_HOUSE_TOUR_CTA,{num_upcoming:this.props.openHouses.length});this._handleTourRequestPartner(t,e)}},{key:"_handleMoreTourTimesLinkClick",value:function(){var e=b.default.trackClick(b.default.clicks.LDP_OPEN_HOUSES_CTA_MORE_LINK_CLICKED,{property_id:this.props.propertyId,listing_id:this.props.listingId,tour_type:this.state.isVideoTour?"video_tour":"in_person"});this._handleTourRequest(e)}},{key:"_handleMoreTourTimesPartnerLinkClick",value:function(){var e=k.default.trackClick(k.default.clicks.MORE_TIMES_LINK,{listing_id:this.props.listingId,tour_type:this.state.isVideoTour?"video_tour":"in_person"});this._handleTourRequestPartner(e)}},{key:"_handleTimeTileClick",value:function(e){var t=b.default.trackClick(b.default.clicks.LDP_OPEN_HOUSES_CTA_TIME_TILE_CLICKED,{property_id:this.props.propertyId,listing_id:this.props.listingId,time_tile_selected:e.time,time_tile_selected_time_zone:this.props.tourTimeZone,tour_type:this.state.isVideoTour?"video_tour":"in_person"});this._handleTourRequest(t,e.time)}},{key:"_handleTimeTilePartnerClick",value:function(e){var t=k.default.trackClick(k.default.clicks.TIME_TILE,{listing_id:this.props.listingId,time_tile_selected:e.time,time_tile_selected_time_zone:this.props.tourTimeZone,tour_type:this.state.isVideoTour?"video_tour":"in_person"});this._handleTourRequestPartner(t,e.time)}},{key:"_handleTourRequest",value:function(e,t){var n={inquirySource:g_inquirySource.LDP_OPEN_HOUSE_SECTION_TOUR_CTA,listingId:this.props.listingId,tourDay:this.props.nextAvailableTourTime,tourTime:t,isVideoTour:this.state.isVideoTour,riftContext:e};S.default.redirectToScheduler(n),this.setState({showTourCTALoadingIndicator:!0})}},{key:"_handleTourRequestPartner",value:function(e,t){var n={inquirySource:g_inquirySource.LDP_OPEN_HOUSE_SECTION_TOUR_CTA,listingId:this.props.listingId,riftContext:e,agent:this.props.agent,isVideoTour:this.state.isVideoTour,dateTime:t};S.default.redirectForPartnerTour(n),this.setState({showTourCTALoadingIndicator:!0})}}],[{key:"propTypes",get:function(){return{openHouses:_.default.array,videoOpenHouses:_.default.arrayOf(_.default.shape({id:_.default.number,startTime:_.default.shape({seconds:_.default.number}),endTime:_.default.shape({seconds:_.default.number}),url:_.default.string,propertyId:_.default.number,listingId:_.default.number,timezone:_.default.string})),source:_.default.object,url:_.default.string,timezone:_.default.string,homePrice:_.default.number,homePhotoInfo:_.default.object,latLong:_.default.object,openHouseInfo:_.default.object,deviceConfig:_.default.number,listingId:_.default.number,propertyId:_.default.number,nextAvailableTourTime:_.default.number,tourTimeZone:_.default.string,agent:_.default.object,nextTourDisplayTimes:_.default.array,isNextTourTimeToday:_.default.bool,showTourCTA:_.default.bool,isInPersonTourDisabled:_.default.bool}}},{key:"defaultProps",get:function(){return{openHouses:[],videoOpenHouses:[],nextTourDisplayTimes:[],tourTimeZone:"America/Los_Angeles",isNextTourTimeToday:!1,agent:{},isInPersonTourDisabled:!1}}}]),n}(v.Component);t.default=F,e.exports=t.default},aXMr:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("lSNA")),f=a(n("mXGw")),p=(a(n("17x9")),a(n("POCY"))),m=a(n("Fj/g")),h=a(n("ajIE")),g=a(n("bK0B")),_=a(n("Bzim")),v=a(n("VO8G")),y=a(n("mbDB")),E=a(n("94Bj")),S=a(n("/+pK")),I=a(n("UT8e")),T=a(n("UrhC")),C=a(n("jkMb")),b=a(n("V/OE")),k=a(n("i2EY")),R=n("zOB4"),O=a(n("sMp4")),N=a(n("kHu9")),A=a(n("Pkvs"));function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var D=n("1IRx"),w=n("eNtu"),L=n("AwDr"),M=n("qfcJ").getDisplayTextFromStreetAddress,x=n("mBca");n("5o9r");var F=46,B=46,H=function(e){(0,l.default)(n,e);var t=P(n);function n(e,a){var i;if((0,o.default)(this,n),i=t.call(this,e,a),(0,d.default)((0,s.default)(i),"renderDialogHeader",function(){var e=i._isMobile()?M(i.props.addressSectionInfo.streetAddress):"Quick Map";return f.default.createElement(k.default,{title:e,isDP:!!i.props.personalizationInfo,isFavorite:i.props.personalizationInfo&&i.props.personalizationInfo.isFavorite,isShortlisted:i.props.personalizationInfo&&i.props.personalizationInfo.isShortlisted,userCanShare:i.props.addressSectionInfo.userCanShare,actions:{DialogHeader:{whenCloseButtonClicked:i._onClose,whenFavoriteButtonClicked:i.props.whenFavoriteButtonClicked||i._whenFavoriteButtonClicked,whenShareButtonClicked:i.props.whenShareButtonClicked||i._whenShareButtonClicked}}})}),(0,d.default)((0,s.default)(i),"renderDialogContent",function(){return[f.default.createElement(D,(0,r.default)({widthStyleOverride:"inherit",heightStyleOverride:"inherit"},i.props,{mapCreateOptions:{scrollwheel:!0,gestureHandling:"greedy",styles:[{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{hue:"#ffa200"},{saturation:-20},{visibility:"on"}]},{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}]}})),i.state.showStreetView&&i._showStreetView(),i._renderFloodDialog(),f.default.createElement("div",{className:"actions"},i._renderMapNearbyHomesLink(),i._renderRecenterMapLink(),i._renderFloodOrLocationViewLink(),i._renderMapViewLink(),i._renderStreetViewLink(),i._renderDirectionLink())]}),(0,d.default)((0,s.default)(i),"_renderMapNearbyHomesLink",function(){return f.default.createElement("span",{className:"action nearbyHomesLink"},i.props.mapNearbyHomesUrl&&f.default.createElement("a",{className:"actionLink",href:i.props.mapNearbyHomesUrl},"Map Nearby Homes For Sale"))}),(0,d.default)((0,s.default)(i),"_renderRecenterMapLink",function(){return f.default.createElement("span",{className:"action recenterMapLink"},f.default.createElement(p.default,{className:"size-small"}),f.default.createElement("a",{className:"actionLink",onClick:i._recenterMap},"Recenter Map"))}),(0,d.default)((0,s.default)(i),"_renderFloodOrLocationViewLink",function(){return i.inFloodDataVariant&&i.props.floodStore&&i.props.floodStore.floodData?i.props.floodStore&&i.props.floodStore.shouldShowFloodData?f.default.createElement("span",{className:"action locationViewLink"},f.default.createElement(_.default,{className:"size-small"}),f.default.createElement("a",{className:"actionLink",onClick:i._locationViewClick},"Location")):f.default.createElement("span",{className:"action floodViewLink"},f.default.createElement(v.default,{className:"size-small"}),f.default.createElement("a",{className:"actionLink",onClick:i._floodViewClick},"Flood Factor")):null}),(0,d.default)((0,s.default)(i),"_renderFloodDialog",function(){var e=i.props.floodStore&&i.props.floodStore.floodData;return i.inFloodDataVariant&&e&&i.props.floodStore.shouldShowFloodData?f.default.createElement(I.default,{section:"full_screen_minimap_flood",eventDetails:{fsid:e.fsid}},f.default.createElement(C.default,{floodStore:i.props.floodStore,addressSectionInfo:i.props.addressSectionInfo,pageType:i.props.pageType,isMobile:!1})):null}),(0,d.default)((0,s.default)(i),"_renderMapViewLink",function(){return i.state.showStreetView?f.default.createElement("span",{className:"action mapViewLink"},f.default.createElement(m.default,{className:"size-small"}),f.default.createElement("a",{className:"actionLink",onClick:i._mapViewClick},"Map View")):null}),(0,d.default)((0,s.default)(i),"_renderStreetViewLink",function(){return i.state.showStreetView?null:f.default.createElement("span",{className:"action streetViewLink"},f.default.createElement(h.default,{className:"size-small"}),f.default.createElement("a",{className:"actionLink",onClick:i._streetViewClick},"Street View"))}),(0,d.default)((0,s.default)(i),"_renderDirectionLink",function(){return f.default.createElement("span",{className:"action directionLink"},f.default.createElement(g.default,{className:"icon size-small"}),f.default.createElement("a",{className:"actionLink",onClick:function(){return x.trackClick(x.clicks.DIRECTIONS_LINK)},href:"/stingray/do/google-directions?property_id="+i.props.propertyId},"Directions"))}),(0,d.default)((0,s.default)(i),"_recenterMap",function(){var e=i.props.addressSectionInfo.latLong;L.recenterMap({coords:{latitude:e.latitude,longitude:e.longitude},mapName:i.props.mapStore.mapName}),x.trackClick(x.clicks.RECENTER_LINK)}),(0,d.default)((0,s.default)(i),"_whenFavoriteButtonClicked",function(e){O.default.updateFavorite({entrypointId:R.PERSONAL_PROPERTY_INFO_FAV_STORE_ID,isFavorite:!e,isXout:!1,sender:"QuickMap-Fullscreen",riftSection:x.section,buttonType:"Favorite"})}),(0,d.default)((0,s.default)(i),"_whenShareButtonClicked",function(){x.trackClick(x.clicks.SHARE_BUTTON),N.default.showShareListingContent()}),(0,d.default)((0,s.default)(i),"_floodViewClick",function(){var e=i.props.floodStore&&i.props.floodStore.floodData;T.default.showFloodDataOnMap(),i.setState({showStreetView:!1}),x.trackClick(x.clicks.FLOOD_LINK,{fsid:e.fsid})}),(0,d.default)((0,s.default)(i),"_locationViewClick",function(){T.default.hideFloodDataOnMap(),i.setState({showStreetView:!1})}),(0,d.default)((0,s.default)(i),"_mapViewClick",function(){T.default.hideFloodDataOnMap(),i.setState({showStreetView:!1}),L.showMapView({mapName:i.props.mapStore.mapName}),x.trackClick(x.clicks.MAPVIEW_LINK)}),(0,d.default)((0,s.default)(i),"_streetViewClick",function(){T.default.hideFloodDataOnMap(),i.setState({showStreetView:!0}),x.trackClick(x.clicks.STREETVIEW_LINK)}),(0,d.default)((0,s.default)(i),"_showStreetView",function(){return f.default.createElement("div",{className:"streetViewContainer"},f.default.createElement(w,{widthStyleOverride:"inherit",heightStyleOverride:"inherit",displayLevel:A.default.id,latLong:i.props.addressSectionInfo.latLong,transitionClass:"visible"}))}),(0,d.default)((0,s.default)(i),"_touchMoveOverride",function(e){e.preventDefault()}),(0,d.default)((0,s.default)(i),"_isMobile",function(){return i.props.deviceConfig===g_deviceConfiguration.PHONE}),(0,d.default)((0,s.default)(i),"_onClose",function(){x.trackClick(x.clicks.CLOSE_LINK),T.default.hideFloodDataOnMap(),i.props.close&&i.props.close()}),"undefined"!=typeof document||"undefined"!=typeof window){var l=document.documentElement,c=l.clientWidth,b=l.clientHeight,P=i._isMobile()?window.innerHeight-(F+B):b*e.mapSizePercentage.height;return i.state={mapWidth:c*e.mapSizePercentage.width,mapHeight:P,showStreetView:e.showStreetView,showMapView:!0},i.inFloodDataVariant="VARIANT"===E.default.getVariant(y.default)&&!S.default.get(g_dbBackedConfigKeys.FLOOD_DATA_BLOCKLIST_PROPERTIES).includes(i.props.propertyId),(0,u.default)(i)}return i.state={},i}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this._isMobile()&&document.documentElement.addEventListener("touchmove",this._touchMoveOverride)}},{key:"componentWillUnmount",value:function(){this._isMobile()&&document.documentElement.removeEventListener("touchmove",this._touchMoveOverride)}},{key:"render",value:function(){return f.default.createElement("div",{"data-rf-test-id":"ldpQuickMap"},f.default.createElement(I.default,{section:"full_screen_minimap"},f.default.createElement(b.default,{renderHeader:this.renderDialogHeader,renderContent:this.renderDialogContent,onBack:this._onClose,className:"QuickMap"})))}}]),n}(f.default.Component);(0,d.default)(H,"displayName","QuickMap"),(0,d.default)(H,"defaultProps",{mapSizePercentage:{width:.8,height:.7},whenShareButtonClicked:void 0,whenFavoriteButtonClicked:void 0}),H.propTypes={},e.exports=H},aaIa:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("TlVh"),o=n("cMqt"),i=n("Q+Iq"),s=a(n("/U2i")),l=a(n("RYnR")),u=(0,r.createStoreFactory)({init:function(e){this.setState({listingId:e}),this.listenTo(l.default.getExtendableToursForCurrentListing,this.getExtendableToursForListing.bind(this))},getExtendableToursForListing:function(e){var t=this;if(!this.state.loaded&&e&&e.length){var n=e.map(function(e){return e.tourId});o.ReactServerAgent.post("/stingray/tours/bookitnow/api/getListingCanBeAddedToExistingTours").type("form").send({existingTourIds:n,currentListingId:this.state.listingId}).then(function(e){var n=e.body||{};if(n.resultCode===s.default.id){var a=(0,i.doObjectGraph)()(n.payload);t.handleSuccess(a)}else t.handleError(n.errorMessage)}).catch(function(e){t.handleError(e&&e.message)})}},handleSuccess:function(e){var t=e&&e.allAddHomesWithBin||[];this.setState({extendableTourIds:t.filter(function(e){return e.canExtend}).map(function(e){return e.tourId}),loaded:!0,error:null})},handleError:function(e){this.setState({error:e,loaded:!0})}});t.default=u,e.exports=t.default},adRd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={position:"below",alignment:"center",term:"Buyer's Agent Commission",definition:"This is the amount the seller is offering to a real estate brokerage who represents the buyer. The commission is often a percentage of the final sale price.",getPercentageDefinition:function(e){return"The seller is offering ".concat(e," of this home’s final sale price to the brokerage or agent representing the buyer. This only applies to participants of the MLS for this listing.")},definitionLink:"https://www.redfin.com/guides/how-much-is-real-estate-agent-commission-buyer-seller",moreInfoText:"Learn more about real estate commissions.",infoIcon:!0};t.default=a,e.exports=t.default},amIY:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("TlVh"),o=n("cMqt"),i=a(n("8Jek")),s=a(n("4KIY")),l=a(n("q8yK")),u=n("GoxZ"),c=n("V5OQ"),d=n("sw8m"),f=n("Ezxt"),p=a(n("q8Y8")),m=n("Br9r"),h=a(n("x3Yk")),g=a(n("6YqF")),_=a(n("8Llx")),v=a(n("7Kiy")),y=a(n("/4Do")),E=a(n("72T9")),S=n("/+pK"),I=o.logging.getLogger({owningTeam:"BUY_SIDE_CUSTOMER_GROWTH",name:"corvair.sites.customer-pages.pages.homeDetails.components.liveChat.LiveChatWidgetStore",color:{server:87,client:"rgb(42,212,212)"}}),T=(0,r.createStoreFactory)({listenables:[s.default],init:function(e){var t=this,n=e.listingId,a=e.phoneNumber,r=e.isStickyFooter,o=e.inquirySource,s=e.businessMarketId,d=e.suggestedMessages,f=e.propertyId,m=e.detailsPageContext,h=e.suppressChatPrompt,_=e.promptEligibility;this.conversationStore=new p.default({onJoinNewChannel:this.onJoinNewChannel.bind(this),onNewMessage:this.onNewMessage.bind(this),onTypingStarted:this.onTypingStarted.bind(this),onUserIsTyping:this.onUserIsTyping.bind(this)}),this.liveChatContactInfoStore=new l.default({inquirySource:o}),this.localStorage=new v.default;var y=(0,i.default)("liveChatDialog","unpadded","no-header");if(this.updateSuggestedMessages(d),this.setState({showChatInterface:!1,shouldShowCollapsedConversation:!1,getConversationStore:function(){return t.conversationStore},getContactInfoStore:function(){return t.liveChatContactInfoStore},listingId:n,propertyId:f,businessMarketId:s,phoneNumber:a,isStickyFooter:r,isFloatingWidget:!r,inquirySource:o,haveShownContactForm:!1,focusedTextFields:0,dialogClasses:y,buttonLabelText:this.generateButtonLabelText(!1),hideSuggestedMessagesMobile:!1,detailsPageContext:m,isExistingChat:!1,suppressChatPrompt:h,promptEligibility:_,hasUserEndedChat:!1,showEndChatDialog:!1,showRateAndReviewChatDialog:!1,selectedStarNum:0,fieldData:{value:""},hasSupportAgentOwnedChat:!1,supportAgentOwnerName:""}),g.default.setMessageCountCallbacks(function(){return t.conversationStore.state.existingMessages.filter(function(e){return e.isOutbound}).length},function(){return t.conversationStore.state.existingMessages.filter(function(e){return!e.isOutbound&&!e.isSpecialMessage}).length}),g.default.setAgentsOnlineCallback(function(){return t.state.agentsOnline}),"undefined"!=typeof window&&(window.addEventListener("resize",function(){t.state.showChatInterface&&t.trigger(t.state)}),this.newMessageAutoresponseTimeoutIDs=[]),this.setState({totalPromptedLdps:(0,c.getTotalLdpCounts)()}),null!=(0,E.default)(u.LIVE_CHAT_PROMPT_COOKIE)){var S=JSON.parse((0,E.default)(u.LIVE_CHAT_PROMPT_COOKIE));this.setState({showPromptBadge:S.showBadge})}else this.setState({showPromptBadge:!1})},toggleChatDialog:function(e){this.state.showChatInterface?this.hideChatInterface():this.showChatInterface(e),this.state.promptUser&&g.default.trackClickWithDefaults(g.default.clicks.FLOATING_BUTTON,{chat_badge:this.state.mostRecentUnreadMessageContent,first_open:this.state.hasShownChatInterface,has_unread_message:!!this.state.mostRecentUnreadMessageContent}),this.setState({showPromptBadge:!1,mostRecentUnreadMessageContent:null})},minimizeChatDialogClick:function(){g.default.trackClickWithDefaults(g.default.clicks.CHAT_DIALOG_MINIMIZE_CLICK),this.toggleChatDialog()},closeChatDialogClick:function(){g.default.trackClickWithDefaults(g.default.clicks.CHAT_DIALOG_CLOSE_CLICK),this.toggleEndChatDialog(!0)},toggleEndChatDialog:function(e){e&&g.default.trackImpressionWithDefaults(g.default.impressions.LIVE_CHAT_END_CHAT_DIALOG),this.setState({showEndChatDialog:e})},closeEndChatDialogClick:function(){g.default.trackClickWithDefaults(g.default.clicks.END_CHAT_DIALOG_CLOSE_CLICK),this.toggleEndChatDialog(!1)},cancelEndChatDialogClick:function(){g.default.trackClickWithDefaults(g.default.clicks.END_CHAT_DIALOG_CANCEL_CLICK),this.toggleEndChatDialog(!1)},endChatEndChatDialogClick:function(){g.default.trackClickWithDefaults(g.default.clicks.END_CHAT_DIALOG_END_CHAT_CLICK);var e=this.fetchEndChatStatus();this.setEndChatStatus(!0),e?(this.toggleEndChatDialog(!1),this.toggleChatDialog()):(this.toggleEndChatDialog(!1),this.toggleRateAndReviewChatDialog(!0))},toggleRateAndReviewChatDialog:function(e){e?g.default.trackImpressionWithDefaults(g.default.impressions.LIVE_CHAT_RATE_REVIEW_CHAT_DIALOG):this.toggleChatDialog(),this.setState({showRateAndReviewChatDialog:e})},closeRateAndReviewChatDialogClick:function(){g.default.trackClickWithDefaults(g.default.clicks.RATE_REVIEW_CHAT_DIALOG_CLOSE_CLICK),this.toggleRateAndReviewChatDialog(!1)},submitRateAndReviewChatDialogClick:function(){g.default.trackClickWithDefaults(g.default.clicks.RATE_REVIEW_CHAT_DIALOG_SUBMIT_CLICK,{star_rating:this.state.selectedStarNum}),this.submitRatingAndReview()},ratingStarClick:function(e){g.default.trackClickWithDefaults(g.default.clicks.RATE_REVIEW_CHAT_DIALOG_STAR_SELECT,{star_rating:e}),this.setState({selectedStarNum:e})},reviewInputChange:function(e){g.default.trackClickWithDefaults(g.default.clicks.RATE_REVIEW_CHAT_DIALOG_MESSAGE_FIELD_KEYPRESS),this.setState({fieldData:{value:e.target.value}})},fetchEndChatStatus:function(){var e=this.localStorage.getItem("RF_USER_ENDED_CHAT");if(e){var t=JSON.parse(e);return t&&t.channelId===this.conversationStore.state.channel.channelId?t:void 0}},setEndChatStatus:function(e){var t={channelId:this.conversationStore.state.channel.channelId,hasUserEndedChat:e};return this.setState({hasUserEndedChat:e}),e&&this.conversationStore.showLiveChatEndRestartMessage(),this.localStorage.setItem("RF_USER_ENDED_CHAT",JSON.stringify(t),36e5)},submitRatingAndReview:function(){var e=this;this.setState({ratingAndReviewSubmissionInFlight:!0}),o.ReactServerAgent.post("/stingray/do/chat/saveCustomerRatingAndReview").type("form").send({channelSid:this.conversationStore.state.channel.channelId,customerRating:this.state.selectedStarNum,customerReview:this.state.fieldData.value}).then(function(t){!t.error&&t.body&&t.body.payload||I.error("Error saving customer rating and review: "+t.error),e.setState({ratingAndReviewSubmissionInFlight:!1}),e.toggleRateAndReviewChatDialog(!1)})},checkSupportAgentOwnerEvent:function(){var e=this;o.ReactServerAgent.get("/stingray/do/chat/checkSupportAgentOwnerEvent",{channelSid:this.conversationStore.state.channel.channelId}).then(function(t){!t.error&&t.body&&t.body.payload?e.setState({hasSupportAgentOwnedChat:t.body.payload.hasSupportAgentOwnedChat,supportAgentOwnerName:t.body.payload.supportAgentOwnerName}):I.error("Error checking for support agent owner event: "+t.error)})},closeFlyout:function(){g.default.trackClickWithDefaults(g.default.clicks.LIVE_CHAT_FLYOUT_BUTTON_CLOSED,{LDP_prompts:this.state.totalPromptedLdps}),this.setState({mostRecentUnreadMessageContent:null,shouldFadeMessageFlyout:!0,showPromptBadge:!1}),(0,u.hidePromptCookieBadge)()},updatePromptEligibility:function(e){this.setState({promptUser:e&&!this.state.suppressChatPrompt,promptOnStickyFooter:e&&!this.state.suppressChatPrompt}),this.state.promptUser&&this.initializePrompt()},textFieldFocus:function(e){this.state.focusedTextFields++,1===this.state.focusedTextFields&&(this.trigger(this.state),e&&(0,u.scrollForTextFieldIfNeeded)(e),this.setState({hideSuggestedMessagesMobile:(0,u.isOnMobileWeb)()&&e.bottomOfConversation}))},textFieldBlur:function(){var e=this;setTimeout(function(){e.state.focusedTextFields--,0===e.state.focusedTextFields&&(e.trigger(e.state),e.setState({hideSuggestedMessagesMobile:!1}))},50)},scrollConversation:function(){var e="liveChatDialog unpadded no-header ".concat((0,u.getConversationScrollPositionClasses)());this.setState({dialogClasses:e})},newLiveChatChimePlayed:function(){this.setState({playNewMessageAlert:!1})},generateButtonLabelText:function(e){return(0,u.isOnMobileWeb)()?"Chat":e?"":"Live Chat"},hideChatInterface:function(){var e=this;this.setUserMinimizedChatDialog(!0);var t=this.state.isFloatingWidget?g.default.clicks.FLOATING_BUTTON_CLOSE:g.default.clicks.STICKY_FOOTER_BUTTON_CLOSE;g.default.trackClickWithDefaults(t,{first_open:!this.state.hasShownChatInterface,has_unread_message:!!this.state.mostRecentUnreadMessageContent}),this.setState({showChatInterface:!1,elongateButton:!0,shortenButton:!1,hideWidget:!1}),this.setIsChatDialogVisible(!1);var n=this.generateButtonLabelText(!1),a=!this.state.agentsOnline&&this.state.isFloatingWidget?200:0;setTimeout(function(){e.setState({buttonLabelText:n})},a)},showChatInterface:function(e){var t=this,n=!1;null!=(0,E.default)(u.LIVE_CHAT_PROMPT_COOKIE)&&(e=u.offMarketChatInquirySources.includes(e)?g_inquirySource.OMDP_LIVE_CHAT_PROMPT:g_inquirySource.LDP_LIVE_CHAT_FLYOUT,n=JSON.parse((0,E.default)(u.LIVE_CHAT_PROMPT_COOKIE)).showBadge,(0,u.hidePromptCookieBadge)());this.setUserMinimizedChatDialog(!1);var a=this.state.isFloatingWidget?g.default.clicks.FLOATING_BUTTON:g.default.clicks.STICKY_FOOTER_BUTTON;g.default.trackClickWithDefaults(a,{chat_badge:n,first_open:!this.state.hasShownChatInterface,has_unread_message:!!this.state.mostRecentUnreadMessageContent}),this.setState({isLoading:!0,inquirySource:e,hasShownChatInterface:!0,shortenButton:!0,elongateButton:!1,buttonLabelText:this.generateButtonLabelText(!0),inEndAndRateChatExperience:!1}),this.fetchInitialChatData().then(function(){g.default.trackImpressionWithDefaults(g.default.impressions.DIALOG,{agents_online:!!t.state.agentsOnline}),t.state.agentsOnline||g.default.trackImpressionWithDefaults(g.default.impressions.getContactInfoForm()),t.setState({isLoading:!1,mostRecentUnreadMessageContent:null,shouldFadeMessageFlyout:!1,showChatInterface:!0,inAutoresponseMode:t.state.agentsOnline&&!t.state.contactInfoFormSubmittedContactInfo,inEndAndRateChatExperience:t.state.agentsOnline,hideWidget:t.state.agentsOnline&&t.state.isStickyFooter}),t.setIsChatDialogVisible(!0),(0,u.scrollToBottomOfConversation)()})},fetchInitialChatData:function(){var e=this;return this._initialChatDataRequest||(this._initialChatDataRequest=o.ReactServerAgent.get("/stingray/do/chat/initialData",{listingId:this.state.listingId,businessMarketId:this.state.businessMarketId,inquirySource:this.state.inquirySource,propertyId:this.state.propertyId}).then(this.handleInitialChatDataResponse).then(function(){e._initialChatDataRequest=null})),this._initialChatDataRequest},handleInitialChatDataResponse:function(e){if(e.error||!e.body||!e.body.payload)return I.error("Error fetching initial chat data: "+e.error),void this.setState({error:!0,errorMessage:"Sorry, there was a problem loading chat."});var t=e.body.payload,n=t.agentsTakingLiveChats,a=t.channelSid,r=t.chatTokenData,o=t.wereAgentsOnlineWhenInquiryWasCreated,i=t.contactInfo,s=t.suggestedMessages;if(this.setState({agentsOnline:n,contactInfoFormSubmittedContactInfo:i,promptUser:this.state.promptEligibility&&this.state.promptEligibility.showPromptForLiveChat&&!this.state.suppressChatPrompt,inEndAndRateChatExperience:!this.state.isLoading&&n}),this.state.promptUser&&this.initializePrompt(),this.setState({preChatMessage:this.getPreChatMessage(n)}),this.conversationStore.setPreChatMessage(this.state.preChatMessage),n||this.liveChatContactInfoStore.showExpandedContactInfoFields(),this.liveChatContactInfoStore.setSubmittedContactInfo(i),this.updateSuggestedMessages(s),a&&r&&!this.conversationStore.isInChannel())return this.setState({isExistingChat:!0}),this.conversationStore.joinExistingConversation({channelId:a,userTokenData:r,isAgent:!1,shouldAddOfflineContactInfoExperimentMessages:!o});a&&n&&!this.state.hasSupportAgentOwnedChat&&!this.state.inAutoresponseMode&&this.checkSupportAgentOwnerEvent()},onJoinNewChannel:function(e,t,n){var a=this;this.liveChatContactInfoStore.setChannelId(e.channelId);var r=window.location&&window.location.pathname,i=_.default.isLoggedIn(),s=y.default.getCurrentUserData(),l=i?s.person.firstName:"";return o.ReactServerAgent.post("/stingray/do/chat/createChannel").type("form").send({channelSid:e.channelId,userId:e.userId,listingId:this.state.listingId,propertyId:this.state.propertyId,inquirySource:this.state.inquirySource,agentsOnlineStatus:this.areAgentsOnline(),contactInfoName:this.state.contactInfoFormSubmittedName,contactInfoEmailOrPhone:this.state.contactInfoFormSubmittedContactInfo,businessMarketId:this.state.businessMarketId,inquiryUrl:r,isPromptedMessage:this.state.promptUser,firstName:l,initialMessageType:t,preChatMessage:n}).then(function(e){e&&e.body&&!e.body.resultCode?(a.state.contactInfoFormSubmittedContactInfo&&a.liveChatContactInfoStore.setSubmittedContactInfo(a.state.contactInfoFormSubmittedContactInfo),a.setState({contactingTeam:!1,joinedNewChannel:!0})):a.handleJoinChannelError(e)}).fail(function(e){a.handleJoinChannelError(e)})},shouldShowFormOnMessageTimeout:function(){return!(!this.state.joinedNewChannel||!this.canShowContactForm())&&(this.setState({contactingTeam:!1}),!0)},areAgentsOnline:function(){return this.state.agentsOnline},canShowContactForm:function(){var e=!this.state.haveShownContactForm;return e&&(this.setState({haveShownContactForm:!0}),(0,u.scrollToBottomOfConversation)()),e},showOfflineContactFormIfNotShown:function(){this.canShowContactForm()&&this.conversationStore.showInitialAgentsOfflineContactForm()},onNewMessage:function(e){var t=this;if(e.isOutbound)e.sentDate?g.default.trackClickWithDefaults(g.default.clicks.MESSAGE_SENT,{message_sid:e.messageId}):g.default.trackClickWithDefaults(g.default.clicks.SEND_MESSAGE);else if(e.isSpecialMessage)switch(e.messageType){case f.SPECIAL_MESSAGE_TYPES.CONTACT_FORM:case f.SPECIAL_MESSAGE_TYPES.AGENTS_OFFLINE_CONTACT_FORM:g.default.trackImpressionWithDefaults(g.default.impressions.getContactInfoForm());break;case f.SPECIAL_MESSAGE_TYPES.AGENTS_OFFLINE_PROMPT_MESSAGE:g.default.trackImpressionWithDefaults(g.default.impressions.getContactInfoPromptMessage());break;case f.SPECIAL_MESSAGE_TYPES.CONTACT_INFO_CONFIRMATION_MESSAGE:g.default.trackImpressionWithDefaults(g.default.impressions.getContactInfoConfirmation());break;case f.SPECIAL_MESSAGE_TYPES.LIVE_CHAT_PROMPT_MESSAGE:g.default.trackImpressionWithDefaults(g.default.impressions.LIVE_CHAT_FLYOUT_MESSAGE);break;case f.SPECIAL_MESSAGE_TYPES.LIVE_CHAT_END_RESTART_MESSAGE:g.default.trackImpressionWithDefaults(g.default.impressions.LIVE_CHAT_END_RESTART_MESSAGE)}else e.riftTarget&&g.default.trackImpressionWithDefaults(g.default.impressions.getAutoResponseMesssageReceived(e.riftTarget),e.riftDetails),g.default.trackImpressionWithDefaults(g.default.impressions.MESSAGE_RECEIVED,{message_sid:e.messageId});if(e.sentDate&&e.isOutbound){if(e.messageType!==f.SPECIAL_MESSAGE_TYPES.LIVE_CHAT_END_RESTART_MESSAGE){var n=this.fetchEndChatStatus();n&&n.hasUserEndedChat&&this.setEndChatStatus(!1)}setTimeout(function(){this.shouldShowFormOnMessageTimeout()&&!this.conversationStore.inboundMessageSinceMessage(e)&&this.conversationStore.showContactFormForUnansweredMessage()}.bind(this),this.getMessageTimeoutDuration()),this.state.inAutoresponseMode&&(this.clearAllAutomaticResponseTimeouts(),this.newMessageAutoresponseTimeoutIDs.push(this.persistentCheckForAutomaticResponse()))}if(this.state.showChatInterface)(0,u.scrollToBottomOfConversation)(),e.renderDelayInMilliSec&&setTimeout(function(){(0,u.scrollToBottomOfConversation)()}.bind(this),e.renderDelayInMilliSec);else if(!e.isOutbound){var a=this.state.promptUser?1e4:3500;clearTimeout(this.state.fadeFlyoutTimeout),this.setState({mostRecentUnreadMessageContent:e.body,shouldFadeMessageFlyout:!1,fadeFlyoutTimeout:setTimeout(function(){t.setState({shouldFadeMessageFlyout:!0})},a)}),e.messageType===f.SPECIAL_MESSAGE_TYPES.LIVE_CHAT_PROMPT_MESSAGE&&g.default.trackImpressionWithDefaults(g.default.impressions.STICKY_FOOTER_BUTTON,{chat_badge:!0})}e.isOutbound||e.messageType===f.SPECIAL_MESSAGE_TYPES.LIVE_CHAT_END_RESTART_MESSAGE||(e.renderDelayInMilliSec?setTimeout(function(){this.playNewMessageAlertIfNeeded()}.bind(this),e.renderDelayInMilliSec):this.playNewMessageAlertIfNeeded(),!this.state.agentsOnline||this.state.hasSupportAgentOwnedChat||this.state.inAutoresponseMode||this.checkSupportAgentOwnerEvent())},onTypingStarted:function(){this.setState({contactingTeam:!1}),(0,u.scrollToBottomOfConversation)()},onUserIsTyping:function(){this.conversationStore.isInChannel()||(0,m.initializeClientForNewUser)()},handleJoinChannelError:function(e){I.error("Live Chat error joining channel",e),this.setState({error:!0})},getMessageTimeoutDuration:function(){return this.state.agentsOnline?S.get(g_dbBackedConfigKeys.LIVE_CHAT_SHOW_CONTACT_FORM_WAIT_PERIOD):0},persistentCheckForAutomaticResponse:function(){return setTimeout(function(){var e=Date.now()-this.conversationStore.state.latestUserTypingTimestamp;e<2e3?this.newMessageAutoresponseTimeoutIDs.push(this.persistentCheckForAutomaticResponse()):e&&this.sendContactInfoRequest()}.bind(this),500)},playNewMessageAlertIfNeeded:function(){this.setState({contactingTeam:!1,playNewMessageAlert:!1})},clearAllAutomaticResponseTimeouts:function(){this.newMessageAutoresponseTimeoutIDs.forEach(function(e){return clearTimeout(e)})},sendContactInfoRequest:function(){var e=this;(0,h.default)("/stingray/do/chat/sendContactInfoRequest",{method:"POST",body:{channelSid:this.conversationStore.state.channel.channelId,phoneNumber:this.state.phoneNumber},headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(t){var n=t.body;n&&n.payload&&n.payload.canExitAutoresponseMode&&(e.clearAllAutomaticResponseTimeouts(),e.setState({inAutoresponseMode:!1}))})},suggestedMessageClick:function(e,t){this.conversationStore.state.formName===t&&(g.default.trackClickWithDefaults(g.default.clicks.getSuggestedMessageClick(e)),this.conversationStore.submitSuggestedMessage(e))},updateSuggestedMessages:function(e){this.conversationStore&&this.conversationStore.setSuggestedMessages(e),this.setState({suggestedMessages:e})},setUserMinimizedChatDialog:function(e){localStorage.setItem(d.USER_MINIMIZED_LIVE_CHAT_STORAGE_KEY,e)},setIsChatDialogVisible:function(e){localStorage.setItem(d.LIVE_CHAT_DIALOG_VISIBLE_STORAGE_KEY,e)},expandedContactInfoMessageSubmitted:function(e,t,n){this.liveChatContactInfoStore.state.formName===n&&(this.setState({contactInfoFormSubmittedName:t.name,contactInfoFormSubmittedContactInfo:t.contactInfo}),this.conversationStore.submitContactFormQuestion(e))},getPreChatMessage:function(e){if(!e)return"Our team is currently offline.\n\nLeave us a message and we'll get back to you by 10AM.";var t;null!=(0,E.default)(u.LIVE_CHAT_PROMPT_COOKIE)&&(t=JSON.parse((0,E.default)(u.LIVE_CHAT_PROMPT_COOKIE)).showPromptedInitialMessage);if(t){var n=_.default.isLoggedIn(),a=y.default.getCurrentUserData(),r=n?a.person.firstName:"";return(0,u.getLiveChatPromptMessage)(r,this.state.inquirySource)}return"How can we help you?"},initializePrompt:function(){if(!this.state.isPromptInitialized){var e=_.default.isLoggedIn(),t=y.default.getCurrentUserData(),n=e?t.person.firstName:"";this.conversationStore.showLiveChatPromptMessage((0,u.getLiveChatPromptMessage)(n,this.state.inquirySource)),(0,u.createPromptCookie)(),(0,c.updateTotalPromptCount)(this.state.inquirySource),this.setState({totalPromptedLdps:(0,c.getPromptedLDPCount)(),isPromptInitialized:!0}),this.playNewMessageAlertIfNeeded()}}});t.default=T,e.exports=t.default},avYH:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=a(n("lSNA")),o=a(n("mXGw")),i=(a(n("17x9")),a(n("Xecl"))),s=a(n("AGmm")),l=n("eQq5");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){var t=e.otherCosts,n=e.onBlur,a=e.onShowDefinitionFlyout;return o.default.createElement("div",{className:"OtherSellingCostsInput"},o.default.createElement(i.default,{testName:"mc-otherCosts",definitionProps:c(c({},l.formDefinitions.otherCosts),{},{onShowDefinitionFlyout:a}),value:s.default.formatToPrecision(t),label:"Other Selling Costs",type:"currency",alwaysShowInput:!0,onBlur:n,onKeyDown:s.default.onKeyDown,notifyStoreOnChange:!1}))}d.propTypes={},d.displayName="OtherSellingCostsInput",e.exports=t.default},bDK4:function(e,t,n){},bGwx:function(e,t,n){},bJVg:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("7W2i")),s=a(n("a1gu")),l=a(n("Nsbk")),u=a(n("mXGw")),c=n("TRKi"),d=a(n("8Jek")),f=a(n("amIY")),p=a(n("TrIJ")),m=n("AXGM"),h=n("GoxZ"),g=n("Q+Iq"),_=a(n("6YqF")),v=n("4KIY"),y=a(n("72T9")),E=a(n("nar/"));function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var I=function(e){(0,i.default)(n,e);var t=S(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).state={},a}return(0,o.default)(n,[{key:"UNSAFE_componentWillMount",value:function(){this.startup()}},{key:"componentDidMount",value:function(){this.startup()}},{key:"componentDidUpdate",value:function(){this.startup()}},{key:"startup",value:function(){var e,t=this.props.contactBoxInfo,n=this.state.liveChatWidgetStore||(0,m.shouldRenderLiveChatWidget)(t)||this.props.isOnMobileNonDPPage;if(t&&(e=(t.refundMessagingData||t.experienceData&&(0,g.doObjectGraph)()(t.experienceData.refundMessagingData)||{}).phoneNumber),n&&!this.state.liveChatWidgetStore){var a=(t||{}).detailsPageContext;this.setState({liveChatWidgetStore:new f.default({detailsPageContext:a,listingId:this.props.listingId,phoneNumber:e,isStickyFooter:this.props.isStickyFooter,inquirySource:this.getInquirySource(),propertyId:this.props.propertyId,suppressChatPrompt:!1,promptEligibility:this.props.promptEligibility})})}else n&&this.state.liveChatWidgetStore&&this.props.promptEligibility&&this.props.promptEligibility.showPromptForLiveChat&&(0,v.updatePromptEligibility)(this.props.promptEligibility.showPromptForLiveChat);if(null!=(0,y.default)(h.LIVE_CHAT_PROMPT_COOKIE)&&null!=this.state.liveChatWidgetStore){var r=JSON.parse((0,y.default)(h.LIVE_CHAT_PROMPT_COOKIE));this.state.liveChatWidgetStore.setState({showPromptBadge:r.showBadge})}}},{key:"getInquirySource",value:function(){return this.props.isListviewMB?g_inquirySource.LISTVIEW_MEDIA_BROWSER_LIVE_CHAT_ICON:(this.props.contactBoxInfo||{}).detailsPageContext===E.default.id?g_inquirySource.DP_LIVE_CHAT_ICON_ON_MAP:this.props.liveChatInquirySrc?this.props.liveChatInquirySrc:g_inquirySource.DP_LIVE_CHAT_ICON}},{key:"fireRiftEvents",value:function(){var e=this.props.isStickyFooter?_.default.impressions.STICKY_FOOTER_BUTTON:_.default.impressions.FLOATING_BUTTON;_.default.trackImpressionWithDefaults(e,{chat_badge:this.state.liveChatWidgetStore.state&&this.state.liveChatWidgetStore.state.showPromptBadge})}},{key:"render",value:function(){if(this.props.isOnMobileNonDPPage&&!this.props.showLiveChat)return null;if(!this.state.liveChatWidgetStore)return null;var e=this.props.isStickyFooter,t=(0,d.default)({floating:!e,stickyFooter:e});this.fireRiftEvents();var n=u.default.createElement(p.default,{buttonClassNames:t,buttonInquirySource:this.getInquirySource()});return(0,c.createRootElement)(this.state.liveChatWidgetStore,n)}}],[{key:"displayName",get:function(){return"LiveChatHomeDetailsWrapper"}},{key:"getComponentDependencies",value:function(){return{dependencies:["contactBoxInfo","datePickerInfo","promptEligibility"]}}}]),n}(u.default.Component);t.default=I,e.exports=t.default},bR9U:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getSourceLogoNode=t.getPrice=t.getMonthName=t.getEventDescription=void 0;var r=a(n("mXGw")),o=n("+xFC"),i=a(n("/A6f")),s=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.getPrice=function(e){var t="—",n=e.priceDisplayLevel;if(n)if(t="*",3===n)t="**";else if(1===n||2===n){var a=(0,o.formatPrice)(e.price);a&&(t=a)}return t};t.getEventDescription=function(e){var t=e.eventDescription,n=e.mlsDescription;return n&&n!==t&&(t+=" ("+e.mlsDescription+")"),t};t.getSourceLogoNode=function(e){var t=g_imageServerUrl+"/images/logos/";if(e&&e.dataSourceDisplay&&e.dataSourceDisplay.dataSourceImage){var n=e.dataSourceDisplay,a=n.dataSourceDescription?"Listing provided courtesy of "+n.dataSourceDescription:"";return r.default.createElement("div",{className:"source-logo"},r.default.createElement("span",{className:"subtext"},a),r.default.createElement("a",{href:"/about/terms-of-use#"+n.dataSourceName,target:"_top",className:"source-link"},r.default.createElement(i.default,{src:t+n.dataSourceImage,alt:a,title:a,className:"logo"})))}return e&&e.dataSourceDisplay&&e.dataSourceDisplay.dataSourceDescription?r.default.createElement("div",{className:"source-logo"},r.default.createElement("span",{className:"subtext"},"Listing provided courtesy of "+e.dataSourceDisplay.dataSourceDescription)):null};t.getMonthName=function(e){return e?s[e.getMonth()]:"Unknown Month"}},bVXH:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),d=a(n("17x9")),f=a(n("lQoP")),p=a(n("UT8e")),m=a(n("VPw5")),h=a(n("ma35")),g=a(n("8Jek")),_=a(n("XucT"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("oara");var E=/^https?:\/\//i,S=function(e){(0,s.default)(n,e);var t=y(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e))._onPhoneNumberClick=a._trackEnhancedAttributionRift.bind("phone"),a._onEmailLinkClick=a._trackEnhancedAttributionRift.bind("email"),a._onProfileLinkClick=a._trackEnhancedAttributionRift.bind("agent_profile"),a._onContactButtonClick=function(){a._trackEnhancedAttributionRift("contact_button",{listing_id:a.props.listingId}),a.setState({showAskAQuestion:!0})},a.state={showAskAQuestion:!1},a}return(0,i.default)(n,[{key:"_renderAgentContactSection",value:function(){var e=this.props.agentPhoneNumber&&this.props.agentPhoneNumber.phoneNumber?c.default.createElement("a",{href:"tel:"+this.props.agentPhoneNumber.phoneNumber,onClick:this._onPhoneNumberClick},this.props.agentPhoneNumber.phoneNumber):null,t=this.props.agentEmailAddress?c.default.createElement("a",{href:"mailto:"+this.props.agentEmailAddress,onClick:this._onEmailLinkClick},this.props.agentEmailAddress):null,n=this.props.agentInfo.agentUrl?this.props.agentInfo.agentUrl.replace(E,""):null,a=this.props.agentInfo.isExternalAgent?n:"View profile on Redfin",r=this.props.agentInfo.agentUrl?c.default.createElement("a",{href:this.props.agentInfo.agentUrl,target:"_top",onClick:this.onProfileLinkClick},a):null;return c.default.createElement("div",{className:"agent-contact-section"},c.default.createElement("div",{className:"agent-phone-number","data-rf-test-id":"agent-info-item-phone"},e),c.default.createElement("div",{className:"agent-email-address"},t),c.default.createElement("div",{className:"agent-profile-page"},r))}},{key:"_renderAgentContactButton",value:function(){return c.default.createElement("div",{className:"agent-contact-section button-wrapper"},c.default.createElement(h.default,{className:"button tertiary",title:"Contact Agent",onClick:this._onContactButtonClick},"Contact Agent"))}},{key:"_renderAgentPhoto",value:function(){if(this.props.agentInfo&&this.props.agentInfo.agentPhotoUrl)return c.default.createElement(m.default,{"data-rf-test-id":"agent-info-item-photo",agentName:this.props.agentInfo.agentName,profileUrl:this.props.agentInfo.agentUrl,photoUrl:this.props.agentInfo.agentPhotoUrl,isPartner:this.props.agentInfo.isPartnerAgent,isComingSoonListing:this.props.isComingSoonListing})}},{key:"_renderAgentNameSection",value:function(){var e=this.props.license&&this.props.licenseLabel?"".concat(this.props.licenseLabel).concat(this.props.license):"",t=this._renderAgentPhoto(),n=(0,g.default)({"agent-name-section":!0,opendoor:this.props.isOpendoor});return c.default.createElement("div",{className:n},t,c.default.createElement("div",{className:"agent-section-text"},c.default.createElement("div",{className:"partner-agent-label"},"LISTING AGENT"),c.default.createElement("div",{className:"partner-agent-name"},this.props.agentInfo.agentName),c.default.createElement("div",{className:"brokerage"},this.props.brokerName),c.default.createElement("div",{className:"license-label"},e),this.props.isOpendoor&&this.props.deviceConfig===g_deviceConfiguration.PHONE?this._renderAgentContactButton():null))}},{key:"render",value:function(){var e=this.props.isOpendoor?"opendoor":this.props.agentInfo.isExternalAgent?"external":this.props.agentInfo.isPartnerAgent?"partner":null,t=(0,g.default)("AgentEnhancedAttributionInfo",{opendoor:this.props.isOpendoor});return c.default.createElement(p.default,{section:"listing_enhanced_attribution",target:null,eventDetails:{listing_id:this.props.listingId,listing_agent_type:e}},c.default.createElement("div",{className:t},c.default.createElement("h3",{className:"h3"},"Listing Provided By"),c.default.createElement("div",{className:"enhanced-agent-info","data-rf-test-id":"agentInfoItem-enhancedPartnerAgentDisplay"},this._renderAgentNameSection(),this.props.isOpendoor?this.props.deviceConfig===g_deviceConfiguration.PHONE?null:this._renderAgentContactButton():this._renderAgentContactSection(),this.state.showAskAQuestion&&this._renderAskAQuestion())))}},{key:"_renderAskAQuestion",value:function(){var e=this;return c.default.createElement(_.default,{onClose:function(){return e.setState({showAskAQuestion:!1})},isMobile:this.props.deviceConfig===g_deviceConfiguration.PHONE,isInlineForm:!1,inquiryChannel:g_inquiryChannel.ASK_A_QUESTION,inquirySource:g_inquirySource.LDP_AGENT_COMING_SOON_ATTRIBUTION,isOpendoor:!0,listingAgent:this.props,listingId:this.props.listingId})}},{key:"_trackEnhancedAttributionRift",value:function(e){f.default.trackClick("listing_enhanced_attribution",e)}}],[{key:"propTypes",get:function(){return{agentInfo:d.default.shape({agentName:d.default.string,isRedfinAgent:d.default.bool,isPartnerAgent:d.default.bool,isExternalAgent:d.default.bool,agentUrl:d.default.string,agentPhotoUrl:d.default.string}),agentPhoneNumber:d.default.shape({phoneNumber:d.default.string}),agentEmailAddress:d.default.string,brokerName:d.default.string,licenseLabel:d.default.string,license:d.default.string,isComingSoonListing:d.default.bool,isOpendoor:d.default.bool,deviceConfig:d.default.number,listingId:d.default.number}}},{key:"defaultProps",get:function(){return{agentInfo:{},agentPhoneNumber:{},agentEmailAddress:"",brokerName:"",licenseLabel:"",license:"",isComingSoonListing:!0,isOpendoor:!1}}}]),n}(c.Component);t.default=S,e.exports=t.default},bW6B:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n("RBnj").createActions)(["updateIsVideoTour","openAddToExistingTourDialog","listingAddedToTour","scrollToDatePicker"]);t.default=a,e.exports=t.default},blqJ:function(e,t,n){},bo1D:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("zaQZ")).default;t.default=r,e.exports=t.default},bwt2:function(e,t,n){},bxaD:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("7W2i")),s=a(n("a1gu")),l=a(n("Nsbk")),u=a(n("17x9")),c=a(n("mXGw"));function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}n("g2w+");var f=function(e){(0,i.default)(n,e);var t=d(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"render",value:function(){var e=null;return this.props.header&&(e=c.default.createElement("div",{className:"font-weight-bold"},this.props.header)),c.default.createElement("div",{className:"lockedSectionBanner"},c.default.createElement("div",{className:"icon"},this.props.icon),c.default.createElement("div",{className:"message"},e,this.props.body))}}],[{key:"propTypes",get:function(){return{header:u.default.string,icon:u.default.element,body:u.default.element}}}]),n}(c.default.Component);t.default=f,e.exports=t.default},c65I:function(e,t,n){},cHKc:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("QkVN")),o=a(n("LDFp")),i=a(n("pBXq"));o.default.ensure(n("tTYd"));var s=(0,r.default)(new i.default,{name:"UrgencySectionRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{HOT_HOME_LINK:{section:"hot_homes",target:"hot_home_link"},RARE_FIND_PRICE_ELIGIBLE:{section:"rare_find_price_eligible",target:null,expectedParams:["message","location","features","listing_id"]},RARE_FIND_PRICE:{section:"rare_find_price",target:null},RARE_FIND_FEATURE_ELIGIBLE:{section:"rare_find_feature_eligible",target:null,expectedParams:["message","location","features","listing_id"]},RARE_FIND_FEATURE:{section:"rare_find_feature",target:null},RARE_FIND_FEATURE_TITLE:{section:"rare_find_feature",target:"rare_find_title"}},clicks:{TOUR_LINK:{section:"hot_homes",target:"tour_link"},PRICE_DROP_MESSAGE_MORE_TOUR_TIMES_LINK:{section:"price_drop_message",target:"more_times_link"},PRICE_DROP_MESSAGE_TIME_TILE:{section:"price_drop_message",target:"time_tile"},PRICE_DROP_TOUR_LINK:{section:"price_drop_message",target:"tour_link"},POPULAR_MESSAGE_MORE_TOUR_TIMES_LINK:{section:"popular_message",target:"more_times_link"},POPULAR_MESSAGE_TIME_TILE:{section:"popular_message",target:"time_tile"},POPULARITY_TOUR_LINK:{section:"popular_message",target:"tour_link"},POPULARITY_SELF_TOUR_LINK:{section:"popular_message",target:"self_tour_link"},HOT_HOME_DEFINITION:{section:"hot_homes",target:"hot_home_learn_more"},HOT_HOME_MORE_TOUR_TIMES_LINK:{section:"hot_homes",target:"more_times_link"},HOT_HOME_TIME_TILE:{section:"hot_homes",target:"time_tile"},HOT_HOME_SELF_TOUR_LINK:{section:"hot_homes",target:"self_tour_link"},HOT_MARKET_TIME_TILE:{section:"hot_market_banner",target:"time_tile"},HOT_MARKET_MORE_TOUR_TIMES_LINK:{section:"hot_market_banner",target:"more_times_link"},HOT_MARKET_SELF_TOUR_LINK:{section:"hot_market_banner",target:"self_tour_link"},RARE_FIND_MORE_TOUR_TIMES_LINK:{section:"rare_find",target:"more_time_link"},RARE_FIND_PRICE_TIME_TILE:{section:"rare_find",target:"time_tile"},RARE_FIND_FEATURE_TIME_TILE:{section:"rare_find_feature",target:"time_tile"},RARE_FIND_FEATURE_DEFINITION_CLICK:{section:"rare_find_feature",target:"rare_find_title_click"},RARE_FIND_FEATURE_TITLE_LEARN_MORE_CLICK:{section:"rare_find_feature",target:"rare_find_title_learn_more_click"}},trackImpressionWithDefaults:function(e,t,n){return this.trackImpression(e,t,n)},trackClickWithDefaults:function(e,t){return this.trackClick(e,(0,r.default)({trackGA:!0},t))}});t.default=s,e.exports=t.default},cI0r:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lSNA")),o=a(n("94Bj")),i=n("TlVh"),s=n("Q+Iq"),l=a(n("aA+B")),u=a(n("LZBF")),c=a(n("eYhh")),d=a(n("D0QW")),f=a(n("BxHH"));function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var h=(0,i.createStoreFactory)({init:function(e,t){this.propertyId=e,this.listingId=t,this.setState(m(m({actions:this.setupActions()},this._getPayload()),{},{EXPERIMENT_VARIANT:o.default.isOff(c.default)?"CONTROL":o.default.getVariant(c.default)}))},_getPayload:function(){var e=this.propertyId,t=this.listingId,n=(0,s.getEndpoint)("/stingray/api/home/details/listingStatusBannerInfo/v1",{propertyId:e,listingId:t});return{statusColor:n.then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.statusColor;return t}),segments:n.then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.segments;return t}),mlsStatusId:n.then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mlsStatusId;return t}),searchStatusId:n.then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.searchStatusId;return t})}},refetch:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout(function(){return e.setState(m({},e._getPayload()))},t)},setupActions:function(){return{whenListingStatusBannerIsMounted:this.whenListingStatusBannerIsMounted,whenInPageActionCTAIsClicked:this.whenInPageActionCTAIsClicked,whenDefinitionFlyoutTextIsClicked:this.whenDefinitionFlyoutTextIsClicked}},whenListingStatusBannerIsMounted:function(){d.default.trackImpression(d.default.impressions.LISTING_STATUS,{mls_status_id:this.state.mlsStatusId,search_status:this.state.searchStatusId})},whenInPageActionCTAIsClicked:function(e){e===l.default.id?f.default.updateComingSoonListingUpdatesSubscription(!0,null,this.refetch):e===u.default.id&&f.default.updateComingSoonListingUpdatesSubscription(!1,null,this.refetch)},whenDefinitionFlyoutTextIsClicked:function(){d.default.trackClick(d.default.clicks.MLS_STATUS_DISPLAY_CLICK,{mls_status_id:this.state.mlsStatusId,search_status:this.state.searchStatusId})}});t.default=h,e.exports=t.default},cIxY:function(e,t,n){"use strict";function a(e){return"number"!=typeof e?0:e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.homeSalePrice,n=e.outstandingMortgage,r=e.otherCosts,o=e.sellingFee;return a(t)-a(n)-a(r)-a(t)*(a(o)/100)},e.exports=t.default},cJUL:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("RIqP")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("PJYZ")),u=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=a(n("lSNA")),p=a(n("mXGw")),m=a(n("+Zh0")),h=a(n("qqNW")),g=a(n("WZ0X")),_=a(n("TRKi")),v=a(n("8Jek")),y=a(n("EFMV")),E=a(n("luvc")),S=a(n("A3BI")),I=a(n("lcmt")),T=(a(n("17x9")),a(n("lQoP"))),C=a(n("UT8e")),b=a(n("TeY6")),k=a(n("ma35")),R=a(n("8PhC")),O=a(n("Czz3")),N=a(n("hzyT")),A=a(n("jZ07")),P=a(n("McMD")),D=a(n("zU2Z")),w=a(n("VMur")),L=a(n("nbo3")),M=a(n("StVA")),x=a(n("yyJ6")),F=a(n("x3oz")),B=a(n("XaAO")),H=a(n("WxCX")),U=a(n("bW6B")),j=a(n("sppR")),q=a(n("Pime")),W=a(n("x1EQ")),V=a(n("x6JC")),G=a(n("3Clv")),K=a(n("MouV")),Y=a(n("q6eW")),z=a(n("pxp0")),X=a(n("W5nm")),Q=a(n("ZQlj")),J=a(n("zy5r")),Z=a(n("YSua")),$=a(n("FApa")),ee=a(n("94Bj")),te=a(n("lbmd")),ne=n("P94E"),ae=a(n("+4ly"));n("ScUM");var re=a(n("WqrT")),oe=a(n("4UNP"));function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach(function(t){(0,f.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var ue=function(e){(0,u.default)(n,e);var t=le(n);function n(e){var a;(0,i.default)(this,n);var r=(a=t.call(this,e))._getNextAvailableInPersonDay((new Date).getTime()),o="number"==typeof r&&r>0?r:0;return a.state={selectedDay:o,scrollToIndex:0,selectedExistingTour:0,ajaxState:{},hasFiredTourPickerRiftImpression:!1},a.NUM_DAYS_TO_SHOW=14,a._onDaysContainerChange=a._onDaysContainerChange.bind((0,l.default)(a)),a._onAddedToExistingTour=a._onAddedToExistingTour.bind((0,l.default)(a)),a.didSelectDay=a.didSelectDay.bind((0,l.default)(a)),a._closeAddToExistingConfirmationDialog=a._closeAddToExistingConfirmationDialog.bind((0,l.default)(a)),a._showAddToExistingTourDialog=a._showAddToExistingTourDialog.bind((0,l.default)(a)),a._onTourSelectChange=a._onTourSelectChange.bind((0,l.default)(a)),a._scheduleButtonClick=a._scheduleButtonClick.bind((0,l.default)(a)),a._goToTourCheckout=a._goToTourCheckout.bind((0,l.default)(a)),a._redfinDirectButtonClick=a._redfinDirectButtonClick.bind((0,l.default)(a)),a.resetInquirySource=a.resetInquirySource.bind((0,l.default)(a)),a}return(0,s.default)(n,[{key:"UNSAFE_componentWillMount",value:function(){this._store=new B.default({listingId:this.props.listingId,requestingPartnerAgent:this.props.requestingPartnerAgent,agent:this.props.agent,listingAddress:this.props.listingAddress,city:this.props.city,stateCode:this.props.stateCode,timeZone:this.props.timeZone,dataSourceId:this.props.dataSourceId,mlsId:this.props.mlsId,serviceRegionId:this.props.serviceRegionId,addHomesFlyoutHovered:!1,businessMarketId:this.props.businessMarketId,isRedirect:this.props.isRedirect,nextAvailableTourTime:this.props.nextAvailableTourTime,isInPersonTourDisabled:this.props.isInPersonTourDisabled,isFirstTourSubmitted:this.props.isFirstTourSubmitted,isAgentAssignedOrPending:this.props.isAgentAssignedOrPending}),this.setState({ajaxState:this._store.state})}},{key:"componentDidMount",value:function(){this._store.listen(function(e){this.setState({ajaxState:e})}.bind(this)),H.default.scheduleTourFromInquirySource.listen(function(e){this._scheduleButtonClick(e)}.bind(this)),this.props.existingTours&&this.props.existingTours.length>0&&this._trackImpression("add_to_existing_tours",!0);var e=(0,S.default)("shared_search_intros")?"withSharedSearchCookie":"noSharedSearchCookie";b.default.setLastSeenLdp(e),this.state.hasFiredTourPickerRiftImpression||this.handleTourPickerRiftImpression(),O.default.clickSeeBuyingOptions.listen(this._redfinDirectButtonClick),U.default.openAddToExistingTourDialog.listen(this._showAddToExistingTourDialog)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.showDatepickerExperimentSpinner&&!e.showDatepickerExperimentSpinner&&this.setState({shouldRecalcSidebarHeightOnUpdate:!0})}},{key:"componentDidUpdate",value:function(){this.state.hasFiredTourPickerRiftImpression||this.handleTourPickerRiftImpression(),this.state.shouldRecalcSidebarHeightOnUpdate&&(this.setState({shouldRecalcSidebarHeightOnUpdate:!1}),this.props.recalcSidebarHeight())}},{key:"handleTourPickerRiftImpression",value:function(){var e={includes_how_it_works:!!this.props.refund,floating:this.props.float||this.props.floatDTP,trackGA:!0,platform:Y.default.getRiftPlatformParam(),is_partner:this.props.requestingPartnerAgent,redfin_direct:this.props.isInRedfinDirectMarket,listing_id:this.props.listingId},t=this.props.requestingPartnerAgent?"partner_tour_picker":"tour_picker";q.default.trackImpression({section:t,target:null},e,g.default.findDOMNode(this)),this.setState({hasFiredTourPickerRiftImpression:!0})}},{key:"_fireAddHomesImpression",value:function(){this.props.extendableTourIds&&this.props.existingTours&&$.default.trackImpressionWithDefaults($.default.impressions.ADD_HOME_TO_TOUR,{num_completed_tours:this.props.numCompletedTours})}},{key:"_fireFirstTourerMultipleToursExperimentStart",value:function(){ee.default.isOn(oe.default)&&this.props.existingTours&&this.props.extendableTourIds&&this.props.existingTours.length>0&&$.default.trackImpressionWithDefaults($.default.impressions.PENDING_EXTENDABLE_TOURS)}},{key:"render",value:function(){var e=j.default.showExistingToursPicker(this.props.existingTours),t=this.state.ajaxState.requestInFlight&&!e,n=this.props.showDatepickerExperimentSpinner&&e;return t||n?this.renderLoadingPicker():e?this.renderExistingToursPicker():this.renderDefaultPicker()}},{key:"renderLoadingPicker",value:function(){var e=(0,v.default)({grayBookItNowDatePickerAddHomesBlock:this.props.showDatepickerExperimentSpinner}),t=!this.props.showDatepickerExperimentSpinner&&"Loading Tour Information...";return p.default.createElement(J.default,{className:e,scrollId:this.props.scrollId},p.default.createElement("div",{className:"loadingState"},p.default.createElement(P.default,{size:"large",layout:"column",centerPosition:"both",className:"tourBoxLoading",text:t})))}},{key:"_isSelectedDayAvailable",value:function(e){return e.times&&e.times.length>0&&e.availabilityType===g_tourTimeAvailabilityType.NORMAL}},{key:"renderPossiblyUnavailable",value:function(){return p.default.createElement(J.default,{className:this.props.isOpenHouseExperimentVariant?"margin-large":"margin-top-small",scrollId:this.props.scrollId},p.default.createElement(ae.default,{isListingRecentlyMarkedSold:this.props.isListingRecentlyMarkedSold,isListingUnderContract:this.props.isListingUnderContract,isAgentAssignedOrPending:this.props.isAgentAssignedOrPending}),this.renderSubmitButton(!1))}},{key:"renderDefaultPicker",value:function(){if(this.props.isPossiblyUnavailable)return this.renderPossiblyUnavailable();var e=this.renderDaysContainer(this.props.days,this.state.selectedDay),t=this.props.days[this.state.selectedDay],n=this._isSelectedDayAvailable(t),a=this.renderVideoTourSelector(),r=!n&&this.renderUnavailableSection(t),o=this.renderSubmitButton();return p.default.createElement(J.default,null,e,a,p.default.createElement("div",{className:"slidingSection"},r,o))}},{key:"_onDaysContainerChange",value:function(e){var t=e.inView,n=e.direction;this._trackClick("next"===n?"right_arrow":"left_arrow",!1),this.setState({scrollToIndex:Math.min.apply(Math,(0,o.default)(Object.keys(t)))})}},{key:"renderDaysContainer",value:function(e,t){var n=(0,E.default)("screen-size"),a=3;return n<E.default.screenSizes.MEDIUM?a=4:n<E.default.screenSizes.LARGE&&(a=7),p.default.createElement(R.default,{className:"DatePickerCarousel",numSlidesToShow:a,numSlidesToSlide:a,initialIndex:t,scrollToIndex:this.state.scrollToIndex,onChange:this._onDaysContainerChange},this.renderDays(e,t))}},{key:"renderDays",value:function(e,t){for(var n=[],a=0;a<this.NUM_DAYS_TO_SHOW;a++){var o=e[a],i=o.availabilityType===g_tourTimeAvailabilityType.NORMAL,s=a===t,l={key:""+a,index:a,date:o.date,available:i,selected:s,didSelectDay:this.didSelectDay};n.push(p.default.createElement(F.default,(0,r.default)({},l,{requestingPartnerAgent:this.props.requestingPartnerAgent})))}return n}},{key:"renderUnavailableSection",value:function(e){var t=this._getNextAvailableInPersonDay(0===e.times.length?e.date+864e5:e.date),n="number"==typeof t&&t>=0&&this.renderNextAvailableDayLink(t);return p.default.createElement("div",{className:"noButton"},p.default.createElement("div",{className:"warningMessage unavailable font-size-small"},p.default.createElement("div",{className:"message font-weight-bold text-center"},"This home is unavailable to tour on this day."),p.default.createElement("div",{className:"nextTime text-center font-weight-roman"},n)))}},{key:"renderNextAvailableDayLink",value:function(e){var t=this.props.days[e],n=new Date(t.date),a=I.default.format(n,"US/Pacific","dddd, MMMM D");return p.default.createElement("div",{className:"link",onClick:this._goToDate.bind(this,e)},"Next available date: ",a)}},{key:"renderVideoTourSelector",value:function(){if(!this.props.showVideoTourOption)return null;var e=this.state.ajaxState&&this.state.ajaxState.isVideoTour;return p.default.createElement(Q.default,{value:e&&e.toString(),onChange:U.default.updateIsVideoTour,showIcons:!0,isInPersonTourDisabled:this.props.isInPersonTourDisabled,inPersonButtonText:this.props.isOpenHouseExperimentVariant?"In Person":void 0,videoButtonText:this.props.isOpenHouseExperimentVariant?"Video Chat":void 0})}},{key:"renderSubmitButton",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.props.isInRedfinDirectMarket&&this._renderRedfinDirectButton(),n=this.props.days[this.state.selectedDay],a=this._isSelectedDayAvailable(n);return p.default.createElement("div",{className:"submitSection"},a&&this.renderScheduleTourSection(e),t)}},{key:"renderScheduleTourButton",value:function(){var e={className:"primary",children:"Schedule tour",onClick:this._scheduleButtonClick,disabled:this.state.ajaxState.requestInFlight,rfTestId:"schedule_tour_button",nextAvailableTourTime:this.props.nextAvailableTourTime,timeZone:this.props.timeZone,isRequestingPartnerAgent:this.props.requestingPartnerAgent,shouldShowNextAvailableTourMessage:!1,isPossiblyUnavailable:this.props.isPossiblyUnavailable,isEligibleBinSetExpectations:this.props.isEligibleBinSetExpectations};return p.default.createElement(X.default,e)}},{key:"renderScheduleTourSection",value:function(e){var t=ee.default.isOn(te.default)&&45===this.props.dataSourceId,n=this.props.requestingPartnerAgent?"Tour this home with a Redfin Partner Agent.\n":"Tour this home with a Redfin Agent.\n",a=this.props.isInFirstTourerMultipleToursExperimentVariant&&this.props.existingTours&&this.props.existingTours.length>=1&&this.props.extendableTourIds&&0===this.props.extendableTourIds.length,r=a?this.renderCannotExtendTourFlyout("Why can't I extend my existing tour?"):"It's free, with no obligation — cancel anytime.",o=e||!e&&a;return p.default.createElement(p.default.Fragment,null,p.default.createElement("div",{className:"tourButtonContainer"},this.renderTourHomeFlyout(),this.renderScheduleTourButton(),p.default.createElement(ne.COPFlyout,{flyoutName:ne.XDP_TOUR_BUTTON,alignment:"center",position:"below",successActions:[H.default.setRequestInFlight,H.default.redirectForPartnerTour,H.default.redirectToScheduler]})),o&&p.default.createElement("div",{className:"submitNote font-size-smaller font-weight-roman"},t&&n,r))}},{key:"renderExistingToursPicker",value:function(){var e=null;if(this.props.extendableTourIds){if(this._fireFirstTourerMultipleToursExperimentStart(),!this.props.extendableTourIds.length)return this.renderDefaultPicker();this._fireAddHomesImpression();var t=j.default.getExistingToursForAddingHome(this.props,this.props.extendableTourIds);e=this.renderExistingTours(t,!this.props.isInFirstTourerMultipleToursExperimentVariant)}else e=this.renderExistingTours(this.props.existingTours,!1);var n=this.state.ajaxState.requestInFlight,a=this.state.ajaxState.showAddToExistingConfirmationDialog,r=e&&a&&this.renderAddToExistingConfirmationDialog(n);return p.default.createElement(J.default,{className:(0,v.default)("existingTours",{"padding-horiz-large":this.props.isOpenHouseExperimentVariant}),scrollId:this.props.scrollId},e,r)}},{key:"renderExistingTours",value:function(e,t){var n,a=this.renderExistingToursBody(this.props.isInFirstTourerMultipleToursExperimentVariant?this.props.existingTours:e,this.props.timeZone),r=!(1===(this.props.isInFirstTourerMultipleToursExperimentVariant?this.props.existingTours.length:e.length))&&this.renderExistingToursSelect(this.props.isInFirstTourerMultipleToursExperimentVariant?this.props.existingTours:e,this.props.timeZone,this._onTourSelectChange),o=t&&e.length!==this.props.existingTours.length&&this.renderIconAndFlyoutForExtendableTours(),i={className:this.props.isPossiblyUnavailable?"tertiary":"secondary v3 red",children:this.props.isPossiblyUnavailable?"Add Home to Tour Anyway":"Yes, Add This Home",onClick:this._showAddToExistingTourDialog,disabled:this.state.ajaxState.requestInFlight},s=p.default.createElement(k.default,i);(n=this.props.isInFirstTourerMultipleToursExperimentVariant?e.length>0:!this.props.firstTimeTourerWithUnconfirmedTour)&&ee.default.isOn(oe.default)&&$.default.trackImpressionWithDefaults($.default.impressions.REQUEST_DIFFERENT_TOUR,{num_completed_tours:this.props.numCompletedTours});var l=n&&p.default.createElement("a",{className:"clickable pickDifferentDay",onClick:this._goToTourCheckout},"No, I'd like a different time");return p.default.createElement("div",{className:"existingToursBody"},this.props.isPossiblyUnavailable&&p.default.createElement(ae.default,{isListingRecentlyMarkedSold:this.props.isListingRecentlyMarkedSold,isListingUnderContract:this.props.isListingUnderContract,isAgentAssignedOrPending:this.props.isAgentAssignedOrPending}),a,o,r,s,l)}},{key:"getFlyoutElement",value:function(){var e="Tours not shown can't be extended because the scheduled agent has conflicting appointments.";return(0,E.default)("screen-size")<E.default.screenSizes.MEDIUM?this.state.ajaxState.addHomesFlyoutHovered?p.default.createElement(N.default,{showCloseButton:!0,close:function(){return H.default.toggleAddHomesFlyout(!1)}},e):null:p.default.createElement(w.default,{show:this.state.ajaxState.addHomesFlyoutHovered,onBlur:function(){return H.default.toggleAddHomesFlyout(!1)},alignment:"center",position:"above",animateOnAppear:!0,className:"extendableTourWarningFlyout"},e)}},{key:"renderIconAndFlyoutForExtendableTours",value:function(){return p.default.createElement("div",{className:"extendableTourWarning"},"Not all tours can be extended",p.default.createElement("div",{className:"extendableIconArea",onClick:function(){return H.default.toggleAddHomesFlyout(!0)}},p.default.createElement(D.default,{className:"extendableTourWarningIcon fill-subtext size-tiny"}),this.getFlyoutElement()))}},{key:"renderExistingToursBody",value:function(e,t){if(!e)return null;if(this.props.isInFirstTourerMultipleToursExperimentVariant&&e.length!==this.props.extendableTourIds.length&&e.length>1&&this.props.extendableTourIds.length>=1)return p.default.createElement("div",{className:"body"},this.renderCannotExtendTourFlyout("Would you like to add this home to one of your existing tours?"));if(1===e.length){var n=e[0],a=I.default.format(n.tourStartTime,t,"ddd, MM/D"),r=I.default.format(new Date(n.tourStartTime),t,"h:mm A"),o=p.default.createElement("div",{className:"tourDateTime"},p.default.createElement("b",null,a," at ",r));return p.default.createElement("div",{className:"body"},"Would you like to add this home to your existing tour?",o)}return p.default.createElement("div",{className:"body"},"Would you like to add this home to one of your existing tours?")}},{key:"renderCannotExtendTourFlyout",value:function(e){var t={className:"cannotExtendTourFlyout",position:"above",alignment:"center",definition:"Some tours can't be extended because either the agent is unavailable, the tour is in a different market, or the tour is too soon.",underline:!1,onClickDefinitionLink:function(){return H.default.toggleAddHomesFlyout(!0)}};return p.default.createElement("div",null,e,p.default.createElement(re.default,(0,r.default)({},t,{infoIcon:!0})))}},{key:"renderExistingToursSelect",value:function(e,t,n){var a=this,r=[];return this.props.existingTours&&this.props.extendableTourIds&&this.props.existingTours.length!==this.props.extendableTourIds.length&&(e=[].concat((0,o.default)(e.filter(function(e){return a.props.extendableTourIds.includes(e.tourId)})),(0,o.default)(e.filter(function(e){return!a.props.extendableTourIds.includes(e.tourId)})))),e.forEach(function(e,n){var a=I.default.format(e.tourStartTime,t,"ddd, MM/D"),o=I.default.format(new Date(e.tourStartTime),t,"h:mm A"),i={label:a+" at "+o,value:n+1};this.props.extendableTourIds&&!this.props.extendableTourIds.includes(e.tourId)&&(i={label:a+" at "+o+" (cannot be extended)",value:n+1,disabled:!0}),r.push(i)},this),p.default.createElement(A.default,{options:r,value:r[this.state.selectedExistingTour].value,onChange:n})}},{key:"renderAddToExistingConfirmationDialog",value:function(e){if(e)return p.default.createElement(N.default,{className:"datepickerDialog",close:this._closeAddToExistingConfirmationDialog,showCloseButton:!1,closeOnBackgroundClick:!1},p.default.createElement("div",{className:"datepickerDialogBody"},p.default.createElement("div",{className:"loadingState"},p.default.createElement(P.default,{size:"large",layout:"column",centerPosition:"both",className:"tourBoxLoading",text:"Adding..."}))));var t=j.default.getExistingToursForAddingHome(this.props,this.props.extendableTourIds),n=t[this.state.selectedExistingTour]||t[0],a=(0,K.default)({existingTour:n,onClose:this._closeAddToExistingConfirmationDialog,onSuccess:this._onAddedToExistingTour,timeZone:this.props.timeZone,addressString:this.props.listingAddress,listingIds:[this.props.listingId],fromLDP:!0,tourItemSource:M.default.LDP.id});return _.default.createRootElement(a,p.default.createElement(G.default,a.state))}},{key:"_onAddedToExistingTour",value:function(){this.setState({ajaxState:se(se({},this.state.ajaxState),{},{listingAddedToExistingTour:!0,showAddToExistingConfirmationDialog:!1})}),U.default.listingAddedToTour(this.props.listingId)}},{key:"renderTourHomeFlyout",value:function(){if((0,E.default)("screen-size")<E.default.screenSizes.MEDIUM)return null;var e={tourHomeMomentInfoStore:this.props.tourHomeMomentInfoStore,flyoutTitle:"",position:"left",alignment:"center",animateOnAppear:!0,includeScheduleTourLink:!1,inquirySource:g_inquirySource.HOT_HOMES_TOUR_PROMPT};return p.default.createElement(W.default,e)}},{key:"didSelectDay",value:function(e){this.setState({selectedDay:e})}},{key:"_closeAddToExistingConfirmationDialog",value:function(){this.setState({ajaxState:se(se({},this.state.ajaxState),{},{showAddToExistingConfirmationDialog:!1})})}},{key:"_showAddToExistingTourDialog",value:function(){this.props.isPossiblyUnavailable&&Z.default.trackClick(Z.default.clicks.ADD_TO_TOUR_ANYWAY,{listingId:this.props.listingId,underContractType:Z.default.getUnderContractType(this.props)}),$.default.trackClickWithDefaults($.default.clicks.ADD_HOME_TO_TOUR,{num_completed_tours:this.props.numCompletedTours}),this.setState({ajaxState:se(se({},this.state.ajaxState),{},{showAddToExistingConfirmationDialog:!0})})}},{key:"_onTourSelectChange",value:function(e){this.setState({selectedExistingTour:e.value-1})}},{key:"_scheduleButtonClick",value:function(e){this.props.inquirySource===g_inquirySource.LDP_POST_AAQ_TOUR_PROMPT&&H.default.setRequestInFlight();var t=this.props.days[this.state.selectedDay],n=t&&t.date;this._doScheduleButtonAction(n,!1,this.state.promptInquirySource||this.props.inquirySource||e)}},{key:"_doScheduleButtonAction",value:function(e,t,n){this.props.requestingPartnerAgent&&!t?this._doPartnerScheduleButtonAction():this._doRedfinScheduleButtonAction(e,n)}},{key:"_doPartnerScheduleButtonAction",value:function(){var e={listing_id:this.props.listingId,is_partner:!0,tour_type:"in_person",redfin_direct:this.props.isInRedfinDirectMarket};e[T.default.CLICK_RESULT]=T.default.clickResults.SUCCESS;var t=V.default.getRiftParams(this.props.sideBarStore);(e=(0,y.default)(e,{$merge:t}))[T.default.GA_LABEL]=null!=e[T.default.GA_LABEL]?(0,y.default)(e[T.default.GA_LABEL],{$merge:{is_partner:!0}}):{is_partner:!0},this.state.ajaxState&&this.state.ajaxState.isVideoTour&&(e.tour_type="video_tour"),this._trackClick("tour_button",!0,e);var n={dateTime:this.props.days[this.state.selectedDay].date,agent:this.props.agent,listingId:this.props.listingId};H.default.redirectForPartnerTour(n)}},{key:"_doRedfinScheduleButtonAction",value:function(e,t,n){(this.props.isListingUnderContract||this.props.isListingRecentlyMarkedSold)&&Z.default.trackClick(Z.default.clicks.REQUEST_TOUR_ANYWAY,{listingId:this.props.listingId,underContractType:Z.default.getUnderContractType(this.props)});var a={listing_id:this.props.listingId,is_partner:!1,redfin_direct:this.props.isInRedfinDirectMarket};a[T.default.CLICK_RESULT]=T.default.clickResults.SUCCESS;var r=V.default.getRiftParams(this.props.sideBarStore);(a=(0,y.default)(a,{$merge:r})).floating=this.props.float||this.props.floatDTP,a.business_market_id=this.props.businessMarketId,a[T.default.GA_LABEL]=null!=a[T.default.GA_LABEL]?(0,y.default)(a[T.default.GA_LABEL],{$merge:{is_partner:!1}}):{is_partner:!1},n&&(a.is_amp=!0);var o=this.props.sideBarStore.noCBExperimentParams||{};(a=(0,y.default)(a,{$merge:o})).tour_type="in_person",this.state.ajaxState&&this.state.ajaxState.isVideoTour&&(a.tour_type="video_tour");var i=this._trackClick("tour_button",!0,a),s=this.state.ajaxState;s.listingId=this.props.listingId,s.day=e,this.setState({ajaxState:s}),isNaN(t)&&n?t=m.default.id:isNaN(t)&&(t=h.default.id),H.default.redirectToScheduler({inquirySource:t,riftContext:i})}},{key:"_getNextAvailableInPersonDay",value:function(e){for(var t=0;t<this.props.days.length;t++){var n=this.props.days[t],a=new Date(n.date);if(a.setHours(23),n&&a.getTime()>=e&&1===n.availabilityType)if(n.times.filter(function(e){return 1===e.availabilityType}).length>0)return t}return null}},{key:"_scrollToDate",value:function(e){"number"==typeof e&&e>0&&this.setState({scrollToIndex:e})}},{key:"_goToDate",value:function(e){"number"==typeof e&&e>0&&(this._scrollToDate(e),this.didSelectDay(e))}},{key:"_goToTourCheckout",value:function(){var e=this._trackClick("choose_different_time",!0,{numCompletedTours:this.props.numCompletedTours});this.setState({ajaxState:se(se({},this.state.ajaxState),{},{listingId:this.props.listingId})}),H.default.redirectToScheduler({inquirySource:g_inquirySource.LDP_DATEPICKER,riftContext:e})}},{key:"_trackClick",value:function(e,t,n){return(n=n||{})[T.default.TRACKGA]=t,n.platform=Y.default.getRiftPlatformParam(),n.device_category=z.default.getDeviceType(),this.props.requestingPartnerAgent?T.default.trackClick("partner_tour_picker",e,n):T.default.trackClick("tour_picker",e,n)}},{key:"_trackImpression",value:function(e,t,n){(n=n||{})[T.default.TRACKGA]=t,n.platform=Y.default.getRiftPlatformParam(),n.device_category=z.default.getDeviceType(),this.props.requestingPartnerAgent?T.default.trackImpression("partner_tour_picker",e,n):T.default.trackImpression("tour_picker",e,n)}},{key:"_renderRedfinDirectButton",value:function(){var e=this,t={onClick:function(){return e._redfinDirectButtonClick()},rfTestId:"offer"},n=(0,f.default)({listing_id:this.props.listingId,redfin_direct:!0},T.default.TRACKGA,!0),a=p.default.createElement(p.default.Fragment,null,p.default.createElement(x.default,null),p.default.createElement("div",{className:"RedfinDirectButtonAndMessaging"},p.default.createElement(k.default,(0,r.default)({className:"tertiary"},t),"See buying options"),p.default.createElement("p",{className:"buyingOptions"},"You can buy this home ",p.default.createElement("span",{className:"font-weight-bold"},"with or without an agent"),".")));return p.default.createElement(C.default,{section:"contact_box",eventDetails:n,target:"start_an_offer"},a)}},{key:"_redfinDirectButtonClick",value:function(e,t){T.default.trackClick(e||"contact_box","start_an_offer",(0,f.default)({listing_id:this.props.listingId,redfin_direct:!0},T.default.TRACKGA,!0)),L.default.flushRiftEvents(),window.location="/buy-a-home/two-ways?listingId=".concat(this.props.listingId,"&inquirySource=").concat(t||g_inquirySource.LDP_CONTACT_BOX_OFFER_WIZARD)}},{key:"resetInquirySource",value:function(){this.setState({promptInquirySource:void 0})}}]),n}(p.default.Component);(0,f.default)(ue,"displayName","redfin.tours.DatePicker"),(0,f.default)(ue,"defaultProps",{timeZone:"US/Pacific",requestingPartnerAgent:!1,hasCompletedTourForListing:!1,isListingRecentlyMarkedSold:!1,isListingUnderContract:!1,isPossiblyUnavailable:!1,isInFirstTourerMultipleToursExperimentVariant:!1,isEligibleBinSetExpectations:!1}),ue.propTypes={};var ce=ue;t.default=ce,e.exports=t.default},cMoY:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("PJYZ")),u=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),p=a(n("17x9")),m=a(n("nbo3")),h=a(n("DyY8")),g=a(n("UT8e")),_=n("gZHp"),v=a(n("fCB2")),y=n("DyRb"),E=a(n("ojJ9")),S=a(n("LI1s")),I=a(n("BCZJ")),T=a(n("qfM1")),C=a(n("xhKD")),b=a(n("TTqj")),k=a(n("ivAr"));n("RDeN");var R=a(n("xsdy"));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var A=function(e){(0,u.default)(n,e);var t=N(n);function n(e){var a;return(0,i.default)(this,n),(a=t.call(this,e)).state={scrollPosition:0},a.handleOnLeftNav=a.handleOnLeftNav.bind((0,l.default)(a)),a.handleOnRightNav=a.handleOnRightNav.bind((0,l.default)(a)),a}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.fireDisplayEvents()}},{key:"generateRiftParams",value:function(e){var t={is_partner:this.props.isPartnerAgent},n={};return(e=e||this.props.agentRequestAgent)&&(t.agent_id=e.getId(),t.star_rating=e.getAverageRating(),t.num_reviews=e.getNumReviews(),t.includes_refund=this.props.refundDisplayed||this.props.partnerRefundDisplayed,t.num_closed_deals=e.getHomesClosed()),this.props.actionType===g_contactBoxActionType.LIVE_CHAT&&(t.text="live_chat",n.text="live_chat"),t[h.default.TRACKGA]=!0,t[h.default.GA_LABEL]=n,t}},{key:"renderSubcomponents",value:function(){return this.props.components.map(function(e,t){var a=null;(e=e||{}).agent=e.agent||this.props.agentRequestAgent,e.isDisplayed=this.props.isDisplayed,e.key=t;var r=!1;switch(e.type){case g_contactBoxComponentType.BUTTON:a=this.props.isPartnerAgent&&R.default.shouldShowPartnerStartAnOffer(this.props.contactBoxInfo)?f.default.createElement(k.default,{liveChatWidgetAction:this.props.LiveChatWidgetAction,contactBoxInfo:this.props.contactBoxInfo,showAAQDialogCallback:this.props.showAAQDialogCallback,riftParams:{},agent:e.agent,listingId:e.listingId,showPartnerStartAnOffer:!0}):f.default.createElement(T.default,(0,o.default)({},e,{isPrimaryCta:this.props.isPrimaryCta,isAgentRequestAssignedOrPending:this.isAgentRequestAssignedOrPending(),sideBarStore:this.props.sideBarStore,TourPopup:this.props.TourPopup,showSellerConsultDialogCallback:this.props.showSellerConsultDialogCallback,showAAQDialogCallback:this.props.showAAQDialogCallback,canCominglePartnerAgents:this.props.canCominglePartnerAgents,generalInquiryActions:this.props.generalInquiryActions,generalInquiryDialog:this.props.generalInquiryDialog,liveChatWidgetAction:this.props.liveChatWidgetAction,averageResponseTime:this.props.agentAVGResponseMinutes}));break;case g_contactBoxComponentType.HTML:r=e.classes&&e.classes.indexOf("agentImage")>-1&&(this.props.deviceConfig===g_deviceConfiguration.PHONE||!e.isDisplayed),a=f.default.createElement(v.default,(0,o.default)({},e,{riftParams:this.generateRiftParams(e.agent),sideBarStore:this.props.sideBarStore,lazy:r}));break;case g_contactBoxComponentType.CARD:r=this.props.deviceConfig===g_deviceConfiguration.PHONE||!e.isDisplayed,a=f.default.createElement(C.default,(0,o.default)({},e,{canCominglePartnerAgents:this.props.canCominglePartnerAgents,lazy:r}));break;case g_contactBoxComponentType.NAVIGATION:a=f.default.createElement(S.default,(0,o.default)({position:this.state.scrollPosition,onLeftNav:this.handleOnLeftNav,onRightNav:this.handleOnRightNav,riftParams:this.generateRiftParams(e.agent)},e));break;case g_contactBoxComponentType.AGENT_CHOICE_HEADER:r=this.props.deviceConfig===g_deviceConfiguration.PHONE||!e.isDisplayed,a=f.default.createElement(b.default,(0,o.default)({},e,{lazy:r}));break;case g_contactBoxComponentType.MULTI_WINDOW:a=f.default.createElement(I.default,(0,o.default)({position:this.state.scrollPosition,sideBarStore:this.props.sideBarStore,ContactBox:n,showSellerConsultDialogCallback:this.props.showSellerConsultDialogCallback,showAAQDialogCallback:this.props.showAAQDialogCallback,TourPopup:this.props.TourPopup},e,{isPrimaryCta:this.props.isPrimaryCta,generalInquiryActions:this.props.generalInquiryActions,generalInquiryDialog:this.props.generalInquiryDialog,liveChatWidgetAction:this.props.liveChatWidgetAction,deviceConfig:this.props.deviceConfig,contactBoxInfo:this.props.contactBoxInfo,isPartnerAgent:this.props.isPartnerAgent}));break;case g_contactBoxComponentType.TABBED_NAVIGATION:a=f.default.createElement(E.default,(0,o.default)({position:this.state.scrollPosition,goToIndex:this.goToIndex},e));break;default:console.log("componentType "+e.type+" is not supported by this type of ContactBox.")}return a}.bind(this))}},{key:"handleOnLeftNav",value:function(){var e=this.state.scrollPosition,t=0===e?this.props.numViews-1:e-1;this.setState({scrollPosition:t})}},{key:"handleOnRightNav",value:function(){var e=this.state.scrollPosition,t=e===this.props.numViews-1?0:e+1;this.setState({scrollPosition:t})}},{key:"goToIndex",value:function(e){this.setState({scrollPosition:e})}},{key:"fireDisplayEvents",value:function(){this.props.agentRequestAgents&&this.props.actionType===g_contactBoxActionType.ASK&&m.default.trackImpression("contact_box_with_gif",null,{trackGA:!0})}},{key:"isAgentRequestAssignedOrPending",value:function(){return this.props.contactBoxInfo&&(this.props.contactBoxInfo.customerAgentStatus===g_customerAgentStatus.AGENT_PENDING||this.props.contactBoxInfo.customerAgentStatus===g_customerAgentStatus.AGENT_ASSIGNED)}},{key:"render",value:function(){if(!this.props.showOnDetailsPage)return null;var e=this.renderSubcomponents(),t={};this.props.isBlocked&&(t["data-rf-test-name"]="cbBlockBox");var n=f.default.createElement("div",(0,o.default)({className:(0,y.getClassSet)({"contactBox react":!0,isDisplayed:this.props.isDisplayed,paddingRemovedCarousel:this.props.isPaddingRemovedCarousel,cbBlockBox:this.props.isBlocked,notForSale:this.props.isBlocked&&this.props.servicePolicy===g_servicePolicies.NOT_FOR_SALE},this.props)},t),e);return!this.props.riftImpressionExtraParams||this.isAgentRequestAssignedOrPending()?n:f.default.createElement(g.default,{section:"".concat(this.props.isServicedByRedfinAgent?null:"partner_","contact_box"),target:"",eventDetails:(0,_.assign)(this.generateRiftParams(this.props.agentRequestAgent),this.props.riftImpressionExtraParams)},n)}}],[{key:"displayName",get:function(){return"ContactBox"}},{key:"propTypes",get:function(){return{components:p.default.array,classes:p.default.arrayOf(p.default.string),displayAction:p.default.string,agentOrderString:p.default.string,virtualPageViewQueryParams:p.default.string,virtualPageViewPageString:p.default.string,servicePolicy:p.default.oneOf(Object.keys(g_servicePolicies.idToObj).map(function(e){return parseInt(e)})),actionType:p.default.oneOf(Object.keys(g_contactBoxActionType.idToObj).map(function(e){return parseInt(e)})),presentationType:p.default.oneOf(Object.keys(g_contactBoxPresentationType.idToObj).map(function(e){return parseInt(e)})),algorithmType:p.default.oneOf(Object.keys(g_contactBoxAlgorithmType.idToObj).map(function(e){return parseInt(e)})),refundDisplayed:p.default.bool,partnerRefundDisplayed:p.default.bool,isDisplayableShortSale:p.default.bool,customerAgentStatus:p.default.number,tourThisHomeAgent:p.default.object,serviceRegionId:p.default.number,isTourInsightsAskAQuestionAllowed:p.default.bool,refund:p.default.number,isBlocked:p.default.bool,numAgentsToDisplay:p.default.number,defaultBuyCommission:p.default.number,hasFeeSchedule:p.default.bool,numSupportAgents:p.default.number,boilerPlateLDPExperimentsToRun:p.default.arrayOf(p.default.number),boilerPlateSDPExperimentsToRun:p.default.arrayOf(p.default.number),agentRequestAgents:p.default.arrayOf(p.default.object),agentRequestAgent:p.default.object,canCominglePartnerAgents:p.default.bool,containsTwilioNumber:p.default.bool,riftImpressionExtraParams:p.default.objectOf(p.default.string),isAvmShown:p.default.bool,isSoldProperty:p.default.bool,isPrimaryCta:p.default.bool,sideBarStore:p.default.object,generalInquiryActions:p.default.object,liveChatWidgetAction:p.default.object,deviceConfig:p.default.number,isDisplayed:p.default.bool,isPaddingRemovedCarousel:p.default.bool,TourPopup:p.default.func,showSellerConsultDialogCallback:p.default.func,showAAQDialogCallback:p.default.func,generalInquiryDialog:p.default.func,averageResponseTime:p.default.number,contactBoxInfo:p.default.object}}},{key:"getDefaultProps",get:function(){return{classes:[],components:[],isDisplayed:!1,numViews:1,shouldDisplayPartnerConnectionTime:!1}}}]),n}(f.Component);t.default=A,e.exports=t.default},cUiE:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lSNA")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=n("mXGw"),d=a(n("17x9")),f=a(n("VMur")),p=a(n("VHtJ")),m=a(n("bK0B")),h=a(n("WRm1")),g=a(n("YxSN"));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("Ephp");var v=function(e){(0,s.default)(n,e);var t=_(n);function n(e){return(0,o.default)(this,n),t.call(this,e)}return(0,i.default)(n,[{key:"render",value:function(){var e,t,n,a,o,i,s,l=this.props,u=l.onToggleRoute,c=l.showRoute,d=l.routeBroken,_=l.onEdit,v=l.onDelete,y=React.createElement("div",{className:"options-contents"},React.createElement("div",{className:"options-toggles"},React.createElement("div",null,(e={svgIcon:React.createElement(m.default,null),text:"Routes",onChange:u,value:c,isDisabled:d},t=e.svgIcon,n=e.text,a=e.onChange,o=e.value,i=e.isDisabled,s=i?"broken":"",React.createElement("div",{className:"toggleRow ".concat(s)},t,React.createElement("span",{className:"text"},n),React.createElement(p.default,{onChange:a,value:o,disabled:i}))))),React.createElement("div",{className:"options-actions"},React.createElement("button",{className:"button",role:"button",onClick:_},React.createElement(h.default,(0,r.default)({className:"icon"},"className","size-medium")),React.createElement("span",{className:"text"},"Edit")),React.createElement("button",{className:"button",role:"button",onClick:v},React.createElement(g.default,{className:"size-medium"}),React.createElement("span",{className:"text"},"Delete"))));return React.createElement(f.default,{className:"options-flyout",position:"below",alignment:"right",animateOnAppear:!0,onBlur:this.props.onCloseOptions},y)}}],[{key:"propTypes",get:function(){return{onToggleRoute:d.default.func,onEdit:d.default.func,onDelete:d.default.func,onCloseOptions:d.default.func,onHideOptions:d.default.func,showRoute:d.default.bool,routeBroken:d.default.bool}}}]),n}(c.Component);t.default=v,e.exports=t.default},cV3J:function(e,t,n){},cVCv:function(e,t,n){},cYqr:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mXGw")),o=a(n("17x9")),i=a(n("ma35")),s=a(n("Brmu")),l=n("3shQ"),u=a(n("1RMg")),c=a(n("LDFp")),d=a(n("bG8c"));function f(e){var t=u.default.isOn(d.default)&&"Variant"===u.default.getVariant(d.default),n=e.isPending&&!t||t&&(e.isPending||e.isAssigned)&&e.hasSubmittedRequestForListing||t&&e.isAssigned&&!e.isListingInAssignedPartnerAgentServiceRegion;return r.default.createElement("div",{className:"PartnerAskAQuestion"},n?function(e){var t=r.default.createElement(i.default,{className:"primary contactBoxButton",onClick:function(){return function(e){e.generalInquiryActions.showDialogForInquirySource(e.inquirySource,{agentId:e.agent.getId()})}(e)}},"Ask a question",function(e){var t=r.default.createElement(r.default.Fragment,null,"You’ll hear from us in ",r.default.createElement(s.default,{businessMarketId:e.agent.getBusinessMarketId(),percentile:(0,l.getPartnerConnectionTimePercentile)()}),".");return r.default.createElement(e.generalInquiryDialog,{className:"partnerAskAQuestion",commentsPlaceholder:"Write a message...",inquirySource:e.inquirySource,title:"Our local Partner Agents are here to help",subtitle:e.isPending?null:t,agentId:e.agent.getId()})}(e));return r.default.createElement("div",{className:"pendingPartnerAgentRequestInfo","data-rf-test-id":"pendingPartnerAgentRequestInfo"},r.default.createElement("div",{className:"header heading-medium"},"Thanks for submitting your request."),r.default.createElement("div",{className:"body font-size-base"},"We received your request and we’re working on getting a local Redfin Partner Agent to help you."),!e.hasSubmittedRequestForListing&&e.isListingInAssignedPartnerAgentServiceRegion?t:null)}(e):function(e){return r.default.createElement("div",{className:"partnerAAQLink"},e.aaqContactLink,function(e){if(u.default.isOn(d.default)&&"Variant"===u.default.getVariant(d.default)&&(e.isPending||e.isAssigned))return null;return r.default.createElement("p",{className:"partnerConnectionTime text-center"}," You'll hear from a local agent in "," ",r.default.createElement(s.default,{businessMarketId:e.agent.getBusinessMarketId(),percentile:(0,l.getPartnerConnectionTimePercentile)()}))}(e))}(e),e.partnerProgramAd)}n("kWLE"),c.default.ensure(n("bG8c"),n("pZiF")),f.props={isPending:o.default.bool.isRequired,isAssigned:o.default.bool.isRequired,hasSubmittedRequestForListing:o.default.bool.isRequired,isListingInAssignedPartnerAgentServiceRegion:o.default.bool.isRequired,riftParams:o.default.object.isRequired,agent:o.default.object,inquirySource:o.default.number,generalInquiryActions:o.default.object,generalInquiryDialog:o.default.func,aaqContactLink:o.default.func,partnerProgramAd:o.default.func};var p=f;t.default=p,e.exports=t.default},d0G4:function(e,t,n){n("ooDy");var a=n("0js8");a.attachModuleForRoute("ADPDesktop",n("uZDf")),a.attachModuleForRoute("HomeDetails",n("N9LJ"));var r=n("cMqt").ClientController;window.rfBootstrap=function(){new r({routes:a}).init()}},d21m:function(e,t,n){"use strict";var a=n("TqRt")(n("3OWR")),r=n("pBXq").default,o=(0,a.default)(new r,{name:"PartnerOpenHousesRiftTracker",trackAllEventsInGA:!0,impressions:{PARTNER_OPEN_HOUSES:{section:"partner_open_houses",target:"",expectedParams:["num_upcoming","has_live_now"]},VIDEO_OPEN_HOUSE_SUBHEADER:{section:"partner_open_houses",target:"video_open_house_subheader"}},clicks:{TIME_TILE:{section:"partner_open_houses",target:"time_tile",expectedParams:["listing_id","time_tile_selected","time_tile_selected_time_zone","tour_type"]},MORE_TIMES_LINK:{section:"partner_open_houses",target:"more_times_link",expectedParams:["listing_id","tour_type"]},ADD_TO_OPEN_HOUSES_LIST:{section:"partner_open_houses",target:"add_to_open_house_list_button",expectedParams:["click_result","num_upcoming"]},VIDEO_OPEN_HOUSE_FLYOUT:{section:"partner_open_houses",target:"video_open_house_flyout"},ADD_TO_CALENDAR:{section:"partner_open_houses",target:"add_to_calendar_button"}}});e.exports=o},dLpc:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.riskScore,n=e.riskScoreLevel,a=e.attributionIcon,s=e.riskDenominator,u=e.historicalParagraph,c=e.futureImpactParagraph,d=e.aboutThisSectionParagraph,f=e.barGraphData,p=e.riskName,m=(0,i.getClimateRiskColorFromScore)({score:t});return[r.default.createElement("div",{className:"flex-inline padding-top-large"},r.default.createElement(o.default,{riskValue:t,color:m,riskDenominator:s}),r.default.createElement("div",{className:"scoreLevelContainer margin-left-medium"},r.default.createElement("p",{className:"font-size-base font-weight-bold ".concat(m)},n),a)),r.default.createElement("div",{className:"".concat(1===(f||[]).length?"singleGraphLayoutContainer":"")},r.default.createElement("div",null,r.default.createElement("div",{className:"historicalImpact padding-top-large"},r.default.createElement("p",{className:"font-size-base font-weight-bold padding-bottom-smaller"},"Historical Impact"),u),r.default.createElement("div",{className:"historicalImpact padding-top-large"},r.default.createElement("p",{className:"font-size-base font-weight-bold padding-bottom-smaller"},"Projected Impact"),c)),r.default.createElement("div",{className:"climateRiskBarGraphsContainer flex-inline padding-top-medium"},l(f))),r.default.createElement("div",{className:"historicalImpact padding-top-large"},r.default.createElement("p",{className:"font-size-base font-weight-bold padding-bottom-smaller"},"About ",p),d)]};var r=a(n("mXGw")),o=a(n("pY21")),i=n("5sHw"),s=a(n("qqKJ"));n("RXRX");var l=function(e){if(null==e)return null;var t=1===e.length;return e.map(function(e){return r.default.createElement("div",{className:"climateRiskBarGraphContent ".concat(t?"singleGraph":""),key:"climateRiskBarGraph-".concat(e.title,"-container")},r.default.createElement("p",{className:"font-size-small font-weight-bold graphTitle padding-bottom-small"},e.title),r.default.createElement(s.default,e))})};e.exports=t.default},dXiY:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=a(n("mXGw")),o=a(n("17x9"));function i(e){return r.default.createElement("div",{className:"partnerProgramAd"},r.default.createElement("div",{className:"agentQuestion"},"Are you an agent?"),r.default.createElement("a",{href:"/partner?src=".concat(e.partnerPageSrc),onClick:function(){return e.onLinkClick()},target:"_blank"},"Learn about partnering with Redfin"))}n("niwx"),i.props={onLinkClick:o.default.func.isRequired,partnerPageSrc:o.default.string.isRequired},e.exports=t.default},daot:function(e,t,n){},diFG:function(e,t,n){"use strict";var a=n("R16N");e.exports=a.createActions(["receivedContactBoxInfo","dateTimePickerAndContactBoxRendered","setOpenHouseToggleSelectedTab"])},dkUW:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("3OWR")),o=a(n("LDFp")),i=a(n("pBXq"));o.default.ensure(n("tTYd"));var s=(0,r.default)(new i.default,{name:"CommuteRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{COMMUTE_TIME:{section:"commute_time",expectedParams:["device_category","property_id"],target:null},COMMUTE_FORM:{section:"commute_form",expectedParams:["device_category","property_id"],target:null},COMMUTE_REG_FLYOUT:{section:"commute_reg_flyout",target:null},ERROR_DIALOG:{section:"commute_form",target:"error_dialog",trackGA:!1},ADDRESS_VALIDATION_ERROR:{section:"commute_form",target:"address_validation_error",trackGA:!1},USER_COMMUTE:{section:"commute_time",target:"user_commute"}},clicks:{ADD_NEW_COMMUTE:{section:"commute_time",target:"add_commute_link"},ADD_ANOTHER_COMMUTE:{section:"commute_time",target:"add_another_commute_link"},CLOSE_COMMUTE_FORM:{section:"commute_form",target:"close_button"},EDIT_DESTINATION:{section:"commute_form",target:"destination_box"},EDIT_COMMUTE_TYPE:{section:"commute_form",target:"commute_mode"},EDIT_RUSH_HOUR:{section:"commute_form",target:"rush_hour_checkbox"},CALCULATE_COMMUTE:{section:"commute_form",target:"calculate_commute_button"},DELETE_COMMUTE:{section:"commute_form",target:"delete_destination_link"},EDIT_COMMUTE_TYPE_DROPDOWN:{section:"commute_time",target:"commute_mode"},EDIT_FORM:{section:"commute_time",target:"edit_destination_link"},SHOW_ROUTES:{section:"commute_time",target:"show_routes"},HIDE_ROUTES:{section:"commute_time",target:"hide_routes"},CLOSE_REG_PROMPT:{section:"commute_reg_flyout",target:"close_link"},SAVE_REG_PROMPT:{section:"commute_reg_flyout",target:"save_link"}}});t.default=s,e.exports=t.default},dnaq:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("17x9")),d=a(n("cXUB")),f=a(n("YAhj")),p=a(n("8Llx")),m=n("f2dk");function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var g=function(e){(0,s.default)(n,e);var t=h(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).state={inProgress:!1,errorThrown:!1,actionSuccess:!1},a.onAction=a.onAction.bind((0,i.default)(a)),a._performAction=a._performAction.bind((0,i.default)(a)),a}return(0,o.default)(n,[{key:"onAction",value:function(){var e=this;if(this.setState({inProgress:!0}),"function"==typeof this.props.onAction)if(this.props.loginRequired&&!p.default.isLoggedIn()){var t=this.props.trackClick();(0,m.showLoginLightboxIfNeeded)({registrationReason:this.props.registrationReason,registrationEntrypointRiftContext:t,refresh:!1}).then(function(){e._performAction(!0)},function(){e.setState({inProgress:!1})})}else this._performAction(!1)}},{key:"_performAction",value:function(e){var t=this;(0,d.default)(this.props.onAction()).then(function(){t.setState({actionSuccess:!0,inProgress:!1,errorThrown:!1}),e&&setTimeout(function(){window.location.reload()},2e3)},function(){t.setState({actionSuccess:!1,errorThrown:!0,inProgress:!1})})}},{key:"render",value:function(){return this.state.inProgress?f.default.createElement("div",{className:"action-link"},f.default.createElement("img",{src:g_imageServerUrl+"/images/ajax-loader.gif",style:{height:"16px",width:"16px",marginRight:"8px",lineHeight:"18px",verticalAlign:"middle"}})):this.state.errorThrown?f.default.createElement("div",{className:"action-link"},f.default.createElement("div",{className:"failure"},"Problem contacting Redfin. ",f.default.createElement("a",{target:"_top",onClick:this.onAction},"Try again?"))):this.state.actionSuccess?f.default.createElement("div",{className:"action-link"},f.default.createElement("div",{className:"success"},this.props.successText)):f.default.createElement("div",{className:"action-link"},f.default.createElement("a",{"data-rf-test-name":"tour-insight-action-link",className:"block link "+this.props.linkClass,onClick:this.onAction},this.props.defaultText))}}],[{key:"displayName",get:function(){return"ActionLink"}},{key:"propTypes",get:function(){return{defaultText:c.default.string,successText:c.default.string,linkClass:c.default.string,message:c.default.string,onAction:c.default.func,loginRequired:c.default.bool,trackClick:c.default.func}}}]),n}(f.default.Component);e.exports=g},dsSj:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),d=a(n("8Jek")),f=a(n("1AMb")),p=a(n("94Bj")),m=a(n("iUqU")),h=a(n("Wdx1")),g=a(n("ajZI")),_=a(n("0bCM")),v=n("I5FW"),y=a(n("pyz+")),E=n("CrDX");function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var T=function(e){(0,s.default)(n,e);var t=I(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e=this.props.schoolsAndDistrictsInfo;if(this.domNode&&e){var t,n=e.schoolsToShowOnDP,a=n.length,r=!!n&&n.map(function(e){return e.id});y.default.trackImpression(y.default.impressions.SCHOOLS,{num_schools:a,schools_list:r,rmiv:(null===(t=p.default.getVariant(m.default))||void 0===t?void 0:t[0])||"C"},this.domNode)}}},{key:"render",value:function(){var e,t=this,n=null,a=this.props,r=a.schoolsAndDistrictsInfo,o=a.addressSectionInfo,i=a.deviceConfig,s=a.isCollapsible,l=a.queryParams,u=(0,v.getCurrentCountryCode)()===g_countryCode.CANADA,p=u?"Local Logic":"GreatSchools",m=u?"https://www.locallogic.co/":"http://www.greatschools.org/";if(!r||r.shouldHideSection)return null;var S=r.schoolsToShowOnDP&&r.schoolsToShowOnDP.length>0;e=r.sectionPreviewText,n=S?c.default.createElement(_.default,{isRegionSection:!1,schoolResults:r,city:o.city,riftTracker:y.default,mobile:i===g_deviceConfiguration.PHONE,showCanadianVersion:u}):c.default.createElement(h.default,{sprite:"sprite-schools-ghost",content:"We couldn't find any schools that service this home or are within 5 miles of this home."});var I=(0,d.default)({"main-content":!0,mobile:i===g_deviceConfiguration.PHONE});return c.default.createElement(f.default,{name:"SchoolsSection",id:"schools-scroll",addTopRule:!0},c.default.createElement("div",{className:"sectionContainer nearby-schools","data-rf-test-id":"schoolSection",ref:function(e){return t.domNode=e}},c.default.createElement(g.default,{sectionName:"Schools",section:"schools",enabled:s,rfTestId:"schools-expandable-preview",previewText:e,initiallyExpanded:(0,E.isAgentMobile)(l)},c.default.createElement("div",{className:I},n),c.default.createElement("div",{className:"subtext"},c.default.createElement("span",null,"School data provided by ",c.default.createElement("a",{href:m,target:"_blank",rel:"noopener"},p),". School service boundaries are intended to be used as reference only. To verify enrollment eligibility for a property, contact the school directly.")))))}}],[{key:"displayName",get:function(){return"SchoolsSection"}},{key:"getComponentDependencies",value:function(){return{dependencies:["schoolsInfo","schoolDistrictsInfo","schoolsAndDistrictsInfo","addressSectionInfo","queryParams"]}}}]),n}(c.Component);t.default=T,e.exports=t.default},dwyw:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getPhotosFromMediaBrowserInfo=void 0;var r=a(n("lSNA")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("bt/X")),f=a(n("YAhj")),p=a(n("17x9")),m=n("FNRH"),h=a(n("X+RS")),g=a(n("DlpU")),_=n("AYTD"),v=a(n("1lFN")),y=a(n("1N2D")),E=a(n("2FT6")),S=n("bR9U"),I=a(n("CtbG"));function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}n("tjZ1");var k=function(e){return!e&&(0,_.navigateToSectionId)("property-history")},R=function(e){(0,l.default)(n,e);var t=b(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={formattedHistory:[],currentMediaInfo:null,photoIndex:0},a.openMediaBrowser=a.openMediaBrowser.bind((0,s.default)(a)),a.renderRowWrapper=a.renderRowWrapper.bind((0,s.default)(a)),a.renderRowSections=a.renderRowSections.bind((0,s.default)(a)),a.formatHistory=a.formatHistory.bind((0,s.default)(a)),a.getHistoryItem=a.getHistoryItem.bind((0,s.default)(a)),a}return(0,i.default)(n,[{key:"openMediaBrowser",value:function(e,t,n,a){this.setState({currentMediaInfo:t,photoIndex:n,historicalListingId:a}),E.default.openMediaBrowser(e,n),I.default.trackClick(I.default.clicks.OPEN_MEDIA_BROWSER)}},{key:"renderRowWrapper",value:function(){return f.default.createElement("div",{className:"timeline"},[this.renderRowSections()])}},{key:"renderRowSections",value:function(){return(this.state.formattedHistory||[]).map(function(e){return f.default.createElement("div",{key:e.key,className:"property-history-content-container"},f.default.createElement("div",{className:"timeline-content"},e.sectionHeader,e.eventRows,e.sectionPhotos,e.sectionRemarks))})}},{key:"formatHistory",value:function(e,t,n){var a=this,r=[],o=[],i=(0,d.default)(e,"sourceId")||{},s=[];return i.undefined&&(o=i.undefined,delete i.undefined),Object.keys(i).forEach(function(e){var o=i[e].sort(function(e,t){return t.eventDate-e.eventDate});if(o&&(!o||0!==o.length)){var l=o[0],u=new Date(o[o.length-1].eventDate),c=new Date(l.eventDate),d=o.map(function(t,n){return a.getHistoryItem(t,n,e)},a),p=a.buildMlsHeader(c,d.length,l.source,l.sourceId),m="";if(l.marketingRemarks){var h=JSON.stringify(l.marketingRemarks);-1===s.indexOf(h)&&(m=f.default.createElement(y.default,{remarks:l.marketingRemarks}),s.push(h))}var g=n&&n[l.sourceId]?O(n[l.sourceId],l.dataSourceDisplay.dataSourceId,a.openMediaBrowser,l&&l.listingId):{photos:[]},_=g.renderLockSection?"":"property-history-photo-container",v=g&&g.photos.length>0?f.default.createElement("div",{className:_},g.photos,(0,S.getSourceLogoNode)(l)):null,E=!!t&&(null==l?void 0:l.listingId)===t;r.push({oldestEventDate:u,latestEventDate:c,sectionPhotos:E?null:v,sectionRemarks:E?"":m,sectionHeader:p,key:e,eventRows:d})}},this),o.forEach(function(e,t){var n="public_record";r.push({oldestEventDate:new Date(e.eventDate),latestEventDate:new Date(e.eventDate),sectionHeader:a.buildPublicRecordHeader(e),key:n+t,eventRows:[a.getHistoryItem(e,t,n)]})}),(r=r.sort(function(e,t){return t.oldestEventDate===e.oldestEventDate?e.latestEventDate-t.latestEventDate:t.oldestEventDate-e.oldestEventDate}))&&r.length>0&&(r[0].sectionHeader=f.default.createElement("h4",{className:"section-header col-12"},"Today")),r}},{key:"getHistoryItem",value:function(e,t,n){return f.default.createElement(h.default,{key:"pher-".concat(t,"-").concat(n,"-row"),historyRow:e,definitions:this.props.definitions,timeZone:this.props.timeZone,isAdminOnlyView:this.props.isAdminOnlyView,showLogoInLists:this.props.showLogoInLists,index:t,deviceConfig:this.props.deviceConfig})}},{key:"componentDidMount",value:function(){this.setState({formattedHistory:this.formatHistory(this.props.history,this.props.listingId,this.props.mediaBrowserInfoBySourceId)})}},{key:"render",value:function(){var e=null;if(this.props.renderMediaBrowser&&this.state.currentMediaInfo&&this.props.propertyHistoryMediaBrowser){var t=this.props.propertyHistoryMediaBrowser,n=C(C({},this.state.currentMediaInfo),{},{isListView:!0,showThumbnails:!1,fullScreen:!this.props.isListView,listViewInitialIndex:this.props.photoIndex,photoListIndex:this.props.photoIndex,photoIndex:this.props.photoIndex,index:this.props.photoIndex,historicalListingId:this.state.historicalListingId,selectedMedia:m.MEDIA_OPTIONS.PHOTOS});e=f.default.createElement(t,{mediaBrowserInfo:n})}return this.props.expandable?f.default.createElement("div",{className:"expandable-timeline-container"},e,f.default.createElement(g.default,{section:this.props.expandableSectionName,sectionId:"property-history-scroll",renderWrapper:f.default.createElement("div",{className:"timeline"}),numSegmentsToDisplayWhenCollapsed:this.props.numSegmentsToDisplayWhenCollapsed,expandText:"See all property history",disableContentSectionClickExpansion:!0,isTable:!1,rfTestId:"property-history-expandable-preview",isExpanded:!1,onClick:k},this.renderRowSections())):f.default.createElement("div",{className:"static-timeline-container"},e,this.renderRowWrapper())}},{key:"buildPublicRecordHeader",value:function(e){var t=new Date(e.eventDate),n=isNaN(t.getFullYear())?"Unknown Date, ":(0,S.getMonthName)(t)+" "+t.getFullYear()+", ",a=(0,S.getEventDescription)(e).replace("(Public Records)",""),r=e.price?" for ".concat((0,S.getPrice)(e)):"";return f.default.createElement("div",{key:"ph-public-record-header"},f.default.createElement("h4",{className:"section-header col-12"},n," ",a," ",r))}},{key:"buildMlsHeader",value:function(e,t,n,a){var r=(0,S.getMonthName)(e),o=e.getFullYear();return f.default.createElement("h4",{className:"section-header col-12",key:"pher-".concat(a,"-header")},"".concat(r,", ").concat(o))}}],[{key:"displayName",get:function(){return"PropertyHistoryEventTimeline"}},{key:"propTypes",get:function(){return{history:p.default.array,mediaBrowserInfoBySourceId:p.default.object,expandable:p.default.bool,numSegmentsToDisplayWhenCollapsed:p.default.number,definitions:p.default.array,timeZone:p.default.string,showLogoInLists:p.default.bool,isAdminOnlyView:p.default.bool,deviceConfig:p.default.number,expandableSectionName:p.default.string}}}]),n}(f.default.Component),O=function(e,t,n,a){var o=[],i=!1;if(e&&e.photos){for(var s=e.photos.length,l=function(t){if(g_displayLevel.idToObj[e.photos[t].displayLevel].isVisible){var l=e.photos[t].thumbnailUrl?e.photos[t].thumbnailData.thumbnailUrl:e.photos[t].photoUrls.nonFullScreenPhotoUrl;4===t&&t<s-1?o.push(f.default.createElement("div",(0,r.default)({className:"row",onClick:function(){return n(!0,e,t,a)},key:"thumbnail-overlay-container-".concat(t)},"className","thumbnail-overlay-container"),f.default.createElement("img",{className:"col ph-thumbnail",key:"thumbnail-".concat(t),src:l}),f.default.createElement("div",{key:"thumbnail-overlay-".concat(t),className:"thumbnail-overlay"},"+",s-5))):o.push(f.default.createElement("img",{className:"col ph-thumbnail",onClick:function(){return n(!1,e,t,a)},key:"thumbnail-".concat(t),src:l}))}else i=!0},u=0;u<s&&u<5;u++)l(u);if(i&&0===o.length)return o.push(f.default.createElement("div",{style:{marginBottom:"25px"}},f.default.createElement(v.default,{className:"ph_photo_lock",dataSourceId:t,detailsText:"view this home’s photos",sectionName:"property_history"}))),{renderLockSection:!0,photos:o}}return{renderLockComponenet:!1,photos:o}};t.getPhotosFromMediaBrowserInfo=O,e.exports={PropertyHistoryEventTimeline:R,getPhotosFromMediaBrowserInfo:O}},"e2+T":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var o=a(n("pVnL")),i=a(n("J4zp")),s=a(n("RIHJ"));n("+0iM");a(n("17x9"));var l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),u=a(n("vH3W")),c=a(n("ma35")),d=a(n("YqrK"));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}var p="I'd like more home details.",m="I'm interested in buying.",h="Is this home still available?";function g(e){var t=(0,l.useRef)(null),n=(0,l.useState)(e.suggestedMessages),a=(0,i.default)(n,2),r=a[0],f=a[1];return l.default.createElement("div",{className:"TextAreaWithButtons"},l.default.createElement(u.default,(0,o.default)({ref:t,className:e.className,type:e.type,rows:5,maxRows:6},e.questionText,{onFocus:function(){return function(e,t){!!t.textAreaOnFocus&&t.textAreaOnFocus(t.showBDXExperience,t.isInlineForm,t.isOpendoor,t.isPartnerAgent),e&&e.current&&e.current.setState({focused:!1})}(t,e)}})),function(e,t,n,a){if(!n)return;var r=n.map(function(n){switch(n){case p:d.default.trackImpression(d.default.impressions.PARTNER_AAQ_SUGGESTED_MESSAGE_DETAILS);case m:d.default.trackImpression(d.default.impressions.PARTNER_AAQ_SUGGESTED_MESSAGE_INTERESTED);case h:d.default.trackImpression(d.default.impressions.PARTNER_AAQ_SUGGESTED_MESSAGE_AVAILABLE)}return l.default.createElement("div",{className:"col-4"},l.default.createElement(c.default,{className:"suggestedMessageButton",onClick:function(){return function(e,t,n,a){s.default.fieldChange({name:t.questionName,formName:t.formName,value:n.current.state.value+e}),a(null),!!n&&!!n.current&&!!n.current.focus&&n.current.focus(),function(e,t){switch(e){case p:t?d.default.trackClick(d.default.clicks.PARTNER_AAQ_SUGGESTED_MESSAGE_DETAILS_CLICK):d.default.trackClick(d.default.clicks.PARTNER_AAQ_SUGGESTED_MESSAGE_DETAILS_MODAL_CLICK);break;case m:t?d.default.trackClick(d.default.clicks.PARTNER_AAQ_SUGGESTED_MESSAGE_INTERESTED_CLICK):d.default.trackClick(d.default.clicks.PARTNER_AAQ_SUGGESTED_MESSAGE_INTERESTED_MODAL_CLICK);break;case h:t?d.default.trackClick(d.default.clicks.PARTNER_AAQ_SUGGESTED_MESSAGE_AVAILABLE_CLICK):d.default.trackClick(d.default.clicks.PARTNER_AAQ_SUGGESTED_MESSAGE_AVAILABLE_MODAL_CLICK)}}(e,t.isInlineForm)}(n,t,e,a)},childrenClassName:"suggestedMessage"},l.default.createElement("span",{className:"suggestedMessage"}," ",n," ")))});return l.default.createElement("div",{className:"suggestedMessagesSection"},l.default.createElement("div",{className:"suggestedMessagesButtons row-flex"}," ",r," "))}(t,e,r,f))}g.displayName="TextAreaWithButtons",g.propTypes={},e.exports=t.default},e7fk:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("SU5M")).default;t.default=r,e.exports=t.default},eXIM:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mXGw")),o=(a(n("17x9")),a(n("bW6B"))),i=a(n("5gQI")),s=n("oJgL"),l=a(n("YSua")),u=function(e){var t=e.listingId,n=e.isListingRecentlyMarkedSold,a=e.isListingUnderContract,u=l.default.getUnderContractType({isListingRecentlyMarkedSold:n,isListingUnderContract:a});r.default.useEffect(function(){l.default.trackClick(l.default.clicks.ADD_TO_TOUR_ANYWAY,{listingId:t,underContractType:u})},[t,u]);return r.default.createElement(i.default,{className:"PossiblyUnavailableButton",description:r.default.createElement("p",{className:"font-size-small font-weight-bold"},"This home may not be allowing tours right now"),button:{className:"possiblyUnavailableButton tertiary",onClick:function(){l.default.trackClick(l.default.clicks.ADD_TO_TOUR_ANYWAY,{listingId:t,underContractType:u}),o.default.scrollToDatePicker(s.DATEPICKER_SCROLL_ID)},children:"Learn more"}})};u.propTypes={},u.defaultProps={isListingRecentlyMarkedSold:!1,isListingUnderContract:!1};var c=u;t.default=c,e.exports=t.default},ebVc:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),i=n("vSQa"),s=a(n("OIk9")),l=a(n("jkMb"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}n("bwt2");var c=function(e){var t=e.map,n=e.floodStore,a=(0,o.useMemo)(function(){return(0,i.getGoogleMapsFloodImageMapType)()},[]);return(0,o.useEffect)(function(){return n&&n.actions.populateFloodData(),a&&t.overlayMapTypes.push(a),function(){var e=t.overlayMapTypes.getArray().indexOf(a);-1!==e&&t.overlayMapTypes.removeAt(e)}},[a,t.overlayMapTypes,n]),null},d={dependencies:["floodStore","floodData","addressSectionInfo"],label:"Flood",mediaType:"FLOOD",getMapOverlay:function(e){var t=e.floodStore;return[o.default.createElement(c,{floodStore:t})]},mapDrawerLabel:"Flood Risk",getMapButtonExtensions:function(e){var t=e.floodStore,n=e.addressSectionInfo;return[o.default.createElement(l.default,{className:"BottomExtension",floodStore:t,addressSectionInfo:n,isMobile:!0,position:10})]},getMapDrawerContent:function(e){var t=e.floodStore,n=e.addressSectionInfo;return o.default.createElement("div",{className:"FloodRiskLocationPane"},o.default.createElement("div",{className:"padding-bottom-smaller"},(0,i.calculateFloodChanceText)(t.floodData)),o.default.createElement(s.default,{renderSegmentsOnly:!0,floodStore:t,addressSectionInfo:n}))}};t.default=d,e.exports=t.default},es7G:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.recommendedsRiftTrackerConfig=t.default=void 0;var r=a(n("lSNA")),o=a(n("pVnL")),i=a(n("pBXq"));function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}var l={trackAllEventsInGA:!0,impressions:{RECOMMENDEDS:{section:"recommended_homes",target:""}},clicks:{RECOMMENDEDS_HOMECARD_CLICK:{section:"recommended_homes",target:"home_card",expectedParams:["property_id","position"]},RECOMMENDEDS_FEED_CTA_CLICK:{section:"recommended_homes",target:"feed_cta",expectedParams:["num_recs_shown","num_more_homes"]}}};t.recommendedsRiftTrackerConfig=l;var u=(0,o.default)(new i.default,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({name:"RecommendedsRiftTracker"},l));t.default=u},et6f:function(e,t,n){},f5L8:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("J4zp")),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),s=a(n("8Jek")),l=a(n("Y90t"));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}n("PGes");var c=function(e){var t=e.className,n=e.style,a=e.boldLabel,r=e.label;return i.default.createElement("div",{style:n,className:(0,s.default)("flex justify-between",t)},i.default.createElement("span",{className:(0,s.default)({"font-weight-bold":a})},r))},d=function(e){var t=e.expanded;return i.default.createElement(l.default,{className:(0,s.default)("ExpandableDisclaimer--contextArrow fill-link size-tiny margin-left-smaller",{expanded:t})})},f=function(e){var t=e.titleText,n=e.expandedContent,a=(0,i.useState)(!1),r=(0,o.default)(a,2),s=r[0],l=r[1];return i.default.createElement("div",null,i.default.createElement("div",{className:"clickable",onClick:function(){return l(!s)},role:"button",tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&l(!s)}},i.default.createElement(c,{label:[t,i.default.createElement(d,{expanded:s})]})),s&&i.default.createElement("div",{className:"ExpandableDisclaimer--expandedContent padding-top-small dp-subtext"},n))};t.default=f,e.exports=t.default},f77R:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=n("mXGw"),d=a(n("WZ0X")),f=a(n("17x9")),p=a(n("oFFm")),m=a(n("dkUW")),h=n("osI4");function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("et6f");var _=function(e){(0,s.default)(n,e);var t=g(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={setupCommuteDisplay:!1,showDirections:!1,directionsData:[]},a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){var e={device_category:(0,h.getCurrentDeviceType)(),rental_id:this.props.rentalId,property_id:this.props.propertyId,rental:!!this.props.rentalId};m.default.trackImpression(m.default.impressions.COMMUTE_TIME,e,d.default.findDOMNode(this))}},{key:"render",value:function(){var e=this,t=this.props.commutes;return React.createElement("div",{className:"Commutes font-size-base"},t.map(function(t,n){return React.createElement(p.default,(0,r.default)({key:n},t,{mapStore:e.props.mapStore,initialDirectionsData:e.props.initialDirectionsData},e.props.autocompleteServices,{rentalId:e.props.rentalId,propertyId:e.props.propertyId}))}))}}],[{key:"propTypes",get:function(){return{commutes:f.default.array,initialDirectionsData:f.default.object,mapStore:f.default.object,rentalId:f.default.string,propertyId:f.default.number}}},{key:"defaultProps",get:function(){return{commutes:[],rentalId:null,propertyId:null}}}]),n}(c.Component);t.default=_,e.exports=t.default},fCB2:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),f=a(n("xARA")),p=a(n("17x9")),m=a(n("luvc")),h=n("gZHp"),g=a(n("+f8N")),_=a(n("lQoP")),v=a(n("EFMV")),y=n("DyRb"),E=a(n("x6JC"));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var T=function(e){(0,l.default)(n,e);var t=I(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={riftOnDisplayNodes:[]},a.handleClick=a.handleClick.bind((0,s.default)(a)),a.trackRiftEventFromNode=a.trackRiftEventFromNode.bind((0,s.default)(a)),a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){for(var e=f.default.findDOMNode(this),t=e.querySelectorAll("a, .rift-display"),n=0;n<t.length;n++)t[n].addEventListener("click",this.handleClick);var a=e.querySelectorAll(".rift-display");this.state.riftOnDisplayNodes=Array.prototype.slice.call(a);for(var r=e.querySelectorAll(".askAgentAQuestionLink"),o=0;o<r.length;o++){var i=r[o].href;(0,m.default)("mobile-enabled")?i+="&serviceType="+g_customerActions.AGENT_REQUEST_MOBILE_WEB:i+="&serviceType="+g_customerActions.AGENT_REQUEST,r[o].setAttribute("href",i)}}},{key:"trackRiftEventFromNode",value:function(e,t){var n={};n[_.default.ACTION]=t,n[_.default.SECTION]=e.getAttribute("data-rift-section"),n[_.default.TARGET]=e.getAttribute("data-rift-target");var a=e.getAttribute("data-rift-keys"),r=e.getAttribute("data-rift-vals");if(a&&r){var o=a.split(" "),i=r.split(" ");o.length===i.length?o.forEach(function(e,t){var a=i[t];"true"===a?a=!0:"false"===a&&(a=!1),n[o[t]]=a}):n.custParams="invalid"}if("start_an_offer"===(n=(0,h.assign)((0,h.assign)({},this.props.riftParams),n))[_.default.TARGET]&&n[_.default.ACTION]===_.default.actions.CLICK){var s=E.default.getRiftParams(this.props.sideBarStore);n=(0,v.default)(n,{$merge:s})}if("start_an_offer"===n[_.default.TARGET]&&n[_.default.ACTION]===_.default.actions.CLICK){var l=this.props.sideBarStore.noCBExperimentParams||{};n=(0,v.default)(n,{$merge:l})}if("phone_number"===n[_.default.TARGET]&&n[_.default.ACTION]===_.default.actions.CLICK){var u=this.props.sideBarStore.noCBExperimentParams||{};n=(0,v.default)(n,{$merge:u})}n[_.default.ACTION]===_.default.actions.CLICK?(0,y.trackClick)(n[_.default.SECTION],n[_.default.TARGET],n,this.props):_.default.trackEvent(n)}},{key:"handleClick",value:function(e){e.preventDefault();var t=e.currentTarget;"click"===t.getAttribute("data-rift-action")&&this.trackRiftEventFromNode(t,_.default.actions.CLICK),"agent_phone"===t.getAttribute("data-rift-target")&&this.props.gaLabel&&this.props.gaLabel.includes("Direct")&&_.default.track(_.default.actions.CLICK,"conversion_event","phone_number_click",{trackGA:!0}),t.href&&((this.props.openLinksInNewTab||e.metaKey||e.crtlKey||1===e.button)&&t.href.substr&&"mailto"!==t.href.substr(0,6)?window.open(t.href):setTimeout(function(){window.top.location=t.href},10))}},{key:"render",value:function(){var e=d.default.createElement("div",{className:(0,y.getClassSet)({contactBoxHTML:!0},this.props),dangerouslySetInnerHTML:{__html:this.props.text}});return this.props.lazy?d.default.createElement(g.default,{height:"100%",once:!0},e):e}}],[{key:"displayName",get:function(){return"ContactBoxHTML"}},{key:"propTypes",get:function(){return{classes:p.default.arrayOf(p.default.string),text:p.default.string,openLinksInNewTab:p.default.bool,agent:p.default.object,isDisplayed:p.default.bool,sideBarStore:p.default.object,riftParams:p.default.object,lazy:p.default.bool}}},{key:"defaultProps",get:function(){return{classes:[],text:"",openLinksInNewTab:!1,lazy:!0}}}]),n}(d.Component);t.default=T,e.exports=t.default},fCIp:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("7W2i")),s=a(n("a1gu")),l=a(n("Nsbk")),u=a(n("17x9")),c=n("mXGw"),d=a(n("eYhh")),f=n("G4xM"),p=a(n("1AMb")),m=a(n("zQwK")),h=a(n("94Bj"));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var _=function(e){(0,i.default)(n,e);var t=g(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"render",value:function(){if((0,f.getConfigValueForKey)(f.DP_GLOBAL_CONFIG_KEYS.pageType)!==g_detailsPageType.RECENTLY_SOLD||"VARIANT"===h.default.getVariant(d.default))return null;var e={title:"Recently Sold",message:"This home "+this.props.recentlySoldMessage,className:"default",isPhone:this.props.isPhone};return React.createElement(p.default,{name:"RecentlySoldBannerSection"},React.createElement("div",{className:"sectionContainer"},React.createElement(m.default,e)))}}],[{key:"propTypes",get:function(){return{recentlySoldMessage:u.default.string,soldDate:u.default.number}}}]),n}(c.Component);t.default=_,e.exports=t.default},fLmK:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=a(n("mXGw")),o=(a(n("17x9")),n("+xFC"));n("4Cfu");function i(e){var t=e.estimatedHomeEquity;return r.default.createElement("div",{className:"FooterTotalEquity"},r.default.createElement("div",{className:"label"},"Total Equity:"),r.default.createElement("div",{className:"number"},(0,o.formatPrice)(t)))}i.propTypes={},i.displayName="FooterTotalEquity",e.exports=t.default},fR2d:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("J4zp")),o=n("Ba2+"),i=a(n("ktsn")),s=a(n("85cV")),l=a(n("fXEA")),u=n("Q+Iq"),c=n("JMoV"),d=a(n("cXUB")),f=a(n("7AK6")),p=n("CrDX"),m=a(n("LDFp")),h=a(n("94Bj")),g=a(n("kzw4")),_=a(n("uF1s")),v=a(n("aaIa")),y=a(n("aGSB"));m.default.ensure(n("Cmlf"));var E=(0,o.createHomeDetailsStoreFactory)({callPageEndpoints:function(e){var t,n=e.listingId,a=e.propertyId,r=e.accessLevel,o=e.pageType,i=e.deviceConfig,s=e.queryParams,l=e.primaryRegionInfo,p=l.regionTableId,m=l.regionTypeId,g=s[c.PROPERTY_IDS]||[],v=h.default.isOn(h.default.feature.LDP_FB_LANDINGS_MOBILE_CAROUSEL)&&i===g_deviceConfiguration.PHONE&&"1"===s[c.FB_SIMILAR],y=function(){return(0,u.getEndpoint)("/stingray/api/home/details/similars/mobileCarouselListings",{listingId:n,propertyId:a,accessLevel:r,pids:g})};return t=h.default.isOn(_.default)?this.getEndpoint("/stingray/api/home/details/hotMarketInfo",{propertyId:a}):(0,d.default)({}),{getSimilarsCarouselInfo:v?f.default.getHasWidgetPromise("SaveSearchBannerWidget").then(function(e){return e?null:y()}).catch(function(){return y()}):null,getCommuteInfo:(0,u.getEndpoint)("/stingray/api/home/details/commute/commuteInfo",{listingId:n,propertyId:a,accessLevel:r,pageType:o}),getNeighborhoodInfo:(0,u.getEndpoint)("/stingray/api/home/details/neighborhoodStats/statsInfo",{listingId:n,propertyId:a,accessLevel:r,regionId:p,regionTypeId:m}),getPopularityInfo:!!n&&(0,u.getEndpoint)("/stingray/api/home/details/popularityInfo",{listingId:n}),getPriceDropInfo:!!n&&(0,u.getEndpoint)("/stingray/api/home/details/priceDropInfo",{listingId:n}),getRareFindInfo:!!n&&(0,u.getEndpoint)("/stingray/api/home/details/rareFindInfo",{listingId:n}),getPromptEligibility:!!n&&(0,u.getEndpoint)("/stingray/api/home/details/customerConversionInfo/promptEligibility",{propertyId:a,listingId:n}).then(function(e){return e}),qualarooFirstTourSurveyQualificationData:(0,u.getEndpoint)("/stingray/do/qualaroo/postTour"),getMortgageCalcClaimedHomesInfo:(0,u.getEndpoint)("/stingray/api/home/details/mortgageCalcClaimedHomesInfo"),getHotMarketInfo:t}},mapPagePromisesToData:function(e){var t=e.getCommuteInfo,n=e.getPopularityInfo,a=e.getPriceDropInfo,r=e.getRareFindInfo,o=e.getSimilarsCarouselInfo,i=e.getPromptEligibility,s=e.qualarooFirstTourSurveyQualificationData,l=e.getMortgageCalcClaimedHomesInfo,u=e.getHotMarketInfo,c=e.getNeighborhoodInfo,f=d.default.all([t,h.default.resolve(["COMMUTE_BOUNCY"])]).spread(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t("COMMUTE_BOUNCY").on||h.default.isOn(g.default)?e:{shouldNotRender:!0}});return{ownerEstimateSectionInfo:d.default.defer(),similarsCarouselInfo:o,commuteInfo:f,popularityInfo:n,priceDropInfo:a,rareFindInfo:r,promptEligibility:i,qualarooFirstTourSurveyQualificationData:s,neighborhoodInfo:c,mortgageCalcClaimedHomesInfo:l,hotMarketInfo:u}},getPageSubstores:function(e){var t=e.data,n=e.commonSubstores,a=e.deviceConfig,o=e.queryParams,u=e.propertyId,c=e.listingId,f=d.default.all([t.publicRecordsInfo,n.experimentStore,t.avmInfo,t.neighborhoodInfo,t.sharedRegionInfo,t.mortgageCalcClaimedHomesInfo,t.mainHouseInfo,t.contactBoxInfo,t.addressSectionInfo]).then(function(e){var t=(0,r.default)(e,9),n=t[0],s=n.mortgageCalculatorInfo,l=void 0===s?{}:s,c=n.addressInfo,d=void 0===c?{}:c,f=t[1].mortgageCalcSellsideFlyoutEligibility,m=void 0===f?{}:f,h=t[2],g=t[3],_=t[4],v=t[5],y=t[6],E=t[7],S=t[8],I=l&&l.displayLevel||g_displayLevel.UNKNOWN,T=g_deviceConfiguration.PHONE===a,C=g_deviceConfiguration.DESKTOP===a;if((0,p.isAgentMobile)(o))return null;if(g_displayLevel.idToObj[I].isVisible){var b={addressInfo:d,addressSectionInfo:S,avmInfo:h,propertyId:u,sharedRegionInfo:_,defaults:l,platform:T?"mobile_web":C?"desktop":"tablet",inBankrateVariant:C||T,isEligibleForSellsideFlyoutExperiment:m.isEligible,isSellsideFlyoutVariant:"VARIANT"===m.cohort,regionStats:g&&g.neighborhoodData&&g.neighborhoodData.regionStats||{},claimedHomeInfo:v,refund:y&&y.refund||0,recommendedAgentProfileUrl:E&&E.recommendedAgent&&E.recommendedAgent.get("profileUrl")};return(0,i.default)(b)}return{defaults:{displayLevel:l.displayLevel,dataSourceId:l.dataSourceId}}}),m=d.default.all([t.addressSectionInfo]).then(function(e){var t=(0,r.default)(e,1)[0];return new y.default(t)});return{ownerVerificationStore:null,mortgageCalculatorStore:f,homeEquityCalculatorStore:f.then(function(e){return new l.default({mortgageCalculatorStore:e})}),dpaStore:m,binnableToursStore:new v.default(c),openHouseStore:Promise.all([t.openHouseInfo,t.mainHouseInfo,t.contactBoxInfo]).then(function(e){var t=(0,r.default)(e,3),n=t[0],a=n.openHouseConfirmationIdMap,o=n.openHouseCalendarInformationMap,i=t[1],l=i.openHouses,u=void 0===l?[]:l,c=i.videoOpenHouses,d=t[2];return new s.default({openHouses:u,videoOpenHouses:c,openHouseConfirmationIdMap:a,openHouseCalendarInformationMap:o,agent:d.agentRequestAgent||d.recommendedAgent})})}}});t.default=E,e.exports=t.default},fW17:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.disclaimers,n=e.dpaStore.withParams;return r.default.createElement("div",{className:"dpaGhostSection"},n&&r.default.createElement(i.default,{section:o.default.impressions.DPA_MODAL_GHOST_TOWN.section,target:o.default.impressions.DPA_MODAL_GHOST_TOWN.target},r.default.createElement("p",null,"Based on the information you provided, there are no down payment assistance programs available for this home.")),!n&&r.default.createElement(i.default,{section:o.default.impressions.DPA_MODAL_API_ERROR.section,target:o.default.impressions.DPA_MODAL_API_ERROR.target},r.default.createElement("p",null,"We're working on getting current down payment assistance information for this home.")),r.default.createElement("br",null),r.default.createElement("a",{className:"dpaDataCursor",href:"https://www.redfin.com/guides/down-payment-assistance-programs",target:"_blank",rel:"noopener"},r.default.createElement("span",{className:"ghostDPALink"},"Learn more about down payment assistance")),r.default.createElement("br",null),t)};var r=a(n("mXGw")),o=a(n("RlWI")),i=a(n("UT8e"));e.exports=t.default},fWPp:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.updateServiceRegionCookie=t.updateListingViewsCookie=t.processPropertyParcelInfoData=t.onOrientationChange=t.getListingViewsCount=t.fireGreatFirstVisitEvent=void 0;var r=a(n("pVnL")),o=a(n("A3BI")),i=a(n("94Bj")),s=a(n("R+zp")),l=a(n("qIWq")),u=a(n("TiKg")),c=a(n("px8L")),d=function(e){return{lat:parseFloat(e.lat),lng:parseFloat(e.long)}};t.processPropertyParcelInfoData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return null;var n=e.bounds;if(n){var a=n.map(d);e.bounds=a}var o=t.omdpReorderExperimentEligibility,l=void 0===o?{}:o,u=l.isEligible&&"VARIANT"===i.default.getVariant(s.default);return u&&e?(0,r.default)({},e,{sectionHeaderText:null}):e};t.updateListingViewsCookie=function(e){if(e){e+="";var t=(0,o.default)("RF_LISTING_VIEWS"),n=t?t.split("."):[],a=n.indexOf(e);a>=0&&n.splice(a,1),n.unshift(e),n.length>20&&(n.length=20);var r=n.join(".");(0,o.default)("RF_LISTING_VIEWS",r,{path:"/",expires:1460,domain:g_cookieDomain})}};t.getListingViewsCount=function(){var e=(0,o.default)("RF_LISTING_VIEWS");return(e?e.split("."):[]).length};t.fireGreatFirstVisitEvent=function(e,t){var n=(0,o.default)("RF_PARTY_ID"),a=e&&"email"===e.utm_medium,r=(0,o.default)("RF_BROWSER_ID_GREAT_FIRST_VISIT_TIMESTAMP");if(r){var s=(0,u.default)(r).toDate(),d=new Date,f=Math.abs(s.getTime()-d.getTime())/36e5<=24,p=(0,o.default)("RF_LISTING_VIEWS"),m=(p?p.split("."):[]).length>1;if(f&&m&&!n&&!a){i.default.isOn(l.default)&&c.default.trackImpression(c.default.impressions.GREAT_FIRST_VISIT,{business_market_id:t});var h=new Date(0);(0,o.default)("RF_BROWSER_ID_GREAT_FIRST_VISIT_TIMESTAMP",h.toDateString(),{path:"/",expires:h,domain:g_cookieDomain})}}};t.updateServiceRegionCookie=function(e){e&&(0,o.default)("RF_LAST_DP_SERVICE_REGION",e,{path:"/",expires:1460})};t.onOrientationChange=function(e){c.default.trackImpression(c.default.impressions.MOBILE_WEB_LDP_ORIENTATION_CHANGE,{new_orientation:e?"landscape":"portrait"})}},fXEA:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("o0o1")),o=a(n("yXPU")),i=n("TlVh"),s=a(n("RBnj")),l=n("+xFC"),u=n("WFin"),c=a(n("ed/o")),d=a(n("cIxY")),f=a(n("3Au8")),p=a(n("wYmU")),m=(0,i.createStoreFactory)({init:function(e){var t=e.mortgageCalculatorStore,n=s.default.createActions(["onNextClick","onPreviousClick","onDoneClick","onSelectComparisonOption"]);this.setState({displayName:"HomeEquityCalculatorStore",actions:n,currentSection:u.HomeEquityCalculatorSections.HOME_EQUITY_FORM,homeEquityUpdated:!1}),this.updateNextEnabled(),this.listenTo(n.onSelectComparisonOption,this.onSelectComparisonOption),this.listenTo(n.onNextClick,this.onNextClick),this.listenTo(n.onPreviousClick,this.onPreviousClick),this.listenTo(n.onDoneClick,this.onDoneClick),t&&t.whenResolved&&(this.doInitialMortgageCalculatorStoreStateSync(t),this.listenTo(t,this.syncMortgageCalculatorStoreState))},onNextClick:function(e){var t=this;return(0,o.default)(r.default.mark(function n(){var a,o,i,s,l,c;return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(p.default.trackNextClick(t.state.currentSection.riftSection),(a=t.state.currentSection.nextSection)!==u.HomeEquityCalculatorSections.BUY_AND_SELL_COMPARISONS.name){n.next=9;break}return o=t.state,i=o.homeSalePrice,s=o.outstandingMortgage,l=o.otherCosts,t.setState({estimatedHomeEquity:(0,d.default)({homeSalePrice:i,outstandingMortgage:s,otherCosts:l}),isNextLoading:!0}),n.next=7,t._setIsOwnedHomeBrokerageEligible();case 7:(c=t._getEligibleOptions()).length>0?(t._preprocessEligibleOptions(c),t.setState({currentSection:u.HomeEquityCalculatorSections[a]})):e&&e();case 9:t.setState({isNextLoading:!1});case 10:case"end":return n.stop()}},n)}))()},onPreviousClick:function(e){p.default.trackBackClick(this.state.currentSection.riftSection);var t=this.state.currentSection.previousSection;t?this.setState({currentSection:u.HomeEquityCalculatorSections[t]}):e&&e()},onDoneClick:function(e){p.default.trackSaveClick(this.state.currentSection.riftSection);var t=this.state,n=t.selectedHomeEquity,a=t.didSelectRefund,r=t.redfinRefund,o=a?n-r:n;c.default.saveHomeEquity(o,n,a,this._getCtaType()),e&&e(),this.setState({currentSection:u.HomeEquityCalculatorSections.HOME_EQUITY_FORM,homeEquityUpdated:!0})},onSelectComparisonOption:function(e){var t=this;this.setState({selectedOption:e}),this.state.eligibleOptions.map(function(n){n.isSelected=n.name===e,n.isSelected&&t._updateSelectedHomeEquity(n.totalEquity,n.canIncludeRedfinRefund)}),this.setState({eligibleOptions:this.state.eligibleOptions}),p.default.trackClick(p.default.clicks.CALC_COMPARISON_BUY_SELL_OPTION_CARD,{option:e})},syncMortgageCalculatorStoreState:function(e){var t=e.address,n=e.propertyId,a=e.ownedHomePropertyId,r=e.claimedHomeInfo,o=e.homeSalePrice,i=e.outstandingMortgage,s=e.otherCosts,l=e.hasNoEstimateError,u=e.listingPrice,c=e.refund;this.setState({address:t,propertyId:n,ownedHomePropertyId:a,claimedHomeInfo:r,homeSalePrice:o,outstandingMortgage:i,otherCosts:s,hasNoEstimateError:l,listingPrice:u,redfinRefund:c}),this.updateNextEnabled()},doInitialMortgageCalculatorStoreStateSync:function(e){this.setState({storeResolved:this._doInitialMortgageCalculatorStoreStateSync(e)})},_doInitialMortgageCalculatorStoreStateSync:function(e){var t=this;return(0,o.default)(r.default.mark(function n(){var a;return r.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.whenResolved();case 2:return a=n.sent,t.syncMortgageCalculatorStoreState(a),n.abrupt("return",!0);case 5:case"end":return n.stop()}},n)}))()},updateNextEnabled:function(){this.setState({nextEnabled:this._isNextEnabled()})},_isNextEnabled:function(){return this.state.currentSection!==u.HomeEquityCalculatorSections.HOME_EQUITY_FORM||[this.state.homeSalePrice,this.state.outstandingMortgage,this.state.otherCosts].every(function(e){return"number"==typeof e})},_getEligibleOptions:function(){var e=this.state,t=e.estimatedHomeEquity,n=e.redfinRefund,a=e.isOwnedHomeBrokerageEligible,r=[];return a||n?(a&&r.push(u.BuyAndSellComparisonOptions.BUY_AND_SELL_WITH_REDFIN),n&&r.push(u.BuyAndSellComparisonOptions.BUY_WITH_REDFIN),r.push(u.BuyAndSellComparisonOptions.BUY_AND_SELL_WITH_TRADITIONAL_BROKERAGE),r):(c.default.saveHomeEquity(t,t,!1,this._getCtaType()),[])},_preprocessEligibleOptions:function(e){var t=this,n=this.state,a=n.homeSalePrice,r=n.estimatedHomeEquity,o=n.redfinRefund,i=n.isOwnedHomeBrokerageEligible,s=e[0].name,u=s;e.map(function(e){var n=e.listingFeePercent,c=e.savingsPercent,d=e.canIncludeRedfinRefund,f=a*(n/100),p=d?o:0,m=Math.round(r-f+p),h=i&&e.name===s;e.totalEquity=m,e.listingFee=(0,l.formatPrice)(f),e.totalSavings=(0,l.formatPrice)(a*(c/100)+p),e.isHighestSavings=h,e.isSelected=u===e.name;var g=o?d?" + Redfin Refund":" + no refund":"";e.listingFeeCopy="".concat(n,"% listing fee").concat(g),e.isSelected&&t._updateSelectedHomeEquity(m,d)}),this.setState({selectedOption:u,eligibleOptions:e,redfinRefund:o})},_setIsOwnedHomeBrokerageEligible:function(){var e=this;return(0,o.default)(r.default.mark(function t(){var n,a;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,f.default)(e.state.ownedHomePropertyId);case 2:n=t.sent,a=n.isEligible,e.setState({isOwnedHomeBrokerageEligible:a});case 5:case"end":return t.stop()}},t)}))()},_updateSelectedHomeEquity:function(e,t){this.setState({selectedHomeEquity:e,didSelectRefund:!!t})},_getCtaType:function(){var e=this.state,t=e.ownedHomePropertyId,n=e.isOwnedHomeBrokerageEligible;return t?n?u.HomeEquityCtaType.SCF_PAGE:u.HomeEquityCtaType.AGENT_PROFILE_PAGE:u.HomeEquityCtaType.SCF_ADDRESS_PAGE}});t.default=m,e.exports=t.default},fgAv:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n("17x9"));var r=n("ss/Q"),o=n("j1NT"),i=n("jbDj"),s=a(n("94Bj")),l=a(n("7SUW")),u=a(n("jGyf")),c=a(n("D0QW")),d=a(n("UT8e"));n("xWdR");var f=function(){c.default.trackClick(c.default.clicks.MORTGAGE_RATES_ENTRYPOINT_LINK)},p=function(e){var t=e.publicRecordsInfo,n=e.addressSectionInfo;s.default.isOn(u.default)&&(new l.default).initialize({experiment:u.default});c.default.trackImpression(c.default.impressions.MORTGAGE_RATES_ENTRYPOINT_LINK_START);var a=(0,r.getEstimatedMontlyPymt)(t),p=a&&a.content,m={property_zip:null==n?void 0:n.zip,context:(0,o.getLenderConnectLDPAboveTheFoldContext)()},h="".concat("/mortgage-get-pre-approved","?").concat((0,i.toQueryString)(m)),g="Get pre-approved";switch(s.default.getVariant(u.default)){case"Variant1":g="Find a lender",h+="&desc=findlender";break;case"Variant2":g="Get a custom quote",h+="&desc=getloan";break;case"Variant3":g="Get pre-qualified",h+="&desc=getprequalified";break;default:g="Get pre-approved"}return React.createElement(d.default,c.default.impressions.MORTGAGE_RATES_ENTRYPOINT_LINK,React.createElement("div",{className:"MortgageQuoteEntryPoint"},React.createElement("span",{className:"est-monthly-payment"},"Est. ",p,"/mo"),React.createElement("span",null,React.createElement("a",{href:h,target:"_blank",onClick:f},g))))};p.propTypes={},p.defaultProps={publicRecordsInfo:null};var m=p;t.default=m,e.exports=t.default},filF:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("lSNA")),f=a(n("LDFp")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),m=a(n("8Jek")),h=a(n("17x9")),g=a(n("1RMg")),_=a(n("1AMb")),v=a(n("GDDB")),y=a(n("/LTY")),E=a(n("bo1D"));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}n("VGar"),f.default.ensure(n("9/ZL"),n("80RJ"),n("s0m6"));var T=function(e){(0,l.default)(n,e);var t=I(n);function n(e){var a;return(0,i.default)(this,n),(a=t.call(this,e)).state={fullScreen:!1},a}return(0,s.default)(n,[{key:"componentDidMount",value:function(){E.default.fireQueuedImpressions(),this._buildingPageEligible()&&this.domNode&&E.default.trackImpression(E.default.impressions.BUILDING_PAGE_ELIGIBLE,null,this.domNode)}},{key:"render",value:function(){try{return this.props.mainHouseInfo?this._renderSection():null}catch(e){console.error("MainHouseInfoPanel error: ",e)}return null}},{key:"_renderSection",value:function(){var e,t,n=this,a=[],r=this.props.mainHouseInfo;this.props.pageType!==g_detailsPageType.OFF_MARKET||this.props.listingId||null!==(e=this.props.mainHouseInfo)&&void 0!==e&&e.marketingRemarks&&0!==(null===(t=this.props.mainHouseInfo)||void 0===t?void 0:t.marketingRemarks.length)||this.props.descriptiveParagraphInfo&&this.props.descriptiveParagraphInfo.homeFeaturesText&&a.push(this._renderPDPHomeText()),a.push(this._renderHomeSummary(r));var o=r&&r.showOffMarketWarning?p.default.createElement(v.default,null):null,i=(0,m.default)({removeSectionTopPadding:this.props.isInNov2021OMDPReorderVariant2});return p.default.createElement(_.default,{name:"MainHouseInfoPanel",className:i,addTopRule:this.props.addTopRule},p.default.createElement("div",{className:"sectionContainer",ref:function(e){return n.domNode=e}},p.default.createElement("h2",{className:"heading-medium padding-bottom-medium inline-block mainHouseInfoPanelHeader sectionHeaderContainer"},"About This Home"),o,p.default.createElement("div",{className:"house-info-container"},p.default.createElement("div",{className:"house-info",id:"house-info","data-rf-test-id":"house-info"},a))))}},{key:"_buildingPageEligible",value:function(){return g.default.isOn(f.default.BUILDING_PAGES)&&g.default.isOn(f.default.BUILDING_ON_DP)&&this.props.buildingInfo&&this.props.buildingHeroShotInfo&&this.props.buildingForSaleUnits}},{key:"_renderPDPHomeText",value:function(){var e=this.props.descriptiveParagraphInfo;return p.default.createElement("div",{className:"omdp-about-this-home-text"},e.homeFeaturesText," This home is currently off market",e.offMarketText?" - "+e.offMarketText+".":".",e.avmText&&" "+e.avmText+".")}},{key:"_renderHomeSummary",value:function(e){var t=this.props.shouldRenderUrgency?{priceDropInfo:this.props.priceDropInfo,popularityInfo:this.props.popularityInfo,hotMarketInfo:this.props.hotMarketInfo,rareFindInfo:this.props.rareFindInfo,contactBoxInfo:this.props.contactBoxInfo,datePickerInfo:this.props.datePickerInfo,mainHouseInfo:e}:{};return p.default.createElement(y.default,(0,o.default)({key:"hs"},e,{listingId:this.props.listingId,deviceConfig:this.props.deviceConfig,isRedfinListing:this.props.addressSectionInfo.isRedfin,dataSourceId:this.props.dataSourceId,activityInfo:this.props.activityInfo,mainHouseInfo:this.props.mainHouseInfo,addressSectionInfo:this.props.addressSectionInfo,personalizationInfo:this.props.personalizationInfo,accessLevel:this.props.accessLevel,experimentStore:this.props.experimentStore,buildingInfo:this.props.buildingInfo,publicRecordsInfo:this.props.publicRecordsInfo,pageType:this.props.pageType,amenities:this.props.amenitiesInfo,hideKeyFacts:this.props.pageType===g_detailsPageType.OFF_MARKET&&this.props.isInNov2021OMDPReorderVariant2,shouldRenderUrgency:this.props.shouldRenderUrgency},t))}},{key:"_propertyIsActivish",value:function(){return this.props.mainHouseInfo&&this.props.mainHouseInfo.propertyIsActivish}}],[{key:"propTypes",get:function(){return{deviceConfig:h.default.number,photos:h.default.array,avmInfo:h.default.object,mainHouseInfo:h.default.object,publicRecordsInfo:h.default.object,privateNotesStore:h.default.object,experimentStore:h.default.object,openHouseInfo:h.default.object,contactBoxInfo:h.default.object,addTopRule:h.default.bool,buildingInfo:h.default.object,buildingHeroShotInfo:h.default.object,buildingForSaleUnits:h.default.array,shouldRenderUrgency:h.default.bool}}},{key:"defaultProps",get:function(){return{addTopRule:!1,mainHouseInfo:{},shouldRenderUrgency:!1}}}]),n}(p.Component);t.default=T,(0,d.default)(T,"displayName","MainHouseInfoPanel"),T.getComponentDependencies=function(){return{dependencies:["addressSectionInfo","activityInfo","mainHouseInfo","personalizationInfo","contactBoxInfo","accessLevel","buildingInfo","dataSourceId","publicRecordsInfo","marketId","pageType","descriptiveParagraphInfo"],clientDependencies:["privateNotesStore","priceDropInfo","amenitiesInfo"]}},e.exports=t.default},"g/8Y":function(e,t,n){},"g2w+":function(e,t,n){},g9Ky:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("lSNA")),d=(a(n("17x9")),a(n("QKRl")));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var p=n("YAhj"),m=n("MWVY"),h=n("hYGx"),g=n("8ORy"),_=n("Prq+"),v=n("qUUz"),y=n("54CJ"),E=n("TvVP"),S=n("QCZK"),I=function(e){(0,s.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,c.default)((0,i.default)(e),"_findFeedbackItemById",function(e){for(var t=0;t<n.items.length;t++)if(n.items[t].id===e)return n.items[t]}),(0,c.default)((0,i.default)(e),"_isItemEnabled",function(t){return e.props.feedbackIds.length>0&&e.props.feedbackIds.indexOf(t)>-1}),(0,c.default)((0,i.default)(e),"_getSvgIcon",function(e){return e.svg?e.svg:null}),(0,c.default)((0,i.default)(e),"deviceIsMobile",function(){return e.props.deviceConfig===g_deviceConfiguration.PHONE}),(0,c.default)((0,i.default)(e),"_getFeedbackNoteItems",function(){var t=n.items.map(m.hitch((0,i.default)(e),function(e,t){var n="noted-item ";return n+=this._isItemEnabled(e.id)?"":"disabled",p.createElement("td",{className:n,key:"note-"+t},p.createElement("div",{className:"noted-icon-bg"},p.createElement("div",{className:"noted-icon"},this._getSvgIcon(e))),p.createElement("div",{className:"noted-item-label"},e.title))}));return e.deviceIsMobile()&&t.sort(function(e,t){return(-1===t.props.className.indexOf("disabled"))-(-1===e.props.className.indexOf("disabled"))}),p.createElement("table",{className:"noted",cellSpacing:"0"},p.createElement("tbody",null,p.createElement("tr",null,t)))}),e}return(0,o.default)(n,[{key:"render",value:function(){return p.createElement("div",{className:"FeedbackNotes also-noted"},this._getFeedbackNoteItems())}}]),n}(p.Component);(0,c.default)(I,"displayName","FeedbackNotes"),(0,c.default)(I,"items",[{id:1,title:"Heavy Touring",svg:p.createElement(d.default,null),className:"sprite-noted-heavytour"},{id:2,title:"Open Floorplan",svg:p.createElement(S,null),className:"sprite-noted-openfloorplan"},{id:4,title:"Lots of Light",svg:p.createElement(v,null),className:"sprite-noted-light"},{id:8,title:"Needs Work",svg:p.createElement(E,null),className:"sprite-noted-needswork"},{id:16,title:"Killer Views",svg:p.createElement(_,null),className:"sprite-noted-views"},{id:32,title:"Big Backyard",svg:p.createElement(g,null),className:"sprite-noted-bigyard"},{id:64,title:"Must See",svg:p.createElement(y,null),className:"sprite-noted-mustsee"},{id:128,title:"Street Noise",svg:p.createElement(h,null),className:"sprite-noted-streetnoise"}]),I.propTypes={},e.exports=I},g9ws:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=(0,d.getRiftImpressionsKey)("AAQ_NAME_DIALOG",e);e.showBDXExperience?c.default.trackImpression(c.default.impressions.ASK_BDX_NAME_DIALOG):u.default.trackImpressionWithDefaults(u.default.impressions[t]);return o.default.createElement("div",{className:"aaq-two-input-stage"},o.default.createElement("div",{className:"aaq-two-input-stage-title"},e.inlineHeader),o.default.createElement(i.default,{formName:e.formName,className:"aaq-two-input-stage-form"},o.default.createElement(s.default,(0,r.default)({className:"aaq-two-input-stage-text",type:"text",autofocus:!0},e.fields.firstName,{onFocus:function(){return(0,d.trackOnFirstNameFocus)(t,e)}})),o.default.createElement(s.default,(0,r.default)({className:"aaq-two-input-stage-text",type:"text"},e.fields.lastName,{onFocus:function(){return(0,d.trackOnLastNameFocus)(t,e)}})),o.default.createElement(l.default,{className:"aaq-two-input-stage-button",type:"primary",formSubmit:!0,disabled:e.shouldDisableSubmit,onFocus:function(){return e.showBDXExperience?c.default.trackClick(c.default.clicks.ASK_BDX_NAME_DIALOG_NEXT_CLICK):(0,d.trackNextButtonClick)(t,e)}},"Next")))};var r=a(n("pVnL")),o=a(n("mXGw")),i=a(n("t/kO")),s=a(n("Xecl")),l=a(n("ma35")),u=a(n("YqrK")),c=a(n("DT4l")),d=n("2tHw");n("zKrU"),e.exports=t.default},gDIX:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("J4zp")),i=a(n("Kssv")),s=a(n("6acW")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),u=a(n("8Jek")),c=n("cMqt"),d=a(n("WqrT")),f=a(n("7RE6")),p=a(n("mQuN")),m=a(n("UT8e")),h=n("osI4"),g=a(n("ma35"));n("V1Tj");var _=a(n("ws6r"));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}var y=c.logging.getLogger({name:"corvair.sites.customer-pages.pages.homeDetails.components.publicRecords.zoning.ZoningLandUseDialogContent",color:{server:227,client:"rgb(212,212,42)"}}),E={name:"AS_OF_RIGHT_FLYOUT_TYPE",definition:"\n        Allowed without special conditions or permits.\n    ",link:"/definition/permitted-land-use"},S={name:"ACCESSORY_FLYOUT_TYPE",definition:"\n        Generally allowed secondarily to main or principal use.\n    ",link:"/definition/accessory-land-use"},I={name:"CONDITIONAL_FLYOUT_TYPE",definition:"\n        Require local approval and may undergo a special permitting process.\n    ",link:"/definition/conditional-land-use"},T=function(e){var t=e.isExpanded,n=e.setIsExpanded,a=e.handleShowMoreLinkClick,r=t?"Show less":"Show more",o=t?f.default:p.default;return l.default.createElement(g.default,{className:"text compact unpadded showMoreOrLessButton",onClick:function(){a&&a(!t),n(!t)},svgAsset:o,iconRight:!0},r)},C=function(e){var t,n,a,r=e.title,u=e.stringArray,c=e.definitionFlyout,d=e.riftOptions,f=(0,l.useState)(!1),p=(0,o.default)(f,2),h=p[0],g=p[1];if(!u||!Array.isArray(u)||0===u.length)return null;var _=u,v=u.length>3;v&&!h&&(_=(0,i.default)(u,0,3));var y={isExpanded:h,setIsExpanded:g,handleShowMoreLinkClick:null==d?void 0:d.handleShowMoreLinkClick};return l.default.createElement("div",{className:"zoningLandUseSubContainer"},l.default.createElement("div",{className:"h3 zoningLandUseHeader"},r,c),l.default.createElement("div",{className:"row"},l.default.createElement("ul",{className:"col-12 zoningLandUseListWrapper"},null===(t=_)||void 0===t?void 0:t.map(function(e){return l.default.createElement("li",{className:"zoningLandUseListElement"},l.default.createElement("span",{className:"zoningLandUseContent"},(n=t=e).toUpperCase()===n?t.split(" ").map(function(e){return(0,s.default)(e)}).join(" "):t));var t,n}))),v&&l.default.createElement("div",{className:"row"},l.default.createElement(m.default,{section:null==d?void 0:null===(n=d.showMoreLinkImpression)||void 0===n?void 0:n.section,target:null==d?void 0:null===(a=d.showMoreLinkImpression)||void 0===a?void 0:a.target},l.default.createElement("div",{className:"col-12"},l.default.createElement(T,y)))))},b=function(e){var t=e.name,n={className:"definitionFlyout",infoIcon:!0,position:"below",openLinkInNewTab:!0,definition:e.definition,definitionLink:e.link,moreInfoText:"Learn more",onShowDefinitionFlyout:function(){t===E.name?_.default.trackClick(_.default.clicks.ZONING_LAND_USE_MODAL_PERMITTED_FLYOUT):t===S.name?_.default.trackClick(_.default.clicks.ZONING_LAND_USE_MODAL_ACCESSORY_FLYOUT):t===I.name?_.default.trackClick(_.default.clicks.ZONING_LAND_USE_MODAL_CONDITIONAL_FLYOUT):y.error("Rift Error in ZoningLandUseDialogContent.jsx. Unknown FLYOUT_TYPE: ".concat(t))}};return l.default.createElement(d.default,n)},k=function(){return(0,h.getCurrentDeviceType)()===h.DeviceTypes.DESKTOP},R=function(e){var t=e.zoningDataInfo,n={showMoreLinkImpression:_.default.impressions.ZONING_LAND_USE_MODAL_PERMITTED_SHOW_MORE_LINK,handleShowMoreLinkClick:function(e){_.default.trackClick(_.default.clicks.ZONING_LAND_USE_MODAL_PERMITTED_SHOW_MORE_LINK,{isExpanded:e})}},a={showMoreLinkImpression:_.default.impressions.ZONING_LAND_USE_MODAL_ACCESSORY_SHOW_MORE_LINK,handleShowMoreLinkClick:function(e){_.default.trackClick(_.default.clicks.ZONING_LAND_USE_MODAL_ACCESSORY_SHOW_MORE_LINK,{isExpanded:e})}},r={showMoreLinkImpression:_.default.impressions.ZONING_LAND_USE_MODAL_PERMITTED_SHOW_MORE_LINK,handleShowMoreLinkClick:function(e){_.default.trackClick(_.default.clicks.ZONING_LAND_USE_MODAL_CONDITIONAL_SHOW_MORE_LINK,{isExpanded:e})}},o=(0,u.default)("ZoningLandUseDialogContent",{desktopDP:k(),mobileDP:!k()});return l.default.createElement("div",{className:o},l.default.createElement(C,{title:'Permitted uses ("as-of-right")',stringArray:null==t?void 0:t.asOfRightLandUse,definitionFlyout:b(E),riftOptions:n}),l.default.createElement(C,{title:"Accessory land uses",stringArray:null==t?void 0:t.accessoryLandUse,definitionFlyout:b(S),riftOptions:a}),l.default.createElement(C,{title:"Conditional land uses",stringArray:null==t?void 0:t.conditionalLandUse,definitionFlyout:b(I),riftOptions:r}))};t.default=R,e.exports=t.default},gEcG:function(e,t,n){},gZJS:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=(a(n("17x9")),a(n("WqrT"))),i=a(n("Slvb")),s=a(n("adRd")),l=a(n("4eMn")),u=function(e){return e.amenityEntries.length>0},c=function(e){var t=e.commission,n=null;return n=e.isPhone?React.createElement(o.default,(0,r.default)({},s.default,{definition:s.default.getPercentageDefinition(t)}),"Buyer's Agent Commission"):React.createElement("div",{className:"isDesktop"},React.createElement(o.default,(0,r.default)({},s.default,{definition:s.default.getPercentageDefinition(t)}),"Buyer's Agent Commission")),React.createElement("div",{className:"amenity-group"},React.createElement("h3",{className:"title font-color-gray-dark font-weight-bold propertyDetailsHeader"},n),React.createElement("ul",null,React.createElement("li",{className:"entryItem"},React.createElement("span",{className:"entryItemContent"},t))))};function d(e){var t=e.groupTitle,n=e.groups,a=void 0===n?[]:n,r=e.isPhone,o=e.extension;return React.createElement(React.Fragment,null,React.createElement("div",{key:"groupTitle",className:"super-group-title"},t),React.createElement("div",{key:"groupContent",className:"super-group-content"},a.filter(u).map(function(e,t){var n=e.groupTitle,a=e.amenityEntries;return"Buyer’s Agent Commission"===n?a[0]&&a[0].amenityValues&&a[0].amenityValues[0]?React.createElement(c,{commission:a[0].amenityValues[0],isPhone:r}):null:React.createElement(i.default,{rowTitle:n,entries:a,key:t,extension:0===t&&o})}),0===a.length&&t===l.default.AMENITY_GROUP_TYPE_UTILITIES.displayName&&React.createElement(i.default,{extension:o})))}d.propTypes={},d.defaultProps={isPhone:!1};var f=d;t.default=f,e.exports=t.default},gr7s:function(e,t,n){},h1Tg:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("LDFp"));o.default.ensure(n("tTYd"));var i=n("pBXq").default,s=(0,r.default)(new i,{name:"AmmenitiesInfoRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{PROPERTY_DETAILS:{section:"property_details",target:""},SUBSECTION_INTERIOR:{section:"property_details",target:"subsection_interior"},SUBSECTION_EXTERIOR:{section:"property_details",target:"subsection_exterior"},SUBSECTION_NEIGHBORHOOD:{section:"property_details",target:"subsection_neighborhood_community"},SUBSECTION_OTHER:{section:"property_details",target:"subsection_other"},REGISTRATION_BOX:{section:"property_details",target:"registration"},EXPOSED_VIRTUAL_TOUR_URL:{section:"property_details",target:"exposed_virtual_tour",unique:"url"}},clicks:{DRAG_CLOSE:{section:"property_details",target:"modal_swipe_down"},CLICK_CLOSE:{section:"property_details",target:"modal_close_button"},FULL_DETAILS:{section:"property_details",target:"see_full_details_link"},LEARN_MORE:{section:"property_details",target:"learn_more_link"},SIGN_IN:{section:"property_details",target:"registration_sign_in_link"},JOIN:{section:"property_details",target:"registration_join_link"},STATUS_FLYOUT_LINK:{section:"property_details",target:"status_flyout_link"},ESTIMATE_FLYOUT_LINK:{section:"property_details",target:"estimate_flyout_link"},FLYOUT_ACCURACY_LINK:{section:"property_details",target:"estimate_flyout_accuracy_link"},FLYOUT_FEEDBACK_LINK:{section:"property_details",target:"estimate_flyout_feedback_link"},BUYERS_COMMISSION_FLYOUT:{section:"property_details",target:"buyers_brokerage_flyout"}}});e.exports=s},h1io:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchHomeSaleInfo=void 0;var a=n("Q+Iq");t.fetchHomeSaleInfo=function(e){var t=e.propertyId;return(0,a.getEndpoint)("/stingray/api/home/details/mortgageCalculatorHomeSaleInfo",{propertyId:t})}},hLSw:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("LDFp")),i=a(n("pBXq"));o.default.ensure(n("tTYd"));var s=(0,r.default)(new i.default,{name:"MediaBrowserInlineCTARiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],impressions:{INLINE_CTA_VIEWED:{section:"full_screen_mobile_web_phone_media_browser",target:"inline_CTA",expectedParams:["property_id","listing_id","time_tile_displayed"]},PHOTO:{section:"full_screen_mobile_web_phone_media_browser",target:"photo",expectedParams:["num_photos","photo_num"],trackGA:!1},INLINE_CTA_VIEWED_DESKTOP:{section:"full_screen_media_browser_list",target:"inline_cta",trackGA:!1}},clicks:{INLINE_CTA_TIME_TILE_CLICKED:{section:"full_screen_mobile_web_phone_media_browser",target:"inline_CTA_time_tile",expectedParams:["property_id","listing_id","time_tile_displayed","time_tile_selected"]},INLINE_CTA_MORE_LINK_CLICKED:{section:"full_screen_mobile_web_phone_media_browser",target:"inline_CTA_more_link",expectedParams:["property_id","listing_id","time_tile_displayed","time_tile_selected"]},INLINE_CTA_TOUR_LINK:{section:"full_screen_mobile_web_phone_media_browser",target:"inline_CTA_tour_link",expectedParams:["is_partner"]},INLINE_CTA_TIME_TILE_CLICKED_DESKTOP:{section:"full_screen_media_browser_list",target:"inline_CTA_time_tile",expectedParams:["time_tile_displayed","time_tile_selected"],trackGAOnce:!1},INLINE_CTA_MORE_LINK_CLICKED_DESKTOP:{section:"full_screen_media_browser_list",target:"inline_CTA_more_link",expectedParams:["time_tile_displayed","time_tile_selected"],trackGAOnce:!1},INLINE_CTA_TOUR_LINK_DESKTOP:{section:"full_screen_media_browser_list",target:"inline_CTA_tour_link",trackGAOnce:!1}}});e.exports=s},haQS:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.generateSuggestedMessages=function(e){return i(e)?["I'd like more home details.","I'm interested in buying.","Is this home still available?"]:null},t.isInPartnerSubsequentAAQVariant=function(){return o.default.isOn(o.default.feature.PARTNER_SUBSEQUENT_AAQ)&&o.default.isOn(o.default.feature.PARTNER_SUBSEQUENT_TOURS_AAQ)&&"Variant"===o.default.getVariant(o.default.feature.PARTNER_SUBSEQUENT_TOURS_AAQ)},t.isPartnerPreferredContactMethodsEligible=function(e){return e&&"Variant"===o.default.getVariant(o.default.feature.PARTNER_PREFERRED_CONTACT_METHODS_WEB_AAQ_V2)},t.isPartnerSuggestedMessagesEligible=i;var r=a(n("3sJa")),o=a(n("94Bj"));function i(e){return e.isPartnerAgent&&e.contactServiceType===r.default.id}a(n("LDFp")).default.ensure(n("zEQG"),n("bG8c"),n("pZiF"))},"hlq+":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),d=a(n("17x9")),f=a(n("8Jek")),p=a(n("ma35")),m=n("osI4"),h=a(n("LlW6")),g=n("T9bc");function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("9XWZ");var y=function(e){(0,s.default)(n,e);var t=v(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={hasMounted:!1},a.isDesktop="desktop"===(0,m.getCurrentDeviceType)(),a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.setState({hasMounted:!0})}},{key:"render",value:function(){return this.props.tourTimes?c.default.createElement("div",{className:"nextTourTimes","data-rf-test-name":"nextTourTimes"},this.state.hasMounted?this._renderNextTourTimeLinks():this._renderLoadingAnimation()):null}},{key:"_renderMoreTourTimesLink",value:function(){return c.default.createElement("a",{className:"clickable","data-rf-test-name":"moreTourTimesLink",key:"moreTimesLink",onClick:this.props.onMoreClick},this.isDesktop&&!this.props.useConciseFormat?"More times":"More")}},{key:"_renderLoadingAnimation",value:function(){if(!this.state.hasMounted){var e=(0,f.default)("timeLoadingList",{isTourToday:this.props.isNextTourTimeToday},{standaloneTimes:!this.props.showTodayOrTomorrow}),t=this.props.showMoreLink?[c.default.createElement("div",{className:"moreTimesLinkPlaceholder",key:"moreTimes"},c.default.createElement(h.default,null))]:[];return c.default.createElement("span",{className:e},c.default.createElement("span",{className:"nextTourTimesDay"},this.props.showTodayOrTomorrow&&(this.props.isNextTourTimeToday?"Today:":"Tomorrow:")),this.props.tourTimes.map(function(e){var t=e.date;return c.default.createElement("div",{className:"timeLinkPlaceholder",key:t},c.default.createElement(h.default,null))}).concat(t))}}},{key:"_renderNextTourTimeLinks",value:function(){var e=this,t=(0,f.default)("timeLinkList",{isTourToday:this.props.isNextTourTimeToday},{standaloneTimes:!this.props.showTodayOrTomorrow}),n=this.props.showMoreLink?[this._renderMoreTourTimesLink()]:[];return c.default.createElement("span",{className:t,"data-rf-test-name":"tourTimeLinkList"},c.default.createElement("span",{className:"nextTourTimesDay"},this.props.showTodayOrTomorrow&&(this.props.isNextTourTimeToday?"Today:":"Tomorrow:")),this.props.tourTimes.map(function(e){return e.date}).map(function(t){return c.default.createElement(p.default,{key:t,className:"text unpadded timeLink",onClick:function(){return e.props.onTimeLinkClick({time:t})}},e.isDesktop&&!e.props.useConciseFormat?(0,g.getTimeStringForTime)(t,e.props.tourTimeZone):(0,g.getConciseTimeStringForTime)(t,e.props.tourTimeZone))}).concat(n).reduce(function(e,t){return[e," • ",t]}))}}],[{key:"propTypes",get:function(){return{tourTimes:d.default.array,tourTimeZone:d.default.string,isNextTourTimeToday:d.default.bool,onMoreClick:d.default.func,onTimeLinkClick:d.default.func,showMoreLink:d.default.bool,showTodayOrTomorrow:d.default.bool}}},{key:"defaultProps",get:function(){return{tourTimes:[],tourTimeZone:"America/Los_Angeles",isNextTourTimeToday:!1,showMoreLink:!0,showTodayOrTomorrow:!0}}}]),n}(c.Component);t.default=y,e.exports=t.default},hmmP:function(e,t,n){"use strict";var a=n("TqRt")(n("3OWR")),r=n("pBXq").default,o=(0,a.default)(new r,{name:"OpenHousesRiftTrackerOpenHousesRiftTracker",trackAllEventsInGA:!0,impressions:{OPEN_HOUSES:{section:"open_houses",target:"",expectedParams:["num_upcoming"]},OPEN_HOUSES_TOUR_CTA_EXPERIMENT_ELIGIBLE:{section:"open_houses",target:"",expectedParams:["device_category"]},VIDEO_OPEN_HOUSE_SUBHEADER:{section:"open_houses",target:"video_open_house_subheader"}},clicks:{SAVE_TO_OPEN_HOUSE:{section:"open_houses",target:"add_to_open_house_list_button",expectedParams:["click_result","num_upcoming"]},REMOVE_OPEN_HOUSE:{section:"open_houses",target:"remove_open_house"},VIEW_SCHEDULE:{section:"open_houses",target:"view_open_house_schedule"},FLYOUT_VIEW_OPEN_HOUSE:{section:"open_houses",target:"flyout_view_open_house_list_link",expectedParams:[]},MORE_OPTIONS:{section:"open_houses",target:"more_options"},OPEN_HOUSE_TOUR_CTA:{section:"open_houses",target:"schedule_tour",expectedParams:["num_upcoming"]},LDP_OPEN_HOUSES_CTA_TIME_TILE_CLICKED:{section:"open_houses",target:"time_tile",expectedParams:["property_id","listing_id","time_tile_selected","time_tile_selected_time_zone","tour_type"]},LDP_OPEN_HOUSES_CTA_MORE_LINK_CLICKED:{section:"open_houses",target:"more_times_link",expectedParams:["property_id","listing_id","tour_type"]},VIDEO_JOIN:{section:"open_houses",target:"video_join",expectedParams:["is_live_now","start_time","property_id","listing_id"]},VIDEO_OPEN_HOUSE_FLYOUT:{section:"open_houses",target:"video_open_house_flyout"},INFO_LINK:{section:"open_houses",target:"info_link",expectedParams:["is_video","property_id","listing_id"]},ADD_TO_CALENDAR:{section:"open_houses",target:"add_to_calendar_button"},GOOGLE_CALENDAR_CLICK:{section:"open_houses",target:"google_calendar_button"},YAHOO_CALENDAR_CLICK:{section:"open_houses",target:"yahoo_calendar_button"},ICAL_CALENDAR_CLICK:{section:"open_houses",target:"ical_calendar_button"},OUTLOOK_CALENDAR_CLICK:{section:"open_houses",target:"outlook_calendar_button"}}});e.exports=o},hqHB:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("yA4U")),o=a(n("z8bs")),i=a(n("D1FA")),s=a(n("/i1X")),l={1:r.default,2:o.default,3:i.default,4:s.default};t.default=l,e.exports=t.default},hswt:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("36Ob")).default;t.default=r,e.exports=t.default},hwKh:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("mXGw")),d=a(n("17x9")),f=a(n("xARA")),p=a(n("8Jek")),m=a(n("1AMb")),h=a(n("LyPA")),g=a(n("kxWP")),_=a(n("jJDs")),v=a(n("t/n8")),y=a(n("McMD"));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("pX42");var S=function(){g.default.trackClick(g.default.clicks.EXPAND_MAP)},I=function(){g.default.trackClick(g.default.clicks.STREET_VIEW_LINK)},T=function(){g.default.trackClick(g.default.clicks.DIRECTIONS_LINK_CLICK)},C=function(){g.default.trackClick(g.default.clicks.MAP_NEARBY)},b=function(e){var t={fsid:e};g.default.trackClick(g.default.clicks.FLOOD_LINK_CLICK,t)},k=function(e){(0,s.default)(n,e);var t=E(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this.trackImpression()}},{key:"trackImpression",value:function(){var e=f.default.findDOMNode(this);e&&g.default.trackImpression(g.default.impressions.MINIMAP_SECTION,{is_ghost_town:!this.props.propertyParcelInfo,has_parcel:this.props.propertyParcelInfo&&!!this.props.propertyParcelInfo.bounds,ga_label:{is_ghost_town:!this.props.propertyParcelInfo}},e)}},{key:"render",value:function(){var e=this.props.addressSectionInfo&&(!this.props.propertyParcelInfo||!this.props.addressSectionInfo.isMappable),t=(0,p.default)({MiniMapSection:!0,GhostTownMiniMapSection:e}),n=this.props.pageType===g_detailsPageType.ACTIVE||this.props.pageType===g_detailsPageType.ACTIVE_PENDING,a=this.props.commuteInfo&&this.props.commuteInfo.shouldNotRender||!n,o=c.default.createElement(v.default,{placeHolder:c.default.createElement(y.default,{centerPosition:"both"}),placeHolderMinHeight:200,uniqueKey:"desktop-commute",offset:0},c.default.createElement(_.default,{initialData:this.props.commuteInfo,mapStore:this.props.miniMapStore,origin:this.props.addressSectionInfo.latLong,timeZone:this.props.addressSectionInfo.soldDateTimeZone}));return c.default.createElement(m.default,{name:t},c.default.createElement("div",{className:"miniMap",rfTestId:"minimap-expandable-preview"},c.default.createElement("div",{className:"sectionContainer"},c.default.createElement("div",{className:"main-content"},c.default.createElement(h.default,(0,r.default)({onDirectionsClick:T,onExpandMap:S,onStreetViewClick:I,onMapNearbyClick:C,onFloodDataClick:b,isGhostTown:e,showCommute:!a},this.props)),a?null:o))))}}],[{key:"displayName",get:function(){return"MiniMapSection"}},{key:"propTypes",get:function(){return{width:d.default.number,commuteInfo:d.default.object}}},{key:"defaultProps",get:function(){return{width:728}}}]),n}(c.default.Component);k.getComponentDependencies=function(){return{dependencies:["mainHouseInfo","addressSectionInfo","propertyParcelInfo","personalizationInfo","quickMapStore","miniMapStore","parcelStream","pageType","dataSourceId","floodStore"]}},e.exports=k},i7W0:function(e,t,n){},i7n7:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("72T9")),o={shouldShowDownPaymentSellsideFlyout:function(){var e=JSON.parse((0,r.default)("sellside_downpymtflyout_cookie")||"{}"),t=e.count,n=void 0===t?0:t,a=e.firstSeen,o=void 0===a?new Date:a,i=e.firstDismissed,s=void 0===i?new Date:i,l=e.numDismissed,u=void 0===l?0:l,c=this._hasBeen24Hours(Date.parse(o)),d=this._hasBeen3Weeks(Date.parse(s)),f=c?new Date:o,p=d?new Date:s,m=!c&&n<2&&!d&&u<3||!!c&&u<3||!!d&&n<2||!!c&&!!d,h=n;return m&&!c?h=n+1:m&&c&&(h=1),(0,r.default)("sellside_downpymtflyout_cookie",JSON.stringify({count:h,firstSeen:f,firstDismissed:p,numDismissed:d?0:u}),{expires:1095,path:"/"}),m},onCloseSellsidePushFlyout:function(){var e=JSON.parse((0,r.default)("sellside_downpymtflyout_cookie")||"{}"),t=e.count,n=void 0===t?0:t,a=e.firstSeen,o=void 0===a?new Date:a,i=e.numDismissed,s=void 0===i?0:i,l=e.firstDismissed,u=void 0===l?new Date:l,c=this._hasBeen3Weeks(o);(0,r.default)("sellside_downpymtflyout_cookie",JSON.stringify({count:n,firstSeen:o,numDismissed:c?1:s+1,firstDismissed:c||0===s?new Date:u}),{expires:1095,path:"/"})},_hasBeen24Hours:function(e){return new Date-e>864e5},_hasBeen3Weeks:function(e){return new Date-e>18144e5}};t.default=o,e.exports=t.default},iDTg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n("RBnj").createActions)(["hideHaveWeMetDialog","loginSuccess","storeSubmitButtonRiftClick","preferredContactMethodChange","navigateBack"]);t.default=a,e.exports=t.default},iRzG:function(e,t,n){},iXF3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n("RBnj").createActions)(["toggleCollapsibleSubsection"]);t.default=a,e.exports=t.default},icVD:function(e,t,n){},ipUu:function(e,t,n){},iqsf:function(e,t,n){},irHt:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.dismissRegPrompt=function(){(0,f.supportsLocalStorage)()&&localStorage.setItem(_,!0)},t.shouldShowRegPrompt=function(){if(m.default.isLoggedIn())return!1;if((0,f.supportsLocalStorage)())return!localStorage.getItem(_);return!0};var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=n("mXGw"),d=a(n("17x9")),f=n("veNJ"),p=a(n("zCAw")),m=a(n("8Llx")),h=a(n("dkUW"));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var _="RF_COMMUTE_PROMPT_DISMISSED";var v=function(e){(0,s.default)(n,e);var t=g(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).onClose=a.onClose.bind((0,i.default)(a)),a.onSave=a.onSave.bind((0,i.default)(a)),a}return(0,o.default)(n,[{key:"componentDidMount",value:function(){h.default.trackImpression(h.default.impressions.COMMUTE_REG_FLYOUT)}},{key:"render",value:function(){return React.createElement("div",{className:"cf"},React.createElement("div",{className:"font-size-medium"},"Save Your Destination"),React.createElement("button",{className:"close button text",onClick:this.onClose},React.createElement(p.default,null)),React.createElement("div",null,"See your commute time on every home."),React.createElement("button",{className:"button",onClick:this.onSave},"Save"))}},{key:"onClose",value:function(){h.default.trackClick(h.default.clicks.CLOSE_REG_PROMPT,{rental_id:this.props.rentalId}),this.props.onClose()}},{key:"onSave",value:function(){var e=h.default.trackClick(h.default.clicks.SAVE_REG_PROMPT,{rental_id:this.props.rentalId});this.props.onSave(e)}}],[{key:"propTypes",get:function(){return{onClose:d.default.func,onSave:d.default.func,rentalId:d.default.string}}},{key:"defaultProps",get:function(){return{onClose:function(){},onSave:function(){},rentalId:null}}}]),n}(c.Component);t.default=v},iscO:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("lSNA")),s=a(n("lwsE")),l=a(n("W8MJ")),u=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),p=a(n("8Jek")),m=n("f2dk"),h=a(n("8Z2X")),g=a(n("1AMb")),_=a(n("zQwK")),v=a(n("FDyu")),y=a(n("pXYl")),E=a(n("17x9"));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var T=function(e){(0,u.default)(n,e);var t=I(n);function n(e){return(0,s.default)(this,n),t.call(this,e)}return(0,l.default)(n,[{key:"componentDidMount",value:function(){var e="";switch(this.props.displayLevel){case g_displayLevel.SIGN_IN:e="logged_out";break;case g_displayLevel.VOW_UP:e="not_vowed";break;case g_displayLevel.RE_ENTER_PASSWORD:case g_displayLevel.ACCEPT_TOS:e="time_expired"}y.default.trackImpression(y.default.impressions.REBNY_CENSORED_BANNER,{censored_status:e})}},{key:"render",value:function(){return f.default.createElement(g.default,{name:(0,p.default)("BannerSection LocalRulesBannerSection padding-bottom-large",(0,i.default)({},this.props.className,this.props.className))},f.default.createElement("div",{className:"sectionContainer clickable",onClick:this._onClick.bind(this)},f.default.createElement(_.default,{message:this.props.message,customIcon:h.default,action:this.getAction(),isPhone:this.props.isPhone})))}},{key:"_onClick",value:function(e){e.preventDefault(),e.stopPropagation();var t=y.default.trackClick(y.default.clicks.UNLOCK_CENSORED_BANNER);(0,m.showLoginLightboxIfNeeded)({dataSourceId:this.props.dataSourceId,registrationReason:g_registrationReason.UNLOCK_LISTING_CONTENT,registrationEntrypointRiftContext:t})}},{key:"getAction",value:function(){switch(this.props.displayLevel){case g_displayLevel.SIGN_IN:return this.getSignInOrJoinAction();case g_displayLevel.VOW_UP:return this.getVerifyEmailAction();case g_displayLevel.RE_ENTER_PASSWORD:return this.getReenterPasswordAction();case g_displayLevel.ACCEPT_TOS:return this.getAcceptTOSAction()}}},{key:"getSignInOrJoinAction",value:function(){var e=this;return f.default.createElement("div",null,this._SignInOrVerify("Sign In",{showSignIn:!0,trackClick:function(){return e._clickSignIn()}})," or ",this._SignInOrVerify("Join",{trackClick:function(){return e._clickJoin()}})," for free with no obligation.")}},{key:"getVerifyEmailAction",value:function(){var e=this;return this._SignInOrVerify("Verify your email",{trackClick:function(){return e._clickVerifyEmail()}})}},{key:"getReenterPasswordAction",value:function(){var e=this;return this._SignInOrVerify("Re-enter your password",{trackClick:function(){return e._clickReenterPassword()}})}},{key:"getAcceptTOSAction",value:function(){var e=this;return this._SignInOrVerify("Accept Terms of Use",{trackClick:function(){return e._clickAcceptTOS()}})}},{key:"_SignInOrVerify",value:function(e,t){return f.default.createElement(v.default,(0,o.default)({},t,{displayLevel:this.props.displayLevel,dataSourceId:this.props.dataSourceId,registrationReason:g_registrationReason.UNLOCK_LISTING_CONTENT}),e)}},{key:"_clickSignIn",value:function(){return y.default.trackClick(y.default.clicks.SIGN_IN_LINK)}},{key:"_clickJoin",value:function(){return y.default.trackClick(y.default.clicks.JOIN_LINK)}},{key:"_clickVerifyEmail",value:function(){return y.default.trackClick(y.default.clicks.VERIFY_EMAIL_LINK)}},{key:"_clickReenterPassword",value:function(){return y.default.trackClick(y.default.clicks.REENTER_PASSWORD_LINK)}},{key:"_clickAcceptTOS",value:function(){return y.default.trackClick(y.default.clicks.ACCEPT_TOS_LINK)}}],[{key:"propTypes",get:function(){return{dataSourceId:E.default.number.isRequired,displayLevel:E.default.number,message:E.default.string}}}]),n}(f.Component);t.default=T,e.exports=t.default},itxl:function(e,t,n){},ivAr:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("lSNA")),d=a(n("mXGw")),f=(a(n("17x9")),a(n("8Jek"))),p=a(n("BYaZ")),m=a(n("6YqF")),h=a(n("DyY8")),g=a(n("ma35")),_=a(n("oNBp")),v=a(n("7ins")),y=a(n("qNVT")),E=n("G4xM"),S=a(n("Dz38")),I=n("R8lb"),T=a(n("8Llx")),C=a(n("nar/")),b=n("Q+Iq"),k=a(n("GiNY"));function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach(function(t){(0,c.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("K4NS");var A="Ask a question",P=function(e){(0,s.default)(n,e);var t=N(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).onChatClick=a.onChatClick.bind((0,i.default)(a)),a.onAskQuestionClick=a.onAskQuestionClick.bind((0,i.default)(a)),a.ref=d.default.createRef(),a}return(0,o.default)(n,[{key:"componentDidMount",value:function(){p.default.trackImpression(p.default.impressions.SECTION,(0,c.default)({text:this.getTextRiftDetail(),refund_value:this.props.refund},h.default.GA_LABEL,{text:this.getTextRiftDetail()}),this.ref.current),this.props.runningLiveChatExperimentFeature&&m.default.initializeLiveChatExperiment(this.props.runningLiveChatExperimentFeature,this.props.liveChatGAExperimentId)}},{key:"onChatClick",value:function(e){e.preventDefault(),p.default.trackClick(p.default.clicks.CTA_BUTTON,this.getCtaRiftParams()),this.props.onCtaClick&&this.props.onCtaClick(),this.props.liveChatWidgetAction&&this.props.liveChatWidgetAction.toggleChatDialog(this.props.contactBoxInfo.detailsPageContext===C.default.id?y.default.DP_CB_LIVE_CHAT_ON_MAP.id:y.default.DP_CB_LIVE_CHAT.id)}},{key:"onAskQuestionClick",value:function(e){e.preventDefault();var t=this.props.showPartnerStartAnOffer?p.default.trackClick(p.default.clicks.PARTNER_CTA_BUTTON,this.getCtaRiftParams()):p.default.trackClick(p.default.clicks.CTA_BUTTON,this.getCtaRiftParams());this.props.onCtaClick&&this.props.onCtaClick(),T.default.isLoggedIn()||(0,I.trackRegistrationConversionAttempt)(t,_.default.CONTACT_AGENT.id,v.default.REDFIN.id),this.setState({entrypointRiftContext:t}),this.props.showAAQDialogCallback&&this.props.showAAQDialogCallback(this.props.agent)}},{key:"getCtaRiftParams",value:function(){var e,t=((0,E.getConfigValueForKey)(E.DP_GLOBAL_CONFIG_KEYS.pageExperimentInfo)||{}).omdpHigherDescriptionExperimentInfo,n=void 0===t?{}:t,a=this.getTextRiftDetail();return O(O({},this.props.riftParams||{}),{},(e={text:a},(0,c.default)(e,h.default.GA_LABEL,{text:a}),(0,c.default)(e,"customer_status","none"),(0,c.default)(e,"higher_desc_cohort",n.cohort),e))}},{key:"getTextRiftDetail",value:function(){return this.props.cbActionType===g_contactBoxActionType.LIVE_CHAT?"live_chat":"ask_a_question"}},{key:"renderQuestionsLink",value:function(){if(!this.props.showQuestionLink)return null;var e=(0,f.default)({"no-phone-number":!this.props.phoneNumber&&!this.props.showPartnerStartAnOffer,contactBoxButton:this.props.renderAsAAQButton});return this.props.cbActionType===g_contactBoxActionType.LIVE_CHAT?d.default.createElement("a",{href:"#",onClick:this.onChatClick,className:e},A):this.props.renderAsAAQButton?d.default.createElement(g.default,{onClick:this.onAskQuestionClick,"data-rf-test-name":"ask-a-question",className:e},A):d.default.createElement("a",{href:"#",onClick:this.onAskQuestionClick,"data-rf-test-name":"ask-a-question",className:e},A)}},{key:"renderPhoneLink",value:function(){if(!this.props.phoneNumber||!this.props.phoneNumberUrl)return null;var e={phoneNumber:this.props.phoneNumber,phoneNumberUrl:this.props.phoneNumberUrl,isMobile:this.props.deviceConfig===g_deviceConfiguration.PHONE,riftTracker:p.default,riftParams:this.props.riftParams,riftClickEvents:{linkClickEvent:p.default.clicks.PHONE_NUMBER,textClickEvent:p.default.clicks.PHONE_NUMBER_TEXT,callClickEvent:p.default.clicks.PHONE_NUMBER_CALL,dialogCloseEvent:p.default.clicks.PHONE_NUMBER_DIALOG_CLOSE},riftImpressionEvents:{dialogViewEvent:p.default.impressions.PHONE_TEXT_CALL_DIALOG}};return d.default.createElement(S.default,e)}},{key:"render",value:function(){var e=this.props.contactBoxInfo,t=this.props.showPartnerStartAnOffer&&this.props.deviceConfig===g_deviceConfiguration.PHONE,n=(0,f.default)("button-wrapper","margin-top-large","padding-bottom-smaller"),a=(0,f.default)({questions:!0,"bottom-bar":!t&&e&&e.experienceData&&(0,b.doObjectGraph)()(e.experienceData.refundMessagingData),"margin-top-large":!this.props.renderAsAAQButton,"margin-top-medium":this.props.renderAsAAQButton}),r=Boolean(this.props.phoneNumber&&this.props.phoneNumberUrl)&&!1!==this.props.phoneNumber&&!1!==this.props.showPhoneLink;return d.default.createElement("div",{className:"ContactLinks","data-rf-test-name":"contact-links",ref:this.ref},this.props.renderAsAAQButton&&d.default.createElement("div",{className:n},this.renderQuestionsLink()),(!this.props.renderAsAAQButton||this.props.showStartOfferLink||r)&&d.default.createElement("div",{className:a},!this.props.renderAsAAQButton&&this.renderQuestionsLink(),this.props.showStartOfferLink&&d.default.createElement(k.default,{isPartnerServiced:this.props.isPartnerServiced,listingId:this.props.listingId,isInRedfinDirectMarket:this.props.isInRedfinDirectMarket,agentId:e.recommendedAgent&&e.recommendedAgent.getId(),businessMarketId:this.props.businessMarketId,onClick:this.props.onStartAnOfferClick,renderAsLink:!0}),r&&this.renderPhoneLink()))}}]),n}(d.default.Component);t.default=P,(0,c.default)(P,"displayName","ContactLinks"),(0,c.default)(P,"defaultProps",{showQuestionLink:!0}),P.propTypes={},e.exports=t.default},ivXd:function(e,t,n){},izwi:function(e,t,n){},jBFs:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=a(n("pVnL")),o=a(n("mXGw")),i=(a(n("17x9")),a(n("z7Ey"))),s=a(n("WqrT")),l=a(n("0O13")),u=a(n("5SId")),c=n("eQq5");n("g/8Y");var d="/stingray/do/autocomplete/address";function f(e){var t=e.name,n=void 0===t?"ClaimedHomeSearchBox":t,a=e.location,f=e.hasNoEstimateError,p=void 0!==f&&f,m=e.searchHandler,h=e.userInputCallback,g=e.handleClearInputBox,_=e.onShowDefinitionFlyout;return(0,i.default)(u.default.searchClearButtonClick,function(e){e===n&&"function"==typeof g&&g()}),o.default.createElement("div",{className:"ClaimedHomeSearchBox"},o.default.createElement("div",{className:"font-size-small AddressLabel"},"Address (Optional)",o.default.createElement(s.default,(0,r.default)({},c.formDefinitions.address,{infoIcon:!0,onShowDefinitionFlyout:_}))),o.default.createElement("span",{className:p?"error":""},o.default.createElement(l.default,{name:n,placeHolder:"Enter your address",location:a,altEndPoint:d,showSearchButton:!1,shouldSetLocationFromCookie:!1,searchHandler:m,userInputCallback:h,inputTabIndex:0})),p?o.default.createElement("span",{"data-rf-test-id":"validationFeedback",className:"field-error"},"Sorry, Redfin Estimate not available"):null)}f.propTypes={},f.displayName="ClaimedHomeSearchBox",e.exports=t.default},jJDs:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("7W2i")),s=a(n("a1gu")),l=a(n("Nsbk")),u=n("mXGw"),c=a(n("17x9")),d=a(n("f77R")),f=a(n("N+oO")),p=a(n("TRKi")),m=a(n("I+M3")),h=a(n("dkUW")),g=a(n("KtT9"));function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var v=function(e){(0,i.default)(n,e);var t=_(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).state={showDirections:!1,initialDirectionsData:null,autocompleteServices:null},a.store=new f.default(e.initialData),a}return(0,o.default)(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.mapStore.googleMapsLoaded&&!e.mapStore.autoCompleteSetupDone){var t=y(this.props),n=t.initialCommuteServicesData,a=t.autoCompleteServices;this.setState({autoCompleteSetupDone:!0,initialDirectionsData:n,autocompleteServices:a}),m.default.autoCompleteSetupDone(n),g.default.autoCompleteServicesSetup(a)}}},{key:"componentDidMount",value:function(){this.domNode&&this.props.initialData&&this.props.initialData.activeCommutes&&this.props.initialData.activeCommutes.length>0&&h.default.trackImpression(h.default.impressions.USER_COMMUTE)}},{key:"render",value:function(){var e=this;return p.default.createRootElement(this.store,React.createElement(d.default,{initialDirectionsData:this.state.initialDirectionsData,autocompleteServices:this.state.autocompleteServices,mapStore:this.props.mapStore,ref:function(t){return e.domNode=t},propertyId:this.props.propertyId,rentalId:this.props.rentalId}))}}],[{key:"propTypes",get:function(){return{initialData:c.default.shape({activeCommutes:c.default.array}),mapStore:c.default.object,timeZone:c.default.string,origin:c.default.object,rentalId:c.default.string,propertyId:c.default.number}}},{key:"getDerivedStateFromProps",value:function(e,t){if(e.mapStore.googleMapsLoaded&&!e.mapStore.autoCompleteSetupDone&&!t.autoCompleteSetupDone){var n=y(e),a=n.initialCommuteServicesData,r=n.autoCompleteServices;return m.default.autoCompleteSetupDone(a),g.default.autoCompleteServicesSetup(r),{autoCompleteSetupDone:!0,initialDirectionsData:a,autocompleteServices:r}}return null}}]),n}(u.Component);t.default=v;var y=function(e){var t=new window.google.maps.DirectionsService,n=e.origin?new window.google.maps.LatLng(e.origin.latitude,e.origin.longitude):null,a=new window.google.maps.places.AutocompleteService,r=new window.google.maps.places.AutocompleteSessionToken,o=new window.google.maps.places.PlacesService(document.createElement("div"));return{initialCommuteServicesData:{directionsService:t,origin:n,timeZone:e.timeZone,map:e.mapStore.map},autoCompleteServices:{autoCompleteService:a,placesService:o,autoCompleteToken:r}}};e.exports=t.default},jLLd:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var r=a(n("mXGw")),o=a(n("zCAw")),i=a(n("KoY1")),s=a(n("McMD")),l=n("SAGG");a(n("17x9"));n("blqJ");var u=a(n("4KIY"));function c(e){var t=e.isLoading,n=e.buttonLabelText,a=e.className,c=e.showChatInterface,d=e.mostRecentUnreadMessageContent,f=e.children,p=e.onClick,m=e.buttonInquirySource,h=e.showPromptBadge,g=null!=d||h,_=r.default.createElement("div",{className:"buttonLabel text-base font-color-link-black font-weight-bold"},n),v=c?o.default:i.default,y=function(e){return e&&function(t){if(t.which===l.KEYCODES.RETURN||t.which===l.KEYCODES.SPACE)return e()}},E=function(){return u.default.toggleChatDialog(m)},S=t?r.default.createElement(s.default,{size:"small"}):r.default.createElement("div",{className:"liveChatIconContainer",onClick:E,onKeyDown:y(E),tabIndex:"0"},g&&r.default.createElement("div",{className:"redDot"}),r.default.createElement(v,{className:"liveChatButtonIcon"}),_);return r.default.createElement("div",{className:"LiveChatButton bg-color-white ".concat(a),onClick:p,onKeyDown:y(p),tabIndex:p?"0":"-1"},f,S)}c.propTypes={},c.defaultProps={isLoading:!1,showChatInterface:!1},e.exports=t.default},jTef:function(e,t,n){"use strict";var a=n("TqRt")(n("DzJC")),r=n("osI4"),o=null,i=[],s=null,l=null,u=null,c=null,d={currentState:{sideBarState:null,sideBarDockedYOffset:null},sideBarState:{top:1,floating:2,bottom:3},dtpFloatState:{normal:1,floating:2,bottom:3},dtpTransitionState:{normal:1,hidden:2},_bufferVal:0,bodyRect:null,sideBarContentContainerRect:null,sideBarContentRect:null,similarsRect:null,initScrollListener:function(){var e=this;"phone"!==(0,r.getCurrentDeviceType)()&&(this._checkScroll=this._checkScroll.bind(this),o||(o=window.addEventListener("scroll",(0,a.default)(function(){return requestAnimationFrame(e._checkScroll)},100),{passive:!0})),requestAnimationFrame(this._checkScroll))},calculatePositions:function(){return this.bodyRect=document&&document.body?document.body.getBoundingClientRect():null,this.sideBarContentContainerRect=l?l.getBoundingClientRect():null,this.sideBarContentRect=u?u.getBoundingClientRect():null,this.similarsRect=s?s.getBoundingClientRect():null,this.dtpRect=c?c.getBoundingClientRect():null,{scrollYOffset:-1*this.bodyRect.top,sideBarStartFloat:this.calculatePositionWhereSideBarStartsFloating(),sideBarStopFloat:this.calculatePositionWhereSideBarHitSimilars(),sideBarFloatingXPosition:this.calculateHorizontalPositionForSideBarWhileFloating(),dtpStartFloat:this.calculatePositionWhereWeScrollPastSideBar(),dtpStartHide:this.calculatePositionsWhereWeHideDTP(),dtpStopFloat:this.calculatePositionWhereDTPHitSimilars()}},calculatePositionWhereSideBarStartsFloating:function(){return this.sideBarContentContainerRect?this._offsetTop(this.sideBarContentContainerRect):null},calculatePositionWhereSideBarHitSimilars:function(){return this.bodyRect&&this.similarsRect&&this.sideBarContentRect?this._offsetTop(this.similarsRect)-this.sideBarContentRect.height:null},calculateHorizontalPositionForSideBarWhileFloating:function(){if(l){var e=l;return e.offsetLeft+(e.offsetParent?e.offsetParent.offsetLeft:0)-window.scrollX}},calculatePositionsWhereWeHideDTP:function(){if(this.dtpRect&&this.sideBarContentRect){return this.sideBarContentRect.bottom-this.bodyRect.top-20}},calculatePositionWhereWeScrollPastSideBar:function(){if(this.sideBarContentRect)return this.sideBarContentRect.bottom-this.bodyRect.top},calculatePositionWhereDTPHitSimilars:function(){if(this.similarsRect&&this.bodyRect&&c)return this._offsetTop(this.similarsRect)-this.dtpRect.height},addSimilarsNode:function(e){s=e,this.initScrollListener()},addSideBarContentContainerNode:function(e,t){l=e,u=t,this.initScrollListener()},addDTPNode:function(e){c=e,this.initScrollListener()},onStateChange:function(e){i.push(e)},_checkScroll:function(){var e=this.calculatePositions(),t={sideBarState:this.getSideBarFloatState(e),dtpFloatState:this.getDTPFloatState(e),dtpTransitionState:this.getDTPTransitionState(e),sideBarDockedYOffset:this.getSideBarDockedYOffset(e),sideBarFloatingXPosition:e.sideBarFloatingXPosition};this.dtpRect&&(t.dtpDockedYOffset=e.dtpStopFloat-e.sideBarStartFloat);var n=!1;for(var a in this.currentState)this.currentState.hasOwnProperty(a)&&t[a]!==this.currentState[a]&&(n=!0);if(n)for(var r=function(){var e=i[o];requestAnimationFrame(function(){return e(t)})},o=0;o<i.length;o++)r();this.currentState=t},getSideBarFloatState:function(e){return e.sideBarStopFloat&&e.scrollYOffset>e.sideBarStopFloat?this.sideBarState.bottom:e.scrollYOffset>e.sideBarStartFloat?this.sideBarState.floating:this.sideBarState.top},getDTPFloatState:function(e){return e.scrollYOffset<e.dtpStartHide?this.dtpFloatState.normal:e.scrollYOffset<e.dtpStopFloat?this.dtpFloatState.floating:this.dtpFloatState.bottom},getDTPTransitionState:function(e){return e.scrollYOffset<e.dtpStartHide?this.dtpTransitionState.normal:e.scrollYOffset>=e.dtpStartHide&&e.scrollYOffset<e.dtpStartFloat?this.dtpTransitionState.hidden:this.dtpTransitionState.normal},getSideBarDockedYOffset:function(e){return this.sideBarContentContainerRect?e.sideBarStopFloat-this._offsetTop(this.sideBarContentContainerRect):0},_offsetTop:function(e){return e&&this.bodyRect?e.top-this.bodyRect.top:0}};e.exports=d},"jfj+":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lSNA")),o=a(n("QILm")),i=n("TlVh"),s=n("cMqt"),l=n("I5FW"),u=["shouldBeDisplayed"];function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=(0,i.createStoreFactory)({init:function(e){if(!e||!e.propertyId)throw new Error("propertyId not defined");if(this.pageTypeIsSupported(e)&&(0,l.getCurrentCountryCode)()===g_countryCode.UNITED_STATES){var t=null;g_deviceConfiguration&&g_deviceConfiguration.idToObj&&g_deviceConfiguration.idToObj[e.deviceConfig]&&(t=g_deviceConfiguration.idToObj[e.deviceConfig].displayName||"unknown"),this.setState({propertyId:e.propertyId,deviceCategory:t,shouldShowMoment:this._fetchMerchandisingInfo(e.propertyId)})}else this.setState({shouldShowMoment:!1})},pageTypeIsSupported:function(e){return e.pageType===g_detailsPageType.OFF_MARKET},_fetchMerchandisingInfo:function(e){var t={placement:g_redfinNowMerchandisingPlacement.OFF_MARKET_DETAILS_PAGE,propertyId:e,allowPartnershipOffer:!0};return s.ReactServerAgent.get("/stingray/redfinnow/api/merchandising/info/for/property",t).then(this._parseMerchInfoResponse.bind(this))},_parseMerchInfoResponse:function(e){if(e&&e.body&&e.body.payload){var t=e.body.payload,n=t.shouldBeDisplayed,a=(0,o.default)(t,u);return this.setState(d(d({},a),{},{shouldShowMoment:n})),n}return!1}});t.default=f,e.exports=t.default},jh3o:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("YAhj")),i=a(n("8Jek")),s=(a(n("17x9")),n("n1rO")),l=a(n("DlpU")),u=a(n("yo/T")),c=n("wTjA"),d=a(n("pZI4"));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}n("w/Pk");var p=function(){d.default.trackClick(d.default.clicks.READ_ALL)},m=function(e){var t=e.deviceConfig,n=e.offerInsightsInfo,a=e.onImpression,r=e.pageSize,f=e.propertyId,m=e.showRegionNameAsLink,h=e.show,g=e.className,_=(0,o.useRef)();if((0,o.useEffect)(function(){d.default.queueImpression(d.default.impressions.OFFER_INSIGHT,{num_insights:n&&n.offerInsights?n.offerInsights.length:0},_.current)},[]),(0,o.useEffect)(function(){return _.current?(0,s.trackNode)({bufferValue:0,domNode:_.current,nodeId:"OfferInsightsSection",onEnterViewCallback:function(){var e={num_insights:n&&n.offerInsights?n.offerInsights.length:0};(0,c.isFunction)(a)&&a(e)}}):void 0},[_,a,n]),!h||!n)return null;var v=n.isAdmin,y=(0,i.default)({OfferInsightsSection:!0,"region-content-section":!0},g),E=n.offerInsights;if(!E||!E.length)return null;var S=E.map(function(e,n){return o.default.createElement(u.default,{offerInsight:e,showMap:t===g_deviceConfiguration.PHONE,isAdmin:v,key:e.id,propertyId:f,elementId:"offerInsights-".concat(n),riftTracker:d.default})});return o.default.createElement("div",{className:y,ref:_,id:"offer-insights-section"},o.default.createElement("h3",{className:"title primary-heading"},"What It Takes to Win an Offer near"," ",function(e){return m&&void 0!==e.regionUrl?o.default.createElement("a",{href:e.regionUrl,target:"_top"},e.regionName):e.regionName}(n)),o.default.createElement(l.default,{section:"offerInsights",renderWrapper:o.default.createElement("ul",null),numSegmentsToDisplayWhenCollapsed:r,expandText:(0,i.default)({"Show ":t!==g_deviceConfiguration.DESKTOP},"More Offer Insights"),rfTestId:"offer-insights-expandable-preview",onClick:p},S))};m.displayName="homeDetails.components.neighborhoodSection.OfferInsightsSection",m.propTypes={},m.defaultProps={show:!0,pageSize:5,showRegionNameAsLink:!1};var h=m;t.default=h,e.exports=t.default},jkMb:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lSNA")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("17x9")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=C(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),p=a(n("8Jek")),m=a(n("JX1m")),h=n("AYTD"),g=n("vSQa"),_=a(n("CaJe")),v=a(n("OIk9")),y=a(n("pEKV")),E=a(n("9j+1")),S=a(n("UrhC")),I=a(n("OXnH"));n("CCNK");var T=n("5sHw");function C(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(C=function(e){return e?n:t})(e)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var k=function(e){(0,l.default)(n,e);var t=b(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"fullFloodClick",value:function(e){E.default.trackClick(E.default.clicks.FLOOD_ON_MAP_FULL_DETAILS,{fsid:e}),this.props.isMobile?y.default.showFullFloodDialog():(m.default.exitQuickMapFullScreen(),S.default.expandFloodDataSection(),I.default.expandFloodRiskDetails(),(0,h.navigateToSectionId)("flood-display"),S.default.hideFloodDataOnMap())}},{key:"render",value:function(){var e=this.props.floodStore&&this.props.floodStore.floodData;if(!e)return null;var t="Minimal";switch(e.floodFactor){case 2:t="Minor";break;case 3:case 4:t="Moderate";break;case 5:case 6:t="Major";break;case 7:case 8:t="Severe";break;case 9:case 10:t="Extreme"}if(this.props.shouldShowFullFloodDialog)return f.default.createElement(v.default,{floodOnMap:!0,propertyParcelInfo:this.props.propertyParcelInfo,addressSectionInfo:this.props.addressSectionInfo,pageType:this.props.pageType,floodStore:this.props.floodStore});var n=(0,p.default)(this.props.isMobile?"FloodOnMapDialogMobile":"FloodOnMapDialogDesktop",(0,o.default)({},this.props.className,!!this.props.className));return f.default.createElement("div",{className:n},f.default.createElement("div",{className:"flood-scale-section"},f.default.createElement("div",{className:"flood-top-text"},f.default.createElement("span",{className:"flood-metric"},"Depth of flood (feet)"),f.default.createElement("span",{className:"flood-factor-disclaimer",onClick:function(){E.default.trackClick(E.default.clicks.TO_FF_HOMEPAGE_LINK,{fsid:e.fsid})}},"Data provided by ",f.default.createElement("a",{href:"https://".concat((0,T.getRiskFactorHostName)(),"/"),target:"_blank"},(0,T.getRiskFactorAttributionName)()))),f.default.createElement("div",{className:"flood-factor-depth-scale"},f.default.createElement("div",{className:"depth-scale"},f.default.createElement("span",{className:"depth-scale-segment ".concat(T.isInFloodFactorRebrand?"zeroNew":"zero")}),f.default.createElement("span",{className:"depth-scale-segment ".concat(T.isInFloodFactorRebrand?"halfNew":"half")}),f.default.createElement("span",{className:"depth-scale-segment ".concat(T.isInFloodFactorRebrand?"oneNew":"one")}),f.default.createElement("span",{className:"depth-scale-segment ".concat(T.isInFloodFactorRebrand?"twoNew":"two")}),f.default.createElement("span",{className:"depth-scale-segment ".concat(T.isInFloodFactorRebrand?"three-plusNew":"three-plus")})),f.default.createElement("div",{className:"depth-legend"},f.default.createElement("span",{className:"depth-legend-segment"},"0"),f.default.createElement("span",{className:"depth-legend-segment"},"0.5"),f.default.createElement("span",{className:"depth-legend-segment"},"1"),f.default.createElement("span",{className:"depth-legend-segment"},"2"),f.default.createElement("span",{className:"depth-legend-segment"},"3+")))),f.default.createElement("div",{className:"flood-chance-text"},(0,g.calculateFloodChanceText)(e)),f.default.createElement("div",{className:"flood-factor-details"},f.default.createElement("div",{className:"flood-factor-score"},f.default.createElement("div",{className:"flood-factor-logo"}),f.default.createElement("span",{className:"flood-factor-risk"},e.floodFactor,"/10 (",t,")")),f.default.createElement("div",{className:"to-flood-section",onClick:this.fullFloodClick.bind(this,e.fsid)},"See full details",!this.props.isMobile&&f.default.createElement(_.default,{className:"size-small fill-link"}))))}}],[{key:"propTypes",get:function(){return{isMobile:d.default.bool,floodStore:d.default.object,shouldShowFullFloodDialog:d.default.bool}}}]),n}(f.Component);t.default=k,e.exports=t.default},jkZQ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.ListingSource=t.DataSourceImage=void 0;a(n("17x9"));var r=a(n("/A6f")),o=a(n("sy14")),i=a(n("8Jek")),s=n("osI4"),l=a(n("bqcM")),u=a(n("5L/4")),c=a(n("Cjij"));n("rCMi");var d="https://www.newhomesource.com/?refer=redfin",f="Sales Office Information",p="ancestor::Subdivision/NHSSubWebsite",m=function(e){var t=e.dataSourceDescription,n=void 0===t?"":t,a=e.dataSourceImage,o=e.dataSourceName,i=void 0===o?"":o,s=e.shouldShowLargerLogo,u=void 0!==s&&s,c=e.amenities;if(!a)return null;var d=function(e){var t=null;return!(!e||!e.superGroups)&&(e.superGroups.some(function(e){return e.amenityGroups.some(function(e){return"Listing Information"===e.groupTitle&&(e.amenityEntries.some(function(e){return"MoreInformationLink"===e.amenityName&&(t=e.amenityValues[0],!0)}),!0)}),!1}),t)}(c),f=d||l.default.getSecureWebServerUrl()+"/about/terms-of-use#"+i.toLowerCase(),p="".concat(g_imageServerUrl,"/images/logos/").concat(a),m="Listing provided courtesy of "+n;return u?React.createElement("div",{className:"dataSourceImage",onClick:function(){return h(f)},role:"button"},React.createElement(r.default,{src:p,alt:m,title:m,height:42,style:{height:"42px"},offset:0})):React.createElement("div",{className:"dataSourceImage",onClick:function(){return h(f)},role:"button"},React.createElement(r.default,{src:p,alt:m,title:m,height:14,style:{height:"14px",margin:"0 0.5em"},offset:0}))};function h(e){window.location=e}t.DataSourceImage=m;var g=function(e){var t=e.dataSourceDescription,n=e.dataSourceName,a=e.dataSourceImage,r=e.shouldShowLargerLogo,l=e.dataSourceId,h=e.amenities,g=e.mlsId,_=void 0===g?"":g,v=e.mlsIdDisplayLevel,y=e.isPDP;if(!(n||_&&c.default[v]))return null;var E=r?null:React.createElement(m,{dataSourceDescription:t,dataSourceImage:a,dataSourceName:n,amenities:h}),S=(0,i.default)({listingSource:!0,"font-size-small":"phone"===(0,s.getCurrentDeviceType)()});return React.createElement("div",{className:S},y?null:React.createElement(o.default,null),(113===l||!!n)&&React.createElement("div",{className:"sourceLabel"},"Source",React.createElement("span",{className:"colon",style:{marginRight:"0.5em"}},":")),React.createElement("div",{className:"sourceContent"},113===l?function(e,t){var n=d;return null!=e&&e.superGroups&&(n=function(e,t){var n=d;return e.some(function(e){return e.titleString===t&&(e.amenityGroups.some(function(e){return e.groupTitle===f&&(e.amenityEntries.some(function(e){return e.referenceName===p&&(n=function(e){var t=(e.amenityValues.length>0?e.amenityValues[0]:"").split(" "),n=d;return t.some(function(e){return!!e.includes("href=")&&(n=(n=e.replace("href='","")).substring(0,n.length-1),!0)}),n}(e),!0)}),!0)}),!0)}),n}(e.superGroups,t)),React.createElement("a",{className:"sourceLink",href:n},"NewHomeSource.com ")}(h,"Location"):n?React.createElement("span",null,n," "):void 0,_?React.createElement("span",{className:(0,i.default)({"agent-only":v===u.default.id,hidden:!c.default[v]})},"#",_):null,E))};t.ListingSource=g,g.propTypes={}},jl8C:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("3OWR")),o=a(n("LDFp")),i=a(n("pBXq"));o.default.ensure(n("tTYd"));var s=(0,r.default)(new i.default,{name:"LockedSectionRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!1,clicks:{MARKETING_REMARKS_CENSORED_LOCK_ICON_LINK:{section:"marketing_remarks",target:"censored_lock_icon_link"},MARKETING_REMARKS_CENSORED_SIGN_IN_LINK:{section:"marketing_remarks",target:"censored_sign_in_link"},MARKETING_REMARKS_CENSORED_JOIN_LINK:{section:"marketing_remarks",target:"censored_join_link"},MARKETING_REMARKS_CENSORED_VOW_LINK:{section:"marketing_remarks",target:"censored_vow_link"},MARKETING_REMARKS_CENSORED_RE_ENTER_PWD_LINK:{section:"marketing_remarks",target:"censored_re_enter_pwd_link"},MARKETING_REMARKS_CENSORED_ACCEPT_TOS_LINK:{section:"marketing_remarks",target:"censored_accept_tos_link"},PROPERTY_DETAILS_CENSORED_LOCK_ICON_LINK:{section:"property_details",target:"censored_lock_icon_link"},PROPERTY_DETAILS_CENSORED_SIGN_IN_LINK:{section:"property_details",target:"censored_sign_in_link"},PROPERTY_DETAILS_CENSORED_JOIN_LINK:{section:"property_details",target:"censored_join_link"},PROPERTY_DETAILS_CENSORED_VOW_LINK:{section:"property_details",target:"censored_vow_link"},PROPERTY_DETAILS_CENSORED_RE_ENTER_PWD_LINK:{section:"property_details",target:"censored_re_enter_pwd_link"},PROPERTY_DETAILS_CENSORED_ACCEPT_TOS_LINK:{section:"property_details",target:"censored_accept_tos_link"},TOUR_INSIGHTS_CENSORED_LOCK_ICON_LINK:{section:"tour_insights",target:"censored_lock_icon_link"},TOUR_INSIGHTS_CENSORED_SIGN_IN_LINK:{section:"tour_insights",target:"censored_sign_in_link"},TOUR_INSIGHTS_CENSORED_JOIN_LINK:{section:"tour_insights",target:"censored_join_link"},TOUR_INSIGHTS_CENSORED_VOW_LINK:{section:"tour_insights",target:"censored_vow_link"},TOUR_INSIGHTS_CENSORED_RE_ENTER_PWD_LINK:{section:"tour_insights",target:"censored_re_enter_pwd_link"},TOUR_INSIGHTS_CENSORED_ACCEPT_TOS_LINK:{section:"tour_insights",target:"censored_accept_tos_link"},TOUR_INSIGHTS_EMAIL_BUTTON:{section:"tour_insights",target:"email_button"},REDFIN_ESTIMATE_CENSORED_LOCK_ICON_LINK:{section:"redfin_estimate",target:"censored_lock_icon_link"},REDFIN_ESTIMATE_CENSORED_SIGN_IN_LINK:{section:"redfin_estimate",target:"censored_sign_in_link"},REDFIN_ESTIMATE_CENSORED_JOIN_LINK:{section:"redfin_estimate",target:"censored_join_link"},REDFIN_ESTIMATE_CENSORED_VOW_LINK:{section:"redfin_estimate",target:"censored_vow_link"},REDFIN_ESTIMATE_CENSORED_RE_ENTER_PWD_LINK:{section:"redfin_estimate",target:"censored_re_enter_pwd_link"},REDFIN_ESTIMATE_CENSORED_ACCEPT_TOS_LINK:{section:"redfin_estimate",target:"censored_accept_tos_link"}}});t.default=s,e.exports=t.default},k4BY:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("pVnL")),o=a(n("pBXq")),i=(0,r.default)(new o.default,{name:"MarketInsightsRiftTracker",impressions:{SECTION_IMPRESSION:{section:"market_insights",target:null,expectedParams:["property_type"]},REGION_CARDS_IMPRESSION:{section:"market_insights",target:"card_carousel",expectedParams:["property_type","first_region_type_id","first_region_table_id","num_cards"]},REGION_CARD_IMPRESSION:{section:"market_insights",target:"card",expectedParams:["property_type","region_type_id","region_table_id","num_cards","card_position"],unique:"card_position"},TRENDS_GRAPH_IMPRESSION:{section:"market_insights",target:"trends_graph",expectedParams:["property_type"]},COMPETE_SCORE_IMPRESSION:{section:"market_insights",target:"compete_score",expectedParams:["property_type"]},OFFER_INSIGHTS_IMPRESSION:{section:"market_insights",target:"offer_insights",expectedParams:["num_insights"]}},clicks:{MORE_LINK:{section:"market_insights",target:"more_link",expectedParams:["property_type"]},LESS_LINK:{section:"market_insights",target:"less_link",expectedParams:["property_type"]},REGION_CARD_SWIPE:{section:"market_insights",target:"card_carousel_swipe",expectedParams:["property_type","num_cards","card_position"]},REGION_CARD_RIGHT:{section:"market_insights",target:"card_carousel_right",expectedParams:["property_type","num_cards","card_position"]},REGION_CARD_LEFT:{section:"market_insights",target:"card_carousel_left",expectedParams:["property_type","num_cards","card_position"]},REGION_CARD_LINK:{section:"market_insights",target:"card_carousel_link",expectedParams:["property_type","num_cards","card_position"]},MARKET_INSIGHTS_PAGE_LINK:{section:"market_insights",target:"market_insights_page_link",expectedParams:["region_type_id","region_table_id"]},OFFER_INSIGHTS_LINK:{section:"market_insights",target:"offer_insights_more_link",expectedParams:["num_insights"]}}});e.exports=i},k5EC:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FullScreenComponentName=void 0;t.FullScreenComponentName={Components:{MB_LIST_VIEW:"MB_LIST_VIEW",DP:"DP"}}},kJGV:function(e,t,n){},kWLE:function(e,t,n){},"kdH/":function(e,t,n){},kdsQ:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("17x9")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),f=a(n("ma35")),p=a(n("1AMb")),m=a(n("XucT"));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("B5BY");var _=function(e){(0,s.default)(n,e);var t=g(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={showAAQDialog:!1},a}return(0,i.default)(n,[{key:"render",value:function(){var e=this,t=this.props.mainHouseInfo.brokerName?"Questions? Ask the builder, "+this.props.mainHouseInfo.brokerName:"Questions? Ask the builder";return d.default.createElement(p.default,{name:"ContactBuilder"},d.default.createElement("div",{className:"cb-text"},t),d.default.createElement(f.default,{type:"primary",className:"cb-button",onClick:function(){return e.setState({showAAQDialog:!0})}},d.default.createElement("div",{className:"buttonText"},"Contact Builder")),this.state.showAAQDialog&&this.renderAAQDialog())}},{key:"renderAAQDialog",value:function(){var e=this;return d.default.createElement(m.default,{onClose:function(){return e.setState({showAAQDialog:!1})},isMobile:this.props.deviceConfig===g_deviceConfiguration.PHONE,isInlineForm:!1,contactBoxInfo:this.props.contactBoxInfo,listingId:this.props.listingId,propertyId:this.props.propertyId,streetAddress:this.props.streetAddress,inquiryChannel:g_inquiryChannel.ASK_A_QUESTION,inquirySource:g_inquirySource.LDP_STICKY_FOOTER,listingAddress:this.props.mainHouseInfo.propertyAddress,isOpendoor:!1,showBDXExperience:!0,fromRightRail:!0,builderName:this.props.mainHouseInfo.brokerName,listingAgent:!1})}}],[{key:"propTypes",get:function(){return{datePickerInfo:c.default.object,contactBoxInfo:c.default.object,listingId:c.default.number,mainHouseInfo:c.default.object}}}]),n}(d.Component);t.default=_,e.exports=t.default},kf8g:function(e,t,n){},kj8T:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("7W2i")),s=a(n("a1gu")),l=a(n("Nsbk")),u=a(n("17x9")),c=n("mXGw"),d=a(n("8Jek")),f=a(n("pKkH")),p=a(n("UT8e")),m=n("R8lb"),h=a(n("eEyP")),g=a(n("8Llx")),_=n("osI4"),v=a(n("sFYT")),y=a(n("/BzH"));function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}n("rOT4");var S=function(e){(0,i.default)(n,e);var t=E(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.domNode&&h.default.trackImpression(h.default.impressions.OFFER_REVIEW_NOTICE_SEEN)}},{key:"componentWillUnmount",value:function(){y.default.unmountStore()}},{key:"render",value:function(){var e=this;if(!this._shouldShowOfferDeadline())return null;var t=this.props.offerDeadlineInfoStore,n="desktop"===(0,_.getCurrentDeviceType)(),a={title:t.title,message:t.message,className:"urgent",customIcon:v.default,actionTitle:this._getActionTitle(),onAction:this._redirectToOfferDeadline};this.props.isSecondaryVariant&&(n&&(a.className="".concat(a.className," secondary")),a.customIcon=null,a.actionTitle=null);var r,o,i=t.addressInfo,s=(r=t.offerDeadlineDate,o=t.timezone,(0,f.default)(r).tz(o).calendar(null,{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[yesterday at] LT",lastWeek:"[last] dddd",sameElse:"MMM Do [at] LT"})),l=new Date(t.offerDeadlineDate),u="Offers accepted until ".concat(s),c="Offer deadline for ".concat(i.street," is ").concat(s),m=this.props.homePhotosInfo?this.props.homePhotosInfo[0]:null,h=m&&m.photo?m.photo.mediaBrowserSizeUrl:null;return t.title&&React.createElement(p.default,{section:"address_banner_secondary",target:"offer_deadline"},React.createElement("div",{className:"OfferDeadlineSection secondary-stats-bannerV2",ref:function(t){return e.domNode=t},itemScope:!0,itemType:"http://schema.org/Event"},React.createElement("meta",{itemProp:"name",content:u}),React.createElement("meta",{itemProp:"description",content:c}),React.createElement("meta",{itemProp:"startDate",content:l}),React.createElement("meta",{itemProp:"endDate",content:l}),React.createElement("meta",{itemProp:"image",content:h}),React.createElement("span",{itemProp:"location",itemScope:!0,itemType:"http://schema.org/SingleFamilyResidence"},React.createElement("meta",{itemProp:"name",content:i.street}),React.createElement("span",{itemProp:"address",itemScope:!0,itemType:"http://schema.org/PostalAddress"},React.createElement("meta",{itemProp:"streetAddress",content:i.street}),i.city?React.createElement("meta",{itemProp:"addressLocality",content:i.city}):null,React.createElement("meta",{itemProp:"addressRegion",content:i.state}),i.zip?React.createElement("meta",{itemProp:"postalCode",content:i.zip}):null,React.createElement("meta",{itemProp:"addressCountry",content:"US"}))),React.createElement("div",null,React.createElement("span",{className:"primary-label offer-deadline-title"},t.title,"  "),n&&React.createElement("span",{className:"font-size-base font-color-gray-light offer-deadline-message"},t.message)),!n&&React.createElement("div",{className:"font-size-base font-color-gray-light offer-deadline-message"},t.message),React.createElement("div",{className:(0,d.default)("secondary-info offer-deadline-action",{"padding-vert-small":!n}),onClick:this._redirectToOfferDeadline.bind(this),role:"button"},React.createElement("a",{className:"clickable"},this._getActionTitle()))))}},{key:"_getActionTitle",value:function(){var e=this.props.contactBoxInfo&&(this.props.contactBoxInfo.agentRequestAgent||this.props.contactBoxInfo.recommendedAgent)||this.props.agentRequestAgent||this.props.recommendedAgent;return e&&e.get("agentType")===g_agentType.REDFIN?this.props.offerDeadlineInfoStore.actionTitle:null}},{key:"_shouldShowOfferDeadline",value:function(){return this.props.offerDeadlineInfoStore&&this.props.offerDeadlineInfoStore.offerDeadlineDate}},{key:"_redirectToOfferDeadline",value:function(){var e=h.default.trackClick(h.default.clicks.START_AN_OFFER_LINK);g.default.isLoggedIn()||(0,m.trackRegistrationConversionAttempt)(e,g_registrationReason.SUBMIT_OFFER,g_registrationAuthority.REDFIN),y.default.redirectToOfferWizard(e)}}],[{key:"propTypes",get:function(){return{offerDeadlineInfoStore:u.default.object,contactBoxInfo:u.default.object,homePhotosInfo:u.default.arrayOf(u.default.shape({photo:u.default.shape({mediaBrowserSizeUrl:u.default.string})})),isSecondaryVariant:u.default.bool}}}]),n}(c.Component);t.default=S,e.exports=t.default},kmI5:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("3OWR")),o=a(n("LDFp")),i=a(n("pBXq"));o.default.ensure(n("tTYd"));var s=(0,r.default)(new i.default,{name:"StickyTourFooterRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],impressions:{LIVE_CHAT_BUTTON_PLACEMENT_EXPERIMENT_ELIGIBLE:{section:"mw_chat_placement_experiment_eligible",trackGA:!1,expectedParams:["bouncer_used"]},REMOVING_STICKY_TOUR_BUTTON_ELIGIBLE:{section:"removing_sticky_tour_footer_experiment_eligible",trackGA:!1},SCHEDULE_TOUR_BUTTON:{section:"sticky_footer",target:"schedule_tour_button",trackGA:!0,expectedParams:["is_partner","num_completed_tours"]}},clicks:{SCHEDULE_TOUR_BUTTON:{section:"sticky_footer",target:"schedule_tour_button",trackGA:!0,expectedParams:["is_partner","num_completed_tours"]},MEDIA_BROWSER_FOOTER:{section:"media_browser_sticky_footer",target:"schedule_tour_button",trackGA:!0},SELF_TOUR_BUTTON_REDFIN:{section:"sticky_footer",target:"self_tour_button",trackGA:!0},SELF_TOUR_BUTTON_EXT:{section:"sticky_footer",target:"ext_self_tour_button",trackGA:!0},SINGLE_PHOTO_MEDIA_BROWSER_CTA_CLICK:{section:"full_screen_media_browser_photo",target:"schedule_tour_button",trackGA:!0,expectedParams:["is_partner"]}}});t.default=s,e.exports=t.default},ktsn:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lSNA")),o=a(n("6qam")),i=a(n("UB5X")),s=a(n("QkVN")),l=n("cMqt"),u=a(n("m7qm")),c=a(n("94Bj")),d=a(n("7SUW")),f=n("osI4"),p=a(n("rYdI")),m=a(n("QizQ")),h=a(n("6WaX")),g=a(n("EyRd")),_=a(n("Y1nU")),v=n("h1io"),y=n("vrcu"),E=n("tNUi"),S=n("Irkk"),I=n("zNyI"),T=n("j1NT"),C=a(n("nF31")),b=a(n("ed/o")),k=a(n("i7n7")),R=a(n("cY5t")),O=a(n("j1iR"));function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var P=l.logging.getLogger({owningTeam:"SELL_SIDE_CUSTOMER_GROWTH",name:"corvair.sites.customer-pages.pages.homeDetails.stores.MortgageCalculatorStore",color:{server:229,client:"rgb(212,212,127)"}});e.exports=u.default.createStoreFactory({mixins:[C.default],downPaymentStoreName:"downPaymentStore",homePriceStoreName:"homePriceStore",propertyTaxStoreName:"propertyTaxStore",homeInsuranceStoreName:"homeInsuranceStore",mortgageInsuranceStoreName:"mortgageInsuranceStore",homeEquityStoreName:"homeEquityStore",tempState:null,hasQueuedLendersRequest:!1,isFetchingMortgageLenders:!1,mortgageLendersRequested:!1,previouslyRequestedLenderParameters:null,init:function(e){var t=_.default.getSavedInfo(e.defaults.stateId,e.defaults.countyId),n=(0,y.getPriceAndMortgageDefaults)(e.claimedHomeInfo,e.regionStats),a=n.homeSalePriceDefault,r=n.outstandingMortgageDefault,o=n.otherCostsDefault,l=A(A({},e),{},{userDefined:t,globalSliderIndex:0,homeSalePriceDefault:a,outstandingMortgageDefault:r,otherCostsDefault:o,isResetDialogOpen:!1}),u=(0,s.default)(l,this.doCalculations(l));u.downPaymentStoreName=this.downPaymentStoreName,u.homePriceStoreName=this.homePriceStoreName,u.propertyTaxStoreName=this.propertyTaxStoreName,u.homeInsuranceStoreName=this.homeInsuranceStoreName,u.mortgageInsuranceStoreName=this.mortgageInsuranceStoreName,u.homeEquityStoreName=this.homeEquityStoreName;var c=p.default.calculateLoanPayment(u.downPayment.percentage,u.listingPrice);if(u.homePriceStore=new m.default({name:this.homePriceStoreName,value:u.listingPrice,minimum:1,maximum:Math.pow(2,31)-1}),u.downPaymentStore=new m.default({name:this.downPaymentStoreName,denominator:u.listingPrice,percent:u.downPayment.percentage}),u.propertyTaxStore=new m.default({name:this.propertyTaxStoreName,denominator:u.listingPrice,percent:u.propertyTax.rate}),u.homeInsuranceStore=new m.default({name:this.homeInsuranceStoreName,denominator:u.listingPrice/12,percent:u.homeInsurance.rate}),u.mortgageInsuranceStore=new m.default({name:this.mortgageInsuranceStoreName,denominator:c/12,percent:u.mortgageInsurance.rate}),(0,S.getShouldSeePaymentCalcSaleProceedsRevamp)()&&(u.homeEquityStore=new m.default({name:this.homeEquityStoreName}),(0,i.default)(t.maxHomeEquityWithoutRefund)&&(0,i.default)(t.selectedHomeEquity)&&t.agentCtaType)){if(u.maxHomeEquity=t.maxHomeEquityWithoutRefund,"true"===t.selectedRefund){var d=u.maxHomeEquity+l.refund;t.selectedHomeEquity>d&&(t.selectedHomeEquity=d),u.maxHomeEquity=d}u.hasSavedHomeEquity=!0,u.meetWithRedfinAgentCtaType=t.agentCtaType,h.default.textBlur(this.homeEquityStoreName,t.selectedHomeEquity)}u.mortgageRatesPageLink=this.computeMortgageRatesPageLink(u),u.bankrateDisclaimerText=this.computeBankrateDisclaimerText(u),u.mortgageCalculatorPriceRange=this.computeMortgageCalculatorPriceRange(u.defaults.listingPrice,u.avmInfo),u.mortgageLenders=[],u.selectedMortgageLenderIndex=null,u.forceUseUserInterestRateOverride=!1,u.displayName="MortgageCalculatorFormStore",u.hasFiredNullImpression=!1,u.lenderIndexOverride=!u.inBankrateVariant,u.firstBankrateCardAvailable=!1,u.showInlineSellsideFlyout=null,u.showCustomizeSellsideFlyout=null,u.isInlineDownPaymentExpanded=u.claimedHomeInfo&&u.claimedHomeInfo.propertyId,u.isModalDownPaymentExpanded=!0,u.address=t.address||u.claimedHomeInfo&&u.claimedHomeInfo.streetAddress,u.ownedHomePropertyId=t.ownedHomePropertyId||u.claimedHomeInfo&&u.claimedHomeInfo.propertyId,this.setState(u),this.listenTo(b.default.mortgageRatesPageLinkClick,this._onMortgageRatesPageLinkClick),this.listenTo(b.default.openSellsideFlyout,this._onOpenSellsideFlyout),this.listenTo(b.default.closeSellsideFlyout,this._onCloseSellsideFlyout),this.listenTo(b.default.changeMortgageRatesButtonVisibility,this._onChangeMortgageRatesButtonVisibility),this.listenTo(b.default.saveHomeEquity,this._onSaveHomeEquity),this.listenTo(b.default.openResetDialog,this.onOpenResetDialog),this.listenTo(b.default.closeResetDialog,this.onCloseResetDialog)},_onOpenSellsideFlyout:function(e){var t=this.state,n=t.showInlineSellsideFlyout,a=t.showCustomizeSellsideFlyout;if(null===n&&null===a){var r=k.default.shouldShowDownPaymentSellsideFlyout();this.setState({showInlineSellsideFlyout:r&&e,showCustomizeSellsideFlyout:r&&!e})}},_onCloseSellsideFlyout:function(e){e?this.setState({showInlineSellsideFlyout:!1}):this.setState({showCustomizeSellsideFlyout:!1}),k.default.onCloseSellsidePushFlyout()},_onChangeMortgageRatesButtonVisibility:function(e){this.setState({mortgageRatesButtonVisibility:e})},_onSaveHomeEquity:function(e,t,n,a){h.default.textBlur(this.homeEquityStoreName,t),this.setState({hasSavedHomeEquity:!0,maxHomeEquity:t,meetWithRedfinAgentCtaType:a}),_.default.saveMaxHomeEquityWithoutRefund(e),_.default.saveSelectedHomeEquity(t),_.default.saveSelectedRefund(n),_.default.saveAgentCtaType(a)},doCalculations:function(e){var t=e.defaults,n=e.userDefined;if(!t)return{};var a=this.getListingPrice(t,n),r=this.getSelectedHomeEquity(t,n),i=p.default.calculateDownPayment(this.getDownPaymentPercentage(t,n),a),l=(0,S.getShouldSeePaymentCalcSaleProceedsRevamp)()&&e.hasSavedHomeEquity?(r+i)/a*100:this.getDownPaymentPercentage(t,n),u=this.getPropertyTaxRate(t,n),c=this.getHomeInsuranceRate(t,n),d=this.getMonthlyHoaDues(t,n),f=this.getMortgageInsuranceRate(t,n),m=this.getOtherCosts({otherCosts:e.otherCostsDefault},n),h=this.getSellingFee({sellingFee:1},n),g=this.getHomeSalePrice({homeSalePrice:e.homeSalePriceDefault},n,!(0,S.getShouldSeePaymentCalcSaleProceedsRevamp)()),_=this.getOutstandingMortgage({outstandingMortgage:e.outstandingMortgageDefault},n,!(0,S.getShouldSeePaymentCalcSaleProceedsRevamp)()),v=this.getLoanType(t,n),y=this.getCreditScore(t,n),E=this.getMortgageRateInfo(t,n),I=null;!(0,o.default)(e.selectedMortgageLenderIndex)&&e.mortgageLenders&&e.mortgageLenders.length>0&&(I=e.mortgageLenders[e.selectedMortgageLenderIndex]);var T=this.calculateInterestRate(v,E,I,e.forceUseUserInterestRateOverride),C=p.default.calculateMonthlyPaymentsForListing({listingPrice:a,downPaymentPercentage:l,interestRate:T,propertyTaxRate:u,hoaPerMonth:d,homeInsuranceRate:c,mortgageInsuranceRate:f,loanType:v}),b={listingPrice:a,downPayment:{percentage:l,amount:p.default.calculateDownPayment(l,a)},loanType:v,creditScore:y,interestRate:T,monthlyHoaDues:d,propertyTax:{rate:u,amount:p.default.calculateYearlyPropertyTax(u,a)},homeInsurance:{rate:c,amount:p.default.calculateYearlyHomeInsurance(c,a)},mortgageInsurance:{rate:f,amount:p.default.calculateYearlyMortgageInsurance(f,l,a)},otherCosts:m,sellingFee:h,homeSalePrice:g,outstandingMortgage:_};return(0,s.default)(b,C)},_onSelectMortgageLenderAtIndex:function(e,t){var n=this.state.selectedMortgageLenderIndex;(0,o.default)(n)||n===e||g.default.trackClick(t?g.default.clicks.INLINE_CAROUSEL_CARD_SELECTION:g.default.clicks.CAROUSEL_CARD_SELECTION,{rank:n})},_setMortgageLenderAtIndex:function(e){var t=this.state.inBankrateVariant?this.state.selectedMortgageLenderIndex!==e?e:null:e;this.setState({selectedMortgageLenderIndex:t,forceUseUserInterestRateOverride:(0,o.default)(t)})},_onFireCarouselImpression:function(e){this._fireLendersInfoImpression(e?g.default.impressions.INLINE_RATES_CAROUSEL:g.default.impressions.RATES_CAROUSEL)},_setGlobalSliderIndex:function(e){this.state.inBankrateVariant&&this.setState({globalSliderIndex:e})},_fireLendersInfoImpression:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.default.impressions.CUSTOMIZE_CALCULATIONS,t=this.state.mortgageLenders?this.state.mortgageLenders.length:0,n=g_mortgageTerms.idToObj[this.state.loanType].sId,a=this.state.creditScore,r=this.state.homePriceStore.value,o=this.state.downPayment.percentage,i=r*(1-o/100),s=this.state.defaults.zipcode;g.default.trackImpression(e,{num_results:t,credit_score:a,home_price:r,loan_balance:i,loan_type:n,percentage_down:o,zipcode:s})},_setInterestRateOverrideAndLenderIndex:function(){this.state.lenderIndexOverride?this.setState({selectedMortgageLenderIndex:null,forceUseUserInterestRateOverride:!0}):this.setState({selectedMortgageLenderIndex:this.state.inBankrateVariant?null:0,forceUseUserInterestRateOverride:this.state.inBankrateVariant})},_onMortgageRatesPageLinkClick:function(){g.default.trackClick(g.default.clicks.MORTGAGE_RATES_LINK)},_onSummaryClick:function(){g.default.trackClick(g.default.clicks.INLINE_SUMMARY,{platform:this.state.platform})},_fireFirstAvailableCardImpression:function(){!this.hasFiredFirstBankrateCardAvailableImpression&&this.experimentHasStarted&&this.state.mortgageLenders instanceof Array&&this.state.mortgageLenders.length>0&&(this._fireLendersInfoImpression(g.default.impressions.FIRST_BANKRATE_CARD_AVAILABLE),this.hasFiredFirstBankrateCardAvailableImpression=!0)},_handleMortgageLendersReceived:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.setState({demandChannel:(0,T.getPlainLDPPaymentCalculatorContext)()}),this._fireMRCLoadEvent(),this._fireMRCSearchEvent(e,t)},_fireMRCLoadEvent:function(){c.default.isOn(R.default)&&!this.hasFiredMRCLoadEvent&&((0,I.MRCtrackLoadEvent)({demandChannel:(0,T.getPlainLDPPaymentCalculatorContext)()}),this.hasFiredMRCLoadEvent=!0)},_fireMRCSearchEvent:function(e,t){c.default.isOn(R.default)&&(0,I.MRCtrackSearchEvent)({transactionId:e,lendersCount:t,demandChannel:(0,T.getPlainLDPPaymentCalculatorContext)()})},_onCalculatorDidMount:function(e){var t=this.state.platform;g.default.trackImpression(g.default.impressions.MORTGAGE_CALCULATOR,{platform:t},e,function(){c.default.isOn(O.default)&&"phone"!==(0,f.getCurrentDeviceType)()&&(new d.default).initialize({experiment:O.default})})},onMCFormDidMount:function(e,t){var n=this.state.claimedHomeInfo;t?g.default.trackImpression(g.default.impressions.HSP_IN_LDP_PAYMENT_CALC_START,{has_claimed_home:!(!n||!n.propertyId)},e):g.default.trackImpression(g.default.impressions.HOME_SALE_PRICE_CALC_MODAL,{has_claimed_home:!(!n||!n.propertyId)})},onUpdateAddress:function(e,t){var n=this;(0,v.fetchHomeSaleInfo)({propertyId:e}).then(function(a){var r=(0,y.getPriceAndMortgageFromHomeSaleInfo)(a),o=r.homeSalePrice,i=r.outstandingMortgage;o?(n.setState({hasNoEstimateError:!1,address:t,ownedHomePropertyId:parseInt(e,10)}),n.saveUserInput({homeSalePrice:o,outstandingMortgage:i},!1),_.default.saveHomeSalePrice(o),_.default.saveOutstandingMortgage(i),_.default.saveAddress(t),_.default.saveOwnedHomePropertyId(e)):n.setState({hasNoEstimateError:!0})}),e&&(0,E.claimHome)(e).catch(function(t){P.error("Failed to claim property with id ".concat(e),t)}),this._onUpdateAddress&&this._onUpdateAddress(e)},onClearAddress:function(){this.setState({hasNoEstimateError:!1,address:null,ownedHomePropertyId:null}),_.default.removeAddress(),_.default.removeOwnedHomePropertyId()},onUpdateSellingFee:function(e){this.saveUserInput({sellingFee:e},!1),this._onUpdateSellingFee&&this._onUpdateSellingFee(e)},onUpdateOtherCosts:function(e){this.saveUserInput({otherCosts:e},!1),_.default.saveOtherCosts(e),this._onUpdateOtherCosts&&this._onUpdateOtherCosts(e)},onUpdateHomeSalePrice:function(e){this.saveUserInput({homeSalePrice:e},!1),_.default.saveHomeSalePrice(e),this._onUpdateHomeSalePrice&&this._onUpdateHomeSalePrice(e)},onClearHomeSalePrice:function(){this.setState({homeSalePriceDefault:null}),this.onUpdateHomeSalePrice(null)},onUpdateOutstandingMortgage:function(e){this.saveUserInput({outstandingMortgage:e},!1),_.default.saveOutstandingMortgage(e),this._onUpdateOutstandingMortgage&&this._onUpdateOutstandingMortgage(e)},onClearOutstandingMortgage:function(){this.setState({outstandingMortgageDefault:null}),this.onUpdateOutstandingMortgage(null)},onToggleExpandableDownPayment:function(e){e?this.setState({isInlineDownPaymentExpanded:!this.state.isInlineDownPaymentExpanded}):this.setState({isModalDownPaymentExpanded:!this.state.isModalDownPaymentExpanded})},onOpenResetDialog:function(){this.setState({isResetDialogOpen:!0})},onCloseResetDialog:function(){this.setState({isResetDialogOpen:!1})}})},kxWP:function(e,t,n){"use strict";var a=n("TqRt")(n("3OWR")),r=n("pBXq").default,o=(0,a.default)(new r,{name:"MiniMapRiftTracker",impressions:{STREETVIEW_PREVIEW:{section:"street_view_preview",target:"",expectedParams:["hasStreetView"],trackGA:!1},MINIMAP_SECTION:{section:"minimap",target:"",expectedParams:["is_ghost_town","has_parcel"],trackGA:!0}},clicks:{EXPAND_MAP:{section:"minimap",target:"expand_map_link",trackGA:!0},STREET_VIEW_LINK:{section:"minimap",target:"street_view_link",trackGA:!0},DIRECTIONS_LINK_CLICK:{section:"minimap",target:"directions_link",trackGA:!0},FLOOD_LINK_CLICK:{section:"minimap",target:"flood_link",trackGA:!1},MAP_NEARBY:{section:"minimap",target:"map_nearby_button",trackGA:!0},GHOST_TOWN:{section:"minimap",target:"ghost_town"}}});e.exports=o},kzuc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=(0,n("TlVh").createStoreFactory)({init:function(){this.setState({schoolDialogIsOpen:!1,actions:{onDialogOpen:this.onDialogOpen,onDialogClose:this.onDialogClose}})},onDialogOpen:function(){this.setState({schoolDialogIsOpen:!0})},onDialogClose:function(){this.setState({schoolDialogIsOpen:!1})}});t.default=a,e.exports=t.default},"l+Dz":function(e,t,n){},l3Qz:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getFloodData=h;var r=a(n("LDFp")),o=a(n("7kw5")),i=n("Q+Iq"),s=a(n("/+pK")),l=a(n("94Bj")),u=a(n("uRYm")),c=a(n("9l3w")),d=a(n("x3Yk")),f=n("BHWi"),p=n("5sHw");r.default.ensure(n("yFh4")),r.default.ensure(n("vR6D"));var m="FloodDataApi";function h(e){var t=e.propertyParcelInfo,n=e.addressSectionInfo,a=e.propertyId,r=n&&!(0,p.isRegionSupportedForClimateRiskData)(n),h=l.default.isOn(l.default.feature.ENABLE_FLOOD_GRAPHQL_APIS)||!1;if(l.default.isOn(l.default.feature.FLOOD_DATA)&&!s.default.get(g_dbBackedConfigKeys.FLOOD_DATA_BLOCKLIST_PROPERTIES).includes(a)&&"VARIANT"===l.default.getVariant(l.default.feature.FLOOD_DATA)&&!r){var _,v,y=t&&t.fipsCode&&t.fipsCode.trim(),E=t&&t.apn&&t.apn.trim(),S=t&&t.locId&&t.locId.trim(),I=(null==t||t.bounds,null==t?void 0:t.polygon),T=u.default.displayName;if(l.default.isOn(u.default))y=null==n?void 0:null===(_=n.fips)||void 0===_?void 0:_.trim(),E=null==n?void 0:null===(v=n.apn)||void 0===v?void 0:v.trim(),S=null,o.default.client().increment("".concat(m,".").concat(T,".").concat(a,".overriding"));var C=l.default.feature.ENABLE_FLOOD_IMPORTED_DATA.displayName;if(l.default.isOn(l.default.feature.ENABLE_FLOOD_IMPORTED_DATA)){if(n&&n.latLong){var b=n.latLong,k=b.latitude,R=b.longitude,O=g(n),N=new URLSearchParams({fipsCode:y,apn:E,locId:S,lat:k,lng:R,address:O});return o.default.client().increment("".concat(m,".").concat(C,".").concat(a,".floodInfoFipsApnLocIdLatLng")),l.default.isOn(c.default)?(0,i.postEndpoint)("/stingray/api/home/details/flood/floodInfoFipsApnLocIdLatLngBounds",{fipsCode:y,apn:E,locId:S,lat:k,lng:R,address:O,polygon:I}).then(function(e){return e}).catch(function(e){logger.error(e)}):(0,d.default)("/stingray/api/home/details/flood/floodInfoFipsApnLocIdLatLng?".concat(N)).then(f.getBodyOrThrowError)}return o.default.client().increment("".concat(m,".").concat(C,".").concat(a,".skip")),Promise.resolve(null)}if(y&&E&&S&&y.length>0&&E.length>0&&S.length>0){var A=new URLSearchParams({fipsCode:y,apn:E,locId:S});return o.default.client().increment("".concat(m,".").concat(C,".").concat(a,".floodInfoFipsApnLocId")),(0,d.default)("/stingray/api/home/details/flood/floodInfoFipsApnLocId?".concat(A)).then(f.getBodyOrThrowError)}if(S&&S.length>0&&!h){var P=new URLSearchParams({locId:S});return o.default.client().increment("".concat(m,".").concat(C,".").concat(a,".floodInfoLocId")),(0,d.default)("/stingray/api/home/details/flood/floodInfoLocId?".concat(P)).then(f.getBodyOrThrowError)}if(n&&n.latLong){var D=n.latLong,w=D.latitude,L=D.longitude,M=g(n),x=new URLSearchParams({lat:w,lng:L,address:M});return o.default.client().increment("".concat(m,".").concat(C,".").concat(a,".floodInfoLatLng")),(0,d.default)("/stingray/api/home/details/flood/floodInfoLatLng?".concat(x)).then(f.getBodyOrThrowError)}return o.default.client().increment("".concat(m,".").concat(C,".").concat(a,".skip")),Promise.resolve(null)}return Promise.resolve(null)}function g(e){var t=[];return e.streetAddress&&e.streetAddress.assembledAddress&&t.push(e.streetAddress.assembledAddress),e.city&&t.push(e.city),e.state&&t.push(e.state),e.zip&&t.push(e.zip),t.join(", ")}var _={getFloodData:h};t.default=_},l6sp:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("7W2i")),s=a(n("a1gu")),l=a(n("Nsbk")),u=a(n("17x9")),c=a(n("YAhj")),d=a(n("8Jek")),f=a(n("ma35")),p=a(n("nbo3")),m=a(n("UT8e")),h=a(n("oHU3")),g=a(n("es7G")),_=n("uxEU");function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var y=function(e){(0,i.default)(n,e);var t=v(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"componentDidMount",value:function(){var e=(this.props.recommendeds||{}).recommendedsPropertyIds;g.default.trackImpression(g.default.impressions.RECOMMENDEDS,{full_recs_list_size:this.props.recommendeds&&this.props.recommendeds.fullRecsListSize,filtered_recs_list_size:this.props.recommendeds&&this.props.recommendeds.filteredRecsListSize,num_homecards_shown:this._getNumberOfHomeCardsToDisplay(),related_property_ids:"[".concat(this.props.recommendeds&&this.props.recommendeds.recommendedsPropertyIds,"]"),related_listing_ids:(0,_.getFormattedRelatedListingIds)(this.props.recommendeds),num_duplicates_recs_similars:this.props.numDuplicatesRecs,query_id:this.props.recommendeds&&this.props.recommendeds.queryId,positions:"[".concat(this._getPositionsForRecommendeds(e),"]"),property_id:this.props.propertyId,listing_id:this.props.listingId,scores:"[".concat(this._getScoresForReommendeds(),"]")},this.domNode)}},{key:"_getPositionsForRecommendeds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.props.recommendeds||{},n=t.recommendedsOriginalIndexMap;return e.map(function(e){return n[e]})}},{key:"_getScoresForReommendeds",value:function(){var e=(this.props.recommendeds||{}).riftMetadata,t=this.props.recommendeds.recommendedsPropertyIds.map(function(t){return e[t]}),n=t.map(function(e){return e.lilr_score}),a=t.map(function(e){return e.pilr_score});return a=a.filter(function(e){return!!e}),n=n.filter(function(e){return!!e}),a&&a.length>0?a:n}},{key:"_getNumberOfHomeCardsToDisplay",value:function(){return this.props.recommendeds&&this.props.recommendeds.homes?Math.min(this.props.recommendeds.homes.length,this.props.numberOfCards):0}},{key:"shouldRenderFeedCTA",value:function(){return!!(this.props.recommendeds&&this.props.recommendeds.filteredRecsListSize&&this.props.recommendeds.homes)&&(this.props.recommendeds.filteredRecsListSize>this.props.recommendeds.homes.length&&this.props.recommendeds.homes.length>=6)}},{key:"clickFeedCTA",value:function(e){g.default.trackClick(g.default.clicks.RECOMMENDEDS_FEED_CTA_CLICK,e),p.default.flushRiftEvents()}},{key:"calculateMoreHomesText",value:function(){var e=this.props.recommendeds.filteredRecsListSize-this.props.recommendeds.homes.length;return 1===e?"View 1 more home in your Feed":"View "+e+" more homes in your Feed"}},{key:"render",value:function(){var e=this;if(!this.props.recommendeds)return null;var t=[];this.props.recommendeds&&(t=this.props.recommendeds.homes.slice(0,this._getNumberOfHomeCardsToDisplay()));var n={homes:t,riftMetadata:this.props.recommendeds.riftMetadata,dataSources:this.props.recommendeds.dataSources,accessLevel:this.props.accessLevel,queryId:this.props.recommendeds.queryId,originalIndexMap:this.props.recommendeds.recommendedsOriginalIndexMap,showRemarksOnDPSimilars:this.props.showRemarksOnDPSimilars,listingId:this.props.listingId,propertyId:this.props.propertyId},a=(0,d.default)({description:!0,homecardV2Description:!0}),r={num_recs_shown:this._getNumberOfHomeCardsToDisplay(),num_more_homes:this.props.recommendeds.filteredRecsListSize-this._getNumberOfHomeCardsToDisplay(),query_id:this.props.recommendeds&&this.props.recommendeds.queryId,positions:this._getPositionsForRecommendeds(this.props.recommendeds.recommendedsPropertyIds)};return c.default.createElement("div",{className:"recommended-homes",id:"lsis-recommendeds",ref:function(t){return e.domNode=t}},c.default.createElement("div",{className:a},"Based on homes you’ve looked at."),c.default.createElement(h.default,n),this.shouldRenderFeedCTA()&&c.default.createElement(m.default,{section:"recommended_homes",target:"feed_cta",eventDetails:r},c.default.createElement(f.default,{className:"tertiary cta",href:"/feed",onClick:this.clickFeedCTA.bind(this,r)},this.calculateMoreHomesText())))}}],[{key:"displayName",get:function(){return"redfin.homes.details.recommendedHomes.react.RecommendedHomesPanel"}},{key:"propTypes",get:function(){return{sectionHeader:u.default.string,numberOfCards:u.default.number,recommendeds:u.default.shape({homes:u.default.array,riftMetadata:u.default.object,dataSources:u.default.array,fullRecsListSize:u.default.number,filteredRecsListSize:u.default.number,recommendedsPropertyIds:u.default.array,queryId:u.default.string}),propertyId:u.default.number,listingId:u.default.number}}},{key:"defaultProps",get:function(){return{numberOfCards:6,recommendeds:null}}}]),n}(c.default.Component);e.exports=y},lfGZ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("17x9")),d=n("mXGw"),f=a(n("JsyM"));function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("Fsfh");var m=function(e){(0,s.default)(n,e);var t=p(n);function n(e){return(0,o.default)(this,n),t.call(this,e)}return(0,i.default)(n,[{key:"render",value:function(){for(var e=this,t=this.props.suggestions,n=[],a=0;a<t.length;a++)n.push(React.createElement(f.default,(0,r.default)({token:this.props.autoCompleteToken},t[a],{placesService:this.props.placesService,onPlaceSelected:this.props.onPlaceSelected,key:a,isSelected:a===this.props.activeSuggestion})));return React.createElement("div",{className:"autoCompleteDropdown",onMouseEnter:function(){return e.props.onMouseEnter()},onMouseLeave:function(){return e.props.onMouseLeave()}},n)}}],[{key:"propTypes",get:function(){return{suggestions:c.default.array,onPlaceSelected:c.default.func,placesService:c.default.object}}},{key:"defaultProps",get:function(){return{suggestions:[]}}}]),n}(d.Component);t.default=m,e.exports=t.default},liRG:function(e,t,n){},lt89:function(e,t,n){},"lvD+":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.text,n=e.link,a=e.linkText,i=e.clickRiftEvent;return React.createElement("div",{className:"auxiliary-content"},React.createElement("div",{className:"auxiliary-text"},t,React.createElement("a",{className:"auxiliary-link",onClick:function(){return o.default.trackClick(i)},href:n,target:"_blank"},a)),React.createElement(r.default,null))};var r=a(n("Vxqf")),o=a(n("EyRd"));e.exports=t.default},"m2/A":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("7Kiy")),s=a(n("0XUH")),l=n("cMqt"),u=n("YQMY"),c=a(n("7kw5")),d=c.default.makeCountMetricName({name:"corvair.sites.customer-pages.middleware.CustomerFirstVisit",color:{server:135,client:"rgb(127,42,212)"}},"failStoreFirstVisit"),f=c.default.makeCountMetricName({name:"corvair.sites.customer-pages.middleware.CustomerFirstVisit",color:{server:135,client:"rgb(127,42,212)"}},"localStorageNotAvailable"),p=l.logging.getLogger({name:"corvair.sites.customer-pages.middleware.CustomerFirstVisit",color:{server:135,client:"rgb(127,42,212)"}}),m=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"handleRoute",value:function(e){return s.default.whenReady().then(function(){var e=new i.default;if(!e||e.isAvailable())try{e.getItem(u.FIRST_VISIT_DATE_KEY)||e.setItem(u.FIRST_VISIT_DATE_KEY,new Date)}catch(e){p.error("Failed to store customer first visit",e),c.default.client().increment(d)}else c.default.client().increment(f)}),e()}}]),e}();t.default=m,e.exports=t.default},mBca:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("pBXq")),i="full_screen_minimap",s=(0,r.default)(new o.default,{name:"QuickMapRiftTracker",section:i,clicks:{RECENTER_LINK:{section:i,target:"recenter_link",trackGA:!0},MAPVIEW_LINK:{section:i,target:"map_view_link",trackGA:!0},STREETVIEW_LINK:{section:i,target:"street_view_link",trackGA:!0},NORTH_LINK:{section:i,target:"north_link",trackGA:!0},EAST_LINK:{section:i,target:"east_link",trackGA:!0},SOUTH_LINK:{section:i,target:"south_link",trackGA:!0},WEST_LINK:{section:i,target:"west_link",trackGA:!0},BIRDSEYE_LINK:{section:i,target:"birds_eye_link",trackGA:!0},DIRECTIONS_LINK:{section:i,target:"directions_link",trackGA:!0},CLOSE_LINK:{section:i,target:"close_button",trackGA:!0},FLOOD_LINK:{section:i,target:"flood_link",trackGA:!1},LOCATION_TAB:{section:i,target:"location_tab",trackGA:!0},NEARBY_FOR_SALE_TAB:{section:i,target:"nearby_for_sale_tab",trackGA:!0},NEARBY_SOLD_TAB:{section:i,target:"nearby_sold_tab",trackGA:!0},FOR_SALE_PIN:{section:i,target:"for_sale_pin",trackGA:!0},SOLD_PIN:{section:i,target:"sold_pin",trackGA:!0},FOR_SALE_HOMECARD:{section:i,target:"for_sale_homecard",trackGA:!0},SOLD_HOMECARD:{section:i,target:"sold_homecard",trackGA:!0},FLOOD_TAB:{section:i,target:"flood_tab",trackGA:!1},SHARE_BUTTON:{section:i,target:"share_button",trackGA:!1}}});e.exports=s},mHrS:function(e,t,n){},mNJZ:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("pVnL")),o=a(n("LDFp"));o.default.ensure(n("tTYd"));var i=n("pBXq").default,s="rental_estimate",l=(0,r.default)(new i,{name:"DPRentalEstimateRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],impressions:{RENTAL_ESTIMATE_SECTION:{section:s,target:"",expectedParams:["visibility"]},HOMECARD_SWIPE:{section:s,target:"homecard_swipe"}},clicks:{MW_EXPAND:{section:s,target:"more_link",expectedParams:["visibility"]},MW_COLLAPSE:{section:s,target:"less_link",expectedParams:["visibility"]},INFO_ICON:{section:s,target:"info_icon",expectedParams:["visibility"]},FLYOUT_ACCURACY_LINK:{section:s,target:"rental_estimate_page_link",expectedParams:["visibility"]},FLYOUT_FEEDBACK_LINK:{section:s,target:"feedback_link",expectedParams:["visibility"]},FLYOUT_WALKSCORE_LINK:{section:s,target:"walk_score_link",expectedParams:["visibility"]},EDIT_FACTS:{section:s,target:"edit_facts",expectedParams:["visibility"]},LEARN_MORE_LINK:{section:s,target:"learn_more_link",expectedParams:["visibility"]},HOMECARD:{section:s,target:"homecard",expectedParams:["property_id","clicked_property_id"]},SHOW_COMPARABLES_ON_MAP:{section:s,target:"view_more_link"},COMPARABLE_MAP_PIN:{section:s,target:"map_pin"},VIEW_MORE_RENTALS:{section:s,target:"view_on_map_link"}}});e.exports=l},mUvu:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.createTourHomeMomentInfoStore=t.createPersonalPropertyInfoStore=t.createDPStoreFactory=void 0;var r=a(n("J4zp")),o=a(n("lSNA")),i=a(n("pVnL")),s=a(n("LDFp")),l=a(n("cXUB")),u=a(n("7kw5")),c=n("TlVh"),d=a(n("94Bj")),f=a(n("FQEs")),p=a(n("7vFQ")),m=a(n("uRYm")),h=a(n("3Rg2")),g=a(n("G4Xu")),_=a(n("lzRi")),v=a(n("H1AI")),y=n("Q+Iq"),E=a(n("/4Do")),S=a(n("AL8r")),I=n("QP4D"),T=a(n("7AK3")),C=n("gVUJ"),b=a(n("ZpgJ")),k=a(n("vdnz")),R=a(n("/+pK")),O=n("cMqt"),N=a(n("72T9")),A=n("G4xM"),P=a(n("omsl")),D=a(n("f+7f")),w=a(n("tXIs")),L=a(n("vu0i")),M=a(n("JX1m")),x=a(n("+k5+")),F=a(n("/Xwz")),B=a(n("AwDr")),H=a(n("5SId")),U=a(n("yTPA")),j=a(n("I+M3")),q=a(n("tQ7D")),W=a(n("E0VT")),V=a(n("jRF0")),G=a(n("3I/y")),K=a(n("5jiR")),Y=a(n("Vp/8")),z=a(n("UbZX")),X=a(n("B3cr")),Q=a(n("INXV")),J=a(n("shGK")),Z=a(n("FycR")),$=a(n("kzuc")),ee=a(n("Y2Hy")),te=a(n("x8YL")),ne=a(n("yJmG")),ae=a(n("sYmu")),re=a(n("olno")),oe=a(n("hwGP")),ie=a(n("pnNL")),se=a(n("KH0T")),le=a(n("Q1B7")),ue=a(n("y6A7")),ce=a(n("xIWx")),de=a(n("rSjP")),fe=a(n("2TFU")),pe=a(n("o9qY")),me=a(n("5jEf")),he=a(n("jfj+")),ge=a(n("zzkY")),_e=a(n("cI0r")),ve=a(n("MBzk")),ye=a(n("BcrJ")),Ee=a(n("ZMkd")),Se=a(n("pQu4")),Ie=a(n("XAd1")),Te=a(n("wdjJ")),Ce=a(n("AusB"));n("mdaO"),n("e/jQ"),n("C3UG"),n("7NDK");var be=a(n("Y7U7")),ke=a(n("uPz2")),Re=n("w3Q5"),Oe=a(n("POva")),Ne=n("+Ciq"),Ae=a(n("UItQ")),Pe=n("o8GF"),De=a(n("px8L")),we=a(n("ws6r")),Le=n("pBXq"),Me=n("fWPp"),xe=n("mRY2"),Fe=n("5sHw"),Be=n("LFuj"),He=n("4NP4");function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}s.default.ensure(n("fNZa"),n("80RJ"),n("s0m6"),n("JQvh"),n("yFh4"),n("RrDr"),n("pfrU"),n("D7GA"),n("6bC2"),n("F3hS"),n("R5AP"));var qe=O.logging.getLogger({owningTeam:"HOME_DISCOVERY",name:"corvair.sites.customer-pages.pages.details.DetailsBasePageStore",color:{server:203,client:"rgb(212,42,42)"}}),We={listenables:[U.default,M.default,F.default,j.default],init:function(e){var t=this;Ve(e),this._setupInitialStoreState(e),(0,I.isBrowser)()&&((0,Le.initializeXDPBaseRiftTracker)(),this.aboveTheFoldInteractivePromise=l.default.defer(),this.similarsSectionRendered=l.default.defer(),l.default.allSettled([this.whenResolved(),this.aboveTheFoldInteractivePromise.promise]).then(function(){return t._pageComplete()}),this.clientSideStoreInit&&this.clientSideStoreInit(),this._setupListeners())},_setupInitialStoreState:function(e){var t=this._callEndpoints(e);this._endpointPromises=t;var n=this._mapPromisesToData(t,e),a=this._getAdditionalStateProperties(e);this.substores=this._getSubstores(t,n,e,a);var r=(0,i.default)(n,this.substores,a);this.setState(r)},_setupListeners:function(){this.listenTo(W.default.allRequirementsMet,function(){return window.location.reload()}),this.setupListeners&&this.setupListeners()},getEndpoint:function(e,t){return(0,He.getTimed)(e,t,y.getEndpoint,qe)},getAccessLevelProtected:function(e,t){return(0,He.getTimed)(e,t,S.default,qe)},_callEndpoints:function(e){var t=this,n=e.listingId,a=void 0===n?null:n,o=e.propertyId,s=e.accessLevel,c=e.pageType,p=e.deviceConfig,h=e.queryParams,g=e.dataSourceId,_=e.marketId,v=e.primaryRegionInfo;isNaN(o)&&qe.error("HomeDetails: DINGDINGDING non-numericals in propertyId of "+o);var E={propertyId:o,accessLevel:s},S=v.regionTableId,I=v.regionTypeId,T=v.mapPageTypeId;a&&(E.listingId=a);var C,b=g_dataSourceRequirementsContext.DP_PAGE_LOAD,k=d.default.isOn(d.default.feature.LISTING_FLOORPLANS_API)&&!!a,O=(d.default.isOn(d.default.feature.TEST_CLIMATECHECK_LATLNG_API)||d.default.isOn(d.default.feature.XDP_CLIMATE_RISKS))&&!(0,Fe.isPropertyInClimateRiskBlocklist)(o),P=(0,Be.getShouldShowInternetDataOnDp)(c),D={getAboveTheFoldInfo:this.getEndpoint("/stingray/api/home/details/aboveTheFold",je(je({},E),{},{pageType:c})),getFloorPlansInfo:k?this.getEndpoint("/stingray/api/home/details/listing/floorplans",{listingId:a}):l.default.fulfill(),getBelowTheFoldInfo:this.getEndpoint("/stingray/api/home/details/belowTheFold",je(je({},E),{},{pageType:c})),getMainHouseInfoPanelInfo:this.getEndpoint("/stingray/api/home/details/mainHouseInfoPanelInfo",je(je({},E),{},{pageType:c})),getBannerInfo:(0,y.getEndpoint)("/stingray/api/home/details/banner-data/p1",E),getAvmInfo:this.getEndpoint("/stingray/api/home/details/avm",E),getDescriptiveParagraphInfo:this.getEndpoint("/stingray/api/home/details/descriptiveParagraph",E),getTourInsightsInfo:this.getEndpoint("/stingray/api/home/details/tourInsights",{listingId:a,propertyId:o,accessLevel:s,pageType:c}),getNearbyCompeteScores:this.getEndpoint("/stingray/api/region/".concat(I,"/").concat(S,"/nearby-compete-scores")),getSimilarListingsInfo:this.getEndpoint("/stingray/api/home/details/similars/listings",je(je({},E),{},{marketId:_})),getSimilarSoldsInfo:this.getEndpoint("/stingray/api/home/details/similars/solds",je(je({},E),{},{marketId:_})),getSmartInterlinksInfo:this.getEndpoint("/stingray/api/home/details/moreResourcesInfo",{propertyId:o}),getPropertyParcelInfo:this.getEndpoint("/stingray/api/home/details/propertyParcelInfo",{listingId:a,propertyId:o,accessLevel:s,pageType:c}),getParcelStream:this.getEndpoint("/stingray/do/parcelstream/?sslAcct=true"),getActivityInfo:this.getEndpoint("/stingray/api/home/details/activityInfo",E),getDataSourceRequirementInfo:g?this.getEndpoint("/stingray/do/api/requirements",{dataSourceId:g,requirementsContext:b}):null,getHomeDetailsPageHeaderInfo:this.getEndpoint("/stingray/api/home/details/homeDetailsPageHeaderInfo",{propertyId:o}),getRentalEstimateSectionInfo:(0,Re.isRentalEstimateEligible)(_)?this.getEndpoint("/stingray/api/home/details/rental-estimate",E):l.default.fulfill(),getPropertyCommentsInfo:this.getEndpoint("/stingray/api/v1/home/details/propertyCommentsInfo",{propertyId:o}),getSharedRegionInfo:this.getEndpoint("/stingray/api/region/shared-region-info",{tableId:S,regionTypeId:I,mapPageTypeId:T})};if(C=(0,Me.getListingViewsCount)()>1&&d.default.isOn(f.default)?this.getEndpoint("/stingray/api/home/details/recommended/homes",E):(0,l.default)({}),D.getRecommendedHomesInfo=C,O){var w=l.default.all(D.getAboveTheFoldInfo).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null!=e.addressSectionInfo?e.addressSectionInfo:{},a=(n.latLong||{}).latitude,r=(n.latLong||{}).longitude;return a&&r&&(0,Fe.isRegionSupportedForClimateRiskData)(n)?t.getEndpoint("/stingray/api/region/envRisk-data",{latitude:a,longitude:r}):l.default.fulfill()});D.getClimateRiskInfo=w}if(P){var M=l.default.all([D.getPropertyParcelInfo,D.getAboveTheFoldInfo]).then(function(e){var n,a,i,s,c,f,p=(0,r.default)(e,2),h=p[0],g=p[1],_=(h.latLong||{}).latitude,v=(h.latLong||{}).longitude,y=h.fipsCode,E=m.default.displayName,S=d.default.isOn(m.default);S&&(_=null==g?void 0:null===(n=g.addressSectionInfo)||void 0===n?void 0:null===(a=n.latLong)||void 0===a?void 0:a.latitude,v=null==g?void 0:null===(i=g.addressSectionInfo)||void 0===i?void 0:null===(s=i.latLong)||void 0===s?void 0:s.longitude,y=null==g?void 0:null===(c=g.addressSectionInfo)||void 0===c?void 0:null===(f=c.fips)||void 0===f?void 0:f.trim(),u.default.client().increment("".concat("DetailsBasePageStore",".").concat(E,".").concat(o,".overriding")));return _&&v&&y?(S&&u.default.client().increment("".concat("DetailsBasePageStore",".").concat(E,".").concat(o,".makingInternetCall")),t.getEndpoint("/stingray/api/home/details/internet-data",{latitude:_,longitude:v,fips5:y})):(S&&u.default.client().increment("".concat("DetailsBasePageStore",".").concat(E,".").concat(o,".skipping")),l.default.fulfill())});P&&(D.getInternetData=M)}var x=D.getAvmInfo.then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(e.comparables||[]).map(function(e){return e.propertyId});return n&&n.length>0?t.getEndpoint("/stingray/api/home/details/compHomeTags/compHomeTagsInfo",{property_id:o,comp_property_ids:n,predicted_value:e.predictedValue,display_level:e.displayLevel}):(0,l.default)({})});D.getCompHomeTags=x;var F=h&&h.comingSoonListingContactBoxCta||(0,N.default)(A.COMING_SOON_CONTACT_BOX_CTA),B=je(je({},E),{},{pageType:c});F&&(B.listingAgentFromListingStatsEmailId=F);var H="/stingray/api/home/details/customerConversionInfo/"+([g_detailsPageType.ACTIVE,g_detailsPageType.ACTIVE_PENDING].indexOf(c)>=0?"onMarket":"offMarket"),U={keys:["experienceData","recommendedAgent"]};D.getContactBoxInfo=this.getEndpoint(H,B).then(function(e){return e&&(0,y.doObjectGraph)(U)(e)||{}});var j=D.getContactBoxInfo.then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.serviceThreshold,n=je(je({},E),{},{serviceThreshold:t});return(0,L.default)("web_dp_notice_section",{areBotsAllowed:!1,requestTimeout:2e3},n)});D.getNoticeSectionPlacementInfo=j,d.default.isOn(d.default.feature.BUILDING_PAGES)&&d.default.isOn(d.default.feature.BUILDING_ON_DP)&&(D.getBuildingInfo=this.getEndpoint("/stingray/api/building/details-page/v1",{propertyId:o}),D.getBuildingHeroShotInfo=D.getBuildingInfo.then(function(e){if(void 0!==e&&"number"==typeof e.id)return t.getEndpoint("/stingray/api/building/details/hero-shot",{buildingId:e.id,accessLevel:s})}),D.getForSaleUnits=D.getBuildingInfo.then(function(e){if(void 0!==e&&"number"==typeof e.id)return t.getEndpoint("/stingray/api/building/units/for-sale/v1",{buildingId:e.id,accessLevel:s})})),a&&(D.getDatePickerInfo=(0,y.getEndpoint)("/stingray/do/tourlist/v"+R.default.get(g_dbBackedConfigKeys.CURRENT_BIN_VERSION)+"/getDatePickerData",{listingId:a}).then((0,y.doObjectGraph)()));var q=this.callEndpoints?this.callEndpoints({listingId:a,propertyId:o,accessLevel:s,pageType:c,deviceConfig:p,queryParams:h,primaryRegionInfo:v}):null;return(0,i.default)(D,q)},_mapPromisesToData:function(e,t){var n=t.propertyId,a=t.pageExperimentInfo,r=e.getAboveTheFoldInfo,o=e.getBelowTheFoldInfo,s=e.getMainHouseInfoPanelInfo,l={mediaBrowserInfo:r.then(function(e){return(0,i.default)(e.mediaBrowserInfo,{propertyId:n})}),addressSectionInfo:r.then(function(e){return e.addressSectionInfo}),floorPlansInfo:e.getFloorPlansInfo.then(function(e){return e||{}}),mainHouseInfo:s.then(function(e){return e.mainHouseInfo}),openHouseInfo:s.then(function(e){return e.openHouseInfo}),amenitiesInfo:o.then(function(e){return e.amenitiesInfo}),propertyHistoryInfo:o.then(function(e){return e.propertyHistoryInfo}),publicRecordsInfo:o.then(function(e){return e.publicRecordsInfo}),zoningDataInfo:o.then(function(e){if(d.default.isOn(_.default)||d.default.isOn(v.default)){var t,n="Success."===(null==e?void 0:null===(t=e.zoningDataInfo)||void 0===t?void 0:t.message);we.default.trackImpression(we.default.impressions.ZONING_INFO_AVAILABLE,{zoning_info_available:n})}return e.zoningDataInfo}),schoolsInfo:o.then(function(e){return e.schoolsInfo}),schoolDistrictsInfo:o.then(function(e){return e.schoolDistrictsInfo}),schoolsAndDistrictsInfo:o.then(function(e){return e.schoolsAndDistrictsInfo}),nearbyCompeteScoresInfo:e.getNearbyCompeteScores,avmInfo:e.getAvmInfo,homeDetailsPageHeaderInfo:e.getHomeDetailsPageHeaderInfo,descriptiveParagraphInfo:e.getDescriptiveParagraphInfo,tourInsightsInfo:e.getTourInsightsInfo,sharedRegionInfo:e.getSharedRegionInfo,similarListingsInfo:e.getSimilarListingsInfo,similarSoldsInfo:e.getSimilarSoldsInfo,smartInterlinks:e.getSmartInterlinksInfo,propertyParcelInfo:e.getPropertyParcelInfo.then(function(e){return(0,Me.processPropertyParcelInfoData)(e,a)}),datePickerInfo:e.getDatePickerInfo?e.getDatePickerInfo:null,parcelStream:e.getParcelStream,activityInfo:e.getActivityInfo,contactBoxInfo:e.getContactBoxInfo,propertyCommentsInfo:e.getPropertyCommentsInfo,buildingInfo:e.getBuildingInfo,buildingHeroShotInfo:e.getBuildingHeroShotInfo,buildingForSaleUnits:e.getForSaleUnits,dataSourceRequirementInfo:e.getDataSourceRequirementInfo,rentalEstimateSectionInfo:e.getRentalEstimateSectionInfo,recommendedHomesInfo:e.getRecommendedHomesInfo,noticeSectionPlacementInfo:e.getNoticeSectionPlacementInfo.catch(function(e){qe.error("Error retrieving notice section merch placement",e)}),compHomeTags:e.getCompHomeTags,climateRiskData:e.getClimateRiskInfo,internetData:e.getInternetData},u=this.mapPromisesToData?this.mapPromisesToData(e):null;return(0,i.default)(l,u)},_getSubstores:function(e,t,n,a){var o=this,s=n.listingId,u=void 0===s?null:s,c=n.propertyId,f=n.accessLevel,p=n.deviceConfig,m=n.pageExperimentInfo,_=n.pageType,v=n.queryParams,y=n.promisedBouncyHouseFlags,S=e.getAboveTheFoldInfo,I=e.getBannerInfo,T=d.default.isOn(h.default)?"geometry,drawing,places":"geometry,drawing",C=b.default.getRiftPageType(),k={channel:ke.default.getChannelByRiftPageType(C),libraries:T},R=p===g_deviceConfiguration.DESKTOP?ie.default:se.default,O=l.default.all([t.addressSectionInfo,t.propertyParcelInfo,t.climateRiskData]).then(function(e){var t=(0,r.default)(e,3),n=t[0],a=t[1],o=t[2];return new me.default(o,n,a)}),N=l.default.all([t.internetData]).then(function(e){var t=(0,r.default)(e,1)[0];return new ve.default(t)}),A=l.default.all([t.propertyParcelInfo,t.addressSectionInfo]).then(function(e){var t=(0,r.default)(e,2),n=t[0],a=t[1];return new pe.default(n,a,c)}),P=l.default.all([t.addressSectionInfo,t.publicRecordsInfo]).then(function(e){var t=(0,r.default)(e,2),n=t[0],a=t[1];return new Ce.default(c,n,a)}),D=!1;d.default.isOn(d.default.feature.ENABLE_FLOOD_IMPORTED_DATA)?D=!0:p!==g_deviceConfiguration.DESKTOP&&(D=!0),D&&A.then(function(e){return e.populateFloodData()});var w=Promise.all([S,I,t.contactBoxInfo]).then(function(e){var t=(0,r.default)(e,3);return{aboveTheFoldInfo:t[0],bannerInfo:t[1],contactBoxInfo:t[2]}}),L=w.then(function(e){return new K.default(je(je({},e),{},{isPrimaryBanner:!0,isAddressBarBanner:!1}))}),M=w.then(function(e){return new K.default(je(je({},e),{},{isPrimaryBanner:!1,isAddressBarBanner:!1}))}),x=w.then(function(e){return new K.default(je(je({},e),{},{isPrimaryBanner:!1,isAddressBarBanner:!0}))}),F=new he.default({propertyId:c,pageType:_,deviceConfig:p}),B=l.default.all([t.addressSectionInfo,c]).then(function(e){var t=(0,r.default)(e,2),n=t[0],a=t[1];return new Te.default(n,a)}),H=l.default.all([c,t.contactBoxInfo,_]).then(function(e){var t=(0,r.default)(e,3),n=t[0],a=t[1],o=t[2];return new Ee.default({contactBoxInfo:a,propertyId:n,pageType:o})}),U=new ye.default({propertyId:c,pageType:_}),j=_===g_detailsPageType.OFF_MARKET?U.whenResolved():(0,l.default)({}),q={aroundThisHomeStore:t.addressSectionInfo.then(function(e){var t=e.latLong;return new Z.default({propertyId:c,listingId:u,latLong:t})}),redfinNowHomeMomentInfoStore:F,opendoorPurchaseEstimateStore:U,historicalAvmStore:Ge({avmInfo:t.avmInfo,propertyId:c,listingId:u,accessLevel:f,deviceConfig:p,pageType:_}),tourHomeMomentInfoStore:Ke({propertyId:c,listingId:u,accessLevel:f}),personalizationInfo:Ye({propertyId:c,listingId:u,deviceConfig:p,omdpHigherDescriptionExperimentInfo:m.omdpHigherDescriptionExperimentInfo,propertyDetailsPromise:t.addressSectionInfo.then(function(e){return{searchStatus:e.searchStatus}})}),floodStore:A,loadTestStore:B,climateStore:O,internetDataStore:N,bannerInfoStore:L,secondaryBannerInfoStore:M,addressBarBannerInfoStore:x,experimentStore:Promise.all([y,t.addressSectionInfo]).then(function(e){var t=(0,r.default)(e,2),n=t[0],a=t[1];return new ae.default({pageExperimentInfo:m,deviceConfig:p,pageType:_,bouncyHouseFlags:n,addressSectionInfo:a})}),cashOfferPlacementStore:H,sideBarStore:l.default.all([t.addressSectionInfo,t.contactBoxInfo,t.datePickerInfo,t.mainHouseInfo,t.personalizationInfo,F.whenResolved(),j,H]).then(function(e){var t=(0,r.default)(e,8),n=t[0],a=t[1],o=t[2],i=t[3],s=t[4],l=t[5],u=t[6],c=t[7];return new re.default({addressSectionInfo:n,contactBoxInfo:a,datePickerInfo:o,deviceConfig:p,mainHouseInfo:i,personalizationInfo:s,redfinNowHomeMomentInfoStore:l,opendoorPurchaseEstimateStore:u,cashOfferPlacementStore:c})}),schoolsDrawerStore:new $.default,avmMapStore:new V.default({mapName:be.default.AVMMap,mapLoadingParams:k}),avmSelectionStore:new ne.default({}),ownerEstimateMapStore:new V.default({mapName:be.default.OwnerEstimateMap,mapLoadingParams:k}),compSelectionStore:new ne.default({}),rentalEstimateMapStore:new V.default({mapName:be.default.RentalEstimateMap,mapLoadingParams:k}),rentalEstimateSelectionStore:new ne.default({}),clickThroughSectionStore:d.default.isOn(g.default)&&l.default.all([t.dataSourceRequirementInfo,t.homeDetailsPageHeaderInfo]).then(function(e){var t=(0,r.default)(e,2),a=t[0],o=t[1];return a&&a.missingRequirementIds&&a.missingRequirementIds.length>0?new fe.default({dataSourceId:n.dataSourceId,requirementsContext:1,missingRequirementIds:a.missingRequirementIds,tosStoreOpts:{declineTosUrl:o&&o.cityUrl}}):null}),propertyHistoryStore:t.propertyHistoryInfo.then(function(e){return new X.default(e)}),userCommentStore:t.propertyCommentsInfo.then(function(e){return new de.default(e,E.default.isCurrentlyLoggedIn())}),mortgageCalculatorStore:null,buyersAgentCommissionStore:l.default.all([t.addressSectionInfo,t.contactBoxInfo,t.mainHouseInfo,t.avmInfo]).then(function(e){var t=(0,r.default)(e,4),n=t[0],o=t[1],i=t[2],s=t[3];return new Q.default({addressSectionInfo:n,contactBoxInfo:o,mainHouseInfo:i,listingId:u,propertyId:c,avmInfo:s,queryParams:v,additionalProperties:a})}),propertyDetailsDrawerDialogStore:new J.default({}),listingStatusBannerStore:new _e.default(c,u),utilitiesStore:P};q.marketInsightsStore=l.default.all([q.experimentStore,t.addressSectionInfo]).then(function(e){var t=(0,r.default)(e,2),n=t[0],a=t[1];return new ge.default(n.state.isInBetterMarketInsightsVariant,c,u,a.propertyType)}),q.mediaBrowserStore=l.default.all([t.mediaBrowserInfo,t.floorPlansInfo,a.useSrcSet]).then(function(e){var t=(0,r.default)(e,3),n=t[0],a=t[1].floorPlans,s=t[2];return new R((0,i.default)({ClientPerfMonitor:Oe.default,pageStore:o,floorPlans:a,useSrcSet:s},n))}),q.mediaDialogStore=l.default.all([t.mediaBrowserInfo,t.floorPlansInfo,q.propertyHistoryStore,t.addressSectionInfo,q.sideBarStore]).then(function(e){var t=(0,r.default)(e,5),n=t[0],a=t[1].floorPlans,o=t[2],s=t[3],l=t[4];return new oe.default((0,i.default)({propertyHistoryStore:o,sideBarStore:l,addressSectionInfo:s,queryParams:v,floorPlans:a},n))}),this._miniMapStore=new V.default({mapName:be.default.MiniMap,mapLoadingParams:k}),this._miniMapStore.setState({showQuickMap:!1,googleMapsLoaded:!1,routesVisibility:[],autoCompleteSetupDone:!1,setUpCommuteDisplay:!0}),this._quickMapStore=new V.default({mapName:be.default.QuickMap,mapLoadingParams:k}),this.locationStore=l.default.all([q.experimentStore,t.addressSectionInfo,t.mediaBrowserInfo,t.propertyParcelInfo,t.parcelStream,t.mainHouseInfo]).then(function(e){var t=(0,r.default)(e,6),n=t[0],a=t[1],o=t[2],i=t[3],s=t[4],l=t[5];return n.state.isInFullScreenMapRevamp?new G.default({panes:Ae.default,mapName:be.default.QuickMap,channel:ke.default.getChannelByRiftPageType(C),centroid:a.latLong,streetView:o.streetView,parcelStream:s,polygon:i.bounds,floodStore:A,title:p===g_deviceConfiguration.DESKTOP?null:a.streetAddress.assembledAddress,propertyId:c,pageType:_,addressSectionInfo:a,mainHouseInfo:l}):null}).then(function(e){return e&&A&&A.then(function(t){return t.whenEmitter(["floodData"])(function(t){var n=t.floodData;return e.update({floodData:n})})}),e}),this._cordlessAdsStore=(0,Ne.shouldRenderDisplayAds)()?t.addressSectionInfo.then(function(e){var t=(0,Ne.computeAdTargeting)(e);return new ue.default(3,t,"dp")}):{},q.coreNavigationStore=t.homeDetailsPageHeaderInfo.then(function(e){return new te.default((0,xe.getLinkToPage)(parseInt((0,xe.getLastNavCookie)(),10),{searchUrl:"#",defaultSearchUrl:e.cityUrl,shouldRerenderWithSearchUrl:!0}))}),q.miniMapStore=this._miniMapStore,q.quickMapStore=this._quickMapStore,q.locationStore=this.locationStore;var W=this.getSubstores?this.getSubstores({propertyId:c,listingId:u,deviceConfig:p,pageType:_,data:t,commonSubstores:q,queryParams:v}):null;return(0,i.default)(q,W)},_getAdditionalStateProperties:function(e){var t={deviceConfig:e.deviceConfig,marketId:e.marketId,pageType:e.pageType,listingId:e.listingId,accessLevel:e.accessLevel,propertyId:e.propertyId,dataSourceId:e.dataSourceId,businessMarkets:e.businessMarkets,isLandingSession:e.isLandingSession,queryParams:e.queryParams,searchBoxStoreName:e.searchBoxStoreName,useSrcSet:e.promisedBouncyHouseFlags.then(function(e){return e("DP_USE_SRCSET")}).then(function(e){return"VARIANT"===e.cohort}).then(function(){return!0}),inLightboxV2:d.default.isOn(p.default)&&"VARIANT"===d.default.getVariant(p.default)};e.deviceConfig===g_deviceConfiguration.PHONE&&(w.default.setUseStickyHeader(),(0,I.isBrowser)()&&q.default.hideStickyHeader());var n=this.getAdditionalStateProperties?this.getAdditionalStateProperties({opts:e}):null;return(0,i.default)(t,n)},_getClientSideSubstores:function(){this._fullScreenStateStore=new Se.default;var e={fullScreenStateStore:this._fullScreenStateStore,shareBoxStore:new ce.default({propertyId:this.state.propertyId,listingId:this.state.listingId,listingUrl:this.state.mainHouseInfo.url,fullStreetAddress:this.state.mainHouseInfo.fullStreetAddress,mlsId:this.state.mainHouseInfo.mlsId,dataSourceId:this.state.dataSourceId,sharePhotoUrl:this.state.addressSectionInfo.primaryPhotoUrl}),navigationStore:new le.default,comparableRentalsStore:this.state.rentalEstimateSectionInfo&&this.state.rentalEstimateSectionInfo.rentalEstimateInfo&&new Ie.default({propertyId:this.state.propertyId,latitude:this.state.addressSectionInfo.latLong.latitude,longitude:this.state.addressSectionInfo.latLong.longitude,rentalEstimateInfo:this.state.rentalEstimateSectionInfo.rentalEstimateInfo})},t=this.getClientSideSubstores?this.getClientSideSubstores(this.state):null;return(0,i.default)(e,t)},_pageComplete:function(){var e=this._getClientSideSubstores();this.setState(je({pageLoadComplete:!0},e));var t=this.state,n=t.listingId,a=t.queryParams,r=t.businessMarkets;x.default.initializeExperiments(),this.fireDPLoadedImpressions(),(0,Me.updateListingViewsCookie)(n),(0,Me.fireGreatFirstVisitEvent)(a,r),d.default.isOn(d.default.feature.GATE_CONCIERGE_MERCH_WITH_SERVICE_REGIONS)&&(0,Me.updateServiceRegionCookie)(this.state.contactBoxInfo.serviceRegionId);var o=this.state.addressSectionInfo.latLong;o&&(0,C.setLastLatLng)({lat:o.latitude,lng:o.longitude}),this.pageComplete&&this.pageComplete()},onAboveTheFoldInteractive:function(){this.aboveTheFoldInteractivePromise&&this.aboveTheFoldInteractivePromise.resolve()},onSimilarsSectionRendered:function(){this.similarsSectionRendered.resolve()},onKeyboardEsacpe:function(){this.onExitQuickMapFullScreen()},onKeyboardQuickMap:function(){this.onOpenQuickMapFullScreen()},onKeyboardPlus:function(){this.onZoomInQuickMap()},onKeyboardMinus:function(){this.onZoomOutQuickMap()},onOpenQuickMapFullScreen:function(e){this.state.experimentStore.isInFullScreenMapRevamp?this.substores.locationStore.then(function(t){return t.openDialog(e)}):this._miniMapStore.setState({showQuickMap:!0})},onExitQuickMapFullScreen:function(){this._miniMapStore.setState({showQuickMap:!1})},onZoomInQuickMap:function(){this._miniMapStore.state.showQuickMap&&B.default.adjustZoom({zoom:1,mapName:be.default.QuickMap})},onZoomOutQuickMap:function(){this._miniMapStore.state.showQuickMap&&B.default.adjustZoom({zoom:-1,mapName:be.default.QuickMap})},onHomeMapLoaded:function(){this._miniMapStore.setState({googleMapsLoaded:!0})},onKeyboardPeriod:function(){H.default.focusSearchBox(this.state.searchBoxStoreName)},onLoadLazySectionData:function(e,t){var n=this.state,a=n.propertyId,r=n.listingId,o=n.accessLevel,i={};i[e]=(0,y.getEndpoint)(t,{propertyId:a,listingId:r,accessLevel:o}),this.setState(i)},onShowRoutes:function(e){for(var t=this._miniMapStore.state.routesVisibility?this._miniMapStore.state.routesVisibility:[],n=-1,a=0;a<t.length;a++)if(Number(t[a].dest.lat.toFixed(6))===Number(e.dest.lat.toFixed(6))&&Number(t[a].dest.long.toFixed(6))===Number(e.dest.long.toFixed(6))){n=a;break}-1===n?t.push(e):t[n]=e,this._miniMapStore.setState({routesVisibility:t})},onAutoCompleteSetupDone:function(){this._miniMapStore.setState({autoCompleteSetupDone:!0})},onSetUpCommuteDisplay:function(e){this._miniMapStore.setState({setUpCommuteDisplay:e})},onPaintDirection:function(e,t){this._miniMapStore.setState({directionsRenderer:e,directionsRoute:t})},fireDPLoadedImpressions:function(){De.default.trackImpression(De.default.impressions.XDP_LOADED);var e={is_redfin_listing:this.state.addressSectionInfo.isRedfin,num_upcoming_open_houses:this.state.mainHouseInfo.openHouses?this.state.mainHouseInfo.openHouses.length:0,num_upcoming_video_open_houses:this.state.mainHouseInfo.videoOpenHouses?this.state.mainHouseInfo.videoOpenHouses.length:0,is_hot:this.state.addressSectionInfo.isHot,business_market_id:this.state.businessMarkets&&this.state.businessMarkets.length>0?this.state.businessMarkets[0]:null};this.state.deviceConfig===g_deviceConfiguration.PHONE?(De.default.trackImpression(De.default.impressions.MOBILE_WEB_XDP_LOADED,e),(0,Pe.addOnOrientationChangeListener)(Me.onOrientationChange)):De.default.trackImpression(De.default.impressions.DESKTOP_XDP_LOADED,e);var t=(0,T.default)()||null,n=t&&-1!==t.indexOf(this.state.propertyId.toString());De.default.trackImpression(De.default.impressions.XDP_CLAIMED_HOME_VIEW,{claimed_home:this.state.personalizationInfo.hasClaim,frequently_viewed:n}),this.state.pageType!==g_detailsPageType.ACTIVE&&this.state.pageType!==g_detailsPageType.ACTIVE_PENDING||(this.fireServiceInfoImpression(),this.fireServiceLevelInfoImpression())},fireServiceInfoImpression:function(){var e={service_policy:this.state.contactBoxInfo.servicePolicy,service_threshold:this.state.contactBoxInfo.serviceThreshold,service_region_id:this.state.contactBoxInfo.serviceRegionId,business_market_id:this.state.businessMarkets&&this.state.businessMarkets.length>0?this.state.businessMarkets[0]:null,service_region_status:this.state.contactBoxInfo.serviceRegionStatus,has_active_partner_agents:this.state.contactBoxInfo.hasActivePartnerAgents||"",listing_price:this.state.contactBoxInfo.listingPrice||"",search_status:this.state.contactBoxInfo.searchStatus,property_type:this.state.contactBoxInfo.propertyType};De.default.trackImpression(De.default.impressions.SERVICE_INFO,e)},fireServiceLevelInfoImpression:function(){var e=this.state.contactBoxInfo,t=e?e.serviceThreshold===P.default.NONE.id?"noservice":this.state.contactBoxInfo.serviceThreshold===P.default.PARTNER.id?"partner":"redfin":"-",n=e.serviceThreshold!==P.default.NONE.id&&this.getSideBarUITypeForRift(e),a=e&&(e.experienceData&&e.experienceData.agentRequestAgent||e.recommendedAgent),r=this.state.contactBoxInfo.serviceThreshold===P.default.PARTNER.id&&e&&e.experienceData&&e.experienceData.riftImpressionExtraParams.recommended_agent_ids,o={listing_id:this.state.listingId||"-",property_id:this.state.propertyId||"-",service_level:t,ui_type:n||"-",agent_id:a&&a.getId()||"-",agent_carousel_ids:r||"-",no_service_reason:e.serviceThreshold===P.default.NONE.id?g_servicePolicy.idToObj[e.servicePolicy].defaultMessage:"-"};De.default.trackImpression(De.default.impressions.SERVICE_LEVEL,o)},isDatePickerShown:function(){if([D.default.DIRECT_ACCESS.id].indexOf((this.state.contactBoxInfo||{}).experienceType)>=0)return!1},getSideBarUITypeForRift:function(e){var t=e&&e.experienceData,n=e&&e.showOnDetailsPage||t&&t.showOnDetailsPage;return n&&this.isDatePickerShown()?"both":n?"contactbox":this.isDatePickerShown()?"datepicker":"none"}},Ve=function(e){var t={listingId:e.listingId,propertyId:e.propertyId,deviceConfig:e.deviceConfig,pageType:e.pageType,pageExperimentInfo:e.pageExperimentInfo,queryParams:e.queryParams};(0,A.initializeHomeDetailsPageGlobalConfigs)(t)},Ge=function(e){var t=e.propertyId,n=e.listingId,a=e.accessLevel,r=e.avmInfo,o=e.deviceConfig,i=e.pageType;return new Y.default({avmInfo:r,avmHistory:(0,y.getEndpoint)("/stingray/api/home/details/avmHistoricalData",{listingId:n,propertyId:t,accessLevel:a}),isMobile:o!==g_deviceConfiguration.DESKTOP,pageType:i})},Ke=function(e){var t=e.propertyId,n=e.listingId,a=e.accessLevel,r=null;return d.default.isOn(d.default.feature.LDP_HOT_HOME_TOUR_FLYOUT)&&n&&(r=new z.default({propertyId:t,listingId:n,accessLevel:a,endpoint:"/stingray/api/moment/tourHomeMomentInfo"+"?propertyId=".concat(t,"&listingId=").concat(n,"&accessLevel=").concat(a)})),r};t.createTourHomeMomentInfoStore=Ke;var Ye=function(e){var t=e.propertyId,n=e.listingId,a=e.deviceConfig,r=e.omdpHigherDescriptionExperimentInfo,o=e.propertyDetailsPromise,i=new ee.default({propertyId:t,listingId:n,omdpHigherDescriptionExperimentInfo:r,propertyDetailsPromise:o});return i.setFromPersonalizationInfoApi((0,y.doIfLoggedIn)(function(){return(0,y.getEndpoint)("/stingray/api/home/details/personalizationInfo",{propertyId:t,listingId:n})},null)),i.setState({personalizationInfoReceived:!0,hasClaim:(0,y.doIfLoggedIn)(function(){return k.default.hasClaim(t)},!1),claimCount:(0,y.doIfLoggedIn)(function(){return k.default.getClaimCount()},!1),hasEpostcardSubscription:(0,y.doIfLoggedIn)(function(){return k.default.hasEpostcardSubscription(t)},!1),label:{claimed:"View Owner Dashboard",claimedRecently:"View Owner Dashboard",claimedHovered:"View Owner Dashboard",unclaimed:a===g_deviceConfiguration.PHONE?"I'm the owner":"Track this estimate",unclaimedHovered:a===g_deviceConfiguration.PHONE?"I'm the owner":"Track this estimate"}}),i};t.createPersonalPropertyInfoStore=Ye;t.createDPStoreFactory=function(e){return(0,c.createStoreFactory)((0,i.default)({},We,e))}},mfpq:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=n("cMqt"),s=a(n("x3Yk")),l=n("BHWi"),u=n("QP4D"),c=a(n("cXUB")),d=a(n("LftV")),f=a(n("7wbY")),p=i.logging.getLogger({name:"corvair.sites.customer-pages.middleware.PostTourCheckInLoader",color:{server:159,client:"rgb(127,212,212)"}}),m=i.RequestLocalStorage.getNamespace(),h=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"handleRoute",value:function(e){if((0,u.isBrowser)()&&!m().store){var t=(0,c.default)((0,s.default)("/stingray/api/post-tour-checkin/get?welcomeBackVersion=2")).then(l.getPayloadOrThrowError).catch(function(e){return p.error("Could not fetch post-tour check-in",e),null}).timeout(5e3).catch(function(){return p.warning("Timed out fetching post-tour check-in"),null});m().store=new d.default({promise:t})}return e()}},{key:"getElements",value:function(e){var t;return t=m().store?React.createElement(i.RootElement,{listen:m().store.whenResolvedEmitter()},React.createElement(f.default,null)):React.createElement(i.RootElement,null,React.createElement("noscript",null)),e().concat([t])}}]),e}();t.default=h,e.exports=t.default},mgEQ:function(e,t,n){},mqtc:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("17x9")),d=S(n("mXGw")),f=a(n("ma35")),p=a(n("9PPi")),m=a(n("HmyF")),h=a(n("KgQj")),g=a(n("JX1m")),_=S(n("8FbS")),v=a(n("7uBu")),y=n("uAhr");function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("Wzxf");var T=function(e){(0,s.default)(n,e);var t=I(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=null;return this.props.buttonType===y.StickyOMDPButtonTypeConstants.UNCLAIMED?e=this._renderUnclaimedButton():this.props.buttonType===y.StickyOMDPButtonTypeConstants.REDFIN_NOW?e=this._renderCashOfferButton(!1):this.props.buttonType===y.StickyOMDPButtonTypeConstants.OPENDOOR?e=this._renderCashOfferButton(!0):this.props.buttonType===y.StickyOMDPButtonTypeConstants.PARTNER?e=this._renderPartnerButton():this.props.buttonType===y.StickyOMDPButtonTypeConstants.HOME_VALUATION_ANALYSIS?e=this._renderHomeValuationAnalysisButton():this.props.buttonType===y.StickyOMDPButtonTypeConstants.BROKERAGE&&(e=this._renderBrokerageButton()),d.default.createElement("div",{className:"StickyOMDPButton"},e)}},{key:"_renderUnclaimedButton",value:function(){return C({heading:this.props.claimHomeTitle,subheading:this.props.claimHomeDescription,onClick:this._unclaimedButtonClick.bind(this)})}},{key:"_unclaimedButtonClick",value:function(){this._trackClick(!0);var e={sender:"stickyButtonOmdp",claim:!0,epostcard:!0,claimHomeSource:this.props.inquirySourceId===p.default.id?m.default.id:g_epostcardSubscribeSource.WEB_OMDP_STICKY_FOOTER,claimHomePlatform:g_claimHomePlatform.MOBILE_WEB,epostcardSubscribeSource:this.props.inquirySourceId===p.default.id?h.default.id:g_epostcardSubscribeSource.WEB_OMDP_STICKY_FOOTER,epostcardSubscribePlatform:g_epostcardSubscribePlatform.MOBILE_WEB,registrationReason:g_registrationReason.CLAIM_HOME,suppressPostJoinSections:!0};g.default.setEpostcardSettingsWithNavigation(e)}},{key:"_renderCashOfferButton",value:function(e){return C({heading:"Get a cash offer",subheading:e?"Sell to Opendoor, hassle free":"Sell to RedfinNow, hassle free",onClick:e?this._opendoorButtonClick.bind(this):this._cashOfferButtonClick.bind(this)})}},{key:"_cashOfferButtonClick",value:function(){this._trackClick(!1),v.default.navigateToCashOfferForm({propertyId:this.props.propertyId,inquirySourceId:this.props.inquirySourceId})}},{key:"_opendoorButtonClick",value:function(){this._trackClick(!1),v.default.navigateToOpendoorQuestionnaire({propertyId:this.props.propertyId,inquirySourceId:this.props.inquirySourceId})}},{key:"_renderPartnerButton",value:function(){return C({heading:"Request a consultation",subheading:"Sell your home with a Redfin Partner Agent",onClick:this._navigateToSellerConsultForm.bind(this)})}},{key:"_renderBrokerageButton",value:function(){var e=this.props.isShowingLiveChat?"Pay ":"Sell for more, pay ";return C({heading:"Schedule selling consultation",subheading:"".concat(e," a 1% listing fee when you buy & sell"),onClick:this._navigateToSellerConsultForm.bind(this)})}},{key:"_navigateToSellerConsultForm",value:function(){var e=this._trackClick(!1);v.default.navigateToSellerConsultForm({propertyId:this.props.propertyId,riftContext:e,inquirySourceId:this.props.inquirySourceId})}},{key:"_renderHomeValuationAnalysisButton",value:function(){return C({heading:"Request a free analysis",subheading:"Get an expert opinion on your home's value",onClick:this._homeValuationAnalysisButtonClick.bind(this)})}},{key:"_homeValuationAnalysisButtonClick",value:function(){this._trackClick(!1),v.default.navigateToHomeValuationAnalysisForm({propertyId:this.props.propertyId,inquirySourceId:this.props.inquirySourceId})}},{key:"_trackClick",value:function(e){return e?_.default.trackClick(this.props.inquirySourceId===p.default.id?_.default.clicks.DESKTOP_LIGHTBOX_OWNER_BUTTON:_.default.clicks.OMDP_OWNER_CTA,(0,_.getStandardStickyOmdpFooterEventDetails)(this.props.buttonType)):_.default.trackClick(this.props.inquirySourceId===p.default.id?_.default.clicks.DESKTOP_LIGHTBOX_SELL_BUTTON:_.default.clicks.MW_STICKY_FOOTER_BUTTON,(0,_.getStandardStickyOmdpFooterEventDetails)(this.props.buttonType))}}],[{key:"propTypes",get:function(){return{personalizationInfo:c.default.object,redfinNowHomeMomentInfoStore:c.default.object,contactBoxInfo:c.default.object,listingId:c.default.number,fullScreenStateStore:c.default.object,buttonType:c.default.string,isShowingLiveChat:c.default.bool,claimHomeTitle:c.default.string,claimHomeDescription:c.default.string}}}]),n}(d.Component);function C(e){var t=e.heading,n=e.subheading,a=e.onClick;return d.default.createElement(f.default,{rfTestId:"sticky-omdp-button",type:"primary",className:"OMDPButton v3 unpadded",onClick:a},d.default.createElement("div",{className:"buttonText"},d.default.createElement("div",{className:"heading text-base"},t),d.default.createElement("div",{className:"subheading text-smaller"},n)))}t.default=T,e.exports=t.default},mrPQ:function(e,t,n){},"nH+5":function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lSNA")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("PJYZ")),u=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),p=a(n("17x9")),m=a(n("Qczv")),h=a(n("vFUr")),g=a(n("anid")),_=a(n("6RjB")),v=a(n("xbS+")),y=a(n("McMD")),E=a(n("hlq+")),S=n("pdMd"),I=a(n("mU1b")),T=a(n("UT8e")),C=n("osI4"),b=n("+xFC"),k=a(n("8Jek")),R=a(n("RQwY")),O=a(n("cHKc"));function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}n("S8Ax");var w=function(e){(0,u.default)(n,e);var t=D(n);function n(e){var a;return(0,i.default)(this,n),(a=t.call(this,e)).state={selectedTime:null,isTourLoading:!1},a._handleMoreTourTimesLinkClick=a._handleMoreTourTimesLinkClick.bind((0,l.default)(a)),a._handleTimeTileClick=a._handleTimeTileClick.bind((0,l.default)(a)),a._handleTourLinkClick=a._handleTourLinkClick.bind((0,l.default)(a)),a.isDesktop="desktop"===(0,C.getCurrentDeviceType)(),a}return(0,s.default)(n,[{key:"render",value:function(){var e=this;if(this.state.isTourLoading)return f.default.createElement(y.default,null);var t=this.props.isDirectAccess?f.default.createElement("a",{className:"selfTourLink",onClick:function(){return(0,S.handleSelfTourClick)(e.props.isDirectAccessRedfin,e.props.listingId,e.props.widgetType,e.props.hotMarketInfo)}},"Self tour this home"):this.props.canShowTourTimes&&f.default.createElement(E.default,{tourTimes:this.props.tourTimes,tourTimeZone:this.props.tourTimeZone,isNextTourTimeToday:this.props.isNextTourTimeToday,onMoreClick:this._handleMoreTourTimesLinkClick,onTimeLinkClick:this._handleTimeTileClick}),n=this.props.tourTimes.length||0,a=(0,k.default)("urgencyInfo",{isShowingTourTimes:this.props.canShowTourTimes},this.props.className||""),r=this.props.widgetType===R.default.HOT_MARKET.name?"hot_market_banner":"urgency_message",o={time_tile_displayed:n,widgetType:this.props.widgetType};if(this.props.widgetType===R.default.HOT_MARKET.name&&this.props.hotMarketInfo){var i=this._getHotMarketRiftParams(this.props.hotMarketInfo);o=P(P({},o),i)}return this.props.widgetType===R.default.RARE_FIND.name&&this._trackRareFindImpressions(this.props.rareFindInfo),f.default.createElement(T.default,{section:r,eventDetails:o},f.default.createElement(f.default.Fragment,null,f.default.createElement("div",{className:a,"data-rf-test-name":"urgencyInfo"},f.default.createElement("span",{className:"urgencyText"},f.default.createElement("div",{className:"urgencyTextTitle"},this._getUrgencyTitle()),this._getUrgencyText()),f.default.createElement("div",{className:"urgencyIcon","data-rf-test-name":"urgencyIcon"},this._getUrgencyIcon())),t))}},{key:"_getUrgencyTitle",value:function(){return this.props.widgetType===R.default.POPULAR.name?this.isDesktop?"This home is popular":"Popular Home":this.props.widgetType===R.default.PRICE_DROP.name?"Price Drop":this.props.widgetType===R.default.HOT_MARKET.name&&this.props.hotMarketInfo?this.props.hotMarketInfo.title:this.props.widgetType===R.default.HOT_HOME.name?f.default.createElement(I.default,{"data-rf-test-name":"hotHomeDefinitionFlyout",alignment:"center",position:"right",term:"Redfin Hot Homes",definition:"Redfin calculates the chance that a home will go under contract with a buyer in its first two weeks on the market",definitionLink:"/about/hot-homes",onShowDefinitionFlyout:this._trackShowFlyout,onClickDefinitionLink:this._trackClickDefinitionLink},"Hot Home"):this.props.widgetType===R.default.RARE_FIND.name?this.isDesktop&&(0,S.isHomeFeatureVersionOfRareFind)(this.props.rareFindInfo)?f.default.createElement(I.default,{"data-rf-test-name":"rareFindDefinitionFlyout",alignment:"center",position:"right",term:"Redfin Rare Find",definition:"Redfin calculates the most valuable home improvement and design trends in the market.",definitionLink:"/us-home-trends",moreInfoText:"Learn More",onShowDefinitionFlyout:this._trackShowFlyoutForRareFind,onClickDefinitionLink:this._trackClickDefinitionLinkForRareFind},"Rare Find"):"Rare Find":""}},{key:"_trackShowFlyout",value:function(){O.default.trackImpressionWithDefaults(O.default.impressions.HOT_HOME_LINK)}},{key:"_trackShowFlyoutForRareFind",value:function(){O.default.trackImpressionWithDefaults(O.default.impressions.RARE_FIND_FEATURE_TITLE)}},{key:"_trackClickDefinitionLink",value:function(){O.default.trackClickWithDefaults(O.default.clicks.HOT_HOME_DEFINITION)}},{key:"_trackClickDefinitionLinkForRareFind",value:function(){O.default.trackClickWithDefaults(O.default.clicks.RARE_FIND_FEATURE_DEFINITION_CLICK)}},{key:"_trackRareFindImpressions",value:function(e){(0,S.isHomeFeatureVersionOfRareFind)(e)?O.default.trackImpressionWithDefaults(O.default.impressions.RARE_FIND_FEATURE):O.default.trackImpressionWithDefaults(O.default.impressions.RARE_FIND_PRICE)}},{key:"_getUrgencyText",value:function(){var e=" Tour it in person or via video chat before it's gone!";this.props.widgetType===R.default.HOT_MARKET.name&&(e=". Tour it before it's gone!"),this.props.widgetType===R.default.RARE_FIND.name&&(e="");var t,n=this.props.canShowTourTimes||this.props.shouldHideTourLink?e:f.default.createElement("span",null,f.default.createElement("a",{className:"clickable","data-rf-test-name":"urgencyGoTourLink",href:"javascript:void(0)",onClick:this._handleTourLinkClick},e));this.props.widgetType===R.default.POPULAR.name&&(t=this.isDesktop?"It's been viewed ".concat((0,b.formatNumber)(this.props.numHomeViews,0,!1)," times."):"".concat((0,b.formatNumber)(this.props.numHomeViews,0,!1)," views.")),this.props.widgetType===R.default.PRICE_DROP.name&&(t=this.props.priceReductionText),this.props.widgetType===R.default.HOT_HOME.name&&(t=this.props.hotnessInfo.hotnessMessageInfoWithTourLink.hotnessMessageStatement),this.props.widgetType===R.default.HOT_MARKET.name&&(t=this.props.hotMarketInfo.flyoutTerm+" "+this.props.hotMarketInfo.hotMarketMessage),this.props.widgetType===R.default.RARE_FIND.name&&(t=this.props.rareFindInfo.rareFindText);var a=(0,k.default)("urgencyTourPrompt",{hasFlyout:this.props.widgetType===R.default.HOT_HOME.name||this.props.widgetType===R.default.RARE_FIND.name&&this.isDesktop&&(0,S.isHomeFeatureVersionOfRareFind)(this.props.rareFindInfo)});return f.default.createElement("div",{className:a,"data-rf-test-name":"urgencyTourPrompt"},t,n)}},{key:"_getUrgencyIcon",value:function(){switch(this.props.widgetType){case R.default.HOT_HOME.name:return f.default.createElement(g.default,{"data-rf-test-name":"urgencyIcon"});case R.default.POPULAR.name:return f.default.createElement(m.default,{"data-rf-test-name":"urgencyIcon"});case R.default.PRICE_DROP.name:return f.default.createElement(h.default,{"data-rf-test-name":"urgencyIcon"});case R.default.HOT_MARKET.name:return f.default.createElement(_.default,{"data-rf-test-name":"urgencyIcon"});case R.default.RARE_FIND.name:return f.default.createElement(v.default,{"data-rf-test-name":"urgencyIcon"});case R.default.NONE.name:default:return null}}},{key:"_handleTourLinkClick",value:function(){var e,t={listingId:this.props.listingId};switch(this.props.widgetType){case R.default.PRICE_DROP.name:e=O.default.clicks.PRICE_DROP_MESSAGE_TIME_TILE;break;case R.default.POPULAR.name:e=O.default.clicks.POPULAR_MESSAGE_TIME_TILE;break;case R.default.HOT_HOME.name:e=O.default.clicks.HOT_HOME_TIME_TILE;break;case R.default.RARE_FIND.name:e=(0,S.isHomeFeatureVersionOfRareFind)(this.props.rareFindInfo)?O.default.clicks.RARE_FIND_FEATURE_TIME_TILE:O.default.clicks.RARE_FIND_PRICE_TIME_TILE;break;case R.default.HOT_MARKET.name:e=O.default.clicks.HOT_MARKET_TIME_TILE,this.props.hotMarketInfo&&(t=this._getHotMarketRiftParams(this.props.hotMarketInfo));case R.default.NONE.name:default:e=null}var n=O.default.trackClickWithDefaults(e,t);this._handleUrgencyTourRequest(n)}},{key:"_getTimeTileClickEvent",value:function(){switch(this.props.widgetType){case R.default.PRICE_DROP.name:return O.default.clicks.PRICE_DROP_MESSAGE_TIME_TILE;case R.default.POPULAR.name:return O.default.clicks.POPULAR_MESSAGE_TIME_TILE;case R.default.HOT_HOME.name:return O.default.clicks.HOT_HOME_TIME_TILE;case R.default.HOT_MARKET.name:return O.default.clicks.HOT_MARKET_TIME_TILE;case R.default.RARE_FIND.name:return(0,S.isHomeFeatureVersionOfRareFind)(this.props.rareFindInfo)?O.default.clicks.RARE_FIND_FEATURE_TIME_TILE:O.default.clicks.RARE_FIND_PRICE_TIME_TILE;case R.default.NONE:default:return null}}},{key:"_handleTimeTileClick",value:function(e){var t=this,n={listing_id:this.props.listingId,time_tile_selected:e.time,time_tile_selected_time_zone:this.props.tourTimeZone};if(this.props.widgetType===R.default.HOT_MARKET.name&&this.props.hotMarketInfo){var a=this._getHotMarketRiftParams(this.props.hotMarketInfo);n=P(P({},n),a)}var r=O.default.trackClickWithDefaults(this._getTimeTileClickEvent(),n);this.setState({selectedTime:e.time},function(){t._handleUrgencyTourRequest(r)})}},{key:"_getMoreLinkClickEvent",value:function(){switch(this.props.widgetType){case R.default.PRICE_DROP.name:return O.default.clicks.PRICE_DROP_MESSAGE_MORE_TOUR_TIMES_LINK;case R.default.POPULAR.name:return O.default.clicks.POPULAR_MESSAGE_MORE_TOUR_TIMES_LINK;case R.default.HOT_HOME.name:return O.default.clicks.HOT_HOME_MORE_TOUR_TIMES_LINK;case R.default.HOT_MARKET.name:return O.default.clicks.HOT_MARKET_MORE_TOUR_TIMES_LINK;case R.default.RARE_FIND.name:return O.default.clicks.RARE_FIND_MORE_TOUR_TIMES_LINK;case R.default.NONE.name:default:return null}}},{key:"_getHotMarketRiftParams",value:function(e){return{pct_used:e.percentageOfHomesOffMarket,city:e.regionName,timeframe:e.numberOfWeeks}}},{key:"_handleMoreTourTimesLinkClick",value:function(){var e={listing_id:this.props.listingId};if(this.props.widgetType===R.default.HOT_MARKET.name&&this.props.hotMarketInfo){var t=this._getHotMarketRiftParams(this.props.hotMarketInfo);e=P(P({},e),t)}var n=O.default.trackClickWithDefaults(this._getMoreLinkClickEvent(),e);this._handleUrgencyTourRequest(n)}},{key:"_getTourInquirySource",value:function(){switch(this.props.widgetType){case R.default.HOT_HOME.name:return g_inquirySource.LDP_HOT_HOMES_TOUR_LINK;case R.default.POPULAR.name:return g_inquirySource.LDP_POPULARITY_TOUR_LINK;case R.default.PRICE_DROP.name:return g_inquirySource.LDP_PRICE_DROP_TOUR_LINK;case R.default.RARE_FIND.name:return g_inquirySource.LDP_RARE_FIND_TOUR_ENTRYPOINT;case R.default.HOT_MARKET.name:return g_inquirySource.LDP_HOT_MARKET_BANNER;default:return null}}},{key:"_handleUrgencyTourRequest",value:function(e){this.setState({isTourLoading:!0});var t={inquirySource:this._getTourInquirySource(),listingId:this.props.listingId,tourDay:this.props.tourDay,tourTime:this.state.selectedTime,agent:this.props.touringAgent,riftContext:e};(0,S.redirectToTourCheckout)(this.props.touringAgent,t)}}],[{key:"propTypes",get:function(){return{widgetType:p.default.oneOf([R.default.NONE.name,R.default.HOT_HOME.name,R.default.POPULAR.name,R.default.PRICE_DROP.name,R.default.HOT_MARKET.name,R.default.RARE_FIND.name]),listingId:p.default.number,hotnessInfo:p.default.object,hotMarketInfo:p.default.object,tourTimes:p.default.array,tourTimeZone:p.default.string,numHomeViews:p.default.number,priceReductionText:p.default.string,shouldHideTourLink:p.default.bool,canShowTourTimes:p.default.bool,isNextTourTimeToday:p.default.bool,isNextTourTimeTomorrow:p.default.bool,tourDay:p.default.number,touringAgent:p.default.object,isDirectAccess:p.default.bool,isDirectAccessRedfin:p.default.bool,rareFindInfo:p.default.object,className:p.default.string}}},{key:"defaultProps",get:function(){return{widgetType:R.default.NONE.name,hotnessInfo:{},hotMarketInfo:{},tourTimes:[],tourTimeZone:"America/Los_Angeles",shouldHideTourLink:!1,canShowTourTimes:!1,isNextTourTimeToday:!1,isNextTourTimeTomorrow:!1,touringAgent:{},rareFindInfo:{}}}}]),n}(f.Component);t.default=w,e.exports=t.default},nIy8:function(e,t,n){},ne2F:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={position:"below",alignment:"center",term:"Time on Redfin",definition:"This is the details on what Time on Redfin means",getAllValues:function(e,t,n){return"".concat(e," has been advertised as on-market on Redfin under MLS #").concat(n," for ").concat(t," in total.")}};t.default=a,e.exports=t.default},nhEb:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("17x9")),d=a(n("YAhj")),f=a(n("94Bj")),p=a(n("FQEs")),m=a(n("qoxJ")),h=a(n("nbo3")),g=a(n("UT8e")),_=a(n("ma35")),v=a(n("X0Ra")),y=a(n("vuHC")),E=a(n("ZJ8h")),S=n("uxEU");function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var T=function(e){(0,s.default)(n,e);var t=I(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e))._getHomesToShow=a._getHomesToShow.bind((0,i.default)(a)),a.homesToShow=a._getHomesToShow(),a}return(0,o.default)(n,[{key:"componentDidMount",value:function(){var e;this.domNode&&(e=f.default.isOn(p.default)&&this.props.homesWithoutRecommended?this.props.homesWithoutRecommended:this.props.similars.homes?this.props.similars.homes:[],E.default.trackImpression(E.default.impressions.LISTING_HOMECARDS,{property_id:this.props.propertyId,listing_id:this.props.listingId,query_id:(0,S.getQueryId)(this.props.similars),similar_ids_with_tags:this._filterForPropertyIdsWithFuzzyData(e,this.props.fuzzyPropertyData),num_duplicates_recs_similars:this.props.numDuplicatesRecs,num_homecards_shown:this._getNumberOfHomeCardsToDisplay(e),positions:"[".concat(this._getOriginalPositionsForProperties(this.homesToShow),"]"),scores:"[".concat((0,S.getScores)(this.props.similars),"]"),related_property_ids:(0,S.getFormattedRelatedPropertyIds)(this.props.similars),related_listing_ids:(0,S.getFormattedRelatedListingIds)(this.props.similars)},this.domNode))}},{key:"_getOriginalPositionsForProperties",value:function(e){var t=(this.props.similars||{}).similarsOriginalIndexMap;return e.map(function(e){return(t||{})[e.propertyId]})}},{key:"_getNumberOfHomeCardsToDisplay",value:function(e){return Math.min(e.length,this.props.numberOfCards)}},{key:"_filterForPropertyIdsWithFuzzyData",value:function(e,t){return e.slice(0,this._getNumberOfHomeCardsToDisplay(e)).filter(function(e){return t[e.propertyId]}).map(function(e){return e.propertyId})}},{key:"_getHomesToShow",value:function(){var e=[];return this.props.similars?(this.props.similars.homes&&!f.default.isOn(p.default)&&(e=this.props.similars.homes.slice(0,this._getNumberOfHomeCardsToDisplay(this.props.similars.homes))),f.default.isOn(p.default)&&this.props.similars.homesWithoutRecommended&&(e=this.props.similars.homesWithoutRecommended.slice(0,this._getNumberOfHomeCardsToDisplay(this.props.similars.homesWithoutRecommended))),e):e}},{key:"clickSearchCTA",value:function(e){E.default.trackClick(E.default.clicks.SEARCH_ACTIVE_CTA_CLICK,e),h.default.flushRiftEvents()}},{key:"render",value:function(){var e=this;if(!this.props.similars)return null;var t={num_homecards_shown:this.homesToShow.length,query_id:(0,S.getQueryId)(this.props.similars),positions:"[".concat(this._getOriginalPositionsForProperties(this.homesToShow),"]"),related_property_ids:(0,S.getFormattedRelatedPropertyIds)(this.props.similars),related_listing_ids:(0,S.getFormattedRelatedListingIds)(this.props.similars),property_id:this.props.propertyId,listing_id:this.props.listingId,scores:"[".concat((0,S.getScores)(this.props.similars),"]")},n=(this.props.similars||{}).similarsOriginalIndexMap,a={homes:this.homesToShow,dataSources:this.props.similars.dataSources,accessLevel:this.props.accessLevel,propertyId:this.props.propertyId,listingId:this.props.listingId,homeCardClickEvent:E.default.clicks.LISTING_HOMECARD,fuzzyPropertyData:this.props.fuzzyPropertyData,positionsMap:n,queryId:(0,S.getQueryId)(this.props.similars),regionUrl:this.props.regionUrl,searchCTARiftDetails:t,showRemarksOnDPSimilars:this.props.showRemarksOnDPSimilars,scores:(0,S.getScores)(this.props.similars)},r={isActive:!0,streetString:this.props.streetString,minPrice:this.props.similars.minPrice,maxPrice:this.props.similars.maxPrice,aveDolSF:this.props.similars.aveDolSF};return d.default.createElement("div",{className:"similar-homes",id:"lsis-listings",ref:function(t){return e.domNode=t}},d.default.createElement(y.default,r),d.default.createElement(v.default,a),this.shouldRenderSearchCTA()&&d.default.createElement(g.default,{section:"similar_homes",target:"search_active_cta",eventDetails:t},d.default.createElement(_.default,{className:"tertiary cta",href:this.props.regionUrl,onClick:this.clickSearchCTA.bind(this,t)},"View more homes")))}},{key:"shouldRenderSearchCTA",value:function(){return(!f.default.isOn(m.default)||"CONTROL"===f.default.getVariant(m.default)||this.homesToShow.length<=6)&&this.props.regionUrl}},{key:"_getStreetString",value:function(e){return e||"this home"}}],[{key:"displayName",get:function(){return"redfin.homes.details.similars.react.SimilarListingsPanel"}},{key:"propTypes",get:function(){return{streetString:c.default.string,sectionHeader:c.default.string,fuzzyPropertyData:c.default.object,numberOfCards:c.default.number,similars:c.default.shape({homes:c.default.array,homesWithoutRecommended:c.default.array,dataSources:c.default.array,minPrice:c.default.oneOfType([c.default.number,c.default.object]),maxPrice:c.default.oneOfType([c.default.number,c.default.object]),aveDolSF:c.default.number,aveDolSf:c.default.object}),propertyId:c.default.number,listingId:c.default.number}}},{key:"defaultProps",get:function(){return{numberOfCards:6,fuzzyPropertyData:{},similars:null,riftTargetId:"homes"}}}]),n}(d.default.Component);e.exports=T},niwx:function(e,t,n){},njXE:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.dpaStore,n=e.useMobileStyles,a=e.ghostProgram,r=t.withParams,_=t.showBlueLink,y=t.showForm,E=t.shouldShowDialog,S=t.dpaData,I=function(){y?h.default.trackClick(h.default.clicks.PROGRAM_FORM_CLOSE):a||_||r||y?a||!_&&!r||y||h.default.trackClick(h.default.clicks.POST_AVAILABLE_PROGRAMS_CLOSE):h.default.trackClick(h.default.clicks.PRE_AVAILABLE_PROGRAMS_CLOSE),d.default.closeFormEntry(),d.default.hideDialog()},T=function(){h.default.trackClick(h.default.clicks.EDIT_CTA),d.default.handleFormEntry()},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return o.default.createElement(u.default,{title:e,actions:{DialogHeader:v({},(0,c.isFunction)(t)&&{whenCloseButtonClicked:t})}})},b=o.default.createElement("div",{className:"programDisclaimers"},"This information is provided by ",o.default.createElement("span",{className:"downPaymentResource"},"Down Payment Resource®")," for informational purposes only. Redfin does not endorse or guarantee this information. We'll use your responses to show you available programs on other homes. You can remove the information anytime by clearing your responses."),k=function(){return y?"Program availability form":"Available programs"},R=function(){return y?o.default.createElement("div",{className:"dpaFormFooter"},o.default.createElement("div",{className:"dpaFooterLeft"},o.default.createElement("a",{className:"dpaDataCursor"},o.default.createElement("span",{className:"responseLink",role:"button",onClick:function(){return h.default.trackClick(h.default.clicks.CLEAR_CTA),void d.default.clearDpaResponse()}},"Clear responses"))),o.default.createElement("div",{className:"dpaFooterRight"},o.default.createElement(m.default,{onClick:function(){return h.default.trackClick(h.default.clicks.NEXT_CTA),void d.default.submitDpaForm()}},"Next"))):!y&&a?o.default.createElement("div",{className:"dpaGhostFooter"},o.default.createElement("div",{className:"dpaFooterLeft"},o.default.createElement("a",{className:"dpaDataCursor"},o.default.createElement("span",{className:"responseLink",role:"button",onClick:function(){return T()}},"Edit responses")))):!_&&!r||y||a?_||r||y||a?null:o.default.createElement("div",{className:"dpaStartFooter"},o.default.createElement("span",{className:"dpaFooterLeft"}," Fill out this form to find available programs."),o.default.createElement("div",{className:"dpaFooterRight"},o.default.createElement(m.default,{onClick:function(){return h.default.trackClick(h.default.clicks.GET_STARTED_CTA),void d.default.handleFormEntry()}},"Get started"))):o.default.createElement("div",{className:"dpaFormSubmitFooter"},o.default.createElement("div",{className:"dpaFooterLeft"},o.default.createElement("a",{className:"dpaDataCursor"},o.default.createElement("span",{className:"responseLink",role:"button",onClick:function(){return T()}},"Edit responses"))),o.default.createElement("div",{className:"dpaFooterRight"},o.default.createElement(m.default,{onClick:function(){return h.default.trackClick(h.default.clicks.DONE_CTA),void d.default.hideDialog()}},"Done")))};return o.default.createElement(o.default.Fragment,null,function(){if(n)return null;return o.default.createElement(o.default.Fragment,null,E&&!a&&!_&&!r&&!y&&o.default.createElement(g.default,{section:h.default.impressions.DPA_MODAL_PRE.section,target:h.default.impressions.DPA_MODAL_PRE.target,eventDetails:{numberOfPrograms:null==S?void 0:S.availablePrograms}},o.default.createElement(l.default,{className:"dpaProgramDialog",contentId:"dpa-program-initial-dialog",onBack:I,renderContent:function(){return o.default.createElement(i.default,{dpaStore:t,disclaimers:b})},renderHeader:function(){return C(k(),I)},renderFooter:function(){return R()},hasFixedHeader:!0,hasFixedFooter:!0})),E&&!a&&(r||_)&&!y&&o.default.createElement(g.default,{section:h.default.impressions.DPA_MODAL_POST.section,target:h.default.impressions.DPA_MODAL_POST.target,eventDetails:{numberOfPrograms:null==S?void 0:S.availablePrograms}},o.default.createElement(l.default,{className:"dpaProgramWithParamsDialog",contentId:"dpa-program-with-params-dialog",onBack:I,renderContent:function(){return o.default.createElement(i.default,{dpaStore:t,disclaimers:b})},renderHeader:function(){return C(k(),I)},renderFooter:function(){return R()},hasFixedHeader:!0,hasFixedFooter:!0})),E&&y&&o.default.createElement(l.default,{className:"dpaProgramFormDialog",contentId:"dpa-program-form-dialog",onBack:I,renderContent:function(){return o.default.createElement(p.default,{dpaStore:t,useMobileStyles:n})},renderHeader:function(){return C(k(),I)},renderFooter:function(){return R()},hasFixedHeader:!0,hasFixedFooter:!0}),E&&a&&!y&&o.default.createElement(l.default,{className:"dpaProgramGhostDialog",contentId:"dpa-program-ghost-dialog",onBack:I,renderContent:function(){return o.default.createElement(s.default,{dpaStore:t,disclaimers:b})},renderHeader:function(){return C(k(),I)},renderFooter:function(){return R()},hasFixedHeader:!0,hasFixedFooter:!0}))}(),function(){if(!n)return null;return o.default.createElement(f.default,{className:"dpaProgramDrawerDialog",open:E,title:k(),onClose:I},E&&!a&&!_&&!r&&!y&&o.default.createElement(g.default,{section:h.default.impressions.DPA_MODAL_PRE.section,target:h.default.impressions.DPA_MODAL_PRE.target,eventDetails:{numberOfPrograms:null==S?void 0:S.availablePrograms}},o.default.createElement(i.default,{dpaStore:t,disclaimers:b})),E&&!a&&(_||r)&&!y&&o.default.createElement(g.default,{section:h.default.impressions.DPA_MODAL_POST.section,target:h.default.impressions.DPA_MODAL_POST.target,eventDetails:{numberOfPrograms:null==S?void 0:S.availablePrograms}},o.default.createElement(i.default,{dpaStore:t,disclaimers:b})),E&&y&&o.default.createElement(p.default,{dpaStore:t,useMobileStyles:n}),E&&a&&!y&&o.default.createElement(s.default,{dpaStore:t,disclaimers:b}),R())}())};var r=a(n("lSNA")),o=a(n("mXGw"));n("qdN/");var i=a(n("DBgZ")),s=a(n("fW17")),l=a(n("V/OE")),u=a(n("i2EY")),c=n("wTjA"),d=a(n("vBPG")),f=a(n("W0u/")),p=a(n("K8l8")),m=a(n("ma35")),h=a(n("RlWI")),g=a(n("UT8e"));function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}e.exports=t.default},nwEL:function(e,t,n){},o1xs:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("17x9")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),p=a(n("WqrT")),m=a(n("VPw5"));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var _=function(e){(0,l.default)(n,e);var t=g(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"render",value:function(){var e=this,t=null;if(this.props.showDisclaimer){var n={position:"below",alignment:"left",definition:"The following information is "+this.props.agentName+"'s professional opinion and does not represent the opinion of other real estate professionals."};t=f.default.createElement(p.default,(0,o.default)({infoIcon:!0},n))}var a="title "+(this.props.isRedfinAgent?"isRedfin":"isNotRedfin");return f.default.createElement("div",{className:"agent"},f.default.createElement(m.default,{agentName:this.props.agentName,isPartner:this.props.isPartner,isRedfin:this.props.isRedfin,profileUrl:this.props.agentUrl,photoUrl:this.props.agentPhotoUrl,isCircle:!0}),f.default.createElement("div",{className:"agent-info"},f.default.createElement("div",{className:a},this.props.agentRoleName,f.default.createElement("span",{onClick:function(){return window.open(e.props.agentUrl,"_top")}}," ",this.props.agentName)),f.default.createElement("span",{className:"date"},"saw this home ",this.props.date),t))}}],[{key:"propTypes",get:function(){return{agentName:d.default.string,agentPhotoUrl:d.default.string,agentUrl:d.default.string,agentRoleName:d.default.string,teamName:d.default.string,date:d.default.string,isPartner:d.default.bool,isRedfin:d.default.bool,showDisclaimer:d.default.bool}}}]),n}(f.Component);t.default=_,e.exports=t.default},o7cW:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("LDFp"));o.default.ensure(n("tTYd"));var i=n("pBXq").default,s=(0,r.default)(new i,{name:"SmartInterlinksRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{SEO_LINKS:{section:"seo_links",target:null}}});e.exports=s},o8GF:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.addOnOrientationChangeListener=void 0;var r=n("uKuZ"),o=a(n("Pe14")),i=[],s=!1;t.addOnOrientationChangeListener=function(e){"undefined"!=typeof window&&(s||(window.addEventListener("resize",(0,o.default)(l,100),{passive:!0}),s=!0),i.push(e))};var l=function(){var e=(0,r.isLandscapeOrientation)(!0);i.forEach(function(t){return t(e)})}},o9qY:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("TlVh"),o=a(n("UrhC")),i=n("l3Qz"),s=n("AYTD"),l=(0,r.createStoreFactory)({init:function(e,t,n){this.listenTo(o.default.populateFloodData,this.populateFloodData),this.listenTo(o.default.expandFloodDataSection,this.expandFloodDataSection),this.listenTo(o.default.closeFloodDataSection,this.closeFloodDataSection),this.listenTo(o.default.showFloodDataOnMap,this.showFloodDataOnMap),this.listenTo(o.default.hideFloodDataOnMap,this.hideFloodDataOnMap),this.floodDataPromise=null,this.propertyParcelInfo=e,this.addressSectionInfo=t,this.propertyId=n,this.setState({floodData:this.floodDataPromise,expandedFloodData:!1,shouldShowFloodData:!1,actions:{populateFloodData:this.populateFloodData},dataFlowState:"initial"})},getFloodData:function(e){var t=e.propertyParcelInfo,n=e.addressSectionInfo,a=e.propertyId;return this.floodDataPromise=(0,i.getFloodData)({propertyParcelInfo:t,addressSectionInfo:n,propertyId:a}),this.setState({dataFlowState:"requested"}),this.floodDataPromise.propertyId=a,this.floodDataPromise},populateFloodData:function(e,t,n){var a=this;(!this.floodDataPromise||n&&this.floodDataPromise.propertyId!==n)&&(e&&t&&n&&(this.propertyParcelInfo=e,this.addressSectionInfo=t,this.propertyId=n),this.getFloodData(this).then(function(e){var t=e&&0===e.resultCode?"success":"failure";a.setState({floodData:null==e?void 0:e.payload,dataFlowState:t})}))},expandFloodDataSection:function(){this.setState({expandedFloodData:!0})},closeFloodDataSection:function(){this.setState({expandedFloodData:!1}),(0,s.navigateToSectionId)("flood-display")},showFloodDataOnMap:function(){this.setState({shouldShowFloodData:!0})},hideFloodDataOnMap:function(){this.setState({shouldShowFloodData:!1})}});t.default=l,e.exports=t.default},oB6A:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lSNA")),o=a(n("YAhj")),i=a(n("qGOG"));n("OE72");var s=function(e){var t=e.onClick;return o.default.createElement("div",{className:"SvgMaximize",onClick:t},o.default.createElement(i.default,(0,r.default)({className:"fill-white"},"className","overlay")),o.default.createElement(i.default,{className:"blur"}))};t.default=s,e.exports=t.default},oDev:function(e,t,n){},oF74:function(e,t,n){},oFFm:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=n("mXGw"),f=a(n("17x9")),p=a(n("8Jek")),m=a(n("SflC")),h=a(n("Ni50")),g=n("MYdA"),_=a(n("85k2")),v=a(n("irHt")),y=a(n("cUiE")),E=a(n("RIHJ")),S=a(n("dkUW")),I=a(n("McMD"));function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}n("iRzG");var C=function(e){var t=e.onClick;return React.createElement("button",{id:"NewCommuteLinkButton",className:"button text unpadded",onClick:t,"data-rf-test-id":"commuteAdd"},"Add a Commute")};C.propTypes={},C.defaultProps={onClick:function(){}};var b=function(e){(0,l.default)(n,e);var t=T(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={flyoutLoaded:e.showForm||e.showRegPrompt},a.onCloseOptions=a.onCloseOptions.bind((0,s.default)(a)),a.onShowOptions=a.onShowOptions.bind((0,s.default)(a)),a.onToggleRoute=a.onToggleRoute.bind((0,s.default)(a)),a.onEditForm=a.onEditForm.bind((0,s.default)(a)),a.onDeleteCommute=a.onDeleteCommute.bind((0,s.default)(a)),a.onCommuteTypeChange=a.onCommuteTypeChange.bind((0,s.default)(a)),a.formKeyDown=a.formKeyDown.bind((0,s.default)(a)),a.props.initialDirectionsData&&a.props.mapStore&&a.props.mapStore.map&&a.props.actions.loadDirectionsService({initialDirectionsData:a.props.initialDirectionsData,map:a.props.mapStore.map}),a}return(0,i.default)(n,[{key:"render",value:function(){this.props.initialDirectionsData&&this.props.mapStore&&this.props.mapStore.map&&this.props.actions.loadDirectionsService({initialDirectionsData:this.props.initialDirectionsData,map:this.props.mapStore?this.props.mapStore.map:null});var e=null,t={},n="cfc".concat("error"===(this.props.feedback||{}).type?" no-animation":"");if(this.props.showForm?(e=React.createElement(m.default,(0,r.default)({},this.props,{onDeleteCommute:this.onDeleteCommute})),t={height:"".concat("error"===(this.props.feedback||{}).type?302:282,"px")}):this.props.showRegPrompt&&(e=React.createElement(v.default,{onClose:this.props.actions.closeRegPrompt,onSave:this.props.actions.saveCommutes,rentalId:this.props.rentalId}),t={height:"".concat("error"===(this.props.feedback||{}).type?220:200,"px")}),!this.props.id&&this.props.linkOnly)return[this.props.showForm?React.createElement(_.default,{key:1}):null,this.state.flyoutLoaded?React.createElement("div",{key:2,className:n,style:t},e):null,this.props.showForm?null:React.createElement(C,{key:3,onClick:this.onEditForm})];if(this.props.id||this.props.linkOnly){var a=this.props,o=a.address,i=a.commuteType,s=a.enableRoute,l=a.rendererData,u=a.requestInFlight,c=a.showForm,d=a.showRoute,f=React.createElement(y.default,{onToggleRoute:this.onToggleRoute,showRoute:d,commuteType:i,onEdit:this.onEditForm,onDelete:this.onDeleteCommute,onCloseOptions:this.onCloseOptions,routeBroken:!l||!l.route||!s}),E=l?l.duration.text:"-- mins",S=l&&l.duration&&l.duration.text?"font-weight-bold":null,T=u&&!c?React.createElement("div",{className:"loading"},React.createElement(I.default,null)):React.createElement("button",{className:"button text",role:"button",tabIndex:"0",onKeyDown:this.formKeyDown,onClick:this.onShowOptions},"Options"),b=(0,p.default)({icon:!0}),k=React.createElement("div",{key:1,className:"Commute basic-border-radius"},React.createElement(h.default,{className:b,options:(0,g.getCommuteTypesForUI)(),value:i,onChange:this.onCommuteTypeChange,exemptFromIe11Hack:!0}),React.createElement("div",null,React.createElement("span",{className:S},"".concat(E," ")),React.createElement("span",null,"to ".concat(o))),React.createElement("div",null,T));return React.createElement("div",{className:"container","data-rf-test-name":"commute"},k,this.props.showOptions?f:null,this.state.flyoutLoaded?React.createElement("div",{key:2,className:n,style:t,"data-rf-test-name":"commuteForm"},e):null)}return[React.createElement(_.default,{key:1},this.props.showForm?null:React.createElement(C,{onClick:this.onEditForm})),this.state.flyoutLoaded?React.createElement("div",{key:2,className:n,style:t},e):null]}},{key:"onToggleRoute",value:function(){this.props.enableRoute&&(this.props.showRoute?S.default.trackClick(S.default.clicks.HIDE_ROUTES):S.default.trackClick(S.default.clicks.SHOW_ROUTES),this.props.actions.toggleRoute&&this.props.actions.toggleRoute())}},{key:"onShowOptions",value:function(){this.props.actions.showOptions()}},{key:"onCloseOptions",value:function(){this.props.actions.closeOptions()}},{key:"formKeyDown",value:function(e){switch(e.which){case 13:case 32:e.preventDefault(),this.props.showOptions?this.onCloseOptions():this.onShowOptions()}}},{key:"onEditForm",value:function(){var e=this;this.props.id||!this.props.linkOnly||this.props.showForm?this.props.id||this.props.showForm?this.props.showForm||S.default.trackClick(S.default.clicks.EDIT_FORM):S.default.trackClick(S.default.clicks.ADD_NEW_COMMUTE):S.default.trackClick(S.default.clicks.ADD_ANOTHER_COMMUTE),this.setState({flyoutLoaded:!0},function(){e.props.actions.showForm()})}},{key:"onDeleteCommute",value:function(){S.default.trackClick(S.default.clicks.DELETE_COMMUTE),this.props.actions.deleteCommute()}},{key:"onCommuteTypeChange",value:function(e){S.default.trackClick(S.default.clicks.EDIT_COMMUTE_TYPE_DROPDOWN),E.default.fieldChange({name:"commuteType",value:e.target.value,formName:(0,g.getCommuteFormName)(this.props.id)}),this.props.actions.updateCommute(e)}}],[{key:"propTypes",get:function(){return{address:f.default.string,rendererData:f.default.shape({duration:f.default.shape({text:f.default.string,value:f.default.number}),renderer:f.default.object,route:f.default.object,marker:f.default.object,dest:f.default.object}),mapStore:f.default.object,map:f.default.object,showRoute:f.default.bool,initialDirectionsData:f.default.object,enableRoute:f.default.bool,rentalId:f.default.string,propertyId:f.default.number}}},{key:"defaultProps",get:function(){return{address:"",rendererData:{duration:{text:"-- mins",value:0}},enableRoute:!1,rentalId:null,propertyId:null}}}]),n}(d.Component);t.default=b,e.exports=t.default},oGDn:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("mXGw")),d=a(n("17x9")),f=a(n("nbo3")),p=n("NErW"),m=a(n("NCrZ")),h=a(n("es7G"));function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var _=function(e){(0,s.default)(n,e);var t=g(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e))._onPhotoClick=a._onPhotoClick.bind((0,i.default)(a)),a._riftTrackClick=a._riftTrackClick.bind((0,i.default)(a)),a}return(0,o.default)(n,[{key:"_onPhotoClick",value:function(e){"function"==typeof this.props.onClick&&this.props.onClick(e),this._riftTrackClick()}},{key:"_riftTrackClick",value:function(){h.default.trackClick(h.default.clicks.RECOMMENDEDS_HOMECARD_CLICK,{related_property_id:this.props.homeData.propertyId,related_listing_id:this.props.homeData.listingId,property_id:this.props.propertyId,listing_id:this.props.listingId,position:this.props.position,score:this.props.riftMetadata.pilr_score||this.props.riftMetadata.lilr_score,source:this.props.riftMetadata.source,query_id:this.props.queryId}),f.default.flushRiftEvents()}},{key:"_hasValidTags",value:function(){return this.props.tags&&this.props.tags.length>0&&this.props.homeData.propertyType!==g_propertyType.VACANT_LAND}},{key:"render",value:function(){var e=(0,p.buildHome)(this.props.homeData,this.props.mlsLogoInfo);return e?c.default.createElement("div",{className:"RecommendedHomeCardReact"},c.default.createElement(m.default,{useFixedAspectRatio:!1,windowSize:{aspectRatio:1.918},homeData:e,onPhotoClick:this._onPhotoClick,lazyLogo:!0,listingPhotoType:g_listingPhotoType.MEDIA_BROWSER_MOBILE_INLINE_SIZE,disableProductStructuredData:!0,distance:this.props.distance,hidePriceLabel:!0,useHomeCardV2:!0,showMlsId:e.showMlsId,bottomExtensions:this._hasValidTags()?c.default.createElement(HomeTags,{key:"bottomExtensions",tags:this.props.tags}):null,lazyImages:this.props.lazyLoadImages,scrollParentId:this.props.scrollParentId,swipeFriction:1/6,addStructuredData:!1,showRemarksOnDPSimilars:this.props.showRemarksOnDPSimilars})):null}}],[{key:"displayName",get:function(){return"redfin.search.details.react.RecommendedHomeCard"}},{key:"propTypes",get:function(){return{onClick:d.default.func,mlsLogoInfo:d.default.object,homeData:d.default.object.isRequired,lazyLoadImages:d.default.bool,riftMetadata:d.default.obj,position:d.default.number,queryId:d.default.string}}},{key:"defaultProps",get:function(){return{onClick:function(){},mlsLogoInfo:null,lazyLoadImages:!0,queryId:null}}}]),n}(c.default.Component);e.exports=_},oHU3:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("YAhj")),d=a(n("17x9")),f=n("NErW"),p=a(n("oGDn"));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var h=function(e){(0,s.default)(n,e);var t=m(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){if(!this.props.homes)return null;for(var e=[],t=this.props,n=t.homes,a=t.originalIndexMap,o=void 0===a?{}:a,i=(0,f.buildMLSLogoInfoFromDataSources)(this.props.dataSources),s=0;s<n.length;s++){var l=n[s],u={mlsLogoInfo:i,homeData:l,riftMetadata:this.props.riftMetadata[l.propertyId],queryId:this.props.queryId,showRemarksOnDPSimilars:this.props.showRemarksOnDPSimilars,propertyId:this.props.propertyId,listingId:this.props.listingId};e.push(c.default.createElement(p.default,(0,r.default)({},u,{position:o[l.propertyId],key:s})))}return c.default.createElement("div",{className:"recommendeds"},c.default.createElement("div",{className:"row-type"},e))}}],[{key:"displayName",get:function(){return"redfin.homes.details.recommendedHomes.react.RecommendedHomeCards"}},{key:"propTypes",get:function(){return{homes:d.default.array,dataSources:d.default.array,showPhoto:d.default.bool,riftMetadata:d.default.object,queryId:d.default.string}}},{key:"defaultProps",get:function(){return{homes:null,queryId:null}}}]),n}(c.default.Component);e.exports=h},oJgL:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DATEPICKER_SCROLL_ID=void 0;t.DATEPICKER_SCROLL_ID="sidebar-datepicker"},oSa1:function(e,t,n){"use strict";function a(e,t,n){if(!e||!t)return!1;if(n)return!1;var a=e.customerAgentStatus!==g_customerAgentStatus.NOT_A_CUSTOMER,r=t.existingTours&&0!==t.existingTours.length,o=e.recommendedAgent&&e.recommendedAgent.getAgentType()===g_agentType.CONNECT;return e.recommendedAgent&&(!a||a&&!r)&&(o||!!t.nextAvailableTourTime)}Object.defineProperty(t,"__esModule",{value:!0}),t.shouldShowOHSTourCTA=a,t.shouldShowOpenHouseSection=function(e,t,n,r){if(n&&n.experienceData&&n.experienceData.isDirectAccess)return!1;return a(n,t)||e&&e.length>0||r&&r.length>0}},oVNe:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,i=a(n("J4zp")),s=a(n("lSNA")),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),u=a(n("8Jek")),c=a(n("rBtc")),d=n("n1rO"),f=a(n("50Ow")),p=a(n("gDG7")),m=a(n("ajZI")),h=a(n("aHq2")),g=a(n("eZFp")),_=n("wTjA"),v=a(n("IgEu")),y=a(n("1AMb")),E=a(n("0R1z")),S=a(n("jh3o")),I=a(n("/+pK"));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}n("cVCv");var C=(o={},(0,s.default)(o,p.default.CONDO_COOP.id,"Condo"),(0,s.default)(o,p.default.CO_OP.id,"Condo"),(0,s.default)(o,p.default.SINGLE_FAMILY_RESIDENTIAL.id,"Single-Family Home"),(0,s.default)(o,p.default.MULTI_FAMILY_2_TO_4.id,"Multi-Family Home"),(0,s.default)(o,p.default.MULTI_FAMILY_5_PLUS.id,"Multi-Family Home"),(0,s.default)(o,p.default.TOWNHOUSE.id,"Townhome"),(0,s.default)(o,p.default.VACANT_LAND.id,"Land"),o),b=function(e){return e in C?C[e]:"Real Estate"},k=function(e){var t=e.deviceConfig,n=e.experimentStore,a=e.marketInsightsStore,r=e.pageType,o=e.addressSectionInfo,p=e.dataSourceId,T=a||{},k=T.actions,R=void 0===k?{}:k,O=T.housingMarketInfo,N=void 0===O?{}:O,A=T.regionCardInfo,P=void 0===A?[]:A,D=T.competeScoreInfo,w=void 0===D?{}:D,L=T.offerInsightsInfo,M=void 0===L?{}:L,x=T.breadcrumbs,F=void 0===x?[]:x,B=T.marketGraphStore,H=N.housingMarketRegionName,U=N.marketInsightsPageUrl,j=t===g_deviceConfiguration.DESKTOP,q=(0,l.useRef)(),W=(0,l.useState)(j),V=(0,i.default)(W,2),G=V[0],K=V[1],Y=(0,l.useMemo)(function(){return R.MarketInsightsSection||{}},[R]);if((0,l.useEffect)(function(){return q.current?(0,d.trackNode)({bufferValue:0,domNode:q.current,nodeId:"MarketInsightsSection",onEnterViewCallback:function(){(0,_.isFunction)(Y.whenMarketInsightsSectionScrollsIntoView)&&Y.whenMarketInsightsSectionScrollsIntoView()}}):void 0},[q,Y]),!n.isInBetterMarketInsightsVariant)return null;var z=!!P.length,X=!!(B&&B.home_prices&&B.home_prices.showGraph),Q=!!w.aggs,J=!!p&&I.default.get(g_dbBackedConfigKeys.DP_SUPPRESS_OFFER_INSIGHTS_SECTION).includes(p),Z=!!M.offerInsights&&!J;if(!(z||X||Q||Z))return null;var $={"@context":"http://schema.org","@type":"BreadcrumbList",itemListElement:F.map(function(e,t){return{"@type":"ListItem",position:t+1,name:e.name,item:{"@type":"Thing","@id":e.url}}})},ee=o&&o.streetAddress&&o.streetAddress.assembledAddress?"Real estate trends near "+o.streetAddress.assembledAddress:"Local real estate stats and trends";return l.default.createElement(y.default,{addTopRule:!0,className:"MarketInsightsSection"},l.default.createElement(m.default,{ref:q,enabled:!j,section:"marketInsights",sectionName:(0,u.default)("Real Estate Market Insights",(0,s.default)({},"for ".concat(o.streetAddress.assembledAddress),t===g_deviceConfiguration.DESKTOP)),previewText:(0,u.default)((0,s.default)({},"".concat(b(o.propertyType)),C[o.propertyType]),ee),onClickCallback:function(e){(0,_.isFunction)(Y.whenMarketInsightsSectionCollapsedToggleIsClicked)&&Y.whenMarketInsightsSectionCollapsedToggleIsClicked(G),K(e)},isExpanded:G},l.default.createElement(g.default,{show:!!F},l.default.createElement("div",{className:"margin-bottom-medium"},l.default.createElement(c.default,{breadcrumbs:F})),l.default.createElement(v.default,{key:"MarketInsightsBreadcrumb_ld",blob:$})),l.default.createElement(g.default,{show:z},l.default.createElement("h3",{className:"font-size-base font-weight-bold padding-bottom-medium"},b(o.propertyType)," Sales (Last 30 days)"),l.default.createElement(f.default,{className:(0,u.default)("force-sm-fullPageWidth",{"padding-bottom-larger":X||Q||Z}),actions:G&&R,addressSectionInfo:o,regionCardInfo:P,pageType:r,deviceConfig:t})),l.default.createElement(g.default,{show:X},l.default.createElement("h3",{className:"font-size-base font-weight-bold padding-bottom-medium"},b(o.propertyType)," Trends in ",H),l.default.createElement(h.default,{actions:G&&R,section:"home_prices",marketGraphStore:B,hideSearchBox:!0}),l.default.createElement("a",{href:"".concat(U,"#trends"),onClick:function(){(0,_.isFunction)(Y.whenMarketInsightsPageLinkIsClicked)&&Y.whenMarketInsightsPageLinkIsClicked()},className:(0,u.default)("font-color-link inline-block",{"padding-bottom-larger":Q||Z})},"See more market trends in ".concat(H))),l.default.createElement(g.default,{show:Q},l.default.createElement(E.default,{className:(0,u.default)({"padding-bottom-larger":Z}),regionName:w.regionName,regionUrl:w.regionUrl,aggs:w.aggs,regionTypeName:w.regionTypeName,nearbyCompeteScores:w.nearbyCompeteScores,onImpression:function(e){G&&(0,_.isFunction)(Y.whenCompeteSectionIsVisible)&&Y.whenCompeteSectionIsVisible(e)}})),l.default.createElement(g.default,{show:Z},l.default.createElement(S.default,{showRegionNameAsLink:!0,pageSize:1,offerInsightsInfo:M,deviceConfig:t,onImpression:function(e){G&&(0,_.isFunction)(Y.whenOfferInsightsIsVisible)&&Y.whenOfferInsightsIsVisible(e)}}))))};k.getComponentDependencies=function(){return{dependencies:["experimentStore","marketInsightsStore","addressSectionInfo","pageType","sharedRegionInfo","nearbyCompeteScoresInfo"]}};var R=k;t.default=R,e.exports=t.default},oara:function(e,t,n){},ojJ9:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),d=a(n("17x9")),f=a(n("8Jek")),p=n("DyRb");function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function h(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var g=function(e){(0,s.default)(n,e);var t=h(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){return c.default.createElement("div",{className:(0,p.getClassSet)({contactBoxTabbedNavigation:!0},this.props)},c.default.createElement("div",{className:(0,f.default)({firstTabContainer:!0,active:0===this.props.position})},c.default.createElement("div",{onClick:this.handleClick.bind(this,0),className:"firstTab"},this.props.firstTabLabel),c.default.createElement("div",{className:"bar"})),c.default.createElement("div",{className:(0,f.default)({secondTabContainer:!0,active:1===this.props.position})},c.default.createElement("div",{onClick:this.handleClick.bind(this,1),className:"secondTab"},this.props.secondTabLabel),c.default.createElement("div",{className:"bar"})),c.default.createElement("div",{className:"clear"}))}},{key:"handleClick",value:function(e){e!==this.props.position&&((0,p.trackClicks)("partner_contact_box",[e?this.props.secondTabRiftTarget:this.props.firstTabRiftTarget]),this.props.goToIndex(e))}},{key:"fireDisplayEvents",value:function(){(0,p.trackImpressions)("partner_contact_box",[this.props.firstTabRiftTarget,this.props.secondTabRiftTarget])}}],[{key:"displayName",get:function(){return"ContactBoxTabbedNavigation"}},{key:"propTypes",get:function(){return{classes:d.default.arrayOf(d.default.string),firstTabLabel:d.default.string,secondTabLabel:d.default.string,firstTabRiftTarget:d.default.string,secondTabRiftTarget:d.default.string,position:d.default.number,isDisplayed:d.default.bool}}},{key:"getDefaultProps",get:function(){return{classes:[],firstTabLabel:"",secondTabLabel:"",position:0}}}]),n}(c.Component);t.default=g,e.exports=t.default},olno:function(e,t,n){"use strict";var a=n("TqRt"),r=n("G4xM"),o=n("SQRV"),i=n("V5OQ"),s=a(n("8Llx")),l=a(n("aBkE")),u=a(n("nbo3")),c=n("m7qm"),d=n("EFMV"),f=n("diFG"),p={TOURS:0,OPEN_HOUSES:1};e.exports=c.createStoreFactory({listenables:f,noContactBoxExperimentName:"noCBExperimentParams",init:function(e){var t=e.addressSectionInfo,n=e.contactBoxInfo,a=e.deviceConfig,r=e.mainHouseInfo,i=e.redfinNowHomeMomentInfoStore,s=e.opendoorPurchaseEstimateStore,l=e.cashOfferPlacementStore;this.setState({deviceConfig:a,customerExperience:(0,o.determineCustomerExperience)({addressSectionInfo:t,contactBoxInfo:n,deviceConfig:a,mainHouseInfo:r,redfinNowHomeMomentInfoStore:i,opendoorPurchaseEstimateStore:s,cashOfferPlacementStore:l}),OPEN_HOUSE_TOGGLE_TABS:p,openHouseToggleSelectedTab:p.TOURS})},onSetOpenHouseToggleSelectedTab:function(e){this.setState({openHouseToggleSelectedTab:e});var t="".concat(this.state.customerExperience.id===l.default.id?"partner_":"","see_this_home");if(e===p.TOURS){u.default.trackClick(t,"tour_picker_toggle")}else if(e===p.OPEN_HOUSES){u.default.trackClick(t,"open_house_toggle")}},onReceivedContactBoxInfo:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={},o=this.state.pageExperimentInfo||(0,r.getConfigValueForKey)(r.DP_GLOBAL_CONFIG_KEYS.pageExperimentInfo),l=o.omdpHigherDescriptionExperimentInfo,u=void 0===l?{}:l;if(a.omdpHigherDescriptionExperimentInfo=u,a.tourable=this._isTourable(e),this.state.deviceConfig!==g_deviceConfiguration.PHONE&&(t?a.tourable||(a.canFloat=e.servicePolicy===g_servicePolicies.NON_TOURABLE_PRE_MARKET,a.dtpCanFloat=!1):(a.canFloat=!0,a.dtpCanFloat=!1)),a=d(this.state,{$merge:a}),this.setState(a),t&&n){(0,i.createLDPViewsCookie)();var c=s.default.isLoggedIn();(0,i.updateNumViewsOnLDP)(n,c)}},onDateTimePickerAndContactBoxRendered:function(){this.state.deviceConfig===g_deviceConfiguration.DESKTOP&&this.setState({dtpCanFloat:!0})},setExperimentRiftParamsOnState:function(e,t){var n={};n[e]=t,n=d(this.state,{$merge:n}),this.setState(n)},_isTourable:function(e){var t=e&&e.servicePolicy&&g_servicePolicies.idToObj[e.servicePolicy];return t&&null!=t.tourWithAgentType}})},ovDw:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=a(n("mXGw")),o=(a(n("17x9")),a(n("w6wp"))),i=a(n("I9R/")),s=a(n("rv79")),l=a(n("nbo3"));n("yosK"),u.propTypes={};function u(e){var t=e.firstNameLastName,n=e.cardHeading,a=e.licenseClassTitle,u=e.email,c=e.photoUrl120x120,d=e.clientDisplayablePhoneNumber,f=e.profileUrl,p=e.showIcons,m=f?r.default.createElement("a",{href:f,className:"agentName",onClick:function(){s.default.trackClickWithDefaults(s.default.targets.AGENT_PROFILE_LINK),l.default.flushRiftEvents()}},t):r.default.createElement("div",{className:"agentName"},t),h=n&&r.default.createElement("div",{className:"cardHeading"},n),g=c&&r.default.createElement("img",{className:"agentPhoto inline-block",src:c,alt:"Image of ".concat(t)}),_=r.default.createElement("div",{className:"font-color-gray-light","data-rf-test-id":"licenseClassTitle"},a),v=d&&r.default.createElement("a",{href:"tel:".concat(d),onClick:function(){return s.default.trackClickWithDefaults(s.default.targets.AGENT_CARD_PHONE)}},p&&r.default.createElement(o.default,{className:"fill-link size-small"}),d),y=u&&r.default.createElement("a",{className:"agentEmail",href:"mailto:".concat(u),onClick:function(){return s.default.trackClickWithDefaults(s.default.targets.AGENT_CARD_EMAIL)}},p&&r.default.createElement(i.default,{className:"fill-link size-small"}),u);return r.default.createElement("div",{className:"AgentInfo"},h,r.default.createElement("div",{className:"agentData"},g,r.default.createElement("div",{className:"agentDetails"},m,_,v,y)))}u.defaultProps={showIcons:!0},e.exports=t.default},p2mD:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=a(n("mXGw")),o=(a(n("17x9")),a(n("8Jek"))),i=a(n("gNUS")),s=n("+xFC"),l=a(n("BTgH"));function u(e){var t=e.eligibleOptions,n=e.selectedOption,a=e.onSelectComparisonOption,o=function(e,t){return e.map(function(e){var n=e.name,a=e.title,o=e.savingsPercent,i=e.listingFee,u=e.listingFeeCopy,f=e.totalSavings,p=e.totalEquity,m=e.isHighestSavings,h=e.isSelected,g=e.canIncludeRedfinRefund,_=(0,s.formatPrice)(p),v=r.default.createElement(l.default,{title:a,savingsPercent:o,listingFee:i,redfinRefund:g&&t.redfinRefund,estimatedHomeEquity:t.estimatedHomeEquity,totalEquity:_,listingPrice:(0,s.formatPrice)(t.listingPrice),riftSection:t.riftSection});return{value:n,label:c(m,h,a,u,f),text:d(_,v)}})}(t,e);return r.default.createElement("div",{className:"BuyAndSellComparisonPicker"},r.default.createElement(i.default,{className:"BuyAndSellComparisonItemPicker",valueType:"string",value:n,options:o,mode:"radio",onChange:a}))}function c(e,t,n,a,i){var s=(0,o.default)({"highest-savings-band":e,selected:e&&t});return r.default.createElement("div",{className:"comparison-label"},r.default.createElement("div",{className:s},n,r.default.createElement("div",{className:"listing-fee-text"},a)),r.default.createElement("div",{className:"comparison-savings"},r.default.createElement("span",null,i),r.default.createElement("span",{className:"savings-text"},"in savings")))}function d(e,t){return r.default.createElement("div",{className:"comparison-text"},r.default.createElement("div",{className:"margin-top-medium"},"Total Equity: ",e),t)}n("1RDg"),u.propTypes={},e.exports=t.default},p7Q8:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n("17x9"));var r=n("8Jek"),o=function(e){var t=e.label,n=e.body,a=e.agentOnly,o=void 0!==a&&a;return React.createElement("p",{className:r({"agent-only":o,"text-base":!0})},t&&React.createElement("span",null,t,": "),React.createElement("span",{dangerouslySetInnerHTML:{__html:n}}))};o.propTypes={},o.displayName="MarketingRemark";var i=o;t.default=i,e.exports=t.default},pBXq:function(e,t,n){"use strict";var a=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,Object.defineProperty(t,"initializeXDPBaseRiftTracker",{enumerable:!0,get:function(){return r.initializeXDPBaseRiftTracker}});var r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=i?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n("t3IY"));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}var i=r.default;t.default=i},pEKV:function(e,t,n){"use strict";var a=n("RBnj");e.exports=(0,a.createActions)(["showFullFloodDialog","hideFullFloodDialog"])},"pF/U":function(e,t,n){},pI4a:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("UT8e")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),p=a(n("BBRs")),m=a(n("94Bj")),h=n("osI4"),g=a(n("vwm1")),_=n("+Ciq"),v=a(n("1AMb"));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var S=function(e){(0,l.default)(n,e);var t=E(n);function n(){return(0,i.default)(this,n),t.apply(this,arguments)}return(0,s.default)(n,[{key:"render",value:function(){if(!m.default.isOn(p.default))return f.default.createElement(d.default,{section:_.DISPLAY_ADS_HOLDOUT_SECTION_NAME,target:_.NO_ADS_SHOWN_TARGET_NAME},f.default.createElement("div",null));var e=this.props,t=e.adPlacement,n=e.addressSectionInfo,a=e.pageType,r=(0,h.getCurrentDeviceType)(),i=(0,_.getPageTypeAcronym)(a),s={ad_id:this.props.adUnitDivId.match(/\d{13}/g)},l=[];return l.push(["pageType",i]),l.push(["zipcode",n.zip]),l.push(["deviceConfig",r.toUpperCase()]),l.push(["cohort","CORDLESS_".concat(t)]),f.default.createElement(d.default,{section:_.DISPLAY_ADS_HOLDOUT_SECTION_NAME,target:_.ADS_SHOWN_TARGET_NAME,eventDetails:s},f.default.createElement(v.default,{name:"DisplayAdsSection",className:"sectionContainer has-top-rule"},f.default.createElement(g.default,(0,o.default)({},this.props,{adUnitDivId:this.props.adUnitDivId,targeting:l,page:"dp"}))))}}],[{key:"displayName",get:function(){return"DisplayAdsSection"}}]),n}(f.Component);t.default=S,S.getComponentDependencies=function(){return{dependencies:["deviceConfig","pageType","addressSectionInfo","marketId"],clientDependencies:["pageLoadComplete"]}},e.exports=t.default},"pK/9":function(e,t,n){},pQu4:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("m7qm")),o=a(n("KaCs")),i=n("k5EC");e.exports=r.default.createStoreFactory({listenables:[o.default],init:function(){var e={currentFullScreenComponent:i.FullScreenComponentName.Components.DP};this.setState(e)},onSetCurrentFullScreenComponent:function(e){this.setState({currentFullScreenComponent:e})}})},pX42:function(e,t,n){},pXYl:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("LDFp"));o.default.ensure(n("tTYd"));var i=n("pBXq").default,s=(0,r.default)(new i,{name:"BannerRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{REBNY_CENSORED_BANNER:{section:"rebny_censored_banner",target:null,expectedParams:["censored_status"]}},clicks:{SIGN_IN_LINK:{section:"rebny_censored_banner",target:"sign_in_link"},JOIN_LINK:{section:"rebny_censored_banner",target:"join_link"},REENTER_PASSWORD_LINK:{section:"rebny_censored_banner",target:"reenter_password_link"},ACCEPT_TOS_LINK:{section:"rebny_censored_banner",target:"accept_tos_link"},VERIFY_EMAIL_LINK:{section:"rebny_censored_banner",target:"verify_email_link"},UNLOCK_CENSORED_BANNER:{section:"rebny_censored_banner",target:"censored_banner"}}});e.exports=s},pXdz:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("LDFp"));o.default.ensure(n("tTYd"));var i=n("pBXq").default,s=(0,r.default)(new i,{name:"PublicRecordsRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],trackAllEventsInGA:!0,impressions:{PUBLIC_RECORDS:{section:"public_records",target:""}},clicks:{SHOW_PUBLIC_RECORD_FACTS:{section:"public_records",target:"show_public_facts_from_owner_updates"}}});e.exports=s},pZI4:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("LDFp")),i=n("/2FO");o.default.ensure(n("tTYd"));var s=n("pBXq").default,l=(0,r.default)(new s,i.OfferInsightsRiftTrackerDefinition);e.exports=l},pdMd:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getUrgencyWidgetToDisplay=function(e,t,n,a,r,o,l){if(!(g_servicePolicy&&a&&a.servicePolicy&&g_servicePolicy.idToObj[a.servicePolicy]&&g_servicePolicy.idToObj[a.servicePolicy].tourWithAgentType))return s.default.NONE.name;if(_.default.isPossiblyUnavailable(l))return s.default.NONE.name;if(e.isBDXEligible)return s.default.NONE.name;if(k(e))return s.default.HOT_HOME.name;if(function(e){return!!e&&!!e.isPopular}(t))return s.default.POPULAR.name;if(function(e){return!!e&&e.isEligible}(n))return s.default.PRICE_DROP.name;if(function(e){if(e&&e.isAboveThreshold&&i.default.isOn(g.default)&&(I(),"VARIANT"===i.default.getVariant(g.default))){var t=new Date;if((0,p.default)(y)){var n=JSON.parse((0,p.default)(y));if(n.lastPromptedDate){var a=new Date(n.lastPromptedDate);if(a.getDay()===t.getDay())return!1}if(n.promptedTimes&&2===parseInt(n.promptedTimes,10))return!1}return function(e){if((0,f.isBrowser)()){var t=(0,p.default)(y)&&JSON.parse((0,p.default)(y)),n=e.getTime(),a=e.getTime()+E,r=(t&&t.promptedTimes||0)+1;t&&t.expiration&&(a=t.expiration),(0,p.default)(y,JSON.stringify({lastPromptedDate:n,expiration:a,promptedTimes:r}),{expires:new Date(a),path:"/"})}}(t),!0}return!1}(r))return s.default.HOT_MARKET.name;if(C(o))return s.default.RARE_FIND.name;return s.default.NONE.name},t.handleSelfTourClick=function(e,t,n,a){var o,i,l={};switch(n){case s.default.HOT_HOME.name:o=g_inquirySource.LDP_HOT_HOMES_SELF_TOUR,i="hot_homes";break;case s.default.POPULAR.name:o=g_inquirySource.LDP_POPULARITY_SELF_TOUR,i="popular_message";break;case s.default.PRICE_DROP.name:o=g_inquirySource.LDP_PRICE_DROP_TOUR_LINK,i="price_drop_message";break;case s.default.HOT_MARKET.name:o=g_inquirySource.LDP_HOT_MARKET_BANNER,i="hot_market_banner",l={pct_used:a.percentageOfHomesOffMarket,city:a.city,timeframe:a.numberOfWeeks};break;case s.default.RARE_FIND.name:o=g_inquirySource.LDP_RARE_FIND_TOUR_ENTRYPOINT,i="rare_find"}c.default.trackClick(i,"self_tour_link",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({listing_id:t,is_redfin:e},l)),u.default.showDirectAccessDialog(o)},t.isHomeFeatureVersionOfRareFind=b,t.redirectToTourCheckout=function(e,t){if(!e)return null;e&&e.getAgentType()===g_agentType.CONNECT?l.default.redirectForPartnerTour(t):l.default.redirectToScheduler(t)},t.setUpHotMarketExperiment=I,t.shouldDisplayHotHomesBanner=k,t.shouldShowRareFindMessage=C,t.shouldShowTimeTilesInPopularityWidget=S,t.shouldShowUrgencyTourTimes=function(e,t,n){var a=t.popularityInfo,r=t.datePickerInfo&&t.datePickerInfo.nextTourDisplayTimes;if(!r||!r.length||t.datePickerInfo.isNextTourTimeAfterTomorrow)return!1;if(n&&n.getAgentType()===g_agentType.CONNECT)return!1;switch(e){case s.default.POPULAR.name:return S(a);case s.default.HOT_HOME.name:case s.default.PRICE_DROP.name:case s.default.HOT_MARKET.name:case s.default.RARE_FIND.name:return!0;default:return!1}};var r=a(n("lSNA")),o=a(n("LDFp")),i=a(n("1RMg")),s=a(n("RQwY")),l=a(n("WxCX")),u=a(n("EQKR")),c=a(n("lQoP")),d=n("osI4"),f=n("QP4D"),p=a(n("72T9")),m=a(n("7SUW")),h=a(n("cHKc")),g=a(n("uF1s")),_=a(n("sppR"));function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}o.default.ensure(n("9/ZL"));var y="RF_HOT_MARKET",E=6048e5;function S(e){if(!e)return!1;var t="desktop"===(0,d.getCurrentDeviceType)(),n=e.isFirstTour;return t||n}function I(){(new m.default).initialize({experiment:g.default,gaExperimentId:"7DucgQpwTxi5jgb_QUzWrA"}),c.default.trackImpression("hot_market_exp_start",null)}function T(e){return!!e.experimentEligibility&&!!e.experimentEligibility.isEligible}function C(e){return!!T(e)&&(function(e){var t={message:e.rareFindText,location:e.location,features:e.features,num_of_features:e.features.length};b(e)?h.default.trackImpressionWithDefaults(h.default.impressions.RARE_FIND_FEATURE_ELIGIBLE,t):h.default.trackImpressionWithDefaults(h.default.impressions.RARE_FIND_PRICE_ELIGIBLE,t)}(e),"Variant"===i.default.getVariant(e.experimentEligibility.feature))}function b(e){return T(e)&&e.features.length>0}function k(e){return function(e){var t=e.hotnessInfo;if(!t)return!1;return t.hasOwnProperty("isHot")&&t.isHot}(e)&&i.default.isOn(o.default.HOT_HOMES_DISPLAYABLE)&&e.hotnessInfo}},pnIS:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.buildVerificationPageUrl=t.buildPhotoManagerPageUrl=t.buildOwnerDashboardPageUrl=t.buildFactCheckPageUrl=t.buildEditFactsPageUrl=t.buildDetailsPageUrl=t.buildCreateEstimatePageUrl=t.QUERY_PARAMS=t.DESTINATIONS=void 0,t.extractDestinationRegReason=function(e){if(e===i.EDIT_FACTS)return g_registrationReason.EDIT_HOME_FACTS;if(e===i.PHOTO_MANAGER)return g_registrationReason.EDIT_HOME_PHOTOS;if(e===i.FACTS_CHECK||e===i.CREATE_ESTIMATE)return g_registrationReason.OWNER_ESTIMATE;if(e===i.OWNER_DASHBOARD||e===i.EXTERNAL_SELLER_DASHBOARD||e===i.AGENT_DASHBOARD)return g_registrationReason.CLAIM_HOME;return g_registrationReason.EDIT_HOME_FACTS};var r=a(n("ijCd")),o={EPOSTCARD_SUBSCRIBE_SOURCE:"ess",CLAIM_HOME_SOURCE:"chs",ENTRYPOINT_CONTEXT:n("R8lb").REGISTRATION_ENTRYPOINT_CONTEXT_URL_PARAM};t.QUERY_PARAMS=o;var i={EDIT_FACTS:"edit-facts",PHOTO_MANAGER:"photo-manager",FACTS_CHECK:"facts-check",CREATE_ESTIMATE:"create-estimate",OWNER_DASHBOARD:"owner-dashboard",EXTERNAL_SELLER_DASHBOARD:"external-seller-dashboard",AGENT_DASHBOARD:"agent-dashboard"};t.DESTINATIONS=i;var s=function(e){return Object.keys(e).filter(function(t){return void 0!==e[t]}).filter(function(e){return(0,r.default)(o,e)}).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&")};t.buildVerificationPageUrl=function(e){var t=e.propertyId,n=e.listingId,a=e.sourcePage,r=e.destination,o=e.queryParams,i="/homeowner-verification/"+t;return n&&(i+="/"+n),a&&(i+="/"+a,r&&(i+="/"+r)),o&&(i+="?"+s(o)),i};t.buildEditFactsPageUrl=function(e){var t=e.propertyId,n=e.sourcePage,a=e.queryParams,r="/edit-facts/"+t;return n&&(r+="/"+n),a&&(r+="?"+s(a)),r};t.buildPhotoManagerPageUrl=function(e){var t=e.propertyId,n=e.listingId,a=e.sourcePage,r=e.queryParams,o="/photo-manager/"+t;return n&&(o+="/"+n),a&&(o+="/"+a),r&&(o+="?"+s(r)),o};t.buildCreateEstimatePageUrl=function(e){return"/owner-estimate/create/"+e.propertyId};t.buildFactCheckPageUrl=function(e){return"/owner-estimate/fact-check/"+e.propertyId};t.buildOwnerDashboardPageUrl=function(e){return"/myredfin/home-dashboard/property/"+e.propertyId};t.buildDetailsPageUrl=function(e){return"/xx/home/"+e.propertyId}},ps5f:function(e,t,n){},pwbR:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mXGw")),o=a(n("94Bj")),i=a(n("eYhh")),s=n("EgAA"),l=a(n("WqrT")),u=n("+xFC"),c=n("osI4");n("4MrZ");var d=function(e){var t=e.children;return r.default.createElement("span",{className:"font-weight-bold"},t)},f=function(){return r.default.createElement("span",{className:"padding-horiz-medium"},"|")},p=function(e){var t=e.value,n=e.term,a=e.definition,o=e.definitionLink;return r.default.createElement(r.default.Fragment,null,r.default.createElement(d,null,"".concat(t," ")),r.default.createElement(l.default,{definition:a,definitionLink:o},n,r.default.createElement("span",{className:"hidden"},"(",a,")")))};t.default=function(e){var t=e.addressSectionInfo,n=void 0===t?{}:t,a=e.activityInfo,l=void 0===a?{}:a;if("VARIANT"!==o.default.getVariant(i.default))return null;var d=n.timeOnRedfin,m=l.favoritesCount,h=l.viewCount,g=l.tourCount,_=l.addressInfo,v=(void 0===_?{}:_).street,y=d?(0,s.formatTimeOnRedfin)(d,"day","hour","minute"):null,E=[].concat(function(e){var t=e.timeOnRedfin;return t?r.default.createElement(p,{value:t,term:"on Redfin",definition:'"Days on Redfin" measures the total number of days since the property was first listed under this MLS number. This includes time the home may not have been active due to being under contract, or delisted and re-listed.',definitionLink:"/definition/dayson-redfin"}):[]}({timeOnRedfin:y})).concat(function(e){var t=e.street,n=e.timeOnRedfin,a=e.viewCount,o=(0,u.formatNumber)(a||0),i="The current MLS listing for ".concat(t," has been viewed ").concat(o," times since Redfin imported it").concat(n?" ".concat(n," ago"):"",".");return r.default.createElement(p,{value:o,term:"view".concat(1===a?"":"s"),definition:i})}({street:v,viewCount:h,timeOnRedfin:y})).concat(function(e){var t=e.street,n=e.timeOnRedfin,a=e.favoritesCount,o=(0,u.formatNumber)(a||0),i="The current MLS listing for ".concat(t," has been favorited ").concat(o," times since Redfin imported it").concat(n?" ".concat(n," ago"):"",".");return r.default.createElement(p,{value:o,term:"favorite".concat(1===a?"":"s"),definition:i})}({street:v,favoritesCount:m,timeOnRedfin:y})).concat(function(e){var t=e.street,n=e.tourCount;if(!n)return[];var a=(0,u.formatNumber)(n),o="Redfin Agents have taken ".concat(n," customers to see ").concat(t," for the current MLS listing.");return r.default.createElement(p,{value:a,term:"Redfin tour".concat(1===n?"":"s"),definition:o})}({street:v,tourCount:g})),S=(0,c.getCurrentDeviceType)()===c.DeviceTypes.PHONE;return E.length?r.default.createElement("div",{className:"ActivityWidget padding-bottom-medium"},E[0],E[1]?r.default.createElement(r.default.Fragment,null,r.default.createElement(f,null),E[1]):null,E[2]?r.default.createElement(r.default.Fragment,null,S?r.default.createElement("br",null):r.default.createElement(f,null),E[2]):null,E[3]?r.default.createElement(r.default.Fragment,null,r.default.createElement(f,null),E[3]):null):null},e.exports=t.default},px8L:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("LDFp"));o.default.ensure(n("tTYd"));var i=n("pBXq").default,s=(0,r.default)(new i,{name:"HomeDetailsPageRiftTracker",bouncerFlags:[o.default.RIFT_ON_LDP],impressions:{MOBILE_WEB_XDP_LOADED:{section:"mobile_web_xdp_loaded",target:null,expectedParams:["is_redfin_listing","num_upcoming_open_houses","is_hot"],trackGA:!1},DESKTOP_XDP_LOADED:{section:"desktop_xdp_loaded",target:null,expectedParams:["is_redfin_listing","num_upcoming_open_houses","is_hot"],trackGA:!1},XDP_LOADED:{section:"xdp_loaded",target:null,trackGA:!1},MOBILE_WEB_LDP_ORIENTATION_CHANGE:{section:"mobile_web_ldp",target:"orientation_change",expectedParams:["new_orientation"],trackGA:!1,trackAll:!0},XDP_CLAIMED_HOME_VIEW:{section:"xdp_view",target:null,expectedParams:["claimed_home","frequently_viewed"],trackGA:!1},SERVICE_INFO:{section:"service_info",target:null,expectedParams:["service_threshold","service_policy","service_region_id","business_market_id"],trackGA:!1},SERVICE_LEVEL:{section:"service_level",target:null,trackGA:!1},GREAT_FIRST_VISIT:{section:"second_ldp_view",target:null,trackGA:!1}}});e.exports=s},"pyz+":function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("3OWR")),o=a(n("LDFp")),i=n("sRz7");o.default.ensure(n("tTYd"));var s=n("pBXq").default,l=(0,r.default)(new s,i.SchoolsSectionTrackerDefinition);e.exports=l},q5MC:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lSNA")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=n("mXGw"),f=a(n("17x9")),p=a(n("bXwE")),m=a(n("1AMb")),h=a(n("ajZI")),g=n("osI4"),_=a(n("gZJS")),v=a(n("KpZ5")),y=a(n("4eMn")),E=a(n("h1Tg")),S=n("CrDX"),I=a(n("1lFN")),T=n("G4xM"),C=n("AYTD"),b=n("jDxM"),k=n("LFuj"),R=a(n("1RMg")),O=a(n("aVrQ"));n("a63d");var N=n("YYdk");function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}function P(e){var t=e.mlsDisclaimerInfo;return React.createElement("div",{className:"disclaimer"},React.createElement(p.default,{mlsDisclaimerInfo:t,showRuler:!1,truncate:!1,showListingProvider:!0,showLastUpdated:!0}))}var D="https://support.redfin.com/hc/en-us/articles/360001454531-Public-Records-",w=React.createElement("span",{className:"pd-learn-more",onClick:function(){E.default.trackClick(E.default.clicks.LEARN_MORE),window.open(D,"_top")}},"Learn more.");function L(e){var t=e.provider;return React.createElement("div",{className:"subtext"},React.createElement("span",null,"Details provided by ",React.createElement("span",null,t)," and may not match the public record. ",w))}function M(e){var t=e.showProvider,n=e.provider,a=e.lastListYear,r=e.onClickHandler,o=e.hasEditedHomeFacts,i=React.createElement("span",{className:"navigation-link",onClick:r},"public records"),s=a?" when last listed in ".concat(a):"",l=t?"Property information provided by ".concat(n," ").concat(s,". "):"",u=(o||a)&&[o?"This data may not show owner updates. ":React.createElement("span",null,"This data may not match ",i,". "),w];return React.createElement("div",{className:"subtext"},React.createElement("span",null,l,u))}function x(e){var t=e.amenitiesInfo,n=e.mainHouseInfo,a=e.isPhone,r=e.internetProvidersData,o=void 0===r?[]:r,i=e.speedSummary,s=e.pageType,l=(0,k.getShouldShowInternetDataOnDp)(s);if(t.amenitiesLocked){var u=n&&n.source?n.source.dataSourceId:null;return React.createElement(I.default,{header:"Unlock ".concat(t.totalAmenities," Details"),displayLevel:t.amenitiesDisplayLevel,dataSourceId:u,detailsText:"view full property details for this home",sectionName:"property_details"})}return t.showGhostTown?React.createElement("div",null,"We'll show details for this property as soon as we have them."):t.superGroups&&t.superGroups.length?React.createElement("div",{className:"amenities-container"},t.superGroups.map(function(e,r){var s,u=e.titleString,c=e.amenityGroups,d=e.types;return u!==y.default.AMENITY_GROUP_TYPE_UTILITIES.displayName||-1!==d.indexOf(y.default.AMENITY_GROUP_TYPE_UTILITIES.id)||0!==o.length||i?React.createElement(_.default,{key:"air-".concat(r),groupTitle:u,groups:c,buyerAgentCommission:t.buyerAgentCommission,isPhone:a,extension:l&&-1!==d.indexOf(y.default.AMENITY_GROUP_TYPE_UTILITIES.id)&&(null===(s=t.addressInfo)||void 0===s?void 0:s.countryCode)!==N.CANADA.id?React.createElement(v.default,{internetProvidersData:o,speedSummary:i,address:n.streetAddress}):null}):null})):null}var F=function(e){(0,l.default)(n,e);var t=A(n);function n(){var e;return(0,o.default)(this,n),(e=t.call(this)).onPublicRecordsLinkClick=e.onPublicRecordsLinkClick.bind((0,s.default)(e)),e}return(0,i.default)(n,[{key:"componentDidMount",value:function(){if(this.sectionNode){var e={};this.props.amenitiesInfo.amenitiesLocked&&(e.is_censored=!0),E.default.trackImpression(E.default.impressions.PROPERTY_DETAILS,e,this.sectionNode)}}},{key:"onPublicRecordsLinkClick",value:function(e){e.preventDefault(),(0,C.navigateToSectionId)("public-records")}},{key:"render",value:function(){var e=this,t=this.props,n=t.amenitiesInfo,a=t.mainHouseInfo,o=t.publicRecordsInfo,i=t.isCollapsible,s=t.isPhone,l=t.queryParams,u=t.internetDataStore;if(!n||!a)return null;var c=!!n.mlsDisclaimerInfo&&n.mlsDisclaimerInfo.showDisclaimerWithMlsInfo,d=(0,T.getConfigValueForKey)(T.DP_GLOBAL_CONFIG_KEYS.pageType),f=function(e){return e===g_detailsPageType.OFF_MARKET||e===g_detailsPageType.RECENTLY_SOLD}(d),p="phone"===(0,g.getCurrentDeviceType)(),_=n&&n.addressInfo&&n.addressInfo.street,v=(0,b.calculateHeaderText)({sectionTitle:"Property Details",streetAddress:_,isMobile:p});if(R.default.isOn(O.default)&&"VARIANT"===R.default.getVariant(O.default))return null;var y=u||{},E=y.internetProvidersData,I=y.speedSummary,C=_?n.sectionPreviewText+" for "+_:n.sectionPreviewText;return React.createElement(m.default,{name:"AmenitiesInfoSection",id:"property-details-scroll",addTopRule:!0},React.createElement("div",(0,r.default)({className:"sectionContainer",ref:"propertyDetailsScroll","data-rf-test-id":"propertyDetails"},"ref",function(t){return e.sectionNode=t}),React.createElement(h.default,{previewText:C,enabled:i,rfTestId:"property-details-expandable-preview",section:"propertyDetails",sectionName:v,initiallyExpanded:(0,S.isAgentMobile)(l)},React.createElement("div",{className:"main-content"},React.createElement(x,{amenitiesInfo:n,mainHouseInfo:a,isPhone:s,speedSummary:I,internetProvidersData:E,pageType:d}),f&&!n.showGhostTown&&React.createElement(M,{showProvider:n.showDetailsProvidedDisclaimer,provider:n.provider,onClickHandler:this.onPublicRecordsLinkClick,lastListYear:n.lastListYear,hasEditedHomeFacts:o&&o.editedHomeFacts}),!f&&React.createElement(L,{provider:n.provider}),c&&React.createElement(P,{mlsDisclaimerInfo:n.mlsDisclaimerInfo})))))}}],[{key:"displayName",get:function(){return"AmenitiesInfoSection"}},{key:"propTypes",get:function(){return{amenitiesInfo:f.default.object,addressComponentInfo:f.default.object,mainHouseInfo:f.default.object,publicRecordsInfo:f.default.object,isCollapsible:f.default.bool,isPhone:f.default.bool}}},{key:"getComponentDependencies",value:function(){return{dependencies:["amenitiesInfo","mainHouseInfo","publicRecordsInfo","internetDataStore","queryParams"]}}}]),n}(d.Component);t.default=F,e.exports=t.default},q8yK:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lSNA")),i=a(n("J2m7")),s=n("TlVh"),l=a(n("5BUB")),u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("r1QH")),c=n("cMqt"),d=a(n("ZpgJ")),f=a(n("6YqF")),p=a(n("DyY8")),m=a(n("4KIY")),h=n("VzMp");function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function _(e){switch(e.toLowerCase()){case"name":return"name";case"email or phone":return"contact_info"}}var v=(0,s.createStoreFactory)({mixins:[l.default],init:function(e){e=e||{},this.formName+=Math.random(),this.login=d.default.getJsonLogin(),this.inquirySource=e.inquirySource,this.setUpState(this.login),this.setState({formName:this.formName})},setUpState:function(e){e&&(this.removeFields(["name"]),this.setField("emailOrPhone",{label:null}))},formName:"ContactInfoForm",fields:{name:{label:"Name",rules:[{test:u.required()}]},emailOrPhone:{label:"Contact Info",rules:[{test:function(e){return u.phoneNumber()(e).valid||u.email()(e).valid?{valid:!0}:{valid:!1,error:"Valid email or phone required"}}},{test:u.required()}]}},feedbackMode:u.feedbackModes.ERROR_ONLY,onSubmit:function(e){var t,n=this,a=(0,o.default)({},p.default.CLICK_RESULT,e?p.default.clickResults.SUBMIT:p.default.clickResults.VALIDATION_ERROR);if(e||(a.failing_fields=this.state.failingFields.map(_).join(","),a.failure_type=this.state.failingFields.map((t=this.state.fields,function(e){return(0,i.default)(t,function(t){return t.label.toLowerCase()===e})})).map(function(e){return e.value?"invalid":"empty"}).join(",")),f.default.trackClickWithDefaults(f.default.clicks.getContactInfoSubmit(),a),e){var r=this.state.fields.emailOrPhone.value,s={channelSid:this.state.channelId,contactInfo:r};if(this.state.fields.name&&(s.name=this.state.fields.name.value),this.isExpandedContactForm()){var l=this.state.fields.howCanWeHelpYou.value||this.state.fields.howCanWeHelpYou.placeholder;m.default.expandedContactInfoMessageSubmitted(l,s,this.formName)}else c.ReactServerAgent.post("/stingray/do/chat/addContactInfo").type("form").send(s).then(function(e){e.error?n.setState({error:!0,errorMessage:"Could not add contactInfo"}):n.setSubmittedContactInfo(r)})}},setSubmittedContactInfo:function(e){var t=(0,h.isValidNumber)(e)?(0,h.formatPhoneNumberParens)(e):e;this.setState({submittedContactInfo:t})},setChannelId:function(e){this.setState({channelId:e})},showExpandedContactInfoFields:function(){this.fields.howCanWeHelpYou||this.addFields({howCanWeHelpYou:{label:"How can we help you?",placeholder:this.getSuggestedHowCanWeHelpYouPlaceholderText()}})},getSuggestedHowCanWeHelpYouPlaceholderText:function(){return this.inquirySource===g_inquirySource.HOMEPAGE_LIVE_CHAT_FLOATING_BUTTON?"I'd like to learn more about buying or selling a home with a Redfin Agent.":this.inquirySource===g_inquirySource.SELLER_CONSULT_FLOW_LIVE_CHAT_FLOATING_BUTTON?"I'd like to learn more about selling my home with a Redfin Agent.":"I would like to know more about this home"},isExpandedContactForm:function(){return!!this.state.fields.howCanWeHelpYou}});t.default=v,e.exports=t.default},q9xE:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("YAhj")),f=a(n("17x9")),p=a(n("UT8e")),m=a(n("ajZI")),h=a(n("1AMb")),g=a(n("YGFb")),_=n("jDxM"),v=n("osI4"),y=a(n("1RMg")),E=a(n("X8OU")),S=a(n("mNJZ"));function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}var T=function(e){(0,l.default)(n,e);var t=I(n);function n(e,a){var r;return(0,o.default)(this,n),(r=t.call(this,e,a)).onClickCallback=r.onClickCallback.bind((0,s.default)(r)),r.isMobile="phone"===(0,v.getCurrentDeviceType)(),r}return(0,i.default)(n,[{key:"render",value:function(){void 0===this.inVariant&&(this.bouncerCohort=y.default.getVariant(E.default),this.inVariant="VARIANT"===this.bouncerCohort);var e=this.props,t=e.isCollapsible,n=e.rentalEstimateSectionInfo,a=e.propertyParcelInfo,o=e.comparableRentalsStore,i=e.rentalEstimateMapStore,s=e.rentalEstimateSelectionStore,l=e.addressSectionInfo;if(!n||!this.inVariant)return null;var u=n.displayType,c=n.streetAddress,f=n.rentalEstimateInfo;if(u===g_rentalEstimateSectionDisplayType.NO_RENTAL_ESTIMATE||u===g_rentalEstimateSectionDisplayType.GHOST_TOWN||"Estimate Not Available"===(null==n?void 0:n.previewText))return null;var I=(0,_.calculateHeaderTextWithAccessLevel)({sectionTitle:"Rental Estimate",streetAddress:c,isMobile:this.isMobile}),T=null==f?void 0:f.predictedValue;n.previewText=T?"$".concat(T.toLocaleString()," / mo"):"";var b={device_category:(0,v.getCurrentDeviceType)(),rentalId:null,property_id:l.propertyId,rental:!1,visibility:null};return d.default.createElement(h.default,{className:"RentalEstimateSection Section",id:"rental-estimate-scroll",addTopRule:!0},d.default.createElement(m.default,{enabled:t,initiallyExpanded:!this.isMobile,previewText:n.previewText,section:"rentalEstimate",sectionName:I,rfTestId:"rental-estimate-expandable-preview",onClickCallback:this.onClickCallback},d.default.createElement(p.default,(0,r.default)({},S.default.impressions.RENTAL_ESTIMATE_SECTION,{eventDetails:b}),d.default.createElement(g.default,{rentalEstimateData:n,propertyParcelInfo:a,propertyId:l.propertyId,isMobile:this.isMobile,isRental:!1,comparableRentalsStore:o,rentalEstimateMapStore:i,rentalEstimateSelectionStore:s,homeInfo:C(l),riftTracking:S.default}))))}},{key:"onClickCallback",value:function(e){e?S.default.trackClick(S.default.clicks.MW_EXPAND,this.riftDetails):S.default.trackClick(S.default.clicks.MW_COLLAPSE,this.riftDetails)}}],[{key:"displayName",get:function(){return"redfin.home.details.react.RentalEstimateSection"}},{key:"propTypes",get:function(){return{rentalEstimateSectionInfo:f.default.object,isCollapsible:f.default.bool}}},{key:"defaultProps",get:function(){return{isCollapsible:!1}}}]),n}(d.default.Component);function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{propertyId:e.propertyId,latLong:e.latLong,searchStatus:e.searchStatus,propertyType:e.propertyType,listingType:e.listingType,isMappable:e.isMappable,city:e.city}}T.getComponentDependencies=function(){return{dependencies:["rentalEstimateSectionInfo","propertyParcelInfo","addressSectionInfo","rentalEstimateMapStore","rentalEstimateSelectionStore"],clientDependencies:["comparableRentalsStore"]}},e.exports=T},qIK1:function(e,t,n){},qL1Y:function(e,t,n){},qQZG:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("7W2i")),s=a(n("a1gu")),l=a(n("Nsbk")),u=a(n("lSNA"));a(n("17x9"));function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var d=n("YAhj");n("DwVe");var f=function(e){(0,i.default)(n,e);var t=c(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"render",value:function(){return this.props.originalSource||this.props.originalSourceUrl?d.createElement("div",{className:"fsbo-disclaimer-container"},d.createElement("div",{className:"fsbo-disclaimer"},d.createElement("p",null,"For more photos and contact information visit ",d.createElement("a",{rel:"nofollow",href:this.props.originalSourceUrl,target:"_top"},"this listing on ",this.props.originalSource),"."))):null}}]),n}(d.Component);(0,u.default)(f,"displayName","FsboDisclaimer"),f.propTypes={},e.exports=f},qTFo:function(e,t,n){},qWyH:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=a(n("LDFp")),o=a(n("mXGw")),i=(a(n("17x9")),a(n("1AMb"))),s=a(n("RQwY")),l=n("pdMd"),u=n("osI4"),c=a(n("nH+5"));function d(e){var t=(0,l.getUrgencyWidgetToDisplay)(e.mainHouseInfo,e.popularityInfo,e.priceDropInfo,e.contactBoxInfo,e.hotMarketInfo,e.rareFindInfo,e.datePickerInfo);return t===s.default.NONE.name?null:o.default.createElement(i.default,{name:"UrgencySection",addTopRule:"desktop"!==(0,u.getCurrentDeviceType)(),"data-rf-test-name":"urgencySection"},o.default.createElement("div",{className:"urgencyContainer"},function(e,t){var n=t.contactBoxInfo.agentRequestAgent||t.contactBoxInfo.recommendedAgent,a=(0,l.shouldShowUrgencyTourTimes)(e,t,n),r=t.contactBoxInfo.experienceData&&t.contactBoxInfo.experienceData.isDirectAccess,i=t.contactBoxInfo.experienceData&&t.contactBoxInfo.experienceData.isRedfin,s=t.datePickerInfo&&!1===t.datePickerInfo.datePickerIsShown;return o.default.createElement(c.default,{"data-rf-test-name":"urgencyWidget",widgetType:e,listingId:t.listingId,hotnessInfo:t.mainHouseInfo.hotnessInfo,tourTimes:t.datePickerInfo.nextTourDisplayTimes,tourTimeZone:t.datePickerInfo.timeZoneStringId,numHomeViews:t.popularityInfo.numHomeViews,priceReductionText:t.priceDropInfo.priceDropUrgencyText,canShowTourTimes:a,shouldHideTourLink:s,isNextTourTimeToday:t.datePickerInfo.isNextTourTimeToday,isNextTourTimeTomorrow:t.datePickerInfo.isNextTourTimeTomorrow,tourDay:t.datePickerInfo.nextAvailableTourTime,touringAgent:n,isDirectAccess:r,isDirectAccessRedfin:i,hotMarketInfo:t.hotMarketInfo,rareFindInfo:t.rareFindInfo})}(t,e)))}n("BXnI"),r.default.ensure(n("9/ZL")),d.propTypes={},d.defaultProps={mainHouseInfo:{},contactBoxInfo:{},datePickerInfo:{},popularityInfo:{},priceDropInfo:{},hotMarketInfo:{},rareFindInfo:{}},d.getComponentDependencies=function(){return{dependencies:["mainHouseInfo","contactBoxInfo","datePickerInfo","priceDropInfo","popularityInfo","hotMarketInfo","rareFindInfo"]}},d.displayName="UrgencySection",e.exports=t.default},"qdN/":function(e,t,n){},qfM1:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),d=a(n("17x9")),f=a(n("EFMV")),p=a(n("tGxv")),m=a(n("94Bj")),h=a(n("LDFp")),g=a(n("UT8e")),_=a(n("2nf7")),v=n("DyRb"),y=a(n("F40h"));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function S(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}h.default.ensure(y.default);var I=function(e){(0,s.default)(n,e);var t=S(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"renderGeneralInquiryDialog",value:function(){if(this.props.actionType===g_contactBoxActionType.ASK&&(this.props.inquirySource===g_inquirySource.LDP_CB_GEN_INQUIRY_FORM||this.props.inquirySource===g_inquirySource.SDP_CB_GEN_INQUIRY_FORM||this.props.inquirySource===g_inquirySource.PDP_CB_GEN_INQUIRY_FORM)){var e=this.props.agent&&this.props.agent.getFirstName(),t="We’re here to help! "+e+" will get back to you shortly.";return c.default.createElement(this.props.generalInquiryDialog,{inquirySource:this.props.inquirySource,propertyId:this.props.propertyId,title:"Ask "+e+" a question",subtitle:t,agentId:this.props.agent.getId()})}}},{key:"renderSellerConsultForm",value:function(){this.props.showSellerConsultDialogCallback&&this.props.showSellerConsultDialogCallback()}},{key:"renderAAQDialog",value:function(e){this.props.showAAQDialogCallback&&this.props.showAAQDialogCallback(e)}},{key:"getRiftSectionName",value:function(){return this.props.isAgentRequestAssignedOrPending?"partner_post_request_contact_box":"partner_contact_box"}},{key:"render",value:function(){var e={contactBoxButton:!0,button:!0,clickable:!0};return!1===this.props.isPrimaryCta&&(e.primary=!1,e.tertiary=!0),c.default.createElement(g.default,{section:this.getRiftSectionName(),target:""},c.default.createElement("div",{ref:"buttonNode",onClick:this.onClick.bind(this),className:(0,v.getClassSet)(e,this.props),"data-rf-test-name":"cbButton"},this.renderGeneralInquiryDialog(),c.default.createElement("span",{className:"buttonIcon"}),c.default.createElement("span",{className:"buttonText"},this.props.primaryText)))}},{key:"onClick",value:function(e){var t=e.metaKey||e.ctrlKey||1===e.button,n={text:this.props.riftTextParam,listing_id:this.props.listingId,agent_id:this.props.agent.getId(),star_rating:this.props.agent.getAverageRating(),num_reviews:this.props.agent.getNumReviews(),includes_refund:this.props.sideBarStore.hasRefund,num_closed_deals:this.props.agent.getHomesClosed(),is_partner:this.props.agent.isPartner(),energy_data_variant:m.default.getVariant(y.default)};n[p.default.GA_LABEL]={text:this.props.riftTextParam},this.props.agent.isPartner()&&(n.partner_number=this.props.agentPosition),n.higher_desc_cohort=this.calculateHigherDescriptionCohort();var a=this.props.sideBarStore.noCBExperimentParams||{};if((n=(0,f.default)(n,{$merge:a})).trackGA=!0,(0,v.trackClick)(this.getRiftSectionName(),"ask_question_button",n,this.props),this.props.servicePolicy){if(null!==this.props.actionType)if(this.props.actionType===g_contactBoxActionType.CONTACT)!1!==this.props.canCominglePartnerAgents?this.renderAAQDialog(this.props.agent):this.openUrl(this.getViewProfileUrl(),t);else if(this.props.actionType===g_contactBoxActionType.VERIFY_EMAIL)e.preventDefault(),e.stopPropagation(),(new _.default).show();else if(this.props.actionType===g_contactBoxActionType.SELLER_CONSULTATION)this.renderSellerConsultForm();else if(this.props.actionType===g_contactBoxActionType.VIEW_PROFILE)this.openUrl(this.getViewProfileUrl(),t);else if(this.props.actionType===g_contactBoxActionType.PRICE_THIS_HOME){var r="/what-is-my-home-worth?estPropertyId="+this.props.propertyId+"&src=ldp-contactbox";this.openUrl(r,t)}else this.props.actionType===g_contactBoxActionType.ASK?this.props.generalInquiryActions.showDialogForInquirySource(this.props.inquirySource,{agentId:this.props.agent.getId()}):this.props.actionType===g_contactBoxActionType.LIVE_CHAT&&this.props.liveChatWidgetAction.toggleChatDialog(g_inquirySource.DP_CB_LIVE_CHAT)}else setTimeout(function(){window.top.location=this.getViewProfileUrl()}.bind(this),10)}},{key:"openUrl",value:function(e,t){setTimeout(function(){t?window.open(e):window.top.location=e},10)}},{key:"getSellerConsultUrl",value:function(){var e="/why-sell";return e=this.addParamToUrl(e,"inquiryChannel",this.props.inquiryChannel),e=this.addParamToUrl(e,"inquirySource",this.props.inquirySource)}},{key:"getViewProfileUrl",value:function(){var e=this.props.agent.get("profileUrl");return(this.props.serviceRegionId||this.props.dataSourceId&&this.props.mlsId)&&(e+="#agentrec",e=this.addParamToUrl(e,"serviceRegionId",this.props.serviceRegionId),this.props.dataSourceId&&this.props.mlsId&&(e=this.addParamToUrl(e,"dslisting_id",this.props.dataSourceId+":"+this.props.mlsId))),e}},{key:"addParamToUrl",value:function(e,t,n,a){return e+(n||a?"&"+t+"="+n:"")}},{key:"calculateHigherDescriptionCohort",value:function(){return this.props.propertyId?this.props.propertyId%10==0||this.props.propertyId%10==1?"variant":"control":"unknown"}}],[{key:"displayName",get:function(){return"ContactBoxButton"}},{key:"propTypes",get:function(){return{classes:d.default.arrayOf(d.default.string),actionType:d.default.number,presentationType:d.default.number,primaryText:d.default.string,listingId:d.default.number,additionalListingIds:d.default.arrayOf(d.default.number),propertyId:d.default.number,dataSourceId:d.default.number,mlsId:d.default.string,agent:d.default.object,agentPosition:d.default.number,servicePolicy:d.default.number,hasAgentRelationship:d.default.bool,shouldUseAnonToursPathForUser:d.default.bool,agentServiceType:d.default.number,serviceRegionId:d.default.number,agentRequestText:d.default.string,isBuySideAgent:d.default.bool,customerAction:d.default.number,inquirySource:d.default.number,inquiryChannel:d.default.number,shouldSoftAssignAgent:d.default.bool,riftTextParam:d.default.string,isPrimaryCta:d.default.bool,generalInquiryActions:d.default.object,liveChatWidgetAction:d.default.object,TourPopup:d.default.func,sideBarStore:d.default.object,showSellerConsultDialogCallback:d.default.func,showAAQDialogCallback:d.default.func,canCominglePartnerAgents:d.default.bool,generalInquiryDialog:d.default.func,averageResponseTime:d.default.number,isStartAnOfferForPartnerEligible:d.default.bool,isAgentRequestAssignedOrPending:d.default.bool}}},{key:"getDefaultProps",get:function(){return{classes:[]}}}]),n}(c.Component);t.default=I,e.exports=t.default},qfcJ:function(e,t,n){"use strict";var a=n("cDf5"),r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var l=i?Object.getOwnPropertyDescriptor(e,s):null;l&&(l.get||l.set)?Object.defineProperty(r,s,l):r[s]=e[s]}r.default=e,n&&n.set(e,r);return r}(n("pK/g"));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}e.exports=r},qiMi:function(e,t,n){},qqKJ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=e.topLabels,n=void 0===t?[]:t,a=e.bottomLabels,s=void 0===a?[]:a,l=e.classNames,u=void 0===l?"":l,c=e.values,d=void 0===c?[]:c,f=e.maxValue,p=e.barHeight,m=void 0===p?50:p,h=[],g=f||Math.max.apply(Math,(0,r.default)(d)),_=0;_<d.length;_++)h.push(o.default.createElement(i,{key:"bar-".concat(_),topLabel:_<n.length?n[_]:"",bottomLabel:_<s.length?s[_]:"",value:d[_],height:m,maxValue:g}));return o.default.createElement("div",{className:u+" barGraph"},h)};var r=a(n("RIqP")),o=a(n("mXGw"));function i(e){var t=e.topLabel,n=void 0===t?"":t,a=e.bottomLabel,r=void 0===a?"":a,i=e.value,s=void 0===i?0:i,l=e.maxValue,u=void 0===l?100:l,c=e.height,d={height:"".concat(u?(u-s)/u*100:100,"%")},f={height:c};return o.default.createElement("div",{className:"barContainer"},o.default.createElement("div",{className:"topLabel"},n),o.default.createElement("div",{className:"bar",style:f},o.default.createElement("div",{className:"barBackground"}),o.default.createElement("div",{className:"barForeground",style:d})),o.default.createElement("div",{className:"bottomLabel"},r))}n("JGIV"),e.exports=t.default},r1vo:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var r=a(n("mXGw"));function o(e){var t=e.children;return r.default.createElement("div",{className:"TipBox"},r.default.createElement("div",{className:"tip font-size-small"},t))}n("JrpX"),o.displayName="TipBox",e.exports=t.default},r255:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=a(n("mXGw")),o=(a(n("17x9")),a(n("8Jek"))),i=a(n("1AMb")),s=a(n("Mlli")),l=a(n("I9F9")),u=n("osI4");n("Hlrp");var c={InlineNoticeWidget:l.default};function d(e){if(!e.noticeSectionPlacementInfo||!e.noticeSectionPlacementInfo.widgets||!e.noticeSectionPlacementInfo.widgets.length)return null;var t=(0,o.default)({NoticeSection:!0,"is-omdp":e.pageType===g_detailsPageType.OFF_MARKET});return r.default.createElement(i.default,{addTopRule:"desktop"!==(0,u.getCurrentDeviceType)(),className:t},r.default.createElement(s.default,{placement:e.noticeSectionPlacementInfo,typeToComponent:c}))}d.propTypes={},d.defaultProps={noticeSectionPlacementInfo:{}},d.getComponentDependencies=function(){return{dependencies:["noticeSectionPlacementInfo","pageType"]}},d.displayName="NoticeSection",e.exports=t.default},rCMi:function(e,t,n){},rNya:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mXGw")),o=a(n("3zPH")),i=a(n("1eYl")),s=a(n("qF8C")),l=a(n("5lvR")),u=a(n("UT8e")),c=n("LFuj");n("1qkR");var d=function(){return r.default.createElement(u.default,{section:l.default.impressions.INTERNET_MODAL_GHOSTTOWN.section,target:l.default.impressions.INTERNET_MODAL_GHOSTTOWN.target},r.default.createElement("div",{className:"NoInternetMessageContent"},r.default.createElement("p",null,"We’re working on getting accurate Internet access information for this home."),r.default.createElement("br",null),r.default.createElement("p",null,r.default.createElement("a",{className:"internetDataCursor",href:"https://www.redfin.com/guides/internet-access",target:"_blank",rel:"noopener"},"Learn more about Internet data on Redfin."))))},f=function(e){var t=e.speedInMbps,n=e.speedSummary,a=e.supportedTechnologies;return r.default.createElement("div",null,r.default.createElement("p",{className:"font-size-smaller redfin-gray-55"},"Speed up to"),r.default.createElement("div",{className:"providerSpeedContainer ".concat((a||[]).length<3?"flex":""," justify-between")},r.default.createElement("div",{className:"flex-inline"},r.default.createElement("p",{className:"font-size-base font-weight-bold redfin-gray-80"},t," Mbps "),r.default.createElement("p",{className:"font-size-small redfin-gray-55"},"(",n,")")),r.default.createElement("div",{className:"pillsContainer"},a.map(function(e){return t={connectionType:e}.connectionType,n="Fiber"===t?r.default.createElement(s.default,{className:"fill-white size-small"}):null,r.default.createElement(i.default,{className:"".concat(t," margin-left-smallest")},r.default.createElement("span",{className:"flex-inline"},n," ",r.default.createElement("p",null,t)));var t,n}))))},p=function(e){var t=e.providerName,n=e.speedInMbps,a=e.speedSummary,i=e.supportedTechnologies;return r.default.createElement(u.default,{section:l.default.impressions.PROVIDER_CARD.section,target:l.default.impressions.PROVIDER_CARD.target,eventDetails:{provider_name:t,speed:a,types:i}},r.default.createElement(o.default,{classNames:"internetProviderDataCard",title:r.default.createElement("div",{className:"flex justify-between"},r.default.createElement("p",null,t)),isExpanded:!1,summary:f({speedInMbps:n,speedSummary:a,supportedTechnologies:i}),noHoverEffects:!0}))};var m=function(e){var t=e.internetProvidersData,n=void 0===t?[]:t,a=e.onSpeedLinkClick,o=void 0===a?function(){}:a,i=e.onConnectionTypesLinkClick,s=void 0===i?function(){}:i,f=e.riftSpeedDetail,m=e.address,h=e.seoDataOnly,g=void 0!==h&&h;return 0===n.length?d():g?r.default.createElement("div",{className:"InternetDataDialogContent"},r.default.createElement("p",{className:"font-size-smallest redfin-gray-55"},(0,c.buildSeoAutoText)(m,n))):r.default.createElement(u.default,{section:l.default.impressions.INTERNET_MODAL.section,target:l.default.impressions.INTERNET_MODAL.target,eventDetails:{speed:f}},r.default.createElement("div",{className:"InternetDataDialogContent"},r.default.createElement("span",{className:"font-size-base"},"Learn more about different ",r.default.createElement("a",{className:"internetDataCursor"},r.default.createElement("span",{role:"button",onClick:o},"Internet speeds"))," and ",r.default.createElement("a",{className:"internetDataCursor"},r.default.createElement("span",{role:"button",onClick:s},"connection types."))),r.default.createElement("div",{className:"internetProvidersGrid"},n.map(function(e){return p(e)})),r.default.createElement("p",{className:"font-size-smallest redfin-gray-55"},(0,c.buildSeoAutoText)(m,n)),r.default.createElement("br",null),r.default.createElement("p",{className:"font-size-smallest redfin-gray-55"},"Internet data is provided by BroadbandNow for informational purposes only and is not guaranteed. Internet provider, connection type, and speed availability may change. Redfin recommends buyers conduct their own investigation to determine their desired internet options. To verify internet details, contact the provider directly. ",r.default.createElement("a",{className:"internetDataCursor",href:"https://www.redfin.com/guides/internet-access",target:"_blank",rel:"noopener"},"Learn more about Internet data on Redfin.")),r.default.createElement("br",null),r.default.createElement("p",{className:"font-size-smallest redfin-gray-55"},"Internet access doesn't impact everyone equally. ",r.default.createElement("a",{className:"internetDataCursor",href:"https://www.redfin.com/guides/internet-access",target:"_blank",rel:"noopener"},"Learn more about the digital divide."))))};t.default=m,e.exports=t.default},rOT4:function(e,t,n){},riRT:function(e,t,n){},rnms:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("17x9")),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),p=a(n("UT8e")),m=a(n("1AMb")),h=a(n("SJyO")),g=a(n("ERtC")),_=a(n("KBk/")),v=n("6tFN");function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}n("CHyQ");var S=function(e){(0,l.default)(n,e);var t=E(n);function n(e){var a;return(0,i.default)(this,n),(a=t.call(this,e)).state={showNewPill:0===(0,v.getVideoOpenHouseSectionViews)()},a}return(0,s.default)(n,[{key:"componentDidMount",value:function(){var e=this.props.mainHouseInfo;e.videoOpenHouses&&e.videoOpenHouses.length>0&&(0,v.updateLDPVideoOpenHouseCookie)()}},{key:"render",value:function(){var e=this.props,t=e.mainHouseInfo,n=e.contactBoxInfo,a=e.addressSectionInfo,r=e.deviceConfig,i=e.listingId,s=e.propertyId;if(!(0,v.shouldShowVideoOpenHouseSection)(a.isRedfin,t.videoOpenHouses,n))return null;var l=r!==g_deviceConfiguration.PHONE?"VideoOpenHouseSectionDesktop":"VideoOpenHouseSectionMobile",u=(0,v.isOpenHouseCurrentlyLive)(t.videoOpenHouses),c={property_id:s,listing_id:i,start_times:t.videoOpenHouses.map(function(e){return 1e3*e.startTime.seconds}).join()},d=t.openHouses&&t.openHouses.length>0;return f.default.createElement(p.default,(0,o.default)({},_.default.impressions.VIDEO_OPEN_HOUSES,{eventDetails:c}),f.default.createElement(m.default,{name:l,addTopRule:r!==g_deviceConfiguration.DESKTOP},f.default.createElement(h.default,{deviceConfig:r,isLive:u,showNewPill:this.state.showNewPill}),f.default.createElement(g.default,{deviceConfig:r,timezone:t.timezone,openHouses:t.videoOpenHouses,isLive:u,hasInPersonOpenHouses:d,source:t.source})))}}],[{key:"displayName",get:function(){return"VideoOpenHouseSection"}},{key:"propTypes",get:function(){return{deviceConfig:d.default.number,mainHouseInfo:d.default.object,contactBoxInfo:d.default.object,addressSectionInfo:d.default.object,listingId:d.default.number,propertyId:d.default.number}}},{key:"getComponentDependencies",value:function(){return{dependencies:["mainHouseInfo","contactBoxInfo","addressSectionInfo"]}}}]),n}(f.Component);t.default=S,e.exports=t.default},rv79:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("QkVN")),o=a(n("WRAN")),i=(0,r.default)(o.default,{name:"StrategySessionScheduleRiftTracker",targets:{DIFFERENT_LOCATION_LINK:{section:"content_area",target:"suggest_different_location_link"},PICK_TIME:{section:"content_area",target:"pick_time_button"},SELECT_DATE:{section:"content_area",target:"select_date"},SELECT_TIME:{section:"content_area",target:"select_time"},DIFFERENT_TIME_LINK:{section:"content_area",target:"times_dont_work_link"},CONFIRM:{section:"content_area",target:"confirm_button"},NOTES_AREA:{section:"content_area",target:"text_field"},RETURN_TO_REDFIN:{section:"content_area",target:"return_to_home_link"},AGENT_PROFILE_LINK:{section:"agent_card",target:"agent_profile_link"},AGENT_CARD_PHONE:{section:"agent_card",target:"agent_phone_link"},AGENT_CARD_EMAIL:{section:"agent_card",target:"agent_email_link"},AGENT_PHONE:{section:"content_area",target:"agent_phone_link"},AGENTS_IN_AREA:{section:"content_area",target:"agents_in_area_link"},MAP_LINK:{section:"content_area",target:"location_map_link"},WHY_BUY:{section:"content_area",target:"why_buy_link"},CONTACT_US_LINK:{section:"content_area",target:"contact_us_link"},AGENT_PREVIEW:{section:"content_area",target:"agent_preview_link"}},trackPageImpressionForScreen:function(e,t,n){var a=this.getPageTypeForScreen(e,t);if(a){this.updateRiftPageType(a);var r=this.getPageTypeForScreen(n,t);this.trackImpressionWithDefaults({unique:"pageType"},{pageType:a,prev:r})}},getPageTypeForScreen:function(e,t){if(!e)return null;var n=t?e.mobileWebRiftPageType:e.desktopRiftPageType;return n||(n=e.riftPageType),n}});t.default=i,e.exports=t.default},s3g6:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("kj8T")),o=a(n("zl5j")),i=function(e){var t=e.secondaryBannerInfoStore,n=e.personalizationInfo,a=e.mediaBrowserInfo,i=e.deviceConfig;switch(t.displayBannerType){case g_detailsPageBanner.OFFER_DEADLINE:return React.createElement(r.default,{offerDeadlineInfoStore:t.displayBannerStore,contactBoxInfo:t.contactBoxInfo,homePhotosInfo:a.photos,isSecondaryVariant:!0});case g_detailsPageBanner.COMING_SOON:return React.createElement(o.default,{comingSoonInfoStore:t.displayBannerStore,personalizationInfo:n,deviceConfig:i,isSecondaryVariant:!0})}return null};i.getComponentDependencies=function(){return{dependencies:["secondaryBannerInfoStore","mediaBrowserInfo"]}},i.getPageLayoutClassName=function(){return"dp-col-sm-12 dp-col-md-12"},i.displayName="SecondaryBannerSection",e.exports=i},s8FF:function(e,t,n){},sYmu:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lSNA")),o=a(n("LDFp")),i=n("osI4"),s=a(n("QyVa")),l=n("Irkk"),u=a(n("YmFC")),c=a(n("x4wC"));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}o.default.ensure(n("yFh4"),n("FQEs"),n("R+zp"),n("tIJy"),n("aVrQ"),n("mTRq"),n("jJFt"),n("HJF8"),n("PodV"));var p=n("7SUW"),m=n("lQoP"),h=n("m7qm"),g=n("1RMg"),_=n("+k5+");e.exports=h.createStoreFactory({listenables:_,init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pageExperimentInfo,n=void 0===t?{}:t,a=e.deviceConfig,r=e.pageType,o=e.bouncyHouseFlags,i=e.addressSectionInfo,s=f(f(f({},n),this.getExperimentBouncerSettings()),{},{bouncyHouseFlags:o,deviceConfig:a,pageType:r,addressSectionInfo:i});this.setState(s),this._experimentsInitialized=!1},onInitializeExperiments:function(){this.initializeOMDPHigherDescriptionExperiment(),this.initializeFloodDataExperiment(),this.initializeMWOMDPReorderTest(),this.initializeDesktopSrcSetExperiment(),this.initializeSimplifyingBasicFactsExperiment(),this.initializeMortgageCalcSaleProceedsRevampExperiment(),this.initializeBetterMarketInsights(),this.initializeOMDPImprovementsForNonOwners(),this.initializeShareRSDPSDP(),this.initializePreviewHeroPhotos(),this._experimentsInitialized=!0},getExperimentBouncerSettings:function(){return f(f({},this.getBetterMarketInsightsSettings()),this.getFullScreenMapRevampSettings())},initializeSimplifyingBasicFactsExperiment:function(){"ie"!==(0,i.getCurrentBrowserName)()&&(p().initialize({experimentId:g.feature.SIMPLIFYING_BASIC_HOME_FACTS,gaExperimentId:"eYnksMTzQlCTNlLFZ3vRDw"}),m.trackImpression("simplifiying_basic_facts_exp_start"))},initializeOMDPImprovementsForNonOwners:function(){this.state.pageType===g_detailsPageType.OFF_MARKET&&p().initialize({experimentId:g.feature.IMPROVE_OMDP_FOR_NONOWNERS,gaExperimentId:"_Xpp_-WaSFyBYEFOoP2HBg"})},initializeFloodDataExperiment:function(){p().initialize({experimentId:g.feature.FLOOD_DATA,gaExperimentId:"L6e3jTtxRtOqvhfm8GwxjA"})},initializeOMDPHigherDescriptionExperiment:function(){var e=this.state.omdpHigherDescriptionExperimentInfo;e&&e.isEligibleForHigherDescriptionExperiment&&!this.state.pageType!==g_detailsPageType.OFF_MARKET&&m.trackImpression("higher_description_eligible",null,{higher_desc_cohort:e.cohort,device_category:"phone"===(0,i.getCurrentDeviceType)()?"mobile":"desktop"})},initializeDesktopSrcSetExperiment:function(){var e=this.state.bouncyHouseFlags("DP_USE_SRCSET");s.default.startExperiment(e)},initializeMWOMDPReorderTest:function(){if(this.state.deviceConfig===g_deviceConfiguration.PHONE){var e=this.state.omdpReorderExperimentEligibility;e&&e.isEligible&&(p().initialize({experimentId:g.feature.MW_OMDP_REORDER_TEST,gaExperimentId:e.gaExperimentId}),m.trackImpression("owner_focused_exp"))}},initializeMortgageCalcSaleProceedsRevampExperiment:function(){(this.state.pageType===g_detailsPageType.ACTIVE||this.state.pageType===g_detailsPageType.ACTIVE_PENDING)&&(0,l.getIsEligibleForPaymentCalcSaleProceedsRevamp)()&&(p().initialize({experimentId:g.feature.REVAMP_SALE_PROCEEDS_LDP_PAYMENT_CALC,gaExperimentId:"hb--ecbPTl2lsAL3m2Uhzg"}),m.trackImpression("revamp_sale_proceeds_ldp_payment_calc_start"))},initializeBetterMarketInsights:function(){s.default.startExperiment(u.default)},getBetterMarketInsightsSettings:function(){return{isInBetterMarketInsightsVariant:!(!g.isOn(u.default)||"VARIANT"!==g.getVariant(u.default))}},getFullScreenMapRevampSettings:function(){return{isInFullScreenMapRevamp:!(!g.isOn(c.default)||"VARIANT"!==g.getVariant(c.default))}},initializeShareRSDPSDP:function(){var e=this.state.shareButtonOMDPExperimentInfo;e&&e.isEligible&&(p().initialize({experimentId:g.feature.SHARE_RSDP_SDP,gaExperimentId:"1rcUzS7NQxahepVyz0bj7Q"}),m.trackImpression("experiment_start_share_rsdp_sdp"))},initializePreviewHeroPhotos:function(){this.state.deviceConfig===g_deviceConfiguration.DESKTOP&&this.state.addressSectionInfo.isRedfin&&(p().initialize({experimentId:g.feature.LDP_REDFIN_AGENTS_HERO_PHOTOS,gaExperimentId:"wNnwNfIJQ6C9e8hgROfmmw"}),m.trackImpression("experiment_start_hero_photos"))}})},shGK:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("94Bj")),o=n("TlVh"),i=n("osI4"),s=a(n("aVrQ")),l=(0,o.createStoreFactory)({init:function(){this.setState({enabled:"phone"===(0,i.getCurrentDeviceType)()&&"VARIANT"===r.default.getVariant(s.default),open:!1,actions:{onDialogOpen:this.onDialogOpen,onDialogClose:this.onDialogClose}})},onDialogOpen:function(){this.setState({open:!0})},onDialogClose:function(){this.setState({open:!1})}});t.default=l,e.exports=t.default},sk42:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("7W2i")),s=a(n("a1gu")),l=a(n("Nsbk")),u=a(n("lSNA"));a(n("17x9"));function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var d=n("YAhj"),f=function(e){(0,i.default)(n,e);var t=c(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"render",value:function(){return d.createElement("table",{className:"nearby-homes-table"},d.createElement("thead",{className:"nearby-homes-headers"},d.createElement("tr",null,d.createElement("th",{className:"nearby-home-data"},"Address"),this.props.showAvmColumn?d.createElement("th",{className:"nearby-home-avm"},"Redfin Estimate"):null)),d.createElement("tbody",null,this.props.children))}}]),n}(d.Component);(0,u.default)(f,"displayName","redfin.homes.details.similars.react.NearbyHomesColumn"),f.propTypes={},e.exports=f},smld:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("pVnL")),o=a(n("cDf5")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("PJYZ")),u=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=a(n("17x9")),p=a(n("YAhj")),m=a(n("nbo3")),h=a(n("UT8e")),g=a(n("ma35")),_=(a(n("FQEs")),n("uxEU")),v=a(n("LDFp")),y=(a(n("1RMg")),a(n("X0Ra"))),E=a(n("vuHC")),S=a(n("ZJ8h"));function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}v.default.ensure(n("1RuZ"));var T=function(e){(0,u.default)(n,e);var t=I(n);function n(e){var a;return(0,i.default)(this,n),(a=t.call(this,e))._getHomesToShow=a._getHomesToShow.bind((0,l.default)(a)),a.state={homes:a._getHomesToShow()},a}return(0,s.default)(n,[{key:"_getNumberOfHomeCardsToDisplay",value:function(){return Math.min(this.props.similars.homes.length,this.props.numberOfCards)}},{key:"_filterForPropertyIdsWithFuzzyData",value:function(e,t){return e.slice(0,this._getNumberOfHomeCardsToDisplay()).filter(function(e){return t[e.propertyId]}).map(function(e){return e.propertyId})}},{key:"clickSearchCTA",value:function(e){S.default.trackClick(S.default.clicks.SEARCH_SOLD_CTA_CLICK,e),m.default.flushRiftEvents()}},{key:"componentDidMount",value:function(){this.domNode&&S.default.trackImpression(S.default.impressions.SOLD_HOMECARDS,{property_id:this.props.propertyId,listing_id:this.props.listingId,query_id:(0,_.getQueryId)(this.props.similars),similar_ids_with_tags:this._filterForPropertyIdsWithFuzzyData(this.props.similars.homes?this.props.similars.homes:[],this.props.fuzzyPropertyData),num_homecards_shown:this._getNumberOfHomeCardsToDisplay(),positions:"[".concat(this._getPositionsForProperties(this.state.homes),"]"),scores:"[".concat((0,_.getScores)(this.props.similars),"]"),related_property_ids:(0,_.getFormattedRelatedPropertyIds)(this.props.similars),related_listing_ids:(0,_.getFormattedRelatedListingIds)(this.props.similars)},this.domNode)}},{key:"_getHomesToShow",value:function(){var e=[];return this.props.similars?(this.props.similars.homes&&(e=this.props.similars.homes.slice(0,this._getNumberOfHomeCardsToDisplay())),e):e}},{key:"render",value:function(){var e=this;if(!this.props.similars)return null;var t={homes:this.state.homes,dataSources:this.props.similars.dataSources,accessLevel:this.props.accessLevel,propertyId:this.props.propertyId,homeCardClickEvent:S.default.clicks.SOLD_HOMECARD,cardWidth:this.props.cardWidth,fuzzyPropertyData:this.props.fuzzyPropertyData,positionsMap:(this.props.similars||{}).similarsOriginalIndexMap,queryId:(0,_.getQueryId)(this.props.similars),showRemarksOnDPSimilars:this.props.showRemarksOnDPSimilars,scores:(0,_.getScores)(this.props.similars),listingId:this.props.listingId},n={isActive:!1,streetString:this.props.streetString,minPrice:"object"===(0,o.default)(this.props.similars.minPrice)?this.props.similars.minPrice.value:this.props.similars.minPrice,maxPrice:"object"===(0,o.default)(this.props.similars.maxPrice)?this.props.similars.maxPrice.value:this.props.similars.maxPrice,aveDolSF:this.props.similars.aveDolSF||this.props.similars.aveDolSf&&this.props.similars.aveDolSf.value},a={num_homecards_shown:this.state.homes.length,query_id:(0,_.getQueryId)(this.props.similars),positions:"[".concat(this._getPositionsForProperties(this.state.homes),"]"),related_property_ids:(0,_.getFormattedRelatedPropertyIds)(this.props.similars),related_listing_ids:(0,_.getFormattedRelatedListingIds)(this.props.similars),property_id:this.props.propertyId,listing_id:this.props.listingId,scores:"[".concat((0,_.getScores)(this.props.similars),"]")};return p.default.createElement("div",{className:"similar-homes",id:"lsis-solds",ref:function(t){return e.domNode=t}},p.default.createElement(E.default,n),p.default.createElement(y.default,(0,r.default)({},t,{isGISHomes:!1})),this.props.regionUrl&&p.default.createElement(h.default,{section:"similar_homes",target:"search_sold_cta",eventDetails:a},p.default.createElement(g.default,{className:"tertiary cta",href:this.props.regionUrl+"/filter/include=sold-3mo",onClick:this.clickSearchCTA.bind(this,a)},"View more recently sold homes")))}},{key:"_getPositionsForProperties",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.props.similars||{},n=t.similarsOriginalIndexMap;return e.map(function(e){return(n||{})[e.propertyId]})}},{key:"_getStreetString",value:function(e){return e||"this home"}}],[{key:"displayName",get:function(){return"redfin.homes.details.similars.react.SimilarSoldsPanel"}},{key:"propTypes",get:function(){return{streetString:f.default.string,cardWidth:f.default.number,numberOfCards:f.default.number,fuzzyPropertyData:f.default.object,similars:f.default.shape({homes:f.default.array,dataSourceMap:f.default.object,minPrice:f.default.oneOfType([f.default.number,f.default.object]),maxPrice:f.default.oneOfType([f.default.number,f.default.object]),aveDolSF:f.default.number,aveDolSf:f.default.object}),propertyId:f.default.number,listingId:f.default.number}}},{key:"defaultProps",get:function(){return{numberOfCards:6,similars:null,riftTargetId:"homes",fuzzyPropertyData:{}}}}]),n}(p.default.Component);e.exports=T},snvJ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var r=a(n("mXGw")),o=a(n("9YjL")),i=a(n("iDTg")),s=a(n("YqrK"));function l(e){return r.default.createElement("div",{className:"preferred-contact-methods"},r.default.createElement("div",{className:"preferred-contact-methods-text-container"},r.default.createElement("span",{className:"preferred-contact-method-question"},"What are the best ways to contact you?"),r.default.createElement("span",{className:"optional"}," (Optional)")),r.default.createElement(o.default,{label:"Email",labelAfter:!0,onChange:function(){return u("Email",e)}}),r.default.createElement(o.default,{label:"Call",labelAfter:!0,onChange:function(){return u("Call",e)}}),r.default.createElement(o.default,{label:"Text",labelAfter:!0,onChange:function(){return u("Text",e)}}))}function u(e,t){i.default.preferredContactMethodChange(e),s.default.trackClick(s.default.clicks["PARTNER_AAQ_PREFERRED_CONTACT_METHODS_".concat(e.toUpperCase())],{inquiry_source:t.inquirySource})}n("Okjl"),l.displayName="PreferredContactMethods",e.exports=t.default},sppR:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("94Bj"));a(n("LDFp")).default.ensure(n("2r6X"));var o=Object.freeze({showPendingMessage:function(e,t){return e||t},showExistingToursPicker:function(e){return e&&e.length>0},getPendingSectionTitle:function(e,t,n){return t?"Thanks for requesting a home tour with Redfin!":n?"Your tour is confirmed!":"Thanks for requesting ".concat(e?"an unrepresented showing":"a home tour"," with Redfin!")},shouldRequestExistingToursData:function(e){var t=e||{},n=t.isListingOnExistingTour,a=t.existingTours;return Boolean(!n&&a&&a.length>0)},getExistingToursForAddingHome:function(e,t){var n=e||{},a=n.existingTours;return n.isListingOnExistingTour?[]:this.shouldRequestExistingToursData(e)?t&&t.length?a.filter(function(e){return(t||[]).includes(e.tourId)}):[]:a},isPossiblyUnavailable:function(e){return this.isInPossiblyUnavailableVariant()&&this.isEligibleForPossiblyUnavailableExperiment(e)},isEligibleForPossiblyUnavailableExperiment:function(e){return(null==e?void 0:e.isListingUnderContract)||(null==e?void 0:e.isListingRecentlyMarkedSold)},isInPossiblyUnavailableVariant:function(){return"Variant"===r.default.getVariant(r.default.feature.LDP_SET_UNDER_CONTRACT_EXPECTATIONS)}});t.default=o,e.exports=t.default},"ss/Q":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.getYearBuilt=t.getTimeOnRedfin=t.getStyleAmenity=t.getSimplifiedKeyFactEntries=t.getPropertyType=t.getPriceSqFt=t.getOfferReviewDate=t.getMLSID=t.getLotSize=t.getListingPrice=t.getLastPropertyTax=t.getKeyFactEntries=t.getHomeStatus=t.getHoaDues=t.getEstimatedMontlyPymt=t.getContactButton=t.getCommunityAmenity=t.getBuyersBrokerageCommission=t.getBuildingInfo=t.getBathAmenity=t.getAVMValue=t.CATEGORIES=void 0;var r=a(n("pVnL")),o=a(n("94Bj")),i=a(n("+xFC")),s=a(n("Cjij")),l=a(n("eYhh")),u=n("EgAA"),c=a(n("aVrQ")),d=n("I5FW"),f=a(n("rYdI")),p=Object.freeze({PRICE_INSIGHTS:"Price Insights",HOME_FACTS:"Home Facts"});t.CATEGORIES=p;var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.latestPriceInfo,n=o.default.isOn(c.default)&&"VARIANT"===o.default.getVariant(c.default);if(n){var a=null;return a=void 0===e.homeStatusLabel?"List Price":!t||"Last List Price"!==t.label&&"Last Sold Price"!==t.label?"Sale Price":t.label,t&&t.amount&&s.default[t.displayLevel]?{header:a,content:i.default.formatPrice(t.amount),category:p.PRICE_INSIGHTS}:null}return t&&t.amount&&"Price"===t.label&&s.default[t.displayLevel]?{header:"List Price",content:i.default.formatPrice(t.amount),category:p.PRICE_INSIGHTS}:null};t.getListingPrice=m;t.getLastPropertyTax=function(e){var t=e&&e.allTaxInfo;if(!t||0===t.length)return null;var n=t[0]&&t[0].taxesDue;if(!n)return null;var a,r,o,s=t[0]&&t[0].rollYear,l=i.default.formatPrice(n),u=!0;t.length>1&&(a=t[1]&&t[1].taxesDue,o=t[1]&&t[1].rollYear,u=(r=a&&(n-a)/a)>0,r=Math.abs(r));var c=null;if(!a||r<.001&&r>-.001)l=i.default.formatPrice(n);else{var d=(u?"+":"")+(c=i.default.formatPercent(r));l=i.default.formatPrice(n)+" ("+d+")"}return{header:"Last Property Tax",content:l,category:p.PRICE_INSIGHTS,showLastPropertyFlyout:!0,currentYear:s,previousYear:o,percentChange:c,increase:u,amount:i.default.formatPrice(n)}};var h=function(e){var t=e.status;return t&&t.displayValue&&"VARIANT"!==o.default.getVariant(l.default)?{header:"Status",content:t.displayValue,category:p.HOME_FACTS,statusInfo:t}:null};t.getHomeStatus=h;var g=function(e,t){var n,a,r=e.timeOnRedfin;return r&&"VARIANT"!==o.default.getVariant(l.default)?{header:"Time on Redfin",content:(0,u.formatTimeOnRedfin)(r,"day","hour","minute"),category:p.HOME_FACTS,shouldShowTimeOnRedfinFlyout:!0,address:null==e?void 0:null===(n=e.streetAddress)||void 0===n?void 0:n.assembledAddress,mls:null===(a=b(t))||void 0===a?void 0:a.content}:null};t.getTimeOnRedfin=g;var _=function(e){var t=e["Offer Review Date"];return t?(0,r.default)({},t,{category:p.HOME_FACTS}):null};t.getOfferReviewDate=_;var v=function(e){var t=e.avmInfo;if(t&&t.predictedValue){var n=t.displayLevel;if(s.default[n])return{header:"Redfin Estimate",content:i.default.formatPrice(t.predictedValue),displayLevel:n,category:p.PRICE_INSIGHTS,showAVMFlyout:!0}}return null};t.getAVMValue=v;var y=function(e,t){var n=e["Property Type"],a=t&&t.propertyType;return n||a?{header:"Property Type",content:n?n.content:g_propertyTypes.idToObj[a].displayName,category:p.HOME_FACTS}:null};t.getPropertyType=y;var E=function(e){var t=e.lotSize;return t?{header:"Lot Size",content:i.default.formatLotSize(t),category:p.HOME_FACTS}:null};t.getLotSize=E;var S=function(e){var t=e.yearBuilt;return t?{header:"Year Built",content:t,category:p.HOME_FACTS}:null};t.getYearBuilt=S;var I=function(e){var t=e.pricePerSqFt;return t?{header:"Price/Sq.Ft.",content:i.default.formatPrice(t),category:p.PRICE_INSIGHTS}:null};t.getPriceSqFt=I;var T=function(e){var t=e["HOA Dues"],n=o.default.isOn(c.default)&&"VARIANT"===o.default.getVariant(c.default);return t?{header:"HOA Dues",content:t.content,category:n?p.PRICE_INSIGHTS:p.HOME_FACTS}:null};t.getHoaDues=T;var C=function(e){return e&&Object.keys(e).length>0&&e.content?{header:"Building",content:e.buildingName,url:e.buildingUrl,category:p.HOME_FACTS}:null};t.getBuildingInfo=C;var b=function(e){var t=e["MLS#"]||e["MLS®#"];return t&&"VARIANT"!==o.default.getVariant(l.default)?(0,r.default)({},t,{category:p.HOME_FACTS}):null};t.getMLSID=b;var k=function(e){var t=e.Baths;return t?(0,r.default)({},t,{category:p.HOME_FACTS}):null};t.getBathAmenity=k;var R=function(e){var t=e.Community;return t?(0,r.default)({},t,{category:p.HOME_FACTS}):null};t.getCommunityAmenity=R;var O=function(e){var t=e["Contact Owner"];return t?(0,r.default)({},t,{category:p.HOME_FACTS}):null};t.getContactButton=O;var N=function(e){var t=e["Buyer’s Agent Commission"];return t?(0,r.default)({},t,{category:p.PRICE_INSIGHTS,shouldShowInfoFlyout:!0}):null};t.getBuyersBrokerageCommission=N;var A=function(e){var t=e.Style;return t?(0,r.default)({},t,{category:p.HOME_FACTS}):null};t.getStyleAmenity=A;var P=function(e){var t=(e||{}).mortgageCalculatorInfo;if(!t)return null;var n=(t.mortgageRateInfo||{})[(0,d.getCurrentCountryCode)()===g_countryCode.CANADA?"twentyFiveYearAmortizationFiveYearTerm":"thirtyYearFixed"],a=f.default.calculateMonthlyPaymentsForListing({listingPrice:t.listingPrice,downPaymentPercentage:t.downPaymentPercentage,interestRate:n,propertyTaxRate:t.propertyTaxRate,hoaPerMonth:t.monthlyHoaDues,homeInsuranceRate:t.homeInsuranceRate,loanType:t.loanType}).totalMonthlyPayments,r=a?i.default.formatPrice(a):null;return r?{header:"Est. Mo. Payment",content:r,category:p.PRICE_INSIGHTS}:null};t.getEstimatedMontlyPymt=P;t.getKeyFactEntries=function(e,t,n,a,r){var o=(t.selectedAmenities||[]).reduce(function(e,t){return e[t.header]=t,e},{});return[m(e,r),P(a),v(e),I(e),N(o),h(e),g(e,o),_(o),y(o,e),k(o),T(o),S(e),C(n),A(o),R(o),E(e),b(o),O(o)].filter(Boolean)};t.getSimplifiedKeyFactEntries=function(e,t,n,a){var r=(t.selectedAmenities||[]).reduce(function(e,t){return e[t.header]=t,e},{});return{previewKeyFacts:[h(e),g(e,r),y(r,e),m(e,a),v(e),I(e),E(e),S(e),T(r),_(r)].filter(Boolean),modalKeyFacts:[b(r),N(r),R(r)].filter(Boolean)}}},sy14:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("FQpZ");var a=function(){return React.createElement("span",{className:"font-dot"},"•")};a.displayName="FontDot";var r=a;t.default=r,e.exports=t.default},t2EY:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var r=a(n("lSNA")),o=a(n("mXGw")),i=(a(n("17x9")),a(n("Ni50"))),s=n("WFin"),l=n("eQq5");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){(0,r.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e){var t=e.homeSalePrice,n=e.sellingFee,a=e.onChange,r=e.isOwnedHomeBrokerageEligible,u=e.disabled,d=void 0!==u&&u,f=s.SellingFeeOptions.map(function(e){return c(c({},e),{},{label:e.label+" "+(0,l.getFormattedSellingFee)(t,e.value)})});return r||(f=f.filter(function(e){return!1===e.brokerageRequired})),o.default.createElement("div",{className:"SellingFeeSelect"},o.default.createElement(i.default,{label:"Selling Fee",definitionProps:c({},l.formDefinitions.sellToBuyDisclaimer),value:n,options:f,onChange:a,disabled:d}))}d.propTypes={},d.displayName="SellingFeeSelect",e.exports=t.default},tCtR:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createSummaryParagraphContent=void 0;var o=a(n("qPyV")),i=a(n("mXGw")),s=n("cMqt"),l=n("osI4"),u=a(n("h1NK")),c=a(n("WqrT")),d=a(n("UT8e")),f=a(n("ws6r")),p=g(n("LKYz")),m=g(n("GDTY"));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}n("92zx");var _=s.logging.getLogger({name:"corvair.sites.customer-pages.pages.homeDetails.components.publicRecords.zoning.ZoningContent",color:{server:61,client:"rgb(42,42,127)"}}),v=function(){return i.default.createElement("div",{className:"NoZoningSummaryMessage"},"Zoning information is not available for this property at this time.")},y=function(e){f.default.trackClick(f.default.clicks.ZONING_DESCRIPTION_SHOW_MORE_LINK,{isExpanded:e})},E=function(e){return i.default.createElement(d.default,{section:f.default.impressions.ZONING_DESCRIPTION_SHOW_MORE_LINK.section,target:f.default.impressions.ZONING_DESCRIPTION_SHOW_MORE_LINK.target},i.default.createElement("span",null,e))},S=function(e){var t,n,a=e.zoningDataInfo,r={infoIcon:!0,position:"below",openLinkInNewTab:!0,definition:"\n    Zoning refers to local regulations that govern how a property can and cannot be used, including what kind \n    of development, home type, and other land uses.\n",definitionLink:"/definition/zoning",moreInfoText:m.DEFAULT_MORE_INFO_TEXT,onShowDefinitionFlyout:function(){f.default.trackClick(f.default.clicks.ZONING_SUMMARY_FLYOUT)}},o="phone"===(0,l.getCurrentDeviceType)(),s=null==a?void 0:a.zoneName,d=null==a?void 0:null===(t=a.zoneType)||void 0===t?void 0:t.display,p=null==a?void 0:a.zoneCode,h=s&&d&&p,g=!h&&o,_=(null==a?void 0:a.zoneCode)!==(null==a?void 0:a.zoneName);return i.default.createElement("div",{className:"zoning-summary-content-container ZoningSubSectionContainer"},!g&&i.default.createElement("div",{className:"h3 subSectionHeader"},i.default.createElement("span",null,"Zoning summary"),i.default.createElement(c.default,r)),h&&i.default.createElement("table",{"aria-label":"Zoning name, type, and code"},_&&i.default.createElement(m.default,{label:"Zone name",data:null==a?void 0:a.zoneName}),i.default.createElement(m.default,{label:"Zone type",data:null==a?void 0:null===(n=a.zoneType)||void 0===n?void 0:n.display}),i.default.createElement(m.default,{label:"Zone code",data:null==a?void 0:a.zoneCode})),!h&&i.default.createElement(v,null),(null==a?void 0:a.zoneDescription)&&i.default.createElement("div",{className:"zoneDescriptionSection"},i.default.createElement(u.default,{collapsedPreviewHeight:65,collapseText:E("Show less"),expandText:E("Show more"),shouldFadeOut:!1,shouldScrollToTopOnCollapse:!1,onClickCallback:y},a.zoneDescription)))},I=function(){return i.default.createElement("div",{className:"row additional-zoning-resources-link-container"},i.default.createElement("a",{target:"_blank",rel:"noreferrer nofollow",href:"/guides/zoning",className:"additional-zoning-resources-link",onClick:function(){f.default.trackClick(f.default.clicks.ZONING_RESOURCES_LEARN_MORE_LINK)}},"Learn more about zoning"))},T=function(){return i.default.createElement("div",{className:"learn-more-about-zoning-wrapped ZoningSubSectionContainer"},i.default.createElement(I,null))},C=function(e){var t=e.zoningDataInfo,n=null==t?void 0:t.localZoningCodeUrl,a=null==t?void 0:t.zoningFullReportUrl;if(!n&&!a)return null;return i.default.createElement("div",{className:"additional-zoning-resources-content-container ZoningSubSectionContainer"},i.default.createElement("div",{className:"h3 subSectionHeader"},"Additional zoning resources"),a&&i.default.createElement("div",{className:"row additional-zoning-resources-link-container"},i.default.createElement("a",{target:"_blank",rel:"noreferrer nofollow",href:t.zoningFullReportUrl,className:"additional-zoning-resources-link",onClick:function(){f.default.trackClick(f.default.clicks.ZONING_RESOURCES_GET_FULL_REPORT_LINK)}},"Get a full report from Zoneomics")),n&&i.default.createElement("div",{className:"row additional-zoning-resources-link-container"},i.default.createElement("a",{target:"_blank",rel:"noreferrer nofollow",href:t.localZoningCodeUrl,className:"additional-zoning-resources-link",onClick:function(){f.default.trackClick(f.default.clicks.ZONING_RESOURCES_VIEW_ZONING_CODE_LINK)}},"View local zoning code")),i.default.createElement(I,null))},b=function(e){var t=e.zoningDataInfo;return null!=t&&t.lastUpdatedDateString?i.default.createElement("div",{className:"ZoningSubSectionContainer font-size-small font-color-gray-light"},t.lastUpdatedDateString):null},k=function(e,t){var n,a,r;if(!t)return _.error('Street address for this property not defined in "createSummaryParagraphContent".'),null;if(null==e||null===(n=e.zoneType)||void 0===n||!n.display)return _.error('Zone Type for this property is not defined in "createSummaryParagraphContent".'),null;var i,s=null==e?void 0:null===(a=e.zoneType)||void 0===a?void 0:null===(r=a.display)||void 0===r?void 0:r.join(" "),l=function(e){if(null==e||!e.length)return"";var t=(0,o.default)(e),n=t.length;return t.reduce(function(e,t,a){return 0===a?t:a===n-1&&1===a?"".concat(e," and ").concat(t):a===n-1?"".concat(e,", and ").concat(t):"".concat(e,", ").concat(t)})}((i=null==e?void 0:e.permittedLandUse,(0,p.isValidArray)(i)?i.map(function(e){return e===m.ADU_LABEL?"accessory dwelling unit (ADU)":e}).filter(function(e){return!!e}):[])),u=l?" Permitted land uses for this property include ".concat(l):"";return"".concat(t," has ").concat(s," zoning.")+u};t.createSummaryParagraphContent=k;var R=function(e){var t=e.zoningDataInfo,n=e.streetAddress;return i.default.createElement("div",{className:"summary-paragraph-container font-size-small font-color-gray-light ZoningSubSectionContainer"},k(t,n))},O=function(){return i.default.createElement("div",{className:"disclaimer-paragraph-container font-size-small font-color-gray-light ZoningSubSectionContainer"},"Zoning and land use information is provided by Zoneomics for informational purposes only. Redfin does not endorse or guarantee this information, and recommends buyers conduct their own investigation.")},N=function(e){var t=e.zoningDataInfo,n=e.streetAddress,a=(0,p.isValidArray)(null==t?void 0:t.permittedLandUse)||(0,p.isValidArray)(null==t?void 0:t.notPermittedLandUse);return i.default.createElement(d.default,{section:f.default.impressions.ZONING_INFO.section,target:f.default.impressions.ZONING_INFO.target},i.default.createElement("div",{className:"ZoningContentContainer"},i.default.createElement(S,{zoningDataInfo:t}),a&&i.default.createElement(i.default.Fragment,null,i.default.createElement(p.default,{zoningDataInfo:t,className:"ZoningSubSectionContainer"}),i.default.createElement(C,{zoningDataInfo:t}),i.default.createElement(b,{zoningDataInfo:t}),i.default.createElement(R,{zoningDataInfo:t,streetAddress:n}),i.default.createElement(O,null)),!a&&i.default.createElement(T,null)))};t.default=N},tIvH:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("RIqP")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("luvc")),l=n("cMqt"),u=a(n("/AdQ")),c=l.RequestLocalStorage.getNamespace(),d=function(){function e(){(0,o.default)(this,e),c().aboveHeaderPlacement=this}return(0,i.default)(e,[{key:"addConfigValues",value:function(){return c().aboveHeaderDataStore&&c().aboveHeaderDataStore.destroy(),c().aboveHeaderDataStore=null,{}}},{key:"handleRoute",value:function(e){return this.getConfig("isFragment")||this.getConfig("isRawResponse")?e():e().tap(function(){f().loadPlacementInfo()})}},{key:"getElements",value:function(e){var t=e();return p()?[f().getWidgetRootElement()].concat((0,r.default)(t)):t}}],[{key:"setWidgetContextData",value:function(e){f().setDynamicConfig(e)}},{key:"setOnHideCallback",value:function(e){f().setOnHide(e)}}]),e}();function f(){return c().aboveHeaderDataStore?c().aboveHeaderDataStore:c().aboveHeaderDataStore=new u.default({isEligibleForAboveHeader:p()})}function p(){var e=c().aboveHeaderPlacement;return!(e.getConfig("disableCOP")||e.getConfig("isFragment")||e.getConfig("isRawResponse")||(0,s.default)("ios-web-view")||(0,s.default)("android-web-view"))}t.default=d,e.exports=t.default},tjZ1:function(e,t,n){},u2VA:function(e,t,n){},uAhr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StickyOMDPButtonTypeConstants=void 0;var a=Object.freeze({UNCLAIMED:"unclaimed",REDFIN_NOW:"redfinnow",OPENDOOR:"opendoor",PARTNER:"partner",BROKERAGE:"brokerage",HOME_VALUATION_ANALYSIS:"home_valuation_analysis"});t.StickyOMDPButtonTypeConstants=a},uKYP:function(e,t,n){},uKuZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLandscapeOrientation=t.getScreenWidth=t.getScreenHeight=void 0;var a={width:null,height:null},r=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||null===a.width){var t="undefined"!=typeof window?window.innerWidth:0;a.width=t}return a.width};t.getScreenWidth=r;var o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||null===a.height){var t="undefined"!=typeof window?window.innerHeight:0;a.height=t}return a.height};t.getScreenHeight=o;t.isLandscapeOrientation=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"undefined"!=typeof window&&o(e)<r(e)}},uUIE:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var r=a(n("RIqP")),o=n("cMqt"),i=a(n("mXGw")),s=(a(n("17x9")),a(n("jBFs"))),l=a(n("O/nS")),u=a(n("zKAV")),c=a(n("avYH")),d=a(n("t2EY")),f=a(n("B7XB")),p=a(n("EyRd")),m=a(n("ed/o"));n("nIy8");var h=o.logging.getLogger({owningTeam:"SELL_SIDE_CUSTOMER_GROWTH",name:"corvair.sites.customer-pages.pages.homeDetails.components.mortgageCalculator.homeEquityCalculator.HomeEquityFormSection",color:{server:83,client:"rgb(42,212,42)"}});function g(e){var t=e.address,n=e.claimedHomeInfo,a=e.homeSalePrice,r=e.outstandingMortgage,o=e.otherCosts,g=e.hasNoEstimateError,v=e.sellingFee,y=e.shouldShowSellingFee,E=void 0!==y&&y,S=e.isOwnedHomeBrokerageEligible,I=void 0!==S&&S,T=e.sellingFeeDisabled,C=void 0!==T&&T,b=!(!n||!n.propertyId);return i.default.createElement("div",{className:"HomeEquityFormSection"},i.default.createElement(s.default,{name:"home-equity-form-section-claimed-home-search-box",location:t,hasNoEstimateError:g,searchHandler:function(e){if(p.default.trackClick(p.default.clicks.HOME_SALE_PRICE_CALC_INLINE_SEARCH_SUBMITTED,{has_claimed_home:b}),e)if(e.id.split("_").length>1){var t=e.id.split("_")[1];m.default.updateAddress(t,e.name)}else h.error("Invalid property address unified search id: ".concat(e))},userInputCallback:function(e){e||m.default.clearAddress()},handleClearInputBox:m.default.clearAddress,onShowDefinitionFlyout:function(){p.default.trackClick(p.default.clicks.HOME_SALE_PRICE_CALC_INLINE_ADDRESS_INFO)}}),i.default.createElement(l.default,{homeSalePrice:a,onBlur:function(e,t){p.default.trackClick(p.default.clicks.HOME_SALE_PRICE_CALC_INLINE_HOME_SALE_PRICE,{has_claimed_home:b}),_(t,m.default.updateHomeSalePrice,m.default.clearHomeSalePrice)}}),i.default.createElement(u.default,{outstandingMortgage:r,onBlur:function(e,t){p.default.trackClick(p.default.clicks.HOME_SALE_PRICE_CALC_INLINE_OUTSTANDING_MORTGAGE,{has_claimed_home:b}),_(t,m.default.updateOutstandingMortgage,m.default.clearOutstandingMortgage)}}),E&&i.default.createElement(d.default,{homeSalePrice:a,sellingFee:v,isOwnedHomeBrokerageEligible:I,disabled:C,onChange:function(e,t){p.default.trackClick(p.default.clicks.HOME_SALE_PRICE_CALC_INLINE_SELLING_FEE,{has_claimed_home:b}),m.default.updateSellingFee(parseInt(t,10))}}),i.default.createElement(c.default,{otherCosts:o,onBlur:function(e,t){p.default.trackClick(p.default.clicks.HOME_SALE_PRICE_CALC_INLINE_OTHER_COSTS,{has_claimed_home:b}),m.default.updateOtherCosts(parseInt(t,10)||0)},onShowDefinitionFlyout:function(){p.default.trackClick(p.default.clicks.HOME_SALE_PRICE_CALC_INLINE_OTHER_COSTS_INFO)}}),i.default.createElement(f.default,{homeSalePrice:a,outstandingMortgage:r,otherCosts:o,sellingFee:v}))}function _(e,t,n){var a=function(e){var t=parseInt(e,10);if(isNaN(t))return null;return t}(e);return function(e,t,n,a){return e?t.apply(void 0,(0,r.default)(a)):n.apply(void 0,(0,r.default)(a))}(null!==a,t,function(){return n()},[a])}g.propTypes={},g.displayName="HomeEquityFormSection",e.exports=t.default},uZDf:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5"),o=a(n("lSNA")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("iWIM")),u=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=a(n("T5KL")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("znh5")),m=a(n("fR2d")),h=n("WtpH"),g=a(n("9lsf"));n("31kO"),n("8f57");var _=a(n("94Bj")),v=n("DW2W"),y=n("Irkk"),E=a(n("x4wC"));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach(function(t){(0,o.default)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}var b=function(e){(0,u.default)(a,e);var t=C(a);function a(){return(0,i.default)(this,a),t.apply(this,arguments)}return(0,s.default)(a,[{key:"getAboveTheRailComponentsCalculator",value:function(){return p}},{key:"setConfigValues",value:function(){var e=(0,l.default)((0,d.default)(a.prototype),"setConfigValues",this).call(this);return(0,h.addFeatureConfigForPage)(g.default),(0,v.addUserSurveyIdToLoad)(202736),(0,v.addUserSurveyIdToLoad)(204824),(0,v.addUserSurveyIdToLoad)(205007),(0,v.addUserSurveyIdToLoad)(213730),e}},{key:"getBundleName",value:function(){return"ADPDesktop"}},{key:"getDelayLoadedBundleName",value:function(){return"ADPDesktopDelayLoadedComponents"}},{key:"getHeaderComponentsOrderingCalculator",value:function(){return n("GCl5")}},{key:"getAlongTheRailComponentsOrderingCalculator",value:function(){return n("T2BR")}},{key:"getRailComponentsOrderingCalculator",value:function(){return n("Hl77")}},{key:"getBelowTheRailComponentsOrderingCalculator",value:function(){return n("L6tX")}},{key:"getComponentOrderingConfigs",value:function(){return T(T({},(0,l.default)((0,d.default)(a.prototype),"getComponentOrderingConfigs",this).call(this)),{},{shouldSeePaymentCalcSaleProceedsRevamp:(0,y.getShouldSeePaymentCalcSaleProceedsRevamp)(),isInFullScreenMapRevamp:!(!_.default.isOn(E.default)||"VARIANT"!==_.default.getVariant(E.default))})}},{key:"getPageStore",value:function(){return m.default}}]),a}(f.default);e.exports=b},ufn8:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("dLWT"));n("xZai");var o=function(e){var t=e.children,n=r.default.isBotIsomorphically()?"":"fadeOutContainer";return React.createElement("div",{className:n},t)};t.default=o,e.exports=t.default},usTY:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e.renderHaveWeMetDialog)return o.default.createElement(u.default,e);var t=(0,h.getRiftImpressionsKey)("AAQ_CONTACT_INFO_DIALOG",e);return c.default.trackImpressionWithDefaults(c.default.impressions[t],{phone_prefilled:!1}),o.default.createElement("div",{className:"aaq-two-input-stage"},o.default.createElement("div",{className:"aaq-two-input-stage-title"},e.inlineHeader),e.headlineError&&o.default.createElement(f.default,{title:"It looks like there is an error.",type:"error"},e.headlineError),o.default.createElement(i.default,{formName:e.formName,className:"aaq-two-input-stage-form"},o.default.createElement(s.default,(0,r.default)({className:"aaq-two-input-stage-text",type:"email",autofocus:!0},e.fields.email,{onFocus:function(){return(0,h.trackOnEmailFocus)(t,e)}})),e.showBDXExperience&&function(e){return o.default.createElement(s.default,(0,r.default)({className:"aaq-two-input-stage-text",type:"zip"},e.fields.zipCode,{onFocus:function(){return d.default.trackClick(d.default.clicks.ASK_BDX_POSTCODE_FIELD_CLICK)}}))}(e),function(e,t){return e.showBDXExperience?o.default.createElement(s.default,(0,r.default)({className:"aaq-two-input-stage-text",type:"tel",onFocus:function(){return d.default.trackClick(d.default.clicks.ASK_BDX_PHONE_FIELD_CLICK)}},e.fields.optionalPhoneNumber)):o.default.createElement(s.default,(0,r.default)({className:"aaq-two-input-stage-text",type:"tel",onFocus:function(){return(0,h.trackOnPhoneFocus)(t,e,null)}},e.fields.phoneNumber))}(e,t),(0,m.isPartnerPreferredContactMethodsEligible)(e.isPartnerAgent)&&o.default.createElement(p.default,e),o.default.createElement(l.default,{className:"aaq-two-input-stage-button",type:"primary",formSubmit:!0,onClick:function(){return(0,h.trackSubmitButtonClick)(t,e)},disabled:e.shouldDisableSubmit},e.bundledIncentiveVariant?"Submit":"Send Question"),o.default.createElement("div",{className:"aaq-two-input-stage-button-terms-of-service"},"You are creating a Redfin account and agree to our ",o.default.createElement("a",{href:"/about/terms-of-use",onClick:function(){return c.default.trackClickWithDefaults(c.default.clicks.AAQ_TERMS_LINK_CLICK,null,e.isOpendoor)},target:"_blank"},"Terms of Use")," and ",o.default.createElement("a",{href:"/about/privacy-policy",onClick:function(){return c.default.trackClickWithDefaults(c.default.clicks.AAQ_PRIVACY_POLICY_LINK_CLICK,null,e.isOpendoor)},target:"_blank"},"Privacy Policy")),e.isOpendoor&&o.default.createElement("div",{className:"aaq-two-input-stage-button-terms-of-service"},"Your message and contact details will be shared with Opendoor so that they can respond to your inquiry.")))};var r=a(n("pVnL")),o=a(n("mXGw")),i=a(n("t/kO")),s=a(n("Xecl")),l=a(n("ma35")),u=a(n("An05")),c=a(n("YqrK")),d=a(n("DT4l")),f=a(n("2Xwv")),p=a(n("snvJ")),m=n("haQS"),h=n("2tHw");n("zKrU"),e.exports=t.default},uxEU:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getScores=t.getScoreAtPosition=t.getQueryId=t.getFormattedRelatedPropertyIds=t.getFormattedRelatedListingIds=void 0;t.getScores=function(e){return e&&e.scores?e.scores:[]};t.getFormattedRelatedListingIds=function(e){return e&&e.homes?"[".concat(e.homes.map(function(e){return e.listingId}),"]"):"[]"};t.getFormattedRelatedPropertyIds=function(e){return e&&e.homes?"[".concat(e.homes.map(function(e){return e.propertyId}),"]"):"[]"};t.getQueryId=function(e){return e?e.queryId:null};t.getScoreAtPosition=function(e,t){return t&&e&&e.length>t-1?e[t-1]:null}},uzmD:function(e,t,n){},vAjO:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("YAhj")),d=a(n("WZ0X")),f=a(n("17x9")),p=n("G4xM"),m=n("osI4"),h=a(n("8Jek")),g=a(n("GWUO")),_=n("bKKb"),v=n("jDxM"),y=n("61sW"),E=a(n("94Bj")),S=n("bKKb"),I=a(n("1AMb")),T=a(n("ajZI")),C=n("CrDX"),b=a(n("1lFN")),k=n("huYw"),R=a(n("IrmM")),O=a(n("ElKm")),N=n("huYw");function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("mHrS");var P=function(e){(0,s.default)(n,e);var t=A(n);function n(e){var a;(0,r.default)(this,n);var o=(a=t.call(this,e)).determineCollapsibleSectionExpansionDetails(),s=o.enableCollapse,l=o.initiallyExpanded;a.isMobile="phone"===(0,m.getCurrentDeviceType)();var u=e.avmInfo&&e.avmInfo.isActivish&&!a.isMobile?k.HistoricalGraphDisplayState.COLLAPSE:k.HistoricalGraphDisplayState.DISPLAY,c=e.ownerEstimateSectionInfo&&e.ownerEstimateSectionInfo.sectionType===g_ownerEstimateSectionType.OWNER_ESTIMATE?k.CompsDisplayState.COLLAPSE:k.CompsDisplayState.DISPLAY;return a.state={shouldRenderMap:!s||l,compsDisplayState:c,historicalGraphDisplayState:u},a.onCollapsibleSectionClickPostUpdateCallback=a.onCollapsibleSectionClickPostUpdateCallback.bind((0,i.default)(a)),a.onShowCompsClick=a.onShowCompsClick.bind((0,i.default)(a)),a.onShowHistoryClick=a.onShowHistoryClick.bind((0,i.default)(a)),a.addTopRule=!(c===k.CompsDisplayState.COLLAPSE)||e.addTopRule,a.checkSurveyTriggers(e),a}return(0,o.default)(n,[{key:"checkSurveyTriggers",value:function(e){if(e.pageType===g_detailsPageType.OFF_MARKET&&E.default.isOn(y.UserSurveyBouncerFeatureMap[195037]))try{y.UserSurvey.showDesktopOnlyUserSurvey({surveyId:195037})}catch(e){}}},{key:"componentDidMount",value:function(){this.showLockedBanner()?g.default.trackImpression(g.default.impressions.REDFIN_ESTIMATE_SECTION,{is_censored:!0},d.default.findDOMNode(this)):g.default.trackImpression(g.default.impressions.REDFIN_ESTIMATE_SECTION,(0,_.generateStandardRedfinEstimateRiftParams)({redfinEstimateInfo:this.props.avmInfo,listingId:this.props.listingId}),d.default.findDOMNode(this)),O.default.trackImpression(O.default.impressions.EXPERIMENT_START)}},{key:"render",value:function(){if(!this.props.avmInfo)return null;var e=this.isMobileOffMarket(),t=this.determineCollapsibleSectionExpansionDetails(),n=t.enableCollapse,a=t.initiallyExpanded,r=this.props.avmInfo.sectionPreviewText;"phone"===(0,m.getCurrentDeviceType)()&&this.props.avmInfo&&(0,S.calculateAvmDisplayType)({redfinEstimateInfo:this.props.avmInfo})!==N.AvmDisplayType.AVM&&(r=(0,S.calculateCompsPriceInfo)(this.props.avmInfo.comparables,!0));var o=(0,h.default)({isMobileOmdp:e,removeSectionTopPadding:this.props.removeSectionTopPadding});return c.default.createElement(I.default,{name:"DPRedfinEstimateSection",className:o,id:"redfin-estimate-scroll",addTopRule:this.addTopRule},c.default.createElement(T.default,{enabled:n,initiallyExpanded:a,previewText:r,section:"avmInfo",sectionName:(0,v.calculateHeaderTextWithAccessLevel)({sectionTitle:"Redfin Estimate",streetAddress:this.props.avmInfo.streetAddress,isMobile:this.isMobile}),rfTestId:"avm-section-expandable-preview",onClickPostUpdateCallback:this.onCollapsibleSectionClickPostUpdateCallback,className:"DPRedfinEstimateSection"},this.showLockedBanner()?this.renderLockedBanner():this.renderRedfinEstimateSectionContent()))}},{key:"renderLockedBanner",value:function(){var e=this.props,t=e.avmInfo,n=void 0===t?{}:t,a=e.mainHouseInfo,r=void 0===a?{}:a;return c.default.createElement("div",{id:"redfin-estimate","data-rf-test-name":"redfinEstimateSection",className:"sectionContainer avmInfoPanel"},this.renderHeader({headerText:(0,v.calculateHeaderTextWithAccessLevel)({sectionTitle:"Redfin Estimate",streetAddress:n.streetAddress,isMobile:this.isMobile})}),c.default.createElement(b.default,{header:"Unlock Our Pricing Estimate",displayLevel:n.displayLevel,dataSourceId:(r.source||{}).dataSourceId,detailsText:"view the Redfin Estimate of what this home is worth",sectionName:"redfin_estimate"}))}},{key:"renderRedfinEstimateSectionContent",value:function(){var e=this,t=this.props,n=t.avmInfo,a=void 0===n?{}:n,r=t.ownerEstimateSectionInfo,o=t.addressSectionInfo,i=t.shouldCollapseHVAMerch,s=a.isActivish,l=a.displayLevel,u=(0,h.default)({sectionContainer:!0,avmInfoPanel:!0,avmAgentOnly:l===g_displayLevel.AGENT_ACCESSIBLE});return c.default.createElement("div",{id:"redfin-estimate","data-rf-test-name":"redfinEstimateSection",className:(0,h.default)(u)},c.default.createElement(R.default,{redfinEstimateInfo:a,propertyParcelInfo:this.props.propertyParcelInfo,homeInfo:this.calculateRedfinEstimateHomeInfo({addressSectionInfo:o}),compMapStore:this.props.avmMapStore,compSelectionStore:this.props.avmSelectionStore,deviceConfig:this.props.deviceConfig,hasClaim:this.props.personalizationInfo.hasClaim,claimHomeSource:this.calculateSubscribeSource(),epostcardSubscribeSource:this.calculateSubscribeSource(),onExpandCompsClicked:this.onShowCompsClick,onExpandHistoricalGraphClicked:this.onShowHistoryClick,historicalRedfinEstimateStore:this.props.historicalAvmStore,listingId:this.props.listingId,propertyId:this.props.propertyId,claimHomeCtaPosition:this.calculateClaimHomeCtaPosition(),compsDisplayState:this.state.compsDisplayState,historicalGraphDisplayState:this.calculateHistoricalGraphDisplayState(),compHomeCardsPosition:k.CompHomeCardsPosition.ABOVE_MAP,displayEditFactsCta:!s,displayOwnerEstimateCta:this.calculateShouldShowOwnerEstimateCta({isActivish:s,ownerEstimateSectionInfo:r}),shouldRenderMap:this.state.shouldRenderMap,contactBoxInfo:this.props.contactBoxInfo,redfinNowHomeMomentInfoStore:this.props.redfinNowHomeMomentInfoStore,opendoorPurchaseEstimateStore:this.props.opendoorPurchaseEstimateStore,shouldCollapseHVAMerch:i,isDP:!0,compHomeTags:this.props.compHomeTags}),c.default.createElement("div",{className:"redfinEstimateSectionPlaceHolder",ref:function(t){return e.redfinEstimateSectionContentPlaceHolderNode=t},style:{height:1}}))}},{key:"renderHeader",value:function(e){var t=e.headerText;return c.default.createElement("h2",{className:"heading-medium padding-bottom-medium inline-block propertyAddressHeader","aria-label":t},t)}},{key:"calculateRedfinEstimateHomeInfo",value:function(e){var t=e.addressSectionInfo,n=void 0===t?{}:t;return{propertyId:n.propertyId,latLong:n.latLong,searchStatus:n.searchStatus,propertyType:n.propertyType,listingType:n.listingType,isMappable:n.isMappable,city:n.city}}},{key:"calculateShouldShowOwnerEstimateCta",value:function(e){var t=e.isActivish,n=e.ownerEstimateSectionInfo;return!t&&(void 0===n?{}:n).sectionType===g_ownerEstimateSectionType.GHOST_TOWN}},{key:"calculateClaimHomeCtaPosition",value:function(){var e=this.props.avmInfo;return(void 0===e?{}:e).isActivish?k.ClaimHomeCtaPosition.BOTTOM:this.isMobile?k.ClaimHomeCtaPosition.NONE:k.ClaimHomeCtaPosition.HEADER}},{key:"calculateHistoricalGraphDisplayState",value:function(){var e=this.props.avmInfo;return(void 0===e?{}:e).historicalGraphEnabled?this.state.historicalGraphDisplayState:k.HistoricalGraphDisplayState.NONE}},{key:"showLockedBanner",value:function(){if(this.props.avmInfo){var e=g_displayLevel.idToObj[this.props.avmInfo.displayLevel];return!e.isVisible&&e.isReachable}return!1}},{key:"isMobileOffMarket",value:function(){return this.props.pageType===g_detailsPageType.OFF_MARKET&&this.props.deviceConfig===g_deviceConfiguration.PHONE}},{key:"isRecentlySold",value:function(){return this.props.pageType===g_detailsPageType.RECENTLY_SOLD}},{key:"onCollapsibleSectionClickPostUpdateCallback",value:function(e){!this.state.shouldRenderMap&&e&&this.setState({shouldRenderMap:!0})}},{key:"onShowHistoryClick",value:function(){g.default.trackClick(g.default.clicks.EXPAND_GRAPH),this.setState({historicalGraphDisplayState:k.HistoricalGraphDisplayState.DISPLAY})}},{key:"onShowCompsClick",value:function(){g.default.trackClick(g.default.clicks.SHOW_COMPARABLES_LINK),this.setState({compsDisplayState:k.CompsDisplayState.DISPLAY})}},{key:"determineCollapsibleSectionExpansionDetails",value:function(){var e=this.props,t=e.avmInfo,n=e.isCollapsible,a=e.queryParams;return{enableCollapse:n,initiallyExpanded:n&&(this.isRecentlySold()||this.isMobileOffMarket())&&!!t||(0,C.isAgentMobile)(a)}}},{key:"calculateSubscribeSource",value:function(){var e=(0,p.getConfigValueForKey)(p.DP_GLOBAL_CONFIG_KEYS.pageType);return e===g_detailsPageType.ACTIVE||e===g_detailsPageType.ACTIVE_PENDING?g_epostcardSubscribeSource.WEB_LDP_SUBSCRIBE_LINK:e===g_detailsPageType.RECENTLY_SOLD?g_epostcardSubscribeSource.WEB_RSDP_ESTIMATE_SECTION_BUTTON:e===g_detailsPageType.OFF_MARKET?g_epostcardSubscribeSource.WEB_OMDP_ESTIMATE_SECTION_BUTTON:g_epostcardSubscribeSource.UNKNOWN}}],[{key:"displayName",get:function(){return"redfin.home.details.react.RedfinEstimateSection"}},{key:"propTypes",get:function(){return{avmInfo:f.default.object,addressSectionInfo:f.default.object,propertyParcelInfo:f.default.object,avmMapStore:f.default.object,personalizationInfo:f.default.object,pageType:f.default.number,listingId:f.default.number,addTopRule:f.default.bool,ownerEstimateSectionInfo:f.default.object,historicalAvmStore:f.default.object,mainHouseInfo:f.default.object,contactBoxInfo:f.default.object,shouldCollapseHVAMerch:f.default.bool}}},{key:"defaultProps",get:function(){return{addTopRule:!0,ownerEstimateSectionInfo:void 0,historicalAvmStore:void 0,mainHouseInfo:void 0,contactBoxInfo:{},shouldCollapseHVAMerch:!1}}},{key:"getPageLayoutClassName",value:function(){return"dp-col-sm-12 dp-col-md-8"}}]),n}(c.default.Component);P.getComponentDependencies=function(){return{dependencies:["avmInfo","ownerEstimateSectionInfo","historicalAvmStore","addressSectionInfo","propertyParcelInfo","avmMapStore","avmSelectionStore","personalizationInfo","mainHouseInfo","pageType","contactBoxInfo","queryParams","compHomeTags"]}},e.exports=P},vBPG:function(e,t,n){"use strict";var a=n("RBnj");e.exports=(0,a.createActions)(["populateDpaData","clearDpaResponse","handleFormEntry","closeFormEntry","submitDpaForm","showDialog","hideDialog"])},vWGb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_NEARBY_BUILDINGS=t.EM_DASH=void 0,t.getAddressString=o,t.getBuildingCardInfo=function(e,t,n){var r="";null!=e&&(1!==e&&(r+="".concat(e," Total Units")),1===e&&(r+="".concat(e," Total Unit")));if(null!=t){var o="";r.length>0&&(o=" ".concat(a," ")),r+=t>0?o+"".concat(t," For Sale"):o+"No Units For Sale"}if(null!=n){var i="";r.length>0&&(i=" ".concat(a," ")),r+=1!==n?i+"".concat(n," Stories"):i+"".concat(n," Story")}return r},t.getBuildingMobilePreviewText=function(e,t){var n="";null!=t&&(n+=t>1?"".concat(t," units for sale"):1===t?"".concat(t," unit for sale"):"No units for sale");if(null!=e){var a="";n.length>0&&(a=", "),1!==e&&(n+=a+"".concat(e," total units")),1===e&&(n+=a+"".concat(e," total unit"))}return n},t.getBuildingType=function(e){return 1===e?"low-rise":2===e?"high-rise":3===e?"skyscraper":4===e?"open-air building":5===e?"multistory building":6===e?"palace":"building"},t.getFullAddressString=function(e){var t=o(e),n="".concat(t,", ").concat(e.city,", ").concat(e.stateOrProvinceCode,", ").concat(e.postalCode);return i(n=n.replace("null,",""))},t.getNumPhotos=function(e){return null!=e&&null!=e.photos?e.photos.length:0},t.getNumUnits=function(e){return null===e?0:e.length},t.getNumUnitsForSale=function(e){if(null===e)return 0;for(var t=0,n=0;n<e.length;n++)e[n].isForSale&&(t+=1);return t},t.getNumUnitsText=function(e){if(e<=0)return"No units for sale";if(1===e)return"1 unit for sale";return e+" units for sale"},t.renderElementOrDash=function(e){return null==e||e.length<=0?r:e};var a="·",r="—";t.EM_DASH=r;function o(e){return i("".concat(e.streetNumber," ").concat(e.directionalPrefix," ").concat(e.streetName," ").concat(e.streetType," ").concat(e.directionalSuffix))}function i(e){return(e=(e=e.replace("null","")).replace(/\s*$/,"")).replace(/\s{2,}/g," ")}t.MAX_NEARBY_BUILDINGS=4},vr1Q:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("LDFp")),f=a(n("17x9")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),m=a(n("h/Yt")),h=a(n("z3/0")),g=a(n("1RMg")),_=a(n("o1xs")),v=a(n("Irq/"));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}d.default.ensure(n("C2Np")),n("oF74");var S=function(e){(0,l.default)(n,e);var t=E(n);function n(e){var a;return(0,i.default)(this,n),(a=t.call(this,e)).state={markedHelpfulness:!1},a}return(0,s.default)(n,[{key:"_getAlsoNoted",value:function(){if(this.props.isVisibleToCustomers)return null;if(this.props.agentFeedbackIds&&this.props.agentFeedbackIds.length>0){var e="Also noted: ";return this.props.agentFeedbackIds.forEach(function(t){e+=g_agentFeedback.idToObj[t].displayName+", "}),e=e.substring(0,e.length-2),p.default.createElement("div",{className:"also-noted-text"},e)}}},{key:"_trackHelpfulnessYes",value:function(e){this._trackHelpfulness(v.default.clicks.YES_HELPFUL,e)}},{key:"_trackHelpfulnessNo",value:function(e){this._trackHelpfulness(v.default.clicks.NO_HELPFUL,e)}},{key:"_trackHelpfulness",value:function(e,t){t.preventDefault(),v.default.trackClick(e,{insight_id:this.props.noteId}),this.setState({markedHelpfulness:!0})}},{key:"_displayHelpfulMessage",value:function(e){return g.default.isOn(d.default.TOUR_INSIGHTS_HELPFUL_LINK)&&!this.props.isManagePage?e?p.default.createElement("div",{className:"helpful"},p.default.createElement(h.default,{className:"icon"}),p.default.createElement("span",null,"Thanks for your feedback!")):p.default.createElement("div",{className:"helpful"},p.default.createElement("span",null,"Was this helpful?"),p.default.createElement("span",{onClick:this._trackHelpfulnessYes.bind(this)},"Yes")," - ",p.default.createElement("span",{onClick:this._trackHelpfulnessNo.bind(this)},"No")):null}},{key:"render",value:function(){var e=m.default.elapsed(this.props.lastModified);e&&(e=e.toLowerCase());var t=this.props.isVisibleToCustomers?"note-container":"note-container agent-only";return p.default.createElement("div",{className:t},p.default.createElement("div",{className:"quote-bubble"},p.default.createElement("div",{className:"note"},this.props.note),this._displayHelpfulMessage(this.state.markedHelpfulness)),p.default.createElement("div",{className:"quote-corner"}),this._getAlsoNoted(),p.default.createElement(_.default,(0,o.default)({teamName:this.props.teamName,date:e,agentRoleName:this.props.agentRoleName,showDisclaimer:this.props.showDisclaimer},this.props.agentInfo)))}}],[{key:"propTypes",get:function(){return{isVisibleToCustomers:f.default.bool,noteId:f.default.number,agentFeedbackIds:f.default.array,lastModified:f.default.number,agentInfo:f.default.object,teamName:f.default.string,agentRoleName:f.default.string,note:f.default.string.isRequired,editable:f.default.bool,showDisclaimer:f.default.bool,isManagePage:f.default.bool}}},{key:"defaultProps",get:function(){return{isManagePage:!1}}}]),n}(p.Component);t.default=S,e.exports=t.default},vuHC:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("nCZv")).default;t.default=r,e.exports=t.default},"w/KZ":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("TlVh"),o=a(n("5BUB")),i=a(n("8wdY")),s=a(n("nbo3")),l=a(n("mXGw")),u=a(n("b2XU")),c=n("r1QH"),d=n("RxnA"),f=n("Q+Iq"),p=a(n("94Bj")),m=a(n("LDFp")),h=a(n("a/3M")),g=a(n("3sJa"));m.default.ensure(n("/fuz"));var _=(0,r.createStoreFactory)({mixins:[o.default],formName:"InlineAAQForm",fields:{questionText:{rules:[{test:(0,c.required)()}]}},init:function(e){var t=e.contactBoxInfo,n=e.isMobile,a=e.listingId,r=e.mainHouseInfo,o=e.onSubmitCallback,s=e.propertyId,l=e.bundledIncentiveVariant;if(t){var c=t.agentRequestAgent||t.recommendedAgent;if(c){var p=g_agentType.CONNECT===c.getAgentType(),m=t.refundMessagingData||t.experienceData&&(0,f.doObjectGraph)()(t.experienceData.refundMessagingData),h=(0,d.agentIsAssignedOrPending)(t),g=!h&&r.isBDXEligible,_=g?r.brokerName:null,v=h?c&&c._phone:m?m.phoneNumber:null,y=h,E=t.contactServiceType,S=t&&t.customerAgentStatus===g_customerAgentStatus.AGENT_ASSIGNED;this.setState({agent:c,isAgentAssignedOrPending:h,phoneNumber:v,formName:"".concat(this.formName,".").concat(i.default.randomShortString()),responseTimeMinutes:t.agentAvgResponseMinutes||c&&c.get("agentAverageResponseMinutes"),brokerageName:c.getBrokerageName(),isPartnerAgent:p,isMobile:n,isInlineForm:!0,agentPicture:(0,d.generateAgentPictureUrl)(p,c),inlineHeader:this.generateInlineHeader(n,p,c,g,_,E),shouldHideResponseTime:y,listingId:a,propertyId:s,mlsId:r.mlsId,listingAddress:r.propertyAddress,detailsPageContext:t.detailsPageContext,showBDXExperience:g,shouldDisableSubmit:!1,contactServiceType:E,isPartnerAssigned:S,bundledIncentiveVariant:l}),this.state.fields.questionText.value=this.generateValue(r.streetAddress,E,p,l),this.state.fields.questionText.placeholder="Write a message...",this.listenTo(u.default.submit,this.onSubmit),this.listenTo(u.default.fieldChange,this.onFieldChange),this.onSubmitCallback=o}}},isPartnerSuggestedMessagesEligible:function(e,t){return e&&t===g.default.id},generateValue:function(e,t,n,a){var r=e||"this home";if(a)return"I'd like to learn more about ".concat(r," and how I can save with Redfin and Bay Equity.");var o=t===h.default.id?" selling":"";return this.isPartnerSuggestedMessagesEligible(n,t)?"":"I'd like to know more about".concat(o," ").concat(r,".")},generateInlineHeader:function(e,t,n,a,r,o){if(p.default.isOn(p.default.feature.PARTNER_DETER_BOGUS_AAQ)&&t){if("BuyersAgent"===p.default.getVariant(p.default.feature.PARTNER_DETER_BOGUS_AAQ))return l.default.createElement("div",{className:"buyer-agent-div",onMouseEnter:function(){return s.default.trackImpression("partner_ask_a_question_inline","buyers_agent_name")},"aria-hidden":"true"},"Ask a Buyer's Agent a Question");if("Agent"===p.default.getVariant(p.default.feature.PARTNER_DETER_BOGUS_AAQ))return"Ask an Agent a Question";if("LocalAgent"===p.default.getVariant(p.default.feature.PARTNER_DETER_BOGUS_AAQ))return"Ask a Local Agent a Question"}if(e)return"Ask a Question";if(a){var i="Questions? Ask the builder";return r&&(i+=", ".concat(r)),i}return o===h.default.id?"Thinking About Selling?":"Ask Redfin ".concat(t?"Partner Agent":"Agent"," ").concat(n.get("firstName")," a Question")},onSubmit:function(e){e.formName===this.state.formName&&this.validateAll()&&this.onSubmitCallback&&this.onSubmitCallback(this.state.fields.questionText.value)},onFieldChange:function(e){var t=e.name,n=e.value;e.formName===this.state.formName&&(this.setState({shouldDisableSubmit:!1}),this.state.fields[t].feedback=null,this.state.fields.questionText.value=n)}});t.default=_,e.exports=t.default},"w/Pk":function(e,t,n){},w3Rd:function(e,t,n){},wYmU:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.HOME_EQUITY_RIFT_SECTIONS=void 0;var r=a(n("pVnL")),o=a(n("t6Jl")),i={HOME_SALE_PRICE_CALC_INLINE:"home_sale_price_calc_inline",CALCULATOR_COMPARISON_PAGE:"calculator_comparison_page"};t.HOME_EQUITY_RIFT_SECTIONS=i;var s=(0,r.default)(new o.default,{name:"HomeEquityCalculatorRiftTracker",trackAllEventsInGA:!1,clicks:{CALC_COMPARISON_BUY_SELL_OPTION_CARD:{section:i.CALCULATOR_COMPARISON_PAGE,target:"buy_sell_option_card"},CALC_COMPARISON_FEE_DISCLAIMER:{section:i.CALCULATOR_COMPARISON_PAGE,target:"fees_disclaimer"},CALC_COMPARISON_SEE_HOW_WE_CALCULATED:{section:i.CALCULATOR_COMPARISON_PAGE,target:"see_how_we_calculated_this"},CALC_COMPARISON_REDFIN_REFUND_DISCLAIMER:{section:i.CALCULATOR_COMPARISON_PAGE,target:"redfin_refund_disclaimer"},CALC_COMPARISON_LISTING_FEE_DISCLAIMER:{section:i.CALCULATOR_COMPARISON_PAGE,target:"listing_fee_disclaimer"}},trackBackClick:function(e){this.trackClick({section:e,target:"back"})},trackNextClick:function(e){this.trackClick({section:e,target:"next"})},trackSaveClick:function(e){this.trackClick({section:e,target:"save_button"})}});t.default=s},wdjJ:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("TlVh"),o=a(n("94Bj")),i=n("Q+Iq"),s=a(n("kixt")),l=(a(n("vHyk")),a(n("Omg/")),a(n("ZtRl")),a(n("nYv3")),a(n("vNBg")),a(n("/tet")),a(n("cksC"))),u=a(n("4rUc")),c=(0,r.createStoreFactory)({init:function(e,t){this.listenTo(u.default.populateLoadTestData,this.populateLoadTestData),this.addressSectionInfo=e,this.propertyId=t,this.setState({loadTestData:null})},getLoadTestData:function(e){var t=e.addressSectionInfo,n=e.propertyId;if(o.default.isOn(s.default)){var a,r,u=t&&t.countryCode;t&&t.propertyType;if(u!==l.default.id)return null;var c=t&&t.streetAddress&&t.streetAddress.assembledAddress,d=t&&t.zip,f=d.length>5?d.substring(0,5):d,p=null==t?void 0:t.city,m=null==t?void 0:t.state,h=null==t?void 0:null===(a=t.latLong)||void 0===a?void 0:a.latitude,g=null==t?void 0:null===(r=t.latLong)||void 0===r?void 0:r.longitude;if(h&&g&&c&&d&&c.length>0&&f.length>0){var _=c.split(" ").join("_");return(0,i.getEndpoint)("/stingray/api/home/details/getLoadTest",{propertyId:n,address:_,zip:f,city:p,state:m,latitude:h,longitude:g}).then(function(e){return e})}}return Promise.resolve(null)},populateLoadTestData:function(){this.loadTestDataPromise=this.getLoadTestData(this),this.setState({loadTestData:this.loadTestDataPromise})}});t.default=c,e.exports=t.default},ws6r:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("t3IY")),i=(0,r.default)(new o.default,{name:"ZoningRiftTracker",trackAllEventsInGA:!0,impressions:{ZONING_INFO_AVAILABLE:{section:"public_facts_zoning",target:"zoning_info_available",expectedParams:["zoning_info_available"]},PUBLIC_FACTS_ZONING:{section:"public_facts_zoning",target:""},PUBLIC_FACTS_INFO:{section:"public_facts_zoning",target:"public_facts_info"},ZONING_INFO:{section:"public_facts_zoning",target:"zoning_info"},ZONING_DESCRIPTION_SHOW_MORE_LINK:{section:"public_facts_zoning",target:"zoning_description_show_more_link"},ZONING_LAND_USE_VIEW_ALL:{section:"public_facts_zoning",target:"zoning_land_use_view_all"},ZONING_LAND_USE_MODAL_PERMITTED_SHOW_MORE_LINK:{section:"public_facts_zoning",target:"zoning_land_use_modal_permitted_show_more_link"},ZONING_LAND_USE_MODAL_ACCESSORY_SHOW_MORE_LINK:{section:"public_facts_zoning",target:"zoning_land_use_modal_accessory_show_more_link"},ZONING_LAND_USE_MODAL_CONDITIONAL_SHOW_MORE_LINK:{section:"public_facts_zoning",target:"zoning_land_use_modal_conditional_show_more_link"}},clicks:{MORE_LINK:{section:"public_facts_zoning",target:"more_link",expectedParams:["isExperimentVariant"]},PUBLIC_FACTS_EDIT_FACTS_BUTTON:{section:"public_facts_zoning",target:"public_facts_edit_facts_button",expectedParams:["property_id","listing_id","higher_desc_cohort"]},ZONING_TAB:{section:"public_facts_zoning",target:"zoning_tab"},PUBLIC_FACTS_TAB:{section:"public_facts_zoning",target:"public_facts_tab"},ZONING_SUMMARY_FLYOUT:{section:"public_facts_zoning",target:"zoning_summary_flyout"},ZONING_DESCRIPTION_SHOW_MORE_LINK:{section:"public_facts_zoning",target:"zoning_description_show_more_link",expectedParams:["isExpanded"]},ZONING_LAND_USE_VIEW_ALL:{section:"public_facts_zoning",target:"zoning_land_use_view_all"},ZONING_RESOURCES_VIEW_ZONING_CODE_LINK:{section:"public_facts_zoning",target:"zoning_resources_view_zoning_code_link"},ZONING_RESOURCES_GET_FULL_REPORT_LINK:{section:"public_facts_zoning",target:"zoning_resources_get_full_report_link"},ZONING_RESOURCES_LEARN_MORE_LINK:{section:"public_facts_zoning",target:"zoning_resources_learn_more_link"},ZONING_LAND_USE_MODAL_PERMITTED_SHOW_MORE_LINK:{section:"public_facts_zoning",target:"zoning_land_use_modal_permitted_show_more_link",expectedParams:["isExpanded"]},ZONING_LAND_USE_MODAL_ACCESSORY_SHOW_MORE_LINK:{section:"public_facts_zoning",target:"zoning_land_use_modal_accessory_show_more_link",expectedParams:["isExpanded"]},ZONING_LAND_USE_MODAL_CONDITIONAL_SHOW_MORE_LINK:{section:"public_facts_zoning",target:"zoning_land_use_modal_conditional_show_more_link",expectedParams:["isExpanded"]},ZONING_LAND_USE_ADU_FLYOUT:{section:"public_facts_zoning",target:"zoning_land_use_adu_flyout"},ZONING_LAND_USE_MODAL_PERMITTED_FLYOUT:{section:"public_facts_zoning",target:"zoning_land_use_modal_permitted_flyout"},ZONING_LAND_USE_MODAL_ACCESSORY_FLYOUT:{section:"public_facts_zoning",target:"zoning_land_use_modal_accessory_flyout"},ZONING_LAND_USE_MODAL_CONDITIONAL_FLYOUT:{section:"public_facts_zoning",target:"zoning_land_use_modal_conditional_flyout"}}});t.default=i,e.exports=t.default},x3oz:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),d=a(n("lcmt")),f=a(n("17x9")),p=a(n("8Jek")),m=a(n("lQoP")),h=a(n("q6eW"));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("2i47");var v=function(e){(0,s.default)(n,e);var t=_(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).state={},a}return(0,i.default)(n,[{key:"render",value:function(){var e=new Date(this.props.date),t=d.default.format(this.props.date,"US/Pacific","D"),n=d.default.formatMonthShort(e,"US/Pacific"),a=d.default.formatDayOfWeekLong(e,"US/Pacific"),r=(0,p.default)("ldpGrayDayOptionContainer","bg-color-white",{selected:this.props.selected});return c.default.createElement("button",{onClick:this.onClick.bind(this),className:r,role:"radio","aria-checked":this.props.selected},c.default.createElement("div",{ref:"dayOfTheWeekNode",className:"dayOfTheWeek"},a),c.default.createElement("div",{ref:"dayOfTheMonthNode",className:"dayOfTheMonth"},t),c.default.createElement("div",{ref:"monthNode",className:"month"},n))}},{key:"onClick",value:function(){this.props.selected||this.select()}},{key:"select",value:function(){this._trackClick("date"),this.props.didSelectDay(this.props.index)}},{key:"_trackClick",value:function(e){var t={};t[m.default.TRACKGA]=!0,t.platform=h.default.getRiftPlatformParam();var n=this.props.requestingPartnerAgent?"partner_tour_picker":"tour_picker";m.default.trackClick(n,e,t)}}],[{key:"propTypes",get:function(){return{index:f.default.number.isRequired,date:f.default.number.isRequired,selected:f.default.bool,available:f.default.bool,didSelectDay:f.default.func,requestingPartnerAgent:f.default.bool}}},{key:"defaultProps",get:function(){return{available:!0,selected:!1,hover:!1,requestingPartnerAgent:!1}}},{key:"displayName",get:function(){return"redfin.tours.react.DatePickerDay"}}]),n}(c.Component);t.default=v,e.exports=t.default},x9nn:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.focusedTextFields,n=e.formName,a=e.existingMessages,r=void 0===a?[]:a,o=e.messageInFlight,i=e.fields.newMessage,s=e.agentsOnline,l=e.contactInfoStore,u=e.typingMemberIds,c=e.typingMembers,f=e.contactingTeam,p=e.suggestedMessages,m=e.hideSuggestedMessagesMobile,S=e.preChatMessage,I=e.isExistingChat,T=t&&(0,v.needMobileSafariKeyboardHandling)(),C=r.find(function(e){return!0===e.isOutbound}),k=!s&&!C,O=(0,h.default)("conversation",{collapsedConversationHeight:T}),N=(0,h.default)("conversationHistory",{fullConversationHistoryHeight:k});return d.default.createElement("div",{className:O},d.default.createElement("div",{className:N,id:v.CONVERSATION_ELEMENT_ID,onScroll:y.scrollConversation},function(e){return e?d.default.createElement(d.default.Fragment,null,d.default.createElement("div",{className:"conversationLineup"},d.default.createElement("div",{className:"staticAgentsLineupDisplay bg-color-white"},d.default.createElement("div",{className:"staticAgentsPictureLineup"},d.default.createElement("img",{src:g_imageServerUrl+"/images/agents/liveChat/support-agents-lineup.png"})))),d.default.createElement("div",{className:"conversationTitles"},d.default.createElement("div",{className:"title"},d.default.createElement("div",null,"Get guidance from our"),d.default.createElement("div",null,"licensed real estate professionals")),d.default.createElement("div",{className:"subtitle"},"We typically reply within 45 seconds"))):null}(s),!I&&function(e,t){if(!e)return void(0,y.showOfflineContactFormIfNotShown)();return d.default.createElement(_.ChatMessage,{body:t,fromCurrentUser:!1,isInitialMessage:!0})}(s,S),function(e,t,n){return d.default.createElement("div",{className:"existingMessages"},e.map(function(e,a,r){if(e.isSpecialMessage)return function(e,t,n){if(e.messageType===E.SPECIAL_MESSAGE_TYPES.CONTACT_FORM)return d.default.createElement("div",{className:"offlineSection"},g.default.createRootElement(n,d.default.createElement(_.OfflineMessage,{agentsOnline:t})));if(e.messageType===E.SPECIAL_MESSAGE_TYPES.AGENTS_OFFLINE_CONTACT_FORM)return d.default.createElement("div",{className:"offlineSection"},g.default.createRootElement(n,d.default.createElement(_.OfflineMessage,{agentsOnline:t,showExpandedFormWithOfflineMessaging:!0})));if(e.messageType===E.SPECIAL_MESSAGE_TYPES.AGENTS_OFFLINE_PROMPT_MESSAGE)return d.default.createElement(_.OfflinePromptMessage,{agentsOnline:t,showExpandedFormWithOfflineMessaging:!0});if(e.messageType===E.SPECIAL_MESSAGE_TYPES.CONTACT_INFO_CONFIRMATION_MESSAGE)return d.default.createElement(_.OfflineContactInfoConfirmationMessage,{submittedContactInfo:n.state.submittedContactInfo});if(e.messageType===E.SPECIAL_MESSAGE_TYPES.LIVE_CHAT_END_RESTART_MESSAGE)return d.default.createElement(_.EndRestartChatMessage,{key:e.messageId||e.tempId,message:e})}(e,t,n);var o=r[a+1],i=r[a-1];return d.default.createElement(_.ChatMessage,{key:e.messageId||e.tempId,body:e.body,fromCurrentUser:e.isOutbound,isPrevMessageFromSameAuthor:b(e,i),isNextMessageFromSameAuthor:b(e,o),authorId:e.authorId,authorMember:e.authorMember,sentDate:e.sentDate,messageURLs:e.listOfURLs,messageEmailIDs:e.listOfEmails,messagePhoneNumbers:e.listOfPhoneNumbers})}))}(r,s,l),d.default.createElement(_.TypingIndicator,{typingMemberIds:u,typingMembers:c}),d.default.createElement(_.ContactingTeamIndicator,{contactingTeam:f})),!k&&d.default.createElement(R,{formName:n,newMessage:i,messageInFlight:o,agentsOnline:s,firstMessage:0===r.length,suggestedMessages:p,hideSuggestedMessagesMobile:m}))};var o=a(n("pVnL")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=T(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),f=a(n("4Ot/")),p=a(n("vH3W")),m=a(n("RIHJ")),h=a(n("8Jek")),g=a(n("TRKi")),_=n("I9sY"),v=n("GoxZ"),y=n("4KIY"),E=n("Ezxt"),S=a(n("ma35")),I=a(n("6YqF"));function T(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(T=function(e){return e?n:t})(e)}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}function b(e,t){return e&&t&&t.messageType!==E.SPECIAL_MESSAGE_TYPES.LIVE_CHAT_END_RESTART_MESSAGE&&(e.authorId&&t.authorId&&e.authorId===t.authorId||e.isOutbound&&t.isOutbound)}function k(e){var t=e.newMessage,n=e.messageInFlight,a=e.inputRef;if(!t.value)return d.default.createElement("noscript",null);return d.default.createElement(S.default,{className:"sendMessageButton",formSubmit:!0,onClick:function(){a.current&&a.current.focus()},disabled:n},"Send")}n("uKYP");var R=function(e){(0,l.default)(n,e);var t=C(n);function n(e){var a;return(0,i.default)(this,n),(a=t.call(this,e)).textInput=(0,d.createRef)(),a}return(0,s.default)(n,[{key:"render",value:function(){var e=this.props,t=e.formName,n=e.newMessage,a=e.messageInFlight,r=e.agentsOnline,i=e.firstMessage,s=e.suggestedMessages,l=e.hideSuggestedMessagesMobile,u=r?"Type a message...":"Send a message...";return d.default.createElement(f.default,{className:"messageComposeBox bg-color-white"+(r?" suggestedMessages":""),formName:t},d.default.createElement(p.default,(0,o.default)({ref:this.textInput,className:"messageComposeField"},n,{placeholder:u,ariaLabel:u,onKeyDown:function(e){13!==e.which||e.shiftKey||e.ctrlKey||e.altKey||e.metaKey||(m.default.submit({formName:t}),e.preventDefault())},onBlur:y.textFieldBlur,onFocus:function(){I.default.trackClickWithDefaults(I.default.clicks.MESSAGE_FIELD),(0,y.textFieldFocus)(v.textFields.MESSAGE_COMPOSE)}})),d.default.createElement(k,{newMessage:n,messageInFlight:a,inputRef:this.textInput}),r&&i&&!l&&!!s&&!!s.length&&function(e,t,n){var a=e.map(function(e){var a=e.content,r=e.type;return d.default.createElement(S.default,{key:r,className:"suggestedMessageButton",onClick:function(){(0,y.suggestedMessageClick)(r,t),n.current&&n.current.focus()}},a)});return d.default.createElement("div",{className:"suggestedMessagesButtons"}," ",a," ")}(s,t,this.textInput))}},{key:"componentDidUpdate",value:function(){this.textInput.current&&this.textInput.current._resize&&!this.props.newMessage.value&&this.textInput.current._resize()}}]),n}(d.Component);e.exports=t.default},xBZ3:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("pVnL")),i=a(n("lwsE")),s=a(n("W8MJ")),l=a(n("PJYZ")),u=a(n("7W2i")),c=a(n("a1gu")),d=a(n("Nsbk")),f=a(n("LDFp")),p=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=P(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),m=a(n("TRKi")),h=a(n("1AMb")),g=a(n("17x9")),_=a(n("NFCW")),v=a(n("XucT")),y=a(n("ajZI")),E=a(n("7ia7")),S=a(n("CyAg")),I=a(n("SdOs")),T=a(n("/30G")),C=a(n("YqrK")),b=a(n("DT4l")),k=a(n("WZ0X")),R=n("R8lb"),O=a(n("8Llx")),N=a(n("8wdY")),A=n("CrDX");function P(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(P=function(e){return e?n:t})(e)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,d.default)(e);if(t){var r=(0,d.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.default)(this,n)}}f.default.ensure(n("51Vz"),n("O6Q4"),n("rjMM")),n("daot");var w=function(e){(0,u.default)(n,e);var t=D(n);function n(e){var a;return(0,i.default)(this,n),(a=t.call(this,e)).state={formStore:null},a.closeAAQDialog=a.closeAAQDialog.bind((0,l.default)(a)),a.onUpdatedInlineAAQSubmitCallback=a.onUpdatedInlineAAQSubmitCallback.bind((0,l.default)(a)),a.Helper=(0,E.default)(e),a}return(0,s.default)(n,[{key:"componentDidMount",value:function(){this.tryToSetUpFormStore(),this.handleRiftImpression()}},{key:"componentDidUpdate",value:function(){this.handleRiftImpression()}},{key:"handleRiftImpression",value:function(){var e=k.default.findDOMNode(this);if(this.Helper.shouldRenderReactWidget()&&e&&(this.Helper.showBDXExperience()&&b.default.trackImpression(b.default.impressions.ASK_BDX),!this.Helper.shouldShowOriginalNetProceedsSection()&&!this.Helper.shouldShowUpdatedNetProceedsSection())){var t=this.props.contactBoxInfo.recommendedAgent,n={agent_id:t.get("id"),response_time:t&&t.agentAvgResponseMinutes,num_reviews:t.get("numReviews"),rating:t.get("averageRating")};T.default.trackImpression(T.default.impressions.ASK_AN_AGENT,n,e),C.default.trackImpression(C.default.impressions.LDP_SCROLL_ASK_A_QUESTION),this.Helper.eligibleForNetProceedsExperiment()&&!this.Helper.hasMarketFeeData()&&(I.default.setHasMarketSpecificFees(!1),I.default.initializeNationalExperiment(e))}}},{key:"tryToSetUpFormStore",value:function(){if(this.Helper.shouldRenderReactWidget()){var e=this.Helper.createUpdatedInlineAAQStore(this.onUpdatedInlineAAQSubmitCallback);this.setState({formStore:e})}}},{key:"render",value:function(){if((0,A.isAgentMobile)(this.props.queryParams))return null;if(!this.Helper.shouldShowAskAnAgentSectionOnPartnerOrExternalCSL())return null;if(this.Helper.shouldShowUpdatedNetProceedsSection())return p.default.createElement(S.default,(0,o.default)({},this.props,{version:2}));if(this.Helper.shouldShowOriginalNetProceedsSection())return p.default.createElement(S.default,this.props);if(this.Helper.shouldHideAskAQuestionSectionForMLSCompliance())return null;if(this.Helper.shouldHideAskAQuestionSectionOnSoldProperty())return null;if(this.Helper.shouldRenderReactWidget()&&this.state.formStore){var e,t=m.default.createRootElement(this.state.formStore,p.default.createElement(_.default,null));e=p.default.createElement(p.default.Fragment,null,t,this.renderAAQDialog());var n=this.Helper.getAgentAvgResponseMinutes(),a=n?"Get an answer back within 4 hours":"Get an answer in about ".concat(N.default.formatPlural("minute",n));return p.default.createElement(h.default,{name:"AskAnAgentSection",addTopRule:!0},p.default.createElement("div",null,p.default.createElement(y.default,{previewText:a,section:"askAnAgent",initiallyExpanded:!0,enabled:!1,rfTestId:"ask-an-agent-expandable-preview"},p.default.createElement("div",{className:"main-content"},e))))}return null}},{key:"onUpdatedInlineAAQSubmitCallback",value:function(e){var t=T.default.trackClick(T.default.clicks.SUBMIT_INLINE_QUESTION);O.default.isLoggedIn()||(0,R.trackRegistrationConversionAttempt)(t,g_registrationReason.CONTACT_AGENT,g_registrationAuthority.REDFIN),this.setState({entrypointRiftContext:t,inlineFormSubmittedQuestion:e,showAAQDialog:!0})}},{key:"closeAAQDialog",value:function(){this.setState({showAAQDialog:!1})}},{key:"renderAAQDialog",value:function(){return this.state.showAAQDialog?p.default.createElement(v.default,{onClose:this.closeAAQDialog,submittedQuestion:this.state.inlineFormSubmittedQuestion,isMobile:this.props.deviceConfig!==g_deviceConfiguration.DESKTOP,isInlineForm:!0,contactBoxInfo:this.props.contactBoxInfo,listingId:this.props.listingId,propertyId:this.props.propertyId,streetAddress:this.props.mainHouseInfo.streetAddress,inquiryChannel:g_inquiryChannel.ASK_A_QUESTION,inquirySource:this.Helper.getInquirySource(),detailsPageContext:this.props.contactBoxInfo.detailsPageContext,showBDXExperience:this.Helper.showBDXExperience(),builderName:this.props.mainHouseInfo.brokerName,entrypointRiftContext:this.state.entrypointRiftContext}):null}}],[{key:"displayName",get:function(){return"AskAnAgentSection"}},{key:"propTypes",get:function(){return{avmEdition:g.default.bool,contactBoxInfo:g.default.object,mainHouseInfo:g.default.object,propertyId:g.default.number,listingId:g.default.number,deviceConfig:g.default.number,queryParams:g.default.object,pageType:g.default.number}}}]),n}(p.Component);t.default=w,w.getComponentDependencies=function(){return{dependencies:["mainHouseInfo","contactBoxInfo","avmInfo","queryParams","pageType"]}},e.exports=w},xMRC:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("7W2i")),s=a(n("a1gu")),l=a(n("Nsbk")),u=a(n("YAhj")),c=(a(n("17x9")),a(n("1AMb"))),d=a(n("Tweu"));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}n("+qVp");var p=function(e){(0,i.default)(n,e);var t=f(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"render",value:function(){return(this.props.pageType!==g_detailsPageType.OFF_MARKET||this._hasComments())&&this._showMergedNotesAndCommentsStandaloneSection()?this._renderMergedCommentsSection():null}},{key:"_hasComments",value:function(){return this.props.userCommentStore.propertyConversation&&this.props.userCommentStore.propertyConversation.conversation&&this.props.userCommentStore.propertyConversation.conversation.length>0}},{key:"_showMergedNotesAndCommentsStandaloneSection",value:function(){return this.props.userCommentStore&&this.props.userCommentStore.showCommentsStandaloneSection}},{key:"_renderMergedCommentsSection",value:function(){var e=this.props.personalizationInfo&&this.props.personalizationInfo.isFavorite;return u.default.createElement(c.default,{name:"SharedSearchCommentsSection",className:"shortTopMargin"},u.default.createElement("div",{className:"sectionContainer"},u.default.createElement("div",{className:"main-content"},u.default.createElement(d.default,{userCommentStore:this.props.userCommentStore,addressSectionInfo:this.props.addressSectionInfo,userFavorite:e}))))}}]),n}(u.default.Component);t.default=p,p.getComponentDependencies=function(){return{dependencies:["personalizationInfo","addressSectionInfo","userCommentStore","pageType"]}},p.getPageLayoutClassName=function(){return"force-sm-fullPageWidth dp-col-md-8"},p.displayName="SharedSearchCommentsSection",p.propTypes={},e.exports=t.default},xWdR:function(e,t,n){},xZai:function(e,t,n){},xZlT:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("7W2i")),s=a(n("a1gu")),l=a(n("Nsbk")),u=a(n("3OWR")),c=a(n("YAhj")),d=a(n("17x9")),f=n("I5FW"),p=n("+xFC"),m=a(n("ma35")),h=a(n("4ppV")),g=a(n("94Bj")),_=a(n("h/hz")),v=a(n("EyRd")),y=n("eQq5"),E=a(n("E9Zw")),S=n("osI4"),I=a(n("ed/o")),T=a(n("AenB"));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,l.default)(e);if(t){var r=(0,l.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.default)(this,n)}}var b="The monthly payments on your home loan to your mortgage lender. Based on your loan size and interest rate. Interest rates vary based on lender and credit score.",k="This tax is a percentage of a home’s assessed value and varies by area. Homeowners pay this tax annually, semi-annually, or as part of a monthly mortgage payment.",R="Fees paid by homeowners within a shared complex to pay for building repairs and operation costs.",O="Your actual rate may vary. Homeowners should purchase insurance when they apply for a mortgage loan to guard against potential damages to their future home.",N="Borrowers with a down payment of less than 20% are required to purchase mortgage insurance. Mortgage insurance protects the mortgage lender against loss if a borrower defaults on their loan. Typically, mortgage insurance rates range from 0.5%–1% of the loan amount. Your actual rate may vary.",A=function(e){(0,i.default)(n,e);var t=C(n);function n(){return(0,r.default)(this,n),t.apply(this,arguments)}return(0,o.default)(n,[{key:"getBarSectionRows",value:function(){var e=g_displayLevel.idToObj[this.props.defaults.displayLevel].isVisible,t=this.props.downPayment&&this.props.downPayment.percentage<20,n=(0,f.getCurrentCountryCode)()===g_countryCode.CANADA?"Maintenance Fee":"HOA Dues",a=function(e){return{position:"above",alignment:"left",definition:e}},r=[{color:_.default.principalAndInterest,title:"Principal and Interest",value:e?this.props.monthlyLoanPayments:null,rowFlyoutProps:a(b)},{color:_.default.propertyTax,title:"Property Taxes",value:e?this.props.monthlyPropertyTax:null,customMsg:this.props.isCoop?"$0*":null,rowFlyoutProps:this.props.isCoop?a("This tax is a percentage of a home’s assessed value and varies by area. Homeowners pay this tax annually, semi-annually, or as part of a monthly mortgage payment. Property taxes for Co-op listings may be included in HOA Dues."):a(k)},{color:_.default.hoa,title:n,value:e?this.props.monthlyHoaDues:null,rowFlyoutProps:this.props.isCoop?a("Fees paid by homeowners within a shared complex to pay for building repairs and operation costs. For Co-op listings, HOA Dues may include the property taxes."):a(R)},{color:_.default.homeInsurance,title:"Homeowners' Insurance",value:e?this.props.monthlyHomeInsurance:null,rowFlyoutProps:a(O)}];return t&&r.push({color:_.default.mortgageInsurance,title:"Mortgage Insurance",value:e?this.props.monthlyMortgageInsurance:null,rowFlyoutProps:a(N)}),r}},{key:"onSummaryClick",value:function(){this.props.onClick&&this.props.onClick()}},{key:"onDisclaimerInfoIconClick",value:function(e){e.stopPropagation&&e.stopPropagation(),v.default.trackClick(v.default.clicks.DISCLAIMER_INFO_ICON)}},{key:"trackSignInClick",value:function(){return v.default.trackClick(v.default.clicks.SIGN_IN_LINK)}},{key:"onResetDialogResetButtonClick",value:function(){v.default.trackClick(v.default.clicks.RESET_DIALOG_RESET_BUTTON,{platform:this.props.platform}),I.default.resetUserInput(),I.default.closeResetDialog()}},{key:"onResetDialogCancelButtonClick",value:function(){v.default.trackClick(v.default.clicks.RESET_DIALOG_CANCEL_BUTTON,{platform:this.props.platform}),I.default.closeResetDialog()}},{key:"onResetDialogCloseButtonClick",value:function(){v.default.trackClick(v.default.clicks.RESET_DIALOG_CLOSE_BUTTON,{platform:this.props.platform}),I.default.closeResetDialog()}},{key:"onResetButtonClick",value:function(){v.default.trackClick(v.default.clicks.RESET_BUTTON,{platform:this.props.platform}),I.default.openResetDialog()}},{key:"getResetButton",value:function(){return c.default.createElement(c.default.Fragment,null,c.default.createElement(m.default,{type:"text",className:"resetButton compact unpadded",onClick:this.onResetButtonClick.bind(this),rfTestName:"mc-reset"},"Reset"),this.props.isResetDialogOpen&&c.default.createElement(h.default,{className:"resetDialog drawer",title:"Reset calculator",close:this.onResetDialogCloseButtonClick.bind(this),transitionAppear:!0},"This will reset the calculator to default values and your current values will be removed.",c.default.createElement("div",{className:"ctaButtons"},c.default.createElement(m.default,{className:"text",onClick:this.onResetDialogCancelButtonClick.bind(this)},"Cancel"),c.default.createElement(m.default,{className:"primary",onClick:this.onResetDialogResetButtonClick.bind(this)},"Reset"))))}},{key:"render",value:function(){var e=this;if(g_displayLevel.idToObj[this.props.defaults.displayLevel].isVisible){var t=g_mortgageTerms.idToObj[this.props.loanType].displayName,n=(0,u.default)({},y.definitionFlyoutProps),a=this.props,r=a.bankrateDisclaimerText,o=a.showTitle,i=a.showCustomizeButtonInline;r&&(0,u.default)(n,{definition:"".concat(n.definition,"\\n").concat(r)});(0,u.default)(n,{definitionLink:"/mortgage-calculator",moreInfoText:"Learn more about our mortgage calculator",openLinkInNewTab:!1,onClickDefinitionLink:function(e){e.stopPropagation&&e.stopPropagation(),v.default.trackClick(v.default.clicks.DISCLAIMER_FLYOUT_STANDALONE_MORTGAGE_CALCULATOR_LINK)}});var s=this.props.interestRate;return isNaN(this.props.interestRate)&&(s=0),c.default.createElement("div",{className:"MortgageCalculatorSummary","data-rf-test-name":"mc-summary",onClick:function(){return e.onSummaryClick()}},c.default.createElement(E.default,{sectionTitle:(0,p.formatPrice)(this.props.totalMonthlyPayments,0,"$")+" per month",sectionSubtitle:t+", "+(0,p.formatNumber)(s,3,!1)+"% Interest",barSections:this.getBarSectionRows(),onDisclaimerInfoIconClick:function(){return e.onDisclaimerInfoIconClick},flyoutProps:n,showTitle:o,showCustomizeButtonInline:i,useRevampHeader:!0,onFALClick:this.props.onRevampVariantFALButtonClick,isCoop:this.props.isCoop,resetButton:g.default.isOn(T.default)&&this.getResetButton()}))}return g_displayLevel.idToObj[this.props.defaults.displayLevel].isReachable?c.default.createElement("div",{className:"MortgageCalculatorSummary restricted","data-rf-test-name":"mc-summary",onClick:function(){return e.onSummaryClick()}},c.default.createElement(E.default,{signInOrVerifyProps:{dataSourceId:this.props.defaults.dataSourceId,displayLevel:this.props.defaults.displayLevel,trackClick:function(){return e.trackSignInClick()}},barSections:this.getBarSectionRows(),showTitle:!0,showCustomizeButtonInline:"desktop"!==(0,S.getCurrentDeviceType)(),useRevampHeader:!0,onFALClick:this.props.onRevampVariantFALButtonClick,resetButton:g.default.isOn(T.default)&&this.getResetButton()})):null}}],[{key:"displayName",get:function(){return"MortgageCalculatorSummary"}},{key:"propTypes",get:function(){return{displayLevel:d.default.number,showMonthlyValues:d.default.bool,loanType:d.default.number,interestRate:d.default.number,downPayment:d.default.shape({amount:d.default.number,percentage:d.default.number}),totalMonthlyPayments:d.default.number,monthlyLoanPayments:d.default.number,monthlyPropertyTax:d.default.number,monthlyHoaDues:d.default.number,monthlyHomeInsurance:d.default.number,monthlyMortgageInsurance:d.default.number,showOnlyNonZero:d.default.bool,onClick:d.default.func,mortgageRatesPageLink:d.default.string,showTitle:d.default.bool,showCustomizeButtonInline:d.default.bool,onRevampVariantFALButtonClick:d.default.func}}},{key:"defaultProps",get:function(){return{showOnlyNonZero:!1,onRevampVariantFALButtonClick:function(){return null}}}}]),n}(c.default.Component);e.exports=A},xe6j:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.isXdpZoneomicsExperimentVariant=t.isXdpZoneomicsEnabled=t.default=t.VARIANT_XDP_PREVIEW_TEXT=t.VARIANT_SECTION_NAME=t.PublicFactsContent=t.GHOST_TOWN_MESSAGE=t.CONTROL_XDP_PREVIEW_TEXT=t.CONTROL_SECTION_NAME=void 0;var o=a(n("J4zp")),i=a(n("USjQ")),s=I(n("mXGw")),l=n("osI4"),u=a(n("ajZI")),c=a(n("B1F1")),d=a(n("lzRi")),f=a(n("94Bj")),p=a(n("Wdx1")),m=a(n("8K3Q")),h=a(n("UT8e")),g=I(n("tCtR")),_=a(n("82EI")),v=a(n("1AMb")),y=n("jDxM"),E=a(n("ws6r"));function S(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(S=function(e){return e?n:t})(e)}function I(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=S(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}return a.default=e,n&&n.set(e,a),a}n("Dmc0");var T=function(){return"VARIANT_TWO"===f.default.getVariant(c.default)};t.isXdpZoneomicsExperimentVariant=T;t.isXdpZoneomicsEnabled=function(){return f.default.isOn(d.default)};t.CONTROL_SECTION_NAME="Public Facts and Zoning";t.CONTROL_XDP_PREVIEW_TEXT="Home details and zoning from local records";t.VARIANT_SECTION_NAME="Zoning and Public Facts";t.VARIANT_XDP_PREVIEW_TEXT="Zoning and home details from local records";var C="As the public records start to fill up, we’ll list the details here.";t.GHOST_TOWN_MESSAGE=C;var b=function(e){var t=e.publicRecordsInfo,n=e.ownerVerificationStore,a=e.mainHouseInfo,r=!(!t.basicInfo&&!t.editedHomeFacts);return s.default.createElement(h.default,{section:E.default.impressions.PUBLIC_FACTS_INFO.section,target:E.default.impressions.PUBLIC_FACTS_INFO.target},s.default.createElement("div",{className:"main-content"},r&&s.default.createElement(_.default,{hideHeader:!0,useV2EditFactsButtonRiftEvents:!0,ownerVerificationStore:n,basicInfo:t.basicInfo,editedHomeFacts:t.editedHomeFacts,addressInfo:t.addressInfo,countyName:t.countyName,propertyIsActivish:a.propertyIsActivish}),t.basicInfo?null:s.default.createElement(p.default,{content:C})))};t.PublicFactsContent=b;var k=function(e){var t=e.publicRecordsInfo,n=e.zoningDataInfo,a=e.ownerVerificationStore,r=e.mainHouseInfo,c=e.isCollapsible,d=e.initiallyExpanded,f=T(),p=(0,s.useState)(f?"Zoning":"Public Facts"),_=(0,o.default)(p,2),S=_[0],I=_[1],C="phone"===(0,l.getCurrentDeviceType)(),k=t&&t.addressInfo&&t.addressInfo.street,R=f?"Zoning and Public Facts":"Public Facts and Zoning",O={sectionName:(0,y.calculateHeaderText)({sectionTitle:R,streetAddress:k,isMobile:C}),previewText:f?"Zoning and home details from local records":"Home details and zoning from local records",section:"publicFactsAndZoning",enabled:c,initiallyExpanded:d,rfTestId:"public-records-expandable-preview",onClickCallback:function(){C&&E.default.trackClick(E.default.clicks.MORE_LINK,{isExperimentVariant:f})}},N=[{label:"Public Facts"},{label:"Zoning"}];f&&(N=(0,i.default)(N));return s.default.createElement(h.default,{section:E.default.impressions.PUBLIC_FACTS_ZONING.section,target:E.default.impressions.PUBLIC_FACTS_ZONING.target},s.default.createElement(v.default,{name:"PublicFactsAndZoning",id:"public-facts-and-zoning",addTopRule:!0},s.default.createElement(u.default,O,s.default.createElement("div",{className:"sectionContainer","data-rf-test-id":"publicRecords"},s.default.createElement(m.default,{className:"publicFactsAndZoningSectionTabBar",tabs:N,selectedTab:S,onTabClick:function(e){var t=e.tab;I(t.label),"Public Facts"===t.label?E.default.trackClick(E.default.clicks.PUBLIC_FACTS_TAB):E.default.trackClick(E.default.clicks.ZONING_TAB)}}),S&&"Public Facts"===S&&s.default.createElement(b,{publicRecordsInfo:t,ownerVerificationStore:a,mainHouseInfo:r}),S&&"Zoning"===S&&s.default.createElement(g.default,{selectedTab:S,setSelectedTab:I,zoningDataInfo:n,streetAddress:k}),s.default.createElement("div",{className:"additional-hidden-seo-text"},s.default.createElement("div",{className:"h3"},"Zoning summary"),s.default.createElement("div",{className:"h3"},"Land use"),s.default.createElement("div",{className:"seo-text"},(0,g.createSummaryParagraphContent)(n,k)))))))};k.displayName="PublicFactsAndZoningSection",k.getComponentDependencies=function(){return{dependencies:["publicRecordsInfo","zoningDataInfo","ownerVerificationStore","mainHouseInfo"]}};var R=k;t.default=R},xhKD:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),d=a(n("17x9")),f=a(n("8Jek")),p=a(n("+f8N")),m=a(n("lQoP")),h=a(n("K0uL")),g=a(n("3cMX"));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("SJ3U");var y=function(e){(0,s.default)(n,e);var t=v(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"trackClick",value:function(e,t,n){m.default.trackClick(e,t,n),m.default.flushRiftEvents()}},{key:"trackImpression",value:function(e,t){m.default.trackImpression(e,t)}},{key:"renderAgentPhoto",value:function(){var e=this,t=this.props.info;return c.default.createElement("div",{className:"contactBoxHTML agentImage"+" ".concat(t.agentTypeClass)},c.default.createElement("div",{className:"photo agentPhotoLinkForABTesting",valign:"top"},t.agentProfileUrl&&c.default.createElement("a",{className:"image",href:t.agentProfileUrl,target:"_top",onClick:function(){return e.trackClick("contact_box","agent_photo")}},c.default.createElement("img",{src:t.imgSrc,alt:t.alt,className:t.agentTypeClass})),t.hasPartnerTag&&c.default.createElement("div",{className:"agent-tag"}),t.hasPartnerSash&&c.default.createElement("div",{className:"agentTypeBadge"},c.default.createElement("a",{className:"partner-link",href:t.agentProfileUrl,target:"_top",onClick:function(){return e.trackClick("contact_box","agent_photo")}},"Partner"))))}},{key:"renderAgentType",value:function(){return this.props.info.mightShowDynamicPhoneOnDetailsPage&&this.trackImpression("contact_box","unassigned_redfin_agent_in_cb"),c.default.createElement("p",{className:"agentType"+(this.props.info.brokerageName?"withBrokerage":"")},this.props.info.isPartnerAgent?c.default.createElement("span",{className:"agentTypeText"},"Redfin Partner Agent"):c.default.createElement(c.default.Fragment,null,c.default.createElement(h.default,null),c.default.createElement("span",{className:"agentTypeText"},"Real Estate Agent")))}},{key:"renderAgentIntro",value:function(){var e=this,t=this.props.info,n=null;return t.showNewAgentIntro?n=c.default.createElement("div",{className:"introText block"},"Local agent paid to put ",c.default.createElement("b",null,c.default.createElement("i",null,"you"))," first."):t.showLocalExpertise?n=c.default.createElement("div",{className:"introText block"},t.agentFirstName,c.default.createElement("a",{href:t.agentProfileUrl,className:"numDealsLink",onClick:function(){return e.trackClick("contact_box","agent_closed_deals")}}," recently closed ",t.dealCount," ",t.dealCountLabel),t.locality&&c.default.createElement("span",null," in ",t.locality)):t.showNumReviews&&(n=c.default.createElement("div",{className:"starRating numReviews"},c.default.createElement("div",{className:"starsContainer inline-block",onClick:function(){return e.trackClick("contact_box","agent_star_rating")}},c.default.createElement(g.default,{averageRating:t.averageRating,showNumeric:!1})),c.default.createElement("a",{href:t.agentProfileUrl,className:"reviews-link inline-block",onClick:function(){return e.trackClick("contact_box","agent_total_reviews")}},t.numReviews," client ",t.numReviewsLabel))),c.default.createElement("div",{className:"agentIntro default"},n)}},{key:"renderAgentInfo",value:function(){var e=this,t=this.props.info,n=(0,f.default)("agentName",t.agentProfileClass,{multiline:t.multilineClass});return c.default.createElement("div",{className:"contactBoxHTML agentInfo"+" ".concat(t.agentTypeClass)},c.default.createElement("a",{className:n,href:t.agentProfileUrl,target:"_top",onClick:function(){return e.trackClick("contact_box","agent_name",{agent_id:t.agentId})}},t.agentDisplayName),t.brokerageName&&c.default.createElement("div",{className:"brokerage"},t.brokerageName),this.renderAgentType(),this.renderAgentIntro())}},{key:"renderPartnerRollup",value:function(){return c.default.createElement("table",{cellpadding:"0",cellspacing:"0",class:"rollupAgent top"},c.default.createElement("tbody",null,c.default.createElement("tr",null,c.default.createElement("td",{class:"rollupInfo",valign:"top"},"We offer Partner Agent service for this home.",c.default.createElement("br",null),c.default.createElement("br",null),'You can work with a Redfin Partner Agent by clicking on "',this.props.info.buttonText,'"',c.default.createElement("br",null),c.default.createElement("br",null)))))}},{key:"render",value:function(){return this.props.info?!1===this.props.canCominglePartnerAgents?this.renderPartnerRollup():this.props.lazy?c.default.createElement(p.default,{height:"100%",once:!0},c.default.createElement("div",{className:"ContactBoxAgentCard"},this.renderAgentPhoto(),this.renderAgentInfo())):c.default.createElement("div",{className:"ContactBoxAgentCard"},this.renderAgentPhoto(),this.renderAgentInfo()):null}}],[{key:"displayName",get:function(){return"ContactBoxAgentCard"}},{key:"propTypes",get:function(){return{info:d.default.object.isRequired,lazy:d.default.bool}}}]),n}(c.Component);t.default=y,e.exports=t.default},xoOV:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("mXGw")),s=n("cMqt"),l=n("rDLf"),u=a(n("04XH")),c=a(n("H+df")),d=a(n("Xl0f")),f=a(n("J09A")),p=function(){function e(){(0,r.default)(this,e)}return(0,o.default)(e,[{key:"handleRoute",value:function(e){return this.favoritesStore=new l.SingletonFavoritesStore,this.postFavoriteToastStore=new u.default,this.editShortlistStore=new c.default,e()}},{key:"getElements",value:function(e){var t=e();return t.push(i.default.createElement(s.RootContainer,null,i.default.createElement(s.RootElement,{listen:this.postFavoriteToastStore.whenResolvedEmitter()},i.default.createElement(d.default,null)),i.default.createElement(s.RootElement,{listen:this.editShortlistStore.whenResolvedEmitter()},i.default.createElement(f.default,null)))),t}}]),e}();t.default=p,e.exports=t.default},xsdy:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("tTYd")),i=a(n("BQxr")),s=(0,r.default)(new i.default,{name:"SidepaneTracker",bouncerFlags:[o.default.id],trackAllEventsInGA:!0,impressions:{MAP:{section:"side_pane",target:"map",expectedParams:["map_mode"]},CLAIM_HOME:{section:"side_pane",target:"claim_home_button"},HOME_REPORT_SUBSCRIBE:{section:"side_pane",target:"home_report_subscribe_button",expectedParams:["current_property"]},HOME_REPORT_UNSUBSCRIBE:{section:"side_pane",target:"home_report_unsubscribe_button",expectedParams:["current_property"],trackGA:!1},SUBSCRIBE_TO_HOME:{section:"side_pane",target:"claim_home_button",expectedParams:["property_id","listing_id"]},PROBLEM:{section:"side_pane",target:"problem_button",trackGA:!1},OMS:{section:"side_pane",target:"oms",expectedParams:["search_market"]},ELIGIBLE_FOR_DEPRIORITIZED_CLAIM_HOME_CTA:{section:"eligible_for_deprioritized_claim_home_cta",target:null},ASSIGNED_AGENT_OFF_MARKET_DP_EXPERIMENT_START:{section:"eligible_for_assigned_agent_off_market_dp_experiment",target:null},OMDP_SELL_MY_HOME_EXPERIMENT_START:{section:"omdp_sell_my_home_experiment_start",target:null},BLOCK_BOX:{section:"tour_picker_block_box",target:null},BLOCKBOX_PARTNER_RECRUITMENT_CTA_IMPRESSION:{section:"tour_picker_block_box",target:"partner_recruitment_cta"},STICKY_FOOTER_CALL_IMPRESSION:{section:"sticky_footer",target:"call_button"},CONTACT_BOX_PARTNER_RECRUITMENT_CTA_IMPRESSION:{section:"partner_contact_box",target:"partner_recruitment_cta"},PARTNER_RECRUITMENT_CTA_INITIALIZATION:{section:"partner_agent_recruitment_experiment_eligible",target:null},AGENT_INFO_CARD_IMPRESSION:{section:"agent_card",target:null},PARTNER_CONTACT_BOX:{section:"partner_contact_box",target:null}},clicks:{EXPAND_MAP:{section:"side_pane",target:"expand_map_link"},STREET_VIEW:{section:"side_pane",target:"stret_view_link"},DIRECTIONS:{section:"side_pane",target:"directions_link"},CLAIM_HOME:{section:"side_pane",target:"claim_home_button"},HOME_REPORT_SUBSCRIBE:{section:"side_pane",target:"home_report_subscribe_button",expectedParams:["trackGA","current_property"]},HOME_REPORT_UNSUBSCRIBE:{section:"side_pane",target:"home_report_unsubscribe_button",expectedParams:["trackGA","current_property"]},PROBLEM:{section:"side_pane",target:"problem_button",expectedParams:["listing_id","property_id"]},BLOCKBOX_PARTNER_RECRUITMENT_CTA_CLICK:{section:"tour_picker_block_box",target:"partner_recruitment_cta"},LISTING_AGENT_PHONE_CLICK:{section:"tour_picker_block_box",target:"listing_agent_phone"},LISTING_AGENT_EMAIL_CLICK:{section:"tour_picker_block_box",target:"listing_agent_email"},STICKY_FOOTER_CALL_CLICK:{section:"sticky_footer",target:"call_button"},CONTACT_BOX_PARTNER_RECRUITMENT_CTA_CLICK:{section:"partner_contact_box",target:"partner_recruitment_cta"}},shouldShowPartnerStartAnOffer:function(e){return e&&!e.isServicedByRedfinAgent&&!(e.customerAgentStatus===g_customerAgentStatus.AGENT_PENDING||e.customerAgentStatus===g_customerAgentStatus.AGENT_ASSIGNED)}});t.default=s,e.exports=t.default},xu7O:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mXGw")),o=a(n("ma35")),i=a(n("VMur"));t.default=function(e){var t=e.onAddToCalendar,n=e.onBlur,a=e.onRemoveOpenHouse,s=e.onViewSchedule;return r.default.createElement(i.default,{className:"moreOptionsFlyout",alignment:"center",position:"below",animateOnAppear:!0,onBlur:n},r.default.createElement("a",{href:"/myredfin/open-houses"},r.default.createElement(o.default,{className:"tertiary-alt padding-horiz-small",onClick:s},"View open house schedule")),r.default.createElement(o.default,{className:"tertiary-alt padding-horiz-small",onClick:t},"Add to calendar"),r.default.createElement(o.default,{className:"tertiary-alt padding-horiz-small",onClick:a},"Remove open house"))},e.exports=t.default},xxXX:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("17x9")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw")),f=a(n("8Jek"));n("itxl");var p=a(n("aGe4")),m=a(n("1AMb")),h=n("oSa1"),g=a(n("sppR"));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var y=function(e){(0,s.default)(n,e);var t=v(n);function n(){return(0,o.default)(this,n),t.apply(this,arguments)}return(0,i.default)(n,[{key:"render",value:function(){var e=this.props,t=e.openHouseInfo,n=e.mainHouseInfo,a=e.addressSectionInfo,r=e.mediaBrowserInfo,o=e.datePickerInfo,i=e.contactBoxInfo,s=e.openHouseStore,l=void 0===s?{}:s;if(!(0,h.shouldShowOpenHouseSection)(n.openHouses,o,i,n.videoOpenHouses))return null;if("VARIANT_2"===l.experimentVariant)return null;var u=g.default.isPossiblyUnavailable(this.props.datePickerInfo),c=(0,h.shouldShowOHSTourCTA)(i,o,u),_=r.photos,v=_&&_.length>0?_[0]:null,y=a.priceInfo?a.priceInfo.amount:null,E={openHouseInfo:t,contactBoxInfo:i,source:n.source,url:n.url,address:n.streetAddress,city:n.propertyAddress.city,timezone:n.timezone,deviceConfig:this.props.deviceConfig,homePhotoInfo:{homePhoto:v},homePrice:y,latLong:a.latLong,listingId:this.props.listingId,listingAddress:o.listingAddress,nextAvailableTourTime:o.nextAvailableTourTime,tourTimeZone:o.timeZoneStringId,agent:i.agentRequestAgent||i.recommendedAgent,nextTourDisplayTimes:o.nextTourDisplayTimes,isNextTourTimeToday:o.isNextTourTimeToday,propertyId:this.props.propertyId,showTourCTA:c,isInPersonTourDisabled:o.isInPersonTourDisabled,openHouseStore:l,isPossiblyUnavailable:u},S=this.props.deviceConfig===g_deviceConfiguration.DESKTOP?"OpenHouseSectionDesktop":"OpenHouseSectionMobile padding-bottom-larger",I=(0,f.default)({h2:!0,"inline-block":!0,"heading-medium":!0});return d.default.createElement(m.default,{name:S,addTopRule:this.props.deviceConfig!==g_deviceConfiguration.DESKTOP,id:"open-houses"},d.default.createElement("h2",{className:I},"Open Houses"),d.default.createElement(p.default,E))}}],[{key:"displayName",get:function(){return"OpenHouseSectionWrapper"}},{key:"propTypes",get:function(){return{deviceConfig:c.default.number,openHouseInfo:c.default.object,mainHouseInfo:c.default.object,mediaBrowserInfo:c.default.object,addressSectionInfo:c.default.object,datePickerInfo:c.default.object,contactBoxInfo:c.default.object,listingId:c.default.number,propertyId:c.default.number}}}]),n}(d.Component);t.default=y,y.getComponentDependencies=function(){return{dependencies:["openHouseStore","openHouseInfo","mainHouseInfo","mediaBrowserInfo","addressSectionInfo","datePickerInfo","contactBoxInfo"]}},e.exports=t.default},y7wi:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("lSNA")),d=n("mXGw"),f=n("Q+Iq"),p=a(n("+hUF"));function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var h=function(){var e=n("cXUB").defer();return n.e(495).then(function(t){var a=n("i26u");e.resolve(a)}.bind(null,n)).catch(n.oe),e.promise},g=function(e){var t=e.propertyId,n=e.listingId,a=e.adminTabInfo,r=e.addressSectionInfo,o=e.mainHouseInfo;return React.createElement(p.default,{loader:h,propertyId:t,listingId:n,adminTabInfo:a,addressSectionInfo:r,mainHouseInfo:o})},_=function(e){(0,s.default)(n,e);var t=m(n);function n(e){var a;return(0,r.default)(this,n),(a=t.call(this,e)).handleReceiveAdminTabInfo=a.handleReceiveAdminTabInfo.bind((0,i.default)(a)),a.state={adminTabInfo:null},a}return(0,o.default)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.accessLevel,n=e.propertyId,a=e.listingId;if(4===t){var r={propertyId:n,accessLevel:t};a&&(r.listingId=a),(0,f.getEndpoint)("/stingray/api/home/admin/basicInfo",r).then(this.handleReceiveAdminTabInfo)}}},{key:"handleReceiveAdminTabInfo",value:function(e){this.setState({adminTabInfo:e})}},{key:"render",value:function(){var e=this.props,t=e.propertyId,n=e.listingId,a=e.addressSectionInfo,r=e.mainHouseInfo,o=this.state.adminTabInfo;return o&&a?React.createElement(g,{propertyId:t,listingId:n,adminTabInfo:o,addressSectionInfo:a,mainHouseInfo:r}):null}}],[{key:"getComponentDependencies",value:function(){return{dependencies:["accessLevel","addressSectionInfo","mainHouseInfo"]}}}]),n}(d.Component);t.default=_,(0,c.default)(_,"displayName","AgentToolsWidget"),e.exports=t.default},yA4U:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){var t=e.segment;return(t=void 0===t?{}:t).text},e.exports=t.default},yPuu:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("cXUB")),o=n("m7qm"),i=a(n("5BUB")),s=n("r1QH"),l=n("cMqt"),u=n("R8lb"),c=a(n("8Llx")),d=a(n("nbo3")),f=a(n("x3Yk")),p=a(n("b2XU")),m=a(n("EQKR")),h=l.logging.getLogger({name:"corvair.sites.customer-pages.pages.homeDetails.components.mainHouseInfoPanel.sidebar.directAccess.DirectAccessStore",color:{server:147,client:"rgb(127,127,212)"}}),g=(0,o.createStoreFactory)({mixins:[i.default],formName:"DirectAccessTextForm",fields:{phoneNumber:{label:"Phone",placeholder:"(  )  -",rules:[{test:(0,s.required)()},{test:(0,s.phoneNumber)()}]}},init:function(e){var t=e.isRedfin,n=e.isOpendoor,a=e.deviceConfig,r=e.listingId,o=e.propertyId,i=e.isPartner;this.listenToMany(m.default),this.listenTo(p.default.fieldChange,this.onFieldChange),this.setState({showLoadingIndicator:!1,isShowingDialog:!1,dialogInquirySourceId:null,showError:!1,isRedfin:t,isOpendoor:n,formName:this.formName,isSubmitting:!1,showSuccess:!1,deviceConfig:a,listingId:r,propertyId:o,isPartner:i})},onRedirectForTourWithAgent:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=this.state.isPartner?"date":"times",o=this.state.isPartner?"&isRequestingForPartner=true":"",i="/tours/checkout/".concat(a,"?listingId=").concat(e,"&inquirySource=").concat(g_inquirySource.LDP_DIRECT_ACCESS_AGENT_TOUR_BUTTON,"&hideExistingTours=true").concat(o),s=(0,r.default)();return c.default.isLoggedIn()||(s=(0,f.default)("/stingray/do/tourlist/make-anon-login",{method:"POST"}),i+="&".concat(u.REGISTRATION_ENTRYPOINT_CONTEXT_URL_PARAM,"=").concat((0,u.serializeConversionRiftEntrypoint)(n)),(0,u.trackRegistrationConversionAttempt)(n,g_registrationReason.TOUR_HOME,g_registrationAuthority.REDFIN)),this.setState({showLoadingIndicator:!0}),s.then(function(){d.default.flushRiftEvents(),window.top.location=i}).catch(function(e){h.error(e),t.setState({showLoadingIndicator:!1})})},onShowDirectAccessDialog:function(e){if(!e)throw new Error("Missing inquirySourceId");var t=this.state.deviceConfig===g_deviceConfiguration.PHONE?"direct_access_instructions_drawer":"direct_access_instructions_dialog";this.state.isOpendoor&&(t=this.state.deviceConfig===g_deviceConfiguration.PHONE?"ext_direct_access_instructions_drawer":"ext_direct_access_instructions_dialog"),d.default.trackImpression(t,null,{listing_id:this.state.listingId,property_id:this.state.propertyId}),this.reset(),this.setState({isShowingDialog:!0,dialogInquirySourceId:e,isSubmitting:!1,showSuccess:!1,showError:!1})},onCloseDirectAccessDialog:function(){this.setState({isShowingDialog:!1,dialogInquirySourceId:null})},onClickRedfinAppLink:function(e){var t=this;this.setState({showError:!1});var n=this.state.deviceConfig===g_deviceConfiguration.PHONE?"MobileWeb":"Website";(0,f.default)("".concat("/stingray/do/api/directaccess/get-tour-referral-link/v1","?listingId=").concat(e,"&inquiryPlatform=").concat(n,"&inquirySource=").concat(this.state.dialogInquirySourceId)).then(function(e){if(!e.ok||!e.body||e.body.resultCode!==g_apiResultCode.NO_ERROR)throw new Error(e.body&&e.body.errorMessage);var t=e.body.payload&&e.body.payload.referralLink;window.top.location.replace(t)}).catch(function(e){h.error(e.message),t.setState({showLoadingIndicator:!1,showError:!0})})},onSendRedfinAppLinkText:function(e){var t=this;if(this.setState({showError:!1,isSubmitting:!0}),this.validateAll()){var n=this.state.fields.phoneNumber.value,a=this.state.deviceConfig===g_deviceConfiguration.PHONE?"MobileWeb":"Website";(0,f.default)("".concat("/stingray/do/api/directaccess/get-tour-referral-link/v1","?listingId=").concat(e,"&inquiryPlatform=").concat(a,"&inquirySource=").concat(this.state.dialogInquirySourceId,"&phoneNumber=").concat(n)).then(function(e){if(!(e.ok&&e.body&&e.body.resultCode===g_apiResultCode.NO_ERROR&&e.body.payload&&e.body.payload.sentSms))throw new Error(e.body&&e.body.errorMessage);t.setState({showSuccess:!0,dialogInquirySourceId:null})}).catch(function(e){h.error(e.message),t.setState({showLoadingIndicator:!1,showError:!0,isSubmitting:!1,showSuccess:!1})})}else this.setState({isSubmitting:!1})},onClickOpendoorAppLink:function(e){var t=this;this.setState({showError:!1}),(0,f.default)("".concat("/stingray/redbird-self-tour/get-link","?listingId=").concat(e)).then(function(e){if(!e.ok||!e.body||e.body.resultCode!==g_apiResultCode.NO_ERROR)throw new Error(e.body&&e.body.errorMessage);var t=e.body.payload&&e.body.payload.opendoorAppUrl;window.top.location.replace(t)}).catch(function(e){h.error(e.message),t.setState({showLoadingIndicator:!1,showError:!0})})},onSendOpendoorAppLinkText:function(e){var t=this;if(this.setState({showError:!1,isSubmitting:!0}),this.validateAll()){var n=this.state.fields.phoneNumber.value;(0,f.default)("".concat("/stingray/redbird-self-tour/get-link","?listingId=").concat(e,"&phoneNumber=").concat(n)).then(function(e){if(!(e.ok&&e.body&&e.body.resultCode===g_apiResultCode.NO_ERROR&&e.body.payload&&e.body.payload.smsSent))throw new Error(e.body&&e.body.errorMessage);t.setState({showSuccess:!0,dialogInquirySourceId:null})}).catch(function(e){h.error(e.message),t.setState({showLoadingIndicator:!1,showError:!0,isSubmitting:!1,showSuccess:!1})})}else this.setState({isSubmitting:!1})},onFieldChange:function(e){var t=e.name,n=e.value;e.formName===this.state.formName&&(this.state.fields[t].value=n,this.state.fields[t].feedback=null)}});t.default=g,e.exports=t.default},yR6Y:function(e,t,n){"use strict";var a=n("TqRt"),r=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("17x9")),d=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(a,i,s):a[i]=e[i]}a.default=e,n&&n.set(e,a);return a}(n("mXGw"));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}n("2lge");var m=function(e){(0,s.default)(n,e);var t=p(n);function n(e){return(0,o.default)(this,n),t.call(this,e)}return(0,i.default)(n,[{key:"render",value:function(){return this.props.listingContactInfo?d.default.createElement("div",{class:"listingContactSection"},"Contact: ",this.props.listingContactInfo):null}}],[{key:"displayName",get:function(){return"ListingContactSection"}},{key:"propTypes",get:function(){return{listingContactInfo:c.default.string}}},{key:"defaultProps",get:function(){return{}}}]),n}(d.Component);t.default=m,e.exports=t.default},yoGv:function(e,t,n){},yosK:function(e,t,n){},yvQb:function(e,t,n){},yvnT:function(e,t,n){},yyJ6:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var r=a(n("mXGw")),o=(a(n("17x9")),a(n("UT8e")));function i(e){return r.default.createElement(o.default,{section:e.riftSection,target:"or_separator"},r.default.createElement("div",{className:"OrSeparator"},r.default.createElement("div",{className:"divider"}),r.default.createElement("div",{className:"label"},"OR"),r.default.createElement("div",{className:"divider"})))}n("RMYU"),i.propTypes={},i.defaultProps={riftSection:"contact_box"},e.exports=t.default},z8bs:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mXGw"));t.default=function(e){var t=e.segment,n=(t=void 0===t?{}:t).text,a=t.link;return r.default.createElement("a",{href:a,target:"_blank"},n)},e.exports=t.default},zG9a:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var r=a(n("mXGw")),o=a(n("8Jek")),i=(a(n("17x9")),a(n("jYFz"))),s=a(n("Brmu")),l=n("3shQ");function u(e){var t=e.partnerAAQConfirmVariant,n=e.agent,a="HorizontalProgress"===t,u=(0,o.default)("AAQPartnerConfirmHeader",{"xtra-padding":a});return r.default.createElement("div",{className:u},r.default.createElement("div",{className:"font-size-medium font-weight-bold padding-bottom-smaller"},"Question submitted!"),r.default.createElement("p",null,"We're connecting you with a local Redfin Partner Agent who can answer your question.",r.default.createElement("span",{className:"font-weight-bold"}," You'll hear from us soon—typically ",r.default.createElement(s.default,{businessMarketId:n.getBusinessMarketId(),percentile:(0,l.getPartnerConnectionTimePercentile)(),altWording:!0}),".")),a&&r.default.createElement("div",{style:{width:"80%",paddingLeft:"5px"}},r.default.createElement(i.default,{className:"labels-below alignment-horizontal",steps:[{name:"Question received"},{name:"Finding agent"},{name:"Agent confirmed"}],currentStep:1})))}n("ps5f"),u.propTypes={},e.exports=t.default},zItT:function(e,t,n){},zKAV:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var r=a(n("mXGw")),o=(a(n("17x9")),a(n("Xecl"))),i=a(n("AGmm"));function s(e){var t=e.outstandingMortgage,n=e.onBlur;return r.default.createElement("div",{className:"OutstandingMortgageInput"},r.default.createElement(o.default,{testName:"mc-outstandingMortgage",value:null!=t&&i.default.formatToPrecision(t),placeholder:"$0",label:"Outstanding Mortgage",type:"currency",alwaysShowInput:!0,onBlur:n,onKeyDown:i.default.onKeyDown,notifyStoreOnChange:!1}))}s.propTypes={},s.displayName="OutstandingMortgageInput",e.exports=t.default},zKrU:function(e,t,n){},zQwK:function(e,t,n){"use strict";var a=n("TqRt"),r=a(n("lwsE")),o=a(n("W8MJ")),i=a(n("PJYZ")),s=a(n("7W2i")),l=a(n("a1gu")),u=a(n("Nsbk")),c=a(n("lSNA")),d=(a(n("17x9")),a(n("zCAw")));function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,u.default)(e);if(t){var r=(0,u.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,l.default)(this,n)}}var p=n("mXGw"),m=n("8Jek"),h=n("hBuV");n("7TP0");var g=function(e){(0,s.default)(n,e);var t=f(n);function n(){var e;(0,r.default)(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o)),(0,c.default)((0,i.default)(e),"state",{visible:!0,mounted:!e.props.animateOnAppear}),(0,c.default)((0,i.default)(e),"getClasses",function(){var t={HomeDetailsBanner:!0,dismissible:e.props.dismissible};return t[e.props.className]=!0,t}),(0,c.default)((0,i.default)(e),"onAction",function(){e.props.onAction&&e.props.onAction()}),(0,c.default)((0,i.default)(e),"onDismiss",function(){e.props.onDismiss&&e.props.onDismiss(),e.setState({visible:!1})}),(0,c.default)((0,i.default)(e),"renderContent",function(){if(e.state.visible&&e.state.mounted){var t,n=e.props.customIcon;return n&&"function"==typeof n&&(t=p.createElement(n,null)),e.props.isPhone?p.createElement("div",{"data-rf-test-name":"HomeDetailsBanner",className:m(e.getClasses())},e.props.dismissible?p.createElement("div",{"data-rf-test-name":"dismiss",className:"dismiss",onClick:e.onDismiss},p.createElement(d.default,null)):null,p.createElement("div",{className:"container"},t?p.createElement("div",{"data-rf-test-name":"icon",className:"icon"},t):null,p.createElement("div",{className:"textContainer"},e.props.title?p.createElement("div",{"data-rf-test-name":"title",className:"title"},e.props.title):null,e.props.message?p.createElement("div",{"data-rf-test-name":"message",className:"message"},e.props.message):null)),e._renderAction()):p.createElement("div",{"data-rf-test-name":"HomeDetailsBanner",className:m(e.getClasses())},p.createElement("div",{className:"container"},t?p.createElement("div",{"data-rf-test-name":"icon",className:"icon"},t):null,p.createElement("div",{className:"textContainer"},e.props.message?p.createElement("div",{"data-rf-test-name":"message",className:"message"},e.props.message):null,e._renderAction())))}return null}),(0,c.default)((0,i.default)(e),"_renderAction",function(){return e.props.action?p.createElement("div",{className:"actionContainer"},e.props.action):e.props.actionTitle?p.createElement("div",{className:"actionContainer"},p.createElement("span",{className:"actionLabel"},e.props.actionLabel),p.createElement("div",{"data-rf-test-name":"action",className:"action",onClick:e.onAction},p.createElement("a",{className:"clickable",href:e.props.actionLink},e.props.actionTitle))):void 0}),e}return(0,o.default)(n,[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){return this.props.animateOnAppear?p.createElement(h,{transitionName:"home-details-banner-transition",transitionEnter:!0,transitionEnterTimeout:450,transitionLeaveTimeout:450},this.renderContent()):this.renderContent()}}]),n}(p.Component);(0,c.default)(g,"displayName","redfin.home.details.common.react.HomeDetailsBanner"),(0,c.default)(g,"defaultProps",{className:"default",animateOnAppear:!1,dismissible:!1}),g.propTypes={},e.exports=g},zl5j:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("pVnL")),o=a(n("lwsE")),i=a(n("W8MJ")),s=a(n("PJYZ")),l=a(n("7W2i")),u=a(n("a1gu")),c=a(n("Nsbk")),d=a(n("8Jek")),f=a(n("17x9")),p=a(n("mXGw")),m=a(n("WZ0X")),h=a(n("94Bj")),g=a(n("UT8e")),_=a(n("eYhh")),v=a(n("1AMb")),y=a(n("zQwK")),E=a(n("BxHH")),S=a(n("URif")),I=n("osI4"),T=a(n("XVob"));function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=(0,c.default)(e);if(t){var r=(0,c.default)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,u.default)(this,n)}}n("M/T6");var b=function(e){(0,l.default)(n,e);var t=C(n);function n(e){var a;return(0,o.default)(this,n),(a=t.call(this,e)).impressionTracked=!1,a._onSendUpdatesActionClick=a._onSendUpdatesActionClick.bind((0,s.default)(a)),a._onEarlyTouringActionClick=a._onEarlyTouringActionClick.bind((0,s.default)(a)),a._getIsSubscribed=a._getIsSubscribed.bind((0,s.default)(a)),a._getRiftDetails=a._getRiftDetails.bind((0,s.default)(a)),a._trackBannerImpression=a._trackBannerImpression.bind((0,s.default)(a)),a}return(0,i.default)(n,[{key:"componentDidMount",value:function(){this._trackBannerImpression()}},{key:"componentDidUpdate",value:function(){this._trackBannerImpression()}},{key:"render",value:function(){var e=this.props.comingSoonInfoStore;if(!e||"VARIANT"===h.default.getVariant(_.default))return null;var t=this._getIsSubscribed(),n=this.props.deviceConfig===g_deviceConfiguration.PHONE,a={title:n?e.bannerMessage:"Coming Soon",message:n?"":e.bannerMessage,className:n||g_comingSoonListingType.REDFIN!==e.comingSoonListingType?"default":"urgent",customIcon:T.default};if(e.hasEarlyTouring?(a.actionLabel=this._getEarlyTouringActionLabel(),a.actionTitle=this._getEarlyTouringActionTitle(),a.onAction=this._onEarlyTouringActionClick):(a.actionLabel=this._getSendUpdatesActionLabel(t),a.actionTitle=this._getSendUpdatesActionTitle(t),a.onAction=this._onSendUpdatesActionClick),!n){var o=e.bannerMessage;return p.default.createElement(g.default,{section:"address_banner_secondary",target:"coming_soon"},p.default.createElement("div",{className:"secondary-stats-bannerV2"},p.default.createElement("div",{className:"primary-label coming-soon"},o),p.default.createElement("div",{className:"secondary-info"},p.default.createElement("div",{className:"actionContainer"},p.default.createElement("span",{className:"actionLabel"},a.actionLabel),p.default.createElement("div",{"data-rf-test-name":"action",className:"action",onClick:a.onAction.bind(this),role:"button"},p.default.createElement("a",{className:"clickable"},a.actionTitle))))))}this.props.isSecondaryVariant&&("desktop"===(0,I.getCurrentDeviceType)()&&(a.className="".concat(a.className," secondary")),a.actionTitle=null,a.customIcon=null);var i=(0,d.default)("BannerSection","ComingSoonSection",{secondary:this.props.isSecondaryVariant});return p.default.createElement(v.default,{name:i},p.default.createElement("div",{className:"sectionContainer comingSoonSection"},p.default.createElement(y.default,(0,r.default)({},a,{isPhone:n}))))}},{key:"_getEarlyTouringActionLabel",value:function(){return null}},{key:"_getEarlyTouringActionTitle",value:function(){return"Schedule Early Tour"}},{key:"_onEarlyTouringActionClick",value:function(){var e=S.default.clicks.SCHEDULE_EARLY_TOUR_LINK;S.default.trackClick(e,this._getRiftDetails()),E.default.scheduleEarlyTour(g_inquirySource.LDP_EARLY_TOUR_BANNER)}},{key:"_getSendUpdatesActionLabel",value:function(e){return e?p.default.createElement("span",{className:"isSubscribedText"},"Subscribed to updates",p.default.createElement("span",{className:"dot"},"·")):null}},{key:"_getSendUpdatesActionTitle",value:function(e){return e?"Cancel":"Send Me Updates"}},{key:"_getIsSubscribed",value:function(){return this.props.personalizationInfo&&this.props.personalizationInfo.personalizationInfoReceived&&this.props.personalizationInfo.isFavorite||this.props.personalizationInfoReceived&&this.props.isFavorite}},{key:"_onSendUpdatesActionClick",value:function(){var e=this._getIsSubscribed(),t=e?S.default.clicks.UPDATES_CANCEL_LINK:S.default.clicks.UPDATES_LINK,n=S.default.trackClick(t,this._getRiftDetails());E.default.updateComingSoonListingUpdatesSubscription(!e,n)}},{key:"_getRiftDetails",value:function(){return{type:this.props.comingSoonInfoStore.isRedfinComingSoonListing?"redfin":"mls",days_until_list:this.props.comingSoonInfoStore.daysUntilList}}},{key:"_trackBannerImpression",value:function(){!this.impressionTracked&&this.props.comingSoonInfoStore&&(S.default.trackImpression(S.default.impressions.COMING_SOON_RIFT_TRACKER,this._getRiftDetails(),m.default.findDOMNode(this)),this.impressionTracked=!0)}}],[{key:"propTypes",get:function(){return{comingSoonInfoStore:f.default.shape({bannerMessage:f.default.string,daysUntilList:f.default.number,isRedfinComingSoonListing:f.default.bool,hasEarlyTouring:f.default.bool}),personalizationInfo:f.default.object,deviceConfig:f.default.number,isSecondaryVariant:f.default.bool,inAddressBannerVariant:f.default.bool,personalizationInfoReceived:f.default.bool,isFavorite:f.default.bool}}}]),n}(p.default.Component);t.default=b,e.exports=t.default},znh5:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.computeComponents=void 0;var r=a(n("TLDH")),o=a(n("JLHZ")),i=a(n("s3g6")),s=a(n("V5+8")),l=a(n("NGQd")),u=a(n("F7nt")),c=a(n("5XlE")),d=a(n("4hV0"));t.computeComponents=function(e){var t=e.useScrollStateControllerForSideRail;return[l.default,d.default,i.default,o.default,c.default,r.default,{component:s.default,shouldRender:t},{component:u.default,additionalProps:{pageType:"LDP"},additionalDependencies:["qualarooFirstTourSurveyQualificationData"]}]}},zy5r:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("mXGw")),o=a(n("17x9")),i=a(n("8Jek"));n("nwEL");var s=function(e){var t=e.className,n=e.children;return r.default.createElement("div",{className:(0,i.default)("DatepickerContent","bookItNowDatePicker",t)},r.default.createElement("div",{className:"datePickerContainer"},n))};s.props={className:o.default.string};var l=s;t.default=l,e.exports=t.default},zzkY:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("TlVh"),o=n("Q+Iq"),i=a(n("k4BY")),s=a(n("BZ6d")),l=(0,r.createStoreFactory)({init:function(e){var t=e.housingMarketRegionName,n=e.marketInsightsPageUrl;this.setState({housingMarketRegionName:t,marketInsightsPageUrl:n})}}),u=(0,r.createStoreFactory)({init:function(e,t,n,a){if(!e)return null;this.fetch(t,n,a)},fetch:function(e,t,n){var a=this;this.HousingMarketGraphsStore&&this.HousingMarketGraphsStore.destroy();var r=(0,o.getEndpoint)("/stingray/api/home/details/marketInsightsInfo",{propertyId:e,listingId:t}),i=r.then(function(e){var t=e.housingMarketInfo;if(t){var a=t.housingMarketRegionName,r=t.housingMarketRegionType,o=t.housingMarketRegionId,i=t.housingMarketGraphs,l=t.marketInsightsPageUrl,u=new s.default({pageType:"regional-housing-market"});return u.initializeSections([{section:"home_prices",regionName:a,regionType:r,regionId:o,propertyType:n,payload:i,pageUrl:l}]),u}});this.setState({actions:this.setupActions(),regionCardInfo:r.then(function(e){return e.regionCardInfo}),competeScoreInfo:r.then(function(e){return e.competeScoreInfo}),offerInsightsInfo:r.then(function(e){return e.offerInsightsInfo}),housingMarketInfo:r.then(function(e){var t=e.housingMarketInfo;return t?a.HousingMarketGraphsStore=new l(t):void 0}),breadcrumbs:r.then(function(e){var t=e.breadcrumbs;return t&&t.breadcrumbs}),marketGraphStore:i})},setupActions:function(){return{MarketInsightsSection:{whenMarketInsightsSectionScrollsIntoView:this.whenMarketInsightsSectionScrollsIntoView,whenMarketInsightsSectionCollapsedToggleIsClicked:this.whenMarketInsightsSectionCollapsedToggleIsClicked,whenMarketInsightsPageLinkIsClicked:this.whenMarketInsightsPageLinkIsClicked,whenCompeteSectionIsVisible:this.whenCompeteSectionIsVisible,whenOfferInsightsIsVisible:this.whenOfferInsightsIsVisible},MarketInsightsRegionCards:{whenRegionCardsScrollIntoView:this.whenRegionCardsScrollIntoView,whenRegionCardsArrowsAreClicked:this.whenRegionCardsArrowsAreClicked,whenRegionCardsAreSwiped:this.whenRegionCardsAreSwiped},MarketInsightsRegionCard:{whenMarketInsightsRegionCardScrollsIntoView:this.whenMarketInsightsRegionCardScrollsIntoView},MarketInsightsGraph:{whenMarketInsightsGraphScrollsIntoView:this.whenMarketInsightsGraphScrollsIntoView}}},whenMarketInsightsSectionScrollsIntoView:function(){i.default.trackImpression(i.default.impressions.SECTION_IMPRESSION,{property_type:this.state.propertyType})},whenMarketInsightsSectionCollapsedToggleIsClicked:function(e){var t=e?i.default.clicks.LESS_LINK:i.default.clicks.MORE_LINK;i.default.trackClick(t,{property_type:this.state.propertyType})},whenRegionCardsScrollIntoView:function(){i.default.trackImpression(i.default.impressions.REGION_CARDS_IMPRESSION,{property_type:this.state.propertyType,num_cards:this.state.regionCardInfo.length,first_region_type_id:this.state.regionCardInfo[0].regionId.regionType,first_region_table_id:this.state.regionCardInfo[0].regionId.tableId})},whenRegionCardsArrowsAreClicked:function(e){var t=e.direction,n=e.indices,a=i.default.clicks["next"===t?"REGION_CARD_RIGHT":"REGION_CARD_LEFT"];i.default.trackClick(a,{property_type:this.state.propertyType,num_cards:this.state.regionCardInfo.length,card_position:n&&1===n.length?n[0]:n})},whenRegionCardsAreSwiped:function(e){var t=e.direction,n=e.indices;i.default.trackClick(i.default.clicks.REGION_CARD_SWIPE,{property_type:this.state.propertyType,num_cards:this.state.regionCardInfo.length,direction:t,card_position:n&&1===n.length?n[0]:n})},whenMarketInsightsGraphScrollsIntoView:function(){i.default.trackImpression(i.default.impressions.TRENDS_GRAPH_IMPRESSION,{property_type:this.state.propertyType})},whenMarketInsightsRegionCardScrollsIntoView:function(e){var t=e.position;i.default.trackImpression(i.default.impressions.REGION_CARD_IMPRESSION,{property_type:this.state.propertyType,num_cards:this.state.regionCardInfo.length,region_type_id:this.state.regionCardInfo[t].regionId.regionType,region_table_id:this.state.regionCardInfo[t].regionId.tableId,card_position:"".concat(t)})},whenMarketInsightsPageLinkIsClicked:function(){i.default.trackClick(i.default.clicks.MARKET_INSIGHTS_PAGE_LINK,{region_type_id:this.state.regionCardInfo[0].regionId.regionType,region_table_id:this.state.regionCardInfo[0].regionId.tableId})},whenCompeteSectionIsVisible:function(){i.default.trackImpression(i.default.impressions.COMPETE_SCORE_IMPRESSION,{property_type:this.state.propertyType})},whenOfferInsightsIsVisible:function(e){i.default.trackImpression(i.default.impressions.OFFER_INSIGHTS_IMPRESSION,{num_insights:e.num_insights})}});t.default=u,e.exports=t.default}}]);